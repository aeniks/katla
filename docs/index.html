
<!-- Saved from http://127.0.0.1:3000/dist/index.html at 2024-05-03T12:51:23Z using monolith v2.8.1 -->
<!DOCTYPE html><html lang="en"><head><script type="text/javascript" src="data:text/javascript;charset=UTF-8;base64,LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCiAqICBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC4NCiAqICBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuIFNlZSBMaWNlbnNlLnR4dCBpbiB0aGUgcHJvamVjdCByb290IGZvciBsaWNlbnNlIGluZm9ybWF0aW9uLg0KICotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovDQovKiBlc2xpbnQtZGlzYWJsZSBAdHlwZXNjcmlwdC1lc2xpbnQvZXhwbGljaXQtZnVuY3Rpb24tcmV0dXJuLXR5cGUgKi8NCi8qIGVzbGludC1lbnYgYnJvd3NlciAqLw0KDQovKioNCiAqIFNjcmlwdCBpbmplY3RlZCBieSB0aGUgVlMgQ29kZSBMaXZlIFByZXZpZXcgRXh0ZW5zaW9uLg0KICogaHR0cDovL2FrYS5tcy9saXZlLXByZXZpZXcNCiAqLw0KDQp3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIChldmVudCkgPT4gaGFuZGxlTWVzc2FnZShldmVudCksIGZhbHNlKTsNCndpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdlcnJvcicsIChldmVudCkgPT4gaGFuZGxlRXJyb3IoZXZlbnQpLCBmYWxzZSk7DQoNCmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCBmdW5jdGlvbiAoZSkgew0KCW9uTG9hZCgpOw0KfSk7DQoNCmlmICh3aW5kb3cucGFyZW50ICE9PSB3aW5kb3cpIHsNCgljb25zb2xlLmVycm9yID0gY3JlYXRlQ29uc29sZU92ZXJyaWRlKCdFUlJPUicpOw0KDQoJY29uc29sZS5sb2cgPSBjcmVhdGVDb25zb2xlT3ZlcnJpZGUoJ0xPRycpOw0KDQoJY29uc29sZS53YXJuID0gY3JlYXRlQ29uc29sZU92ZXJyaWRlKCdXQVJOJyk7DQoNCgljb25zb2xlLmluZm8gPSBjcmVhdGVDb25zb2xlT3ZlcnJpZGUoJ0lORk8nKTsNCg0KCWNvbnNvbGUuY2xlYXIgPSBjcmVhdGVDb25zb2xlT3ZlcnJpZGUoJ0NMRUFSJyk7DQp9DQoNCi8qKg0KICogQGRlc2NyaXB0aW9uIHJ1biBpbml0aWFsaXphdGlvbiBvbiBsb2FkLg0KICovDQpmdW5jdGlvbiBvbkxvYWQoKSB7DQoJY29uc3QgY29ubmVjdGlvbiA9IG5ldyBXZWJTb2NrZXQoJ3dzOi8vMTI3LjAuMC4xOjMwMDEvMzJhMTM0NmYyZDRjOTYyYjM1MmRlYzhjMzIzYWU4ODljZjJmZDExNCcpOw0KCWNvbm5lY3Rpb24uYWRkRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIChlKSA9PiBoYW5kbGVTb2NrZXRNZXNzYWdlKGUuZGF0YSkpOw0KDQoJbGV0IG9ubHlDdHJsRG93biA9IGZhbHNlOw0KDQoJY29uc3QgY29tbWFuZFBheWxvYWQgPSB7DQoJCXBhdGg6IHdpbmRvdy5sb2NhdGlvbiwNCgkJdGl0bGU6IGRvY3VtZW50LnRpdGxlLA0KCX07DQoNCgkvLyBJbiBlbWJlZGRlZCBwcmV2aWV3LCB0ZWxsIHRoZSB3ZWJ2aWV3IHBhbmVsIHdoaWNoIHBhZ2UgaXQgaXMgb24gbm93Lg0KCXBvc3RQYXJlbnRNZXNzYWdlKHsNCgkJY29tbWFuZDogJ3VwZGF0ZS1wYXRoJywNCgkJdGV4dDogSlNPTi5zdHJpbmdpZnkoY29tbWFuZFBheWxvYWQpLA0KCX0pOw0KDQoJaGFuZGxlTGlua0hvdmVyRW5kKCk7DQoNCgljb25zdCBsaW5rcyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdhJyk7DQoJZm9yIChjb25zdCBsaW5rIG9mIGxpbmtzKSB7DQoJCS8vIEluIGVtYmVkZGVkIHByZXZpZXcsIGFsbCBsaW5rIGNsaWNrcyBtdXN0IGJlIGNoZWNrZWQgdG8gc2VlIGlmIHRoZSB0YXJnZXQgcGFnZSBjYW4gYmUgaW5qZWN0ZWQgd2l0aCB0aGlzIGZpbGUncyBzY3JpcHQuDQoJCWxpbmsuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4gaGFuZGxlTGlua0NsaWNrKGUudGFyZ2V0LmhyZWYpKTsNCgkJbGluay5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWVudGVyJywgKGUpID0+DQoJCQloYW5kbGVMaW5rSG92ZXJTdGFydChlLnRhcmdldC5ocmVmKQ0KCQkpOw0KCQlsaW5rLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbGVhdmUnLCAoKSA9PiBoYW5kbGVMaW5rSG92ZXJFbmQoKSk7DQoJfQ0KDQoJZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIChlKSA9PiB7DQoJCW9ubHlDdHJsRG93biA9IChlLmN0cmxLZXkgfHwgZS5tZXRhS2V5KSAmJiAhZS5zaGlmdEtleSAmJiAhZS5hbHRLZXk7DQoJCWlmICgoZS5rZXkgPT0gJ0YnIHx8IGUua2V5ID09ICdmJykgJiYgb25seUN0cmxEb3duKSB7DQoJCQlwb3N0UGFyZW50TWVzc2FnZSh7DQoJCQkJY29tbWFuZDogJ3Nob3ctZmluZCcsDQoJCQl9KTsNCgkJCXJldHVybjsNCgkJfQ0KCQlwb3N0UGFyZW50TWVzc2FnZSh7DQoJCQljb21tYW5kOiAnZGlkLWtleWRvd24nLA0KCQkJa2V5OiB7DQoJCQkJa2V5OiBlLmtleSwNCgkJCQlrZXlDb2RlOiBlLmtleUNvZGUsDQoJCQkJY29kZTogZS5jb2RlLA0KCQkJCXNoaWZ0S2V5OiBlLnNoaWZ0S2V5LA0KCQkJCWFsdEtleTogZS5hbHRLZXksDQoJCQkJY3RybEtleTogZS5jdHJsS2V5LA0KCQkJCW1ldGFLZXk6IGUubWV0YUtleSwNCgkJCQlyZXBlYXQ6IGUucmVwZWF0LA0KCQkJfSwNCgkJfSk7DQoJfSk7DQoNCglkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsIChlKSA9PiB7DQoJCW9ubHlDdHJsRG93biA9IChlLmN0cmxLZXkgfHwgZS5tZXRhS2V5KSAmJiAhZS5zaGlmdEtleSAmJiAhZS5hbHRLZXk7DQoJCXBvc3RQYXJlbnRNZXNzYWdlKHsNCgkJCWNvbW1hbmQ6ICdkaWQta2V5dXAnLA0KCQkJa2V5OiB7DQoJCQkJa2V5OiBlLmtleSwNCgkJCQlrZXlDb2RlOiBlLmtleUNvZGUsDQoJCQkJY29kZTogZS5jb2RlLA0KCQkJCXNoaWZ0S2V5OiBlLnNoaWZ0S2V5LA0KCQkJCWFsdEtleTogZS5hbHRLZXksDQoJCQkJY3RybEtleTogZS5jdHJsS2V5LA0KCQkJCW1ldGFLZXk6IGUubWV0YUtleSwNCgkJCQlyZXBlYXQ6IGUucmVwZWF0LA0KCQkJfSwNCgkJfSk7DQoJfSk7DQp9DQoNCi8qKg0KICogSGVscGVyIGZ1bmN0aW9uIHRvIGluc2VydCBhIGBwb3N0UGFyZW50TWVzc3NhZ2VgIGNhbGwgaW50byBjb25zb2xlIGZ1bmN0aW9uIGNhbGxzLg0KICogVGhpcyB3aWxsIGFsc28gc2VuZCB0aGUgcHJpbnRlZCBpbmZvcm1hdGlvbiB0byB0aGUgb3V0cHV0IGNoYW5uZWwgaWYgaW4gZW1iZWRkZWQgcHJldmlldy4NCiAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlIHRoZSB0eXBlIG9mIGNvbnNvbGUgbG9nIChlLmcuIGluZm8sIHdhcm4sIGVycm9yLCBldGMuKS4NCiAqLw0KZnVuY3Rpb24gY3JlYXRlQ29uc29sZU92ZXJyaWRlKHR5cGUpIHsNCgkvLyBPdmVycmlkZSBjb25zb2xlIG1lc3NhZ2VzIHRvIGFsbG93IHRoZSB1c2VyIHRvIHNlZSBjb25zb2xlIG1lc3NhZ2VzIGluIHRoZSBvdXRwdXQgY2hhbm5lbCAoZW1iZWRkZWQgcHJldmlldyBvbmx5KS4NCgljb25zdCBjb25zb2xlT3ZlcnJpZGVzID0gew0KCQlFUlJPUjogY29uc29sZS5lcnJvciwNCgkJTE9HOiBjb25zb2xlLmxvZywNCgkJV0FSTjogY29uc29sZS53YXJuLA0KCQlJTkZPOiBjb25zb2xlLmluZm8sDQoJCUNMRUFSOiBjb25zb2xlLmNsZWFyLA0KCX07DQoJcmV0dXJuIGZ1bmN0aW9uIChtc2cpIHsNCgkJbGV0IHN0cmluZ2lmaWVkTXNnID0gJ3VuZGVmaW5lZCc7DQoNCgkJdHJ5IHsNCgkJCXN0cmluZ2lmaWVkTXNnID0gSlNPTi5zdHJpbmdpZnkobXNnKTsNCgkJCWlmICghc3RyaW5naWZpZWRNc2cpIHRocm93IG5ldyBFcnJvcignbWVzc2FnZSBpcyBub3QgaW4gSlNPTiBmb3JtYXQnKTsNCgkJfSBjYXRjaCAoZXJyKSB7DQoJCQl0cnkgew0KCQkJCXN0cmluZ2lmaWVkTXNnID0gbXNnLnRvU3RyaW5nKCk7DQoJCQl9IGNhdGNoIChlcnIpIHsNCgkJCQkvLyBub29wDQoJCQl9DQoJCX0NCg0KCQljb25zdCBtZXNzYWdlUGF5bG9hZCA9IHsNCgkJCXR5cGU6IHR5cGUsDQoJCQlkYXRhOiBzdHJpbmdpZmllZE1zZywNCgkJfTsNCgkJcG9zdFBhcmVudE1lc3NhZ2Uoew0KCQkJY29tbWFuZDogJ2NvbnNvbGUnLA0KCQkJdGV4dDogSlNPTi5zdHJpbmdpZnkobWVzc2FnZVBheWxvYWQpLA0KCQl9KTsNCgkJY29uc29sZU92ZXJyaWRlc1t0eXBlXS5hcHBseShjb25zb2xlLCBhcmd1bWVudHMpOw0KCX07DQp9DQoNCi8qKg0KICogSGFuZGxlIHJlbG9hZCByZXF1ZXN0cyBmcm9tIFdlYlNvY2tldCBzZXJ2ZXIuDQogKiBAcGFyYW0ge2FueX0gZGF0YQ0KICovDQpmdW5jdGlvbiBoYW5kbGVTb2NrZXRNZXNzYWdlKGRhdGEpIHsNCgljb25zdCBwYXJzZWRNZXNzYWdlID0gSlNPTi5wYXJzZShkYXRhKTsNCglzd2l0Y2ggKHBhcnNlZE1lc3NhZ2UuY29tbWFuZCkgew0KCQljYXNlICdyZWxvYWQnOiB7DQoJCQlyZWxvYWRQYWdlKCk7DQoJCX0NCgl9DQp9DQoNCi8qKg0KICogSGFuZGxlIG1lc3NhZ2VzIGZyb20gdGhlIHBhcmVudCAoc3BlY2lmaWNhbGx5IGZvciBlbWJlZGRlZCBwcmV2aWV3KS4NCiAqIEBwYXJhbSB7YW55fSBldmVudA0KICovDQpmdW5jdGlvbiBoYW5kbGVNZXNzYWdlKGV2ZW50KSB7DQoJY29uc3QgbWVzc2FnZSA9IGV2ZW50LmRhdGE7DQoNCglzd2l0Y2ggKG1lc3NhZ2UuY29tbWFuZCkgew0KCQljYXNlICdyZWZyZXNoJzoNCgkJCXJlbG9hZFBhZ2UoKTsNCgkJCWJyZWFrOw0KCQljYXNlICdyZWZyZXNoLWZvcmNlZCc6DQoJCQl3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7DQoJCQlicmVhazsNCgkJY2FzZSAnc2V0dXAtcGFyZW50LWxpc3RlbmVyJzogew0KCQkJY29uc3QgY29tbWFuZFBheWxvYWQgPSB7DQoJCQkJcGF0aDogd2luZG93LmxvY2F0aW9uLA0KCQkJCXRpdGxlOiBkb2N1bWVudC50aXRsZSwNCgkJCX07DQoNCgkJCXBvc3RQYXJlbnRNZXNzYWdlKHsNCgkJCQljb21tYW5kOiAndXBkYXRlLXBhdGgnLA0KCQkJCXRleHQ6IEpTT04uc3RyaW5naWZ5KGNvbW1hbmRQYXlsb2FkKSwNCgkJCX0pOw0KCQkJYnJlYWs7DQoJCX0NCgkJY2FzZSAnZmluZC1uZXh0Jzogew0KCQkJbGV0IGZpbmRSZXN1bHQgPSB3aW5kb3cuZmluZChtZXNzYWdlLnRleHQpOw0KCQkJaWYgKCFmaW5kUmVzdWx0KSB7DQoJCQkJaWYgKGhhc0ZpbmRSZXN1bHRzKG1lc3NhZ2UudGV4dCkpIHsNCgkJCQkJZmluZFRvQmVnaW5uaW5nKG1lc3NhZ2UudGV4dCk7DQoJCQkJCWZpbmRSZXN1bHQgPSB0cnVlOw0KCQkJCX0NCgkJCX0NCgkJCXBvc3RQYXJlbnRNZXNzYWdlKHsNCgkJCQljb21tYW5kOiAnc2hvdy1maW5kLWljb24nLA0KCQkJCXRleHQ6IGZpbmRSZXN1bHQsDQoJCQl9KTsNCgkJCWJyZWFrOw0KCQl9DQoJCWNhc2UgJ2ZpbmQtcHJldic6IHsNCgkJCWxldCBmaW5kUmVzdWx0ID0gd2luZG93LmZpbmQobWVzc2FnZS50ZXh0LCBmYWxzZSwgdHJ1ZSk7DQoJCQlpZiAoIWZpbmRSZXN1bHQpIHsNCgkJCQlpZiAoaGFzRmluZFJlc3VsdHMobWVzc2FnZS50ZXh0KSkgew0KCQkJCQlmaW5kVG9FbmQobWVzc2FnZS50ZXh0KTsNCgkJCQkJZmluZFJlc3VsdCA9IHRydWU7DQoJCQkJfQ0KCQkJfQ0KCQkJcG9zdFBhcmVudE1lc3NhZ2Uoew0KCQkJCWNvbW1hbmQ6ICdzaG93LWZpbmQtaWNvbicsDQoJCQkJdGV4dDogZmluZFJlc3VsdCwNCgkJCX0pOw0KCQkJYnJlYWs7DQoJCX0NCgkJZGVmYXVsdDogew0KCQkJaWYgKA0KCQkJCWV2ZW50LmRhdGEuY29tbWFuZCAhPSAncGVyZm9ybS11cmwtY2hlY2snICYmDQoJCQkJZXZlbnQuZGF0YS5jb21tYW5kICE9ICd1cGRhdGUtcGF0aCcNCgkJCSkgew0KCQkJCXBvc3RQYXJlbnRNZXNzYWdlKGV2ZW50LmRhdGEpOw0KCQkJfQ0KCQl9DQoJfQ0KfQ0KDQovKioNCiAqIEhhbmRsZSBlcnJvcnMgZnJvbSB0aGUgcGFyZW50IChzcGVjaWZpY2FsbHkgZm9yIGVtYmVkZGVkIHByZXZpZXcpLg0KICogQHBhcmFtIHthbnl9IGV2ZW50DQogKi8NCmZ1bmN0aW9uIGhhbmRsZUVycm9yKGV2ZW50KSB7DQoJY29uc3Qgc3RhY2tNZXNzYWdlID0gZXZlbnQuZXJyb3Iuc3RhY2s7DQoJLy8gc3RhY2tNZXNzYWdlcyBnaXZlbiBpbiB0aGUgZm9ybToNCgkvLyAgICAiZXJyb3JUeXBlOiBlcnJvck1lc3NhZ2UiDQoJLy8gRXhhbXBsZToNCgkvLyAgICAiU3ludGF4RXJyb3I6IElsbGVnYWwgbmV3bGluZSBhZnRlciB0aHJvdyINCgljb25zdCBlcnJvclR5cGUgPSBzdGFja01lc3NhZ2Uuc3BsaXQoJzonKVswXTsNCg0KCS8vIGlnbm9yZSBlcnJvcnMgc3VjaCBhcyBTeW50YXhFcnJvciwgUmVmZXJlbmNlRXJyb3IsIGV0Yw0KCWlmIChlcnJvclR5cGUgPT09ICdFcnJvcicpIHsNCgkJY29uc3QgbWVzc2FnZVBheWxvYWQgPSB7DQoJCQl0eXBlOiAnVU5DQVVHSFRfRVJST1InLA0KCQkJZGF0YTogc3RhY2tNZXNzYWdlLA0KCQl9Ow0KCQlwb3N0UGFyZW50TWVzc2FnZSh7DQoJCQljb21tYW5kOiAnY29uc29sZScsDQoJCQl0ZXh0OiBKU09OLnN0cmluZ2lmeShtZXNzYWdlUGF5bG9hZCksDQoJCX0pOw0KCX0NCn0NCg0KLyoqDQogKiBAcGFyYW0ge3N0cmluZ30gc2VhcmNoU3RyaW5nIHRoZSBzdHJpbmcgdG8gc2VhcmNoIGZvci4NCiAqIEByZXR1cm5zIHdoZXRoZXIgdGhpcyBzdHJpbmcgaGFzIGZpbmQgcmVzdWx0cyBvbiB0aGUgcGFnZS4NCiAqLw0KZnVuY3Rpb24gaGFzRmluZFJlc3VsdHMoc2VhcmNoU3RyaW5nKSB7DQoJd2luZG93LmdldFNlbGVjdGlvbigpLnJlbW92ZUFsbFJhbmdlcygpOw0KCWNvbnN0IGNhbkdvRm9yd2FyZCA9IHdpbmRvdy5maW5kKHNlYXJjaFN0cmluZyk7DQoJY29uc3QgY2FuR29CYWNrID0gd2luZG93LmZpbmQoc2VhcmNoU3RyaW5nLCBmYWxzZSwgdHJ1ZSk7DQoJcmV0dXJuIGNhbkdvRm9yd2FyZCB8fCBjYW5Hb0JhY2s7DQp9DQoNCi8qKg0KICogQHBhcmFtIHtzdHJpbmd9IHNlYXJjaFN0cmluZyB0aGUgc3RyaW5nIHRvIHNlYXJjaCBmb3IuDQogKiBAcmV0dXJucyBtb3ZlIHRoZSBmaW5kIHBvc2l0aW9uIHRvIHRoZSBiZWdpbm5pbmcgb2YgdGhlIHBhZ2UuDQogKi8NCmZ1bmN0aW9uIGZpbmRUb0JlZ2lubmluZyhzZWFyY2hTdHJpbmcpIHsNCgl3aW5kb3cuZ2V0U2VsZWN0aW9uKCkucmVtb3ZlQWxsUmFuZ2VzKCk7DQoJd2luZG93LmZpbmQoc2VhcmNoU3RyaW5nKTsNCn0NCg0KLyoqDQogKiBAcGFyYW0ge3N0cmluZ30gc2VhcmNoU3RyaW5nIHRoZSBzdHJpbmcgdG8gc2VhcmNoIGZvci4NCiAqIEByZXR1cm5zIG1vdmUgdGhlIGZpbmQgcG9zaXRpb24gdG8gdGhlIGVuZCBvZiB0aGUgcGFnZS4NCiAqLw0KZnVuY3Rpb24gZmluZFRvRW5kKHNlYXJjaFN0cmluZykgew0KCXdpbmRvdy5nZXRTZWxlY3Rpb24oKS5yZW1vdmVBbGxSYW5nZXMoKTsNCgl3aW5kb3cuZmluZChzZWFyY2hTdHJpbmcsIGZhbHNlLCB0cnVlKTsNCn0NCg0KLyoqDQogKiBTZW5kIG1lc3NhZ2UgdG8gdGhlIHBhcmVudCBmcmFtZSBpZiB0aGlzIGlzIGFuIGlmcmFtZSAoc3BlY2lmaWNhbGx5IGZvciBlbWJlZGRlZCBwcmV2aWV3KS4NCiAqIEBwYXJhbSB7YW55fSBkYXRhDQogKi8NCmZ1bmN0aW9uIHBvc3RQYXJlbnRNZXNzYWdlKGRhdGEpIHsNCglpZiAod2luZG93LnBhcmVudCAhPT0gd2luZG93KSB7DQoJCXdpbmRvdy5wYXJlbnQucG9zdE1lc3NhZ2UoZGF0YSwgJyonKTsNCgl9DQp9DQoNCi8qKg0KICogQGRlc2NyaXB0aW9uIE1vbml0b3IgbGluayBjbGlja3MgZm9yIG5vbi1pbmplY3RhYmxlIGZpbGVzIChmaWxlcyB0aGF0IGNhbm5vdCBiZSBpbmplY3RlZCB3aXRoIHRoaXMgc2NyaXB0KSBvciBmb3IgZXh0ZXJuYWwgbGlua3MuDQogKiBQcmltYXJpbHkgZm9yIGVtYmVkZGVkIHByZXZpZXdzLg0KICogQHBhcmFtIHtzdHJpbmd9IGxpbmtUYXJnZXQNCiAqLw0KZnVuY3Rpb24gaGFuZGxlTGlua0NsaWNrKGxpbmtUYXJnZXQpIHsNCgljb25zdCBob3N0ID0gJ2h0dHA6Ly8xMjcuMC4wLjE6MzAwMCc7DQoJaWYgKGxpbmtUYXJnZXQgJiYgbGlua1RhcmdldCAhPSAnJyAmJiAhbGlua1RhcmdldC5zdGFydHNXaXRoKCdqYXZhc2NyaXB0OicpKSB7DQoJCWlmICghbGlua1RhcmdldC5zdGFydHNXaXRoKGhvc3QpKSB7DQoJCQkvLyBUaGUgZW1iZWRkZWQgcHJldmlldyBkb2VzIG5vdCBzdXBwb3J0IGV4dGVybmFsIHNpdGVzOyBsZXQgdGhlIGV4dGVuc2lvbiBrbm93IHRoYXQgYW4gZXh0ZXJuYWwgbGluayBoYXMgYmVlbg0KCQkJLy8gb3BlbmVkIGluIHRoZSBlbWJlZGRlZCBwcmV2aWV3OyB0aGlzIHdpbGwgb3BlbiB0aGUgbW9kYWwgdG8gYXNrIHRoZSB1c2VyIHRvIG5hdmlnYXRlIGluIGFuIGV4dGVybmFsIGJyb3dzZXINCgkJCS8vIGFuZCB3aWxsIGZvcmNlIHRoZSBlbWJlZGRlZCBwcmV2aWV3IGJhY2sgdG8gdGhlIHByZXZpb3VzIHBhZ2UuDQoJCQlwb3N0UGFyZW50TWVzc2FnZSh7IGNvbW1hbmQ6ICdvcGVuLWV4dGVybmFsLWxpbmsnLCB0ZXh0OiBsaW5rVGFyZ2V0IH0pOw0KCQl9IGVsc2Ugew0KCQkJLy8gQ2hlY2sgYWxsIGxvY2FsIFVSTHMgdG8gbWFrZSBzdXJlIHRvIGNhdGNoIHBhZ2VzIHRoYXQgd29uJ3QgYmUgaW5qZWN0YWJsZQ0KCQkJcG9zdFBhcmVudE1lc3NhZ2UoeyBjb21tYW5kOiAncGVyZm9ybS11cmwtY2hlY2snLCB0ZXh0OiBsaW5rVGFyZ2V0IH0pOw0KCQl9DQoJfQ0KfQ0KDQovKioNCiAqIEBkZXNjcmlwdGlvbiBTaG93IGxpbmsgcHJldmlldyBvbiBlbWJlZGRlZCBwcmV2aWV3Lg0KICogQHBhcmFtIHtzdHJpbmd9IGxpbmtUYXJnZXQNCiAqLw0KZnVuY3Rpb24gaGFuZGxlTGlua0hvdmVyU3RhcnQobGlua1RhcmdldCkgew0KCS8vIEluIGVtYmVkZGVkIHByZXZpZXcsIHRyaWdnZXIgdGhlIGxpbmsgcHJldmlldy4NCglwb3N0UGFyZW50TWVzc2FnZSh7DQoJCWNvbW1hbmQ6ICdsaW5rLWhvdmVyLXN0YXJ0JywNCgkJdGV4dDogbGlua1RhcmdldCwNCgl9KTsNCn0NCg0KLyoqDQogKiBAZGVzY3JpcHRpb24gSGlkZSBsaW5rIHByZXZpZXcgb24gZW1iZWRkZWQgcHJldmlldy4NCiAqLw0KZnVuY3Rpb24gaGFuZGxlTGlua0hvdmVyRW5kKCkgew0KCXBvc3RQYXJlbnRNZXNzYWdlKHsNCgkJY29tbWFuZDogJ2xpbmstaG92ZXItZW5kJywNCgl9KTsNCn0NCg0KLyoqDQogKiBSZWxvYWRzIHBhZ2Ugd2hlbiByZXF1ZXN0ZWQgYnkgYSBzb2NrZXQgbWVzc2FnZSBvciBwYXJlbnQuDQogKiBBdXRvLXJlbG9hZGluZyBpcyBwcmV2ZW50ZWQgaWYgdGhlIGRvY3VtZW50IGJvZHkgaGFzIGEgYGRhdGEtc2VydmVyLW5vLXJlbG9hZGAgYXR0cmlidXRlLg0KICovDQpmdW5jdGlvbiByZWxvYWRQYWdlKCkgew0KCWNvbnN0IGJsb2NrID0gZG9jdW1lbnQuYm9keQ0KCQk/IGRvY3VtZW50LmJvZHkuaGFzQXR0cmlidXRlKCdkYXRhLXNlcnZlci1uby1yZWxvYWQnKQ0KCQk6IGZhbHNlOw0KCWlmIChibG9jaykgcmV0dXJuOw0KCXdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTsNCn0NCg=="></script>
  <meta charset="UTF-8">
  <title>CodePen - Smile - Three.js &amp; ScrollTrigger</title>
  <link rel="stylesheet" href="data:text/css;charset=UTF-8;base64,KiB7Cglib3gtc2l6aW5nOiBib3JkZXItYm94OwogIG1hcmdpbjogMDsKfQoKCgpib2R5IHsKCXdpZHRoOiAxMDB2dzsKCWhlaWdodDogMTAwdmg7CgltYXJnaW46IDA7CQogIG92ZXJmbG93OiBoaWRkZW47CiAgYmFja2dyb3VuZDogYmxhY2s7Cn0KCmJvZHkucmVhZHkgewogIG92ZXJmbG93OiB1bnNldDsKICBvdmVyZmxvdy14OiBoaWRkZW4gIWltcG9ydGFudAp9CgoKCi5zY2VuZSwKY2FudmFzIHsKICBwb3NpdGlvbjogZml4ZWQ7CiAgaW5zZXQ6IDA7CiAgd2lkdGg6IDEwMCU7CiAgaGVpZ2h0OiAxMDAlOwogIG91dGxpbmU6IG5vbmUgIWltcG9ydGFudDsKfQoKCgoKc2VjdGlvbiB7CiAgaGVpZ2h0OiAxMDB2aDsKICB3aWR0aDogMTAwdnc7Cn0KCnNlY3Rpb246aXMoLnNlYy0xLCAuc2VjLTMsIC5zZWMtNSkgewogIGJhY2tncm91bmQ6IGxpZ2h0Z3JleTsKfQpzZWN0aW9uOmlzKC5zZWMtMiwgLnNlYy00KSB7CiAgYmFja2dyb3VuZDogZ2FpbnNib3JvOwp9CgoKCiNsb2FkaW5nLXNjcmVlbiB7CiAgd2lkdGg6IDEwMHZ3OwogIGhlaWdodDogMTAwdmg7CiAgcG9zaXRpb246IGZpeGVkOwogIGluc2V0OiAwOwogIGJhY2tncm91bmQ6IGdhaW5zYm9ybzsKICBjb2xvcjogIzMzMzsKICBmb250LXNpemU6IDQwcHg7CiAgZm9udC1mYW1pbHk6IHNhbnMtc2VyaWY7CiAgZGlzcGxheTogZmxleDsKICBhbGlnbi1pdGVtczogY2VudGVyOwogIGp1c3RpZnktY29udGVudDogY2VudGVyOwogIG9wYWNpdHk6IDE7CiAJdHJhbnNpdGlvbjogMXMgb3BhY2l0eTsKfQoKI2xvYWRpbmctc2NyZWVuLmZpbmlzaGVkIHsKICBvcGFjaXR5OiAwOwp9">

</head>
<body>
<!-- partial:index.partial.html -->
<div class="scene"></div>

<section class="sec-1"></section>
<section class="sec-2"></section>
<section class="sec-3"></section>
<section class="sec-4"></section>
<section class="sec-5"></section>

<div id="loading-screen">... loading ...</div>
<!-- partial -->
  <script src="data:application/javascript;charset=utf-8;base64,LyohCiAqIEdTQVAgMy4xMi41CiAqIGh0dHBzOi8vZ3NhcC5jb20KICogCiAqIEBsaWNlbnNlIENvcHlyaWdodCAyMDI0LCBHcmVlblNvY2suIEFsbCByaWdodHMgcmVzZXJ2ZWQuCiAqIFN1YmplY3QgdG8gdGhlIHRlcm1zIGF0IGh0dHBzOi8vZ3NhcC5jb20vc3RhbmRhcmQtbGljZW5zZSBvciBmb3IgQ2x1YiBHU0FQIG1lbWJlcnMsIHRoZSBhZ3JlZW1lbnQgaXNzdWVkIHdpdGggdGhhdCBtZW1iZXJzaGlwLgogKiBAYXV0aG9yOiBKYWNrIERveWxlLCBqYWNrQGdyZWVuc29jay5jb20KICovCgohZnVuY3Rpb24odCxlKXsib2JqZWN0Ij09dHlwZW9mIGV4cG9ydHMmJiJ1bmRlZmluZWQiIT10eXBlb2YgbW9kdWxlP2UoZXhwb3J0cyk6ImZ1bmN0aW9uIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoWyJleHBvcnRzIl0sZSk6ZSgodD10fHxzZWxmKS53aW5kb3c9dC53aW5kb3d8fHt9KX0odGhpcyxmdW5jdGlvbihlKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gX2luaGVyaXRzTG9vc2UodCxlKXt0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUucHJvdG90eXBlKSwodC5wcm90b3R5cGUuY29uc3RydWN0b3I9dCkuX19wcm90b19fPWV9ZnVuY3Rpb24gX2Fzc2VydFRoaXNJbml0aWFsaXplZCh0KXtpZih2b2lkIDA9PT10KXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcigidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkIik7cmV0dXJuIHR9ZnVuY3Rpb24gcih0KXtyZXR1cm4ic3RyaW5nIj09dHlwZW9mIHR9ZnVuY3Rpb24gcyh0KXtyZXR1cm4iZnVuY3Rpb24iPT10eXBlb2YgdH1mdW5jdGlvbiB0KHQpe3JldHVybiJudW1iZXIiPT10eXBlb2YgdH1mdW5jdGlvbiB1KHQpe3JldHVybiB2b2lkIDA9PT10fWZ1bmN0aW9uIHYodCl7cmV0dXJuIm9iamVjdCI9PXR5cGVvZiB0fWZ1bmN0aW9uIHcodCl7cmV0dXJuITEhPT10fWZ1bmN0aW9uIHgoKXtyZXR1cm4idW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvd31mdW5jdGlvbiB5KHQpe3JldHVybiBzKHQpfHxyKHQpfWZ1bmN0aW9uIFAodCl7cmV0dXJuKGk9eXQodCxvdCkpJiZ6ZX1mdW5jdGlvbiBRKHQsZSl7cmV0dXJuIGNvbnNvbGUud2FybigiSW52YWxpZCBwcm9wZXJ0eSIsdCwic2V0IHRvIixlLCJNaXNzaW5nIHBsdWdpbj8gZ3NhcC5yZWdpc3RlclBsdWdpbigpIil9ZnVuY3Rpb24gUih0LGUpe3JldHVybiFlJiZjb25zb2xlLndhcm4odCl9ZnVuY3Rpb24gUyh0LGUpe3JldHVybiB0JiYob3RbdF09ZSkmJmkmJihpW3RdPWUpfHxvdH1mdW5jdGlvbiBUKCl7cmV0dXJuIDB9ZnVuY3Rpb24gZWEodCl7dmFyIGUscixpPXRbMF07aWYodihpKXx8cyhpKXx8KHQ9W3RdKSwhKGU9KGkuX2dzYXB8fHt9KS5oYXJuZXNzKSl7Zm9yKHI9Z3QubGVuZ3RoO3ItLSYmIWd0W3JdLnRhcmdldFRlc3QoaSk7KTtlPWd0W3JdfWZvcihyPXQubGVuZ3RoO3ItLTspdFtyXSYmKHRbcl0uX2dzYXB8fCh0W3JdLl9nc2FwPW5ldyBWdCh0W3JdLGUpKSl8fHQuc3BsaWNlKHIsMSk7cmV0dXJuIHR9ZnVuY3Rpb24gZmEodCl7cmV0dXJuIHQuX2dzYXB8fGVhKE10KHQpKVswXS5fZ3NhcH1mdW5jdGlvbiBnYSh0LGUscil7cmV0dXJuKHI9dFtlXSkmJnMocik/dFtlXSgpOnUocikmJnQuZ2V0QXR0cmlidXRlJiZ0LmdldEF0dHJpYnV0ZShlKXx8cn1mdW5jdGlvbiBoYSh0LGUpe3JldHVybih0PXQuc3BsaXQoIiwiKSkuZm9yRWFjaChlKXx8dH1mdW5jdGlvbiBpYSh0KXtyZXR1cm4gTWF0aC5yb3VuZCgxZTUqdCkvMWU1fHwwfWZ1bmN0aW9uIGphKHQpe3JldHVybiBNYXRoLnJvdW5kKDFlNyp0KS8xZTd8fDB9ZnVuY3Rpb24ga2EodCxlKXt2YXIgcj1lLmNoYXJBdCgwKSxpPXBhcnNlRmxvYXQoZS5zdWJzdHIoMikpO3JldHVybiB0PXBhcnNlRmxvYXQodCksIisiPT09cj90K2k6Ii0iPT09cj90LWk6IioiPT09cj90Kmk6dC9pfWZ1bmN0aW9uIGxhKHQsZSl7Zm9yKHZhciByPWUubGVuZ3RoLGk9MDt0LmluZGV4T2YoZVtpXSk8MCYmKytpPHI7KTtyZXR1cm4gaTxyfWZ1bmN0aW9uIG1hKCl7dmFyIHQsZSxyPWR0Lmxlbmd0aCxpPWR0LnNsaWNlKDApO2ZvcihjdD17fSx0PWR0Lmxlbmd0aD0wO3Q8cjt0KyspKGU9aVt0XSkmJmUuX2xhenkmJihlLnJlbmRlcihlLl9sYXp5WzBdLGUuX2xhenlbMV0sITApLl9sYXp5PTApfWZ1bmN0aW9uIG5hKHQsZSxyLGkpe2R0Lmxlbmd0aCYmIUwmJm1hKCksdC5yZW5kZXIoZSxyLGl8fEwmJmU8MCYmKHQuX2luaXR0ZWR8fHQuX3N0YXJ0QXQpKSxkdC5sZW5ndGgmJiFMJiZtYSgpfWZ1bmN0aW9uIG9hKHQpe3ZhciBlPXBhcnNlRmxvYXQodCk7cmV0dXJuKGV8fDA9PT1lKSYmKHQrIiIpLm1hdGNoKGF0KS5sZW5ndGg8Mj9lOnIodCk/dC50cmltKCk6dH1mdW5jdGlvbiBwYSh0KXtyZXR1cm4gdH1mdW5jdGlvbiBxYSh0LGUpe2Zvcih2YXIgciBpbiBlKXIgaW4gdHx8KHRbcl09ZVtyXSk7cmV0dXJuIHR9ZnVuY3Rpb24gdGEodCxlKXtmb3IodmFyIHIgaW4gZSkiX19wcm90b19fIiE9PXImJiJjb25zdHJ1Y3RvciIhPT1yJiYicHJvdG90eXBlIiE9PXImJih0W3JdPXYoZVtyXSk/dGEodFtyXXx8KHRbcl09e30pLGVbcl0pOmVbcl0pO3JldHVybiB0fWZ1bmN0aW9uIHVhKHQsZSl7dmFyIHIsaT17fTtmb3IociBpbiB0KXIgaW4gZXx8KGlbcl09dFtyXSk7cmV0dXJuIGl9ZnVuY3Rpb24gdmEodCl7dmFyIGU9dC5wYXJlbnR8fEkscj10LmtleWZyYW1lcz9mdW5jdGlvbiBfc2V0S2V5ZnJhbWVEZWZhdWx0cyhpKXtyZXR1cm4gZnVuY3Rpb24odCxlKXtmb3IodmFyIHIgaW4gZSlyIGluIHR8fCJkdXJhdGlvbiI9PT1yJiZpfHwiZWFzZSI9PT1yfHwodFtyXT1lW3JdKX19KFoodC5rZXlmcmFtZXMpKTpxYTtpZih3KHQuaW5oZXJpdCkpZm9yKDtlOylyKHQsZS52YXJzLmRlZmF1bHRzKSxlPWUucGFyZW50fHxlLl9kcDtyZXR1cm4gdH1mdW5jdGlvbiB4YSh0LGUscixpLG4pe3ZvaWQgMD09PXImJihyPSJfZmlyc3QiKSx2b2lkIDA9PT1pJiYoaT0iX2xhc3QiKTt2YXIgYSxzPXRbaV07aWYobilmb3IoYT1lW25dO3MmJnNbbl0+YTspcz1zLl9wcmV2O3JldHVybiBzPyhlLl9uZXh0PXMuX25leHQscy5fbmV4dD1lKTooZS5fbmV4dD10W3JdLHRbcl09ZSksZS5fbmV4dD9lLl9uZXh0Ll9wcmV2PWU6dFtpXT1lLGUuX3ByZXY9cyxlLnBhcmVudD1lLl9kcD10LGV9ZnVuY3Rpb24geWEodCxlLHIsaSl7dm9pZCAwPT09ciYmKHI9Il9maXJzdCIpLHZvaWQgMD09PWkmJihpPSJfbGFzdCIpO3ZhciBuPWUuX3ByZXYsYT1lLl9uZXh0O24/bi5fbmV4dD1hOnRbcl09PT1lJiYodFtyXT1hKSxhP2EuX3ByZXY9bjp0W2ldPT09ZSYmKHRbaV09biksZS5fbmV4dD1lLl9wcmV2PWUucGFyZW50PW51bGx9ZnVuY3Rpb24gemEodCxlKXt0LnBhcmVudCYmKCFlfHx0LnBhcmVudC5hdXRvUmVtb3ZlQ2hpbGRyZW4pJiZ0LnBhcmVudC5yZW1vdmUmJnQucGFyZW50LnJlbW92ZSh0KSx0Ll9hY3Q9MH1mdW5jdGlvbiBBYSh0LGUpe2lmKHQmJighZXx8ZS5fZW5kPnQuX2R1cnx8ZS5fc3RhcnQ8MCkpZm9yKHZhciByPXQ7cjspci5fZGlydHk9MSxyPXIucGFyZW50O3JldHVybiB0fWZ1bmN0aW9uIENhKHQsZSxyLGkpe3JldHVybiB0Ll9zdGFydEF0JiYoTD90Ll9zdGFydEF0LnJldmVydChodCk6dC52YXJzLmltbWVkaWF0ZVJlbmRlciYmIXQudmFycy5hdXRvUmV2ZXJ0fHx0Ll9zdGFydEF0LnJlbmRlcihlLCEwLGkpKX1mdW5jdGlvbiBFYSh0KXtyZXR1cm4gdC5fcmVwZWF0P1R0KHQuX3RUaW1lLHQ9dC5kdXJhdGlvbigpK3QuX3JEZWxheSkqdDowfWZ1bmN0aW9uIEdhKHQsZSl7cmV0dXJuKHQtZS5fc3RhcnQpKmUuX3RzKygwPD1lLl90cz8wOmUuX2RpcnR5P2UudG90YWxEdXJhdGlvbigpOmUuX3REdXIpfWZ1bmN0aW9uIEhhKHQpe3JldHVybiB0Ll9lbmQ9amEodC5fc3RhcnQrKHQuX3REdXIvTWF0aC5hYnModC5fdHN8fHQuX3J0c3x8WCl8fDApKX1mdW5jdGlvbiBJYSh0LGUpe3ZhciByPXQuX2RwO3JldHVybiByJiZyLnNtb290aENoaWxkVGltaW5nJiZ0Ll90cyYmKHQuX3N0YXJ0PWphKHIuX3RpbWUtKDA8dC5fdHM/ZS90Ll90czooKHQuX2RpcnR5P3QudG90YWxEdXJhdGlvbigpOnQuX3REdXIpLWUpLy10Ll90cykpLEhhKHQpLHIuX2RpcnR5fHxBYShyLHQpKSx0fWZ1bmN0aW9uIEphKHQsZSl7dmFyIHI7aWYoKGUuX3RpbWV8fCFlLl9kdXImJmUuX2luaXR0ZWR8fGUuX3N0YXJ0PHQuX3RpbWUmJihlLl9kdXJ8fCFlLmFkZCkpJiYocj1HYSh0LnJhd1RpbWUoKSxlKSwoIWUuX2R1cnx8T3QoMCxlLnRvdGFsRHVyYXRpb24oKSxyKS1lLl90VGltZT5YKSYmZS5yZW5kZXIociwhMCkpLEFhKHQsZSkuX2RwJiZ0Ll9pbml0dGVkJiZ0Ll90aW1lPj10Ll9kdXImJnQuX3RzKXtpZih0Ll9kdXI8dC5kdXJhdGlvbigpKWZvcihyPXQ7ci5fZHA7KTA8PXIucmF3VGltZSgpJiZyLnRvdGFsVGltZShyLl90VGltZSkscj1yLl9kcDt0Ll96VGltZT0tWH19ZnVuY3Rpb24gS2EoZSxyLGksbil7cmV0dXJuIHIucGFyZW50JiZ6YShyKSxyLl9zdGFydD1qYSgodChpKT9pOml8fGUhPT1JP3h0KGUsaSxyKTplLl90aW1lKStyLl9kZWxheSksci5fZW5kPWphKHIuX3N0YXJ0KyhyLnRvdGFsRHVyYXRpb24oKS9NYXRoLmFicyhyLnRpbWVTY2FsZSgpKXx8MCkpLHhhKGUsciwiX2ZpcnN0IiwiX2xhc3QiLGUuX3NvcnQ/Il9zdGFydCI6MCksYnQocil8fChlLl9yZWNlbnQ9ciksbnx8SmEoZSxyKSxlLl90czwwJiZJYShlLGUuX3RUaW1lKSxlfWZ1bmN0aW9uIExhKHQsZSl7cmV0dXJuKG90LlNjcm9sbFRyaWdnZXJ8fFEoInNjcm9sbFRyaWdnZXIiLGUpKSYmb3QuU2Nyb2xsVHJpZ2dlci5jcmVhdGUoZSx0KX1mdW5jdGlvbiBNYSh0LGUscixpLG4pe3JldHVybiBRdCh0LGUsbiksdC5faW5pdHRlZD8hciYmdC5fcHQmJiFMJiYodC5fZHVyJiYhMSE9PXQudmFycy5sYXp5fHwhdC5fZHVyJiZ0LnZhcnMubGF6eSkmJmYhPT1SdC5mcmFtZT8oZHQucHVzaCh0KSx0Ll9sYXp5PVtuLGldLDEpOnZvaWQgMDoxfWZ1bmN0aW9uIFJhKHQsZSxyLGkpe3ZhciBuPXQuX3JlcGVhdCxhPWphKGUpfHwwLHM9dC5fdFRpbWUvdC5fdER1cjtyZXR1cm4gcyYmIWkmJih0Ll90aW1lKj1hL3QuX2R1ciksdC5fZHVyPWEsdC5fdER1cj1uP248MD8xZTEwOmphKGEqKG4rMSkrdC5fckRlbGF5Km4pOmEsMDxzJiYhaSYmSWEodCx0Ll90VGltZT10Ll90RHVyKnMpLHQucGFyZW50JiZIYSh0KSxyfHxBYSh0LnBhcmVudCx0KSx0fWZ1bmN0aW9uIFNhKHQpe3JldHVybiB0IGluc3RhbmNlb2YgWHQ/QWEodCk6UmEodCx0Ll9kdXIpfWZ1bmN0aW9uIFZhKGUscixpKXt2YXIgbixhLHM9dChyWzFdKSxvPShzPzI6MSkrKGU8Mj8wOjEpLHU9cltvXTtpZihzJiYodS5kdXJhdGlvbj1yWzFdKSx1LnBhcmVudD1pLGUpe2ZvcihuPXUsYT1pO2EmJiEoImltbWVkaWF0ZVJlbmRlciJpbiBuKTspbj1hLnZhcnMuZGVmYXVsdHN8fHt9LGE9dyhhLnZhcnMuaW5oZXJpdCkmJmEucGFyZW50O3UuaW1tZWRpYXRlUmVuZGVyPXcobi5pbW1lZGlhdGVSZW5kZXIpLGU8Mj91LnJ1bkJhY2t3YXJkcz0xOnUuc3RhcnRBdD1yW28tMV19cmV0dXJuIG5ldyAkdChyWzBdLHUsclsxK29dKX1mdW5jdGlvbiBXYSh0LGUpe3JldHVybiB0fHwwPT09dD9lKHQpOmV9ZnVuY3Rpb24gWWEodCxlKXtyZXR1cm4gcih0KSYmKGU9c3QuZXhlYyh0KSk/ZVsxXToiIn1mdW5jdGlvbiBfYSh0LGUpe3JldHVybiB0JiZ2KHQpJiYibGVuZ3RoImluIHQmJighZSYmIXQubGVuZ3RofHx0Lmxlbmd0aC0xIGluIHQmJnYodFswXSkpJiYhdC5ub2RlVHlwZSYmdCE9PWh9ZnVuY3Rpb24gY2Iocil7cmV0dXJuIHI9TXQocilbMF18fFIoIkludmFsaWQgc2NvcGUiKXx8e30sZnVuY3Rpb24odCl7dmFyIGU9ci5jdXJyZW50fHxyLm5hdGl2ZUVsZW1lbnR8fHI7cmV0dXJuIE10KHQsZS5xdWVyeVNlbGVjdG9yQWxsP2U6ZT09PXI/UigiSW52YWxpZCBzY29wZSIpfHxhLmNyZWF0ZUVsZW1lbnQoImRpdiIpOnIpfX1mdW5jdGlvbiBkYih0KXtyZXR1cm4gdC5zb3J0KGZ1bmN0aW9uKCl7cmV0dXJuLjUtTWF0aC5yYW5kb20oKX0pfWZ1bmN0aW9uIGViKHQpe2lmKHModCkpcmV0dXJuIHQ7dmFyIHA9dih0KT90OntlYWNoOnR9LF89anQocC5lYXNlKSxtPXAuZnJvbXx8MCxnPXBhcnNlRmxvYXQocC5iYXNlKXx8MCx5PXt9LGU9MDxtJiZtPDEsVD1pc05hTihtKXx8ZSxiPXAuYXhpcyx3PW0seD1tO3JldHVybiByKG0pP3c9eD17Y2VudGVyOi41LGVkZ2VzOi41LGVuZDoxfVttXXx8MDohZSYmVCYmKHc9bVswXSx4PW1bMV0pLGZ1bmN0aW9uKHQsZSxyKXt2YXIgaSxuLGEscyxvLHUsaCxsLGYsZD0ocnx8cCkubGVuZ3RoLGM9eVtkXTtpZighYyl7aWYoIShmPSJhdXRvIj09PXAuZ3JpZD8wOihwLmdyaWR8fFsxLFVdKVsxXSkpe2ZvcihoPS1VO2g8KGg9cltmKytdLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmxlZnQpJiZmPGQ7KTtmPGQmJmYtLX1mb3IoYz15W2RdPVtdLGk9VD9NYXRoLm1pbihmLGQpKnctLjU6bSVmLG49Zj09PVU/MDpUP2QqeC9mLS41Om0vZnwwLGw9VSx1PWg9MDt1PGQ7dSsrKWE9dSVmLWkscz1uLSh1L2Z8MCksY1t1XT1vPWI/TWF0aC5hYnMoInkiPT09Yj9zOmEpOksoYSphK3MqcyksaDxvJiYoaD1vKSxvPGwmJihsPW8pOyJyYW5kb20iPT09bSYmZGIoYyksYy5tYXg9aC1sLGMubWluPWwsYy52PWQ9KHBhcnNlRmxvYXQocC5hbW91bnQpfHxwYXJzZUZsb2F0KHAuZWFjaCkqKGQ8Zj9kLTE6Yj8ieSI9PT1iP2QvZjpmOk1hdGgubWF4KGYsZC9mKSl8fDApKigiZWRnZXMiPT09bT8tMToxKSxjLmI9ZDwwP2ctZDpnLGMudT1ZYShwLmFtb3VudHx8cC5lYWNoKXx8MCxfPV8mJmQ8MD9ZdChfKTpffXJldHVybiBkPShjW3RdLWMubWluKS9jLm1heHx8MCxqYShjLmIrKF8/XyhkKTpkKSpjLnYpK2MudX19ZnVuY3Rpb24gZmIoaSl7dmFyIG49TWF0aC5wb3coMTAsKChpKyIiKS5zcGxpdCgiLiIpWzFdfHwiIikubGVuZ3RoKTtyZXR1cm4gZnVuY3Rpb24oZSl7dmFyIHI9amEoTWF0aC5yb3VuZChwYXJzZUZsb2F0KGUpL2kpKmkqbik7cmV0dXJuKHItciUxKS9uKyh0KGUpPzA6WWEoZSkpfX1mdW5jdGlvbiBnYihoLGUpe3ZhciBsLGYscj1aKGgpO3JldHVybiFyJiZ2KGgpJiYobD1yPWgucmFkaXVzfHxVLGgudmFsdWVzPyhoPU10KGgudmFsdWVzKSwoZj0hdChoWzBdKSkmJihsKj1sKSk6aD1mYihoLmluY3JlbWVudCkpLFdhKGUscj9zKGgpP2Z1bmN0aW9uKHQpe3JldHVybiBmPWgodCksTWF0aC5hYnMoZi10KTw9bD9mOnR9OmZ1bmN0aW9uKGUpe2Zvcih2YXIgcixpLG49cGFyc2VGbG9hdChmP2UueDplKSxhPXBhcnNlRmxvYXQoZj9lLnk6MCkscz1VLG89MCx1PWgubGVuZ3RoO3UtLTspKHI9Zj8ocj1oW3VdLngtbikqcisoaT1oW3VdLnktYSkqaTpNYXRoLmFicyhoW3VdLW4pKTxzJiYocz1yLG89dSk7cmV0dXJuIG89IWx8fHM8PWw/aFtvXTplLGZ8fG89PT1lfHx0KGUpP286bytZYShlKX06ZmIoaCkpfWZ1bmN0aW9uIGhiKHQsZSxyLGkpe3JldHVybiBXYShaKHQpPyFlOiEwPT09cj8hIShyPTApOiFpLGZ1bmN0aW9uKCl7cmV0dXJuIFoodCk/dFt+fihNYXRoLnJhbmRvbSgpKnQubGVuZ3RoKV06KHI9cnx8MWUtNSkmJihpPXI8MT9NYXRoLnBvdygxMCwocisiIikubGVuZ3RoLTIpOjEpJiZNYXRoLmZsb29yKE1hdGgucm91bmQoKHQtci8yK01hdGgucmFuZG9tKCkqKGUtdCsuOTkqcikpL3IpKnIqaSkvaX0pfWZ1bmN0aW9uIGxiKGUscix0KXtyZXR1cm4gV2EodCxmdW5jdGlvbih0KXtyZXR1cm4gZVt+fnIodCldfSl9ZnVuY3Rpb24gb2IodCl7Zm9yKHZhciBlLHIsaSxuLGE9MCxzPSIiO34oZT10LmluZGV4T2YoInJhbmRvbSgiLGEpKTspaT10LmluZGV4T2YoIikiLGUpLG49IlsiPT09dC5jaGFyQXQoZSs3KSxyPXQuc3Vic3RyKGUrNyxpLWUtNykubWF0Y2gobj9hdDp0dCkscys9dC5zdWJzdHIoYSxlLWEpK2hiKG4/cjorclswXSxuPzA6K3JbMV0sK3JbMl18fDFlLTUpLGE9aSsxO3JldHVybiBzK3Quc3Vic3RyKGEsdC5sZW5ndGgtYSl9ZnVuY3Rpb24gcmIodCxlLHIpe3ZhciBpLG4sYSxzPXQubGFiZWxzLG89VTtmb3IoaSBpbiBzKShuPXNbaV0tZSk8MD09ISFyJiZuJiZvPihuPU1hdGguYWJzKG4pKSYmKGE9aSxvPW4pO3JldHVybiBhfWZ1bmN0aW9uIHRiKHQpe3JldHVybiB6YSh0KSx0LnNjcm9sbFRyaWdnZXImJnQuc2Nyb2xsVHJpZ2dlci5raWxsKCEhTCksdC5wcm9ncmVzcygpPDEmJkN0KHQsIm9uSW50ZXJydXB0IiksdH1mdW5jdGlvbiB3Yih0KXtpZih0KWlmKHQ9IXQubmFtZSYmdC5kZWZhdWx0fHx0LHgoKXx8dC5oZWFkbGVzcyl7dmFyIGU9dC5uYW1lLHI9cyh0KSxpPWUmJiFyJiZ0LmluaXQ/ZnVuY3Rpb24oKXt0aGlzLl9wcm9wcz1bXX06dCxuPXtpbml0OlQscmVuZGVyOmhlLGFkZDpXdCxraWxsOmNlLG1vZGlmaWVyOmZlLHJhd1ZhcnM6MH0sYT17dGFyZ2V0VGVzdDowLGdldDowLGdldFNldHRlcjpuZSxhbGlhc2VzOnt9LHJlZ2lzdGVyOjB9O2lmKEZ0KCksdCE9PWkpe2lmKHB0W2VdKXJldHVybjtxYShpLHFhKHVhKHQsbiksYSkpLHl0KGkucHJvdG90eXBlLHl0KG4sdWEodCxhKSkpLHB0W2kucHJvcD1lXT1pLHQudGFyZ2V0VGVzdCYmKGd0LnB1c2goaSksZnRbZV09MSksZT0oImNzcyI9PT1lPyJDU1MiOmUuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkrZS5zdWJzdHIoMSkpKyJQbHVnaW4ifVMoZSxpKSx0LnJlZ2lzdGVyJiZ0LnJlZ2lzdGVyKHplLGksX2UpfWVsc2UgQXQucHVzaCh0KX1mdW5jdGlvbiB6Yih0LGUscil7cmV0dXJuKDYqKHQrPXQ8MD8xOjE8dD8tMTowKTwxP2UrKHItZSkqdCo2OnQ8LjU/cjozKnQ8Mj9lKyhyLWUpKigyLzMtdCkqNjplKSpTdCsuNXwwfWZ1bmN0aW9uIEFiKGUscixpKXt2YXIgbixhLHMsbyx1LGgsbCxmLGQsYyxwPWU/dChlKT9bZT4+MTYsZT4+OCZTdCxlJlN0XTowOnp0LmJsYWNrO2lmKCFwKXtpZigiLCI9PT1lLnN1YnN0cigtMSkmJihlPWUuc3Vic3RyKDAsZS5sZW5ndGgtMSkpLHp0W2VdKXA9enRbZV07ZWxzZSBpZigiIyI9PT1lLmNoYXJBdCgwKSl7aWYoZS5sZW5ndGg8NiYmKGU9IiMiKyhuPWUuY2hhckF0KDEpKStuKyhhPWUuY2hhckF0KDIpKSthKyhzPWUuY2hhckF0KDMpKStzKyg1PT09ZS5sZW5ndGg/ZS5jaGFyQXQoNCkrZS5jaGFyQXQoNCk6IiIpKSw5PT09ZS5sZW5ndGgpcmV0dXJuWyhwPXBhcnNlSW50KGUuc3Vic3RyKDEsNiksMTYpKT4+MTYscD4+OCZTdCxwJlN0LHBhcnNlSW50KGUuc3Vic3RyKDcpLDE2KS8yNTVdO3A9WyhlPXBhcnNlSW50KGUuc3Vic3RyKDEpLDE2KSk+PjE2LGU+PjgmU3QsZSZTdF19ZWxzZSBpZigiaHNsIj09PWUuc3Vic3RyKDAsMykpaWYocD1jPWUubWF0Y2godHQpLHIpe2lmKH5lLmluZGV4T2YoIj0iKSlyZXR1cm4gcD1lLm1hdGNoKGV0KSxpJiZwLmxlbmd0aDw0JiYocFszXT0xKSxwfWVsc2Ugbz0rcFswXSUzNjAvMzYwLHU9cFsxXS8xMDAsbj0yKihoPXBbMl0vMTAwKS0oYT1oPD0uNT9oKih1KzEpOmgrdS1oKnUpLDM8cC5sZW5ndGgmJihwWzNdKj0xKSxwWzBdPXpiKG8rMS8zLG4sYSkscFsxXT16YihvLG4sYSkscFsyXT16YihvLTEvMyxuLGEpO2Vsc2UgcD1lLm1hdGNoKHR0KXx8enQudHJhbnNwYXJlbnQ7cD1wLm1hcChOdW1iZXIpfXJldHVybiByJiYhYyYmKG49cFswXS9TdCxhPXBbMV0vU3Qscz1wWzJdL1N0LGg9KChsPU1hdGgubWF4KG4sYSxzKSkrKGY9TWF0aC5taW4obixhLHMpKSkvMixsPT09Zj9vPXU9MDooZD1sLWYsdT0uNTxoP2QvKDItbC1mKTpkLyhsK2YpLG89bD09PW4/KGEtcykvZCsoYTxzPzY6MCk6bD09PWE/KHMtbikvZCsyOihuLWEpL2QrNCxvKj02MCkscFswXT1+fihvKy41KSxwWzFdPX5+KDEwMCp1Ky41KSxwWzJdPX5+KDEwMCpoKy41KSksaSYmcC5sZW5ndGg8NCYmKHBbM109MSkscH1mdW5jdGlvbiBCYih0KXt2YXIgcj1bXSxpPVtdLG49LTE7cmV0dXJuIHQuc3BsaXQoRXQpLmZvckVhY2goZnVuY3Rpb24odCl7dmFyIGU9dC5tYXRjaChydCl8fFtdO3IucHVzaC5hcHBseShyLGUpLGkucHVzaChuKz1lLmxlbmd0aCsxKX0pLHIuYz1pLHJ9ZnVuY3Rpb24gQ2IodCxlLHIpe3ZhciBpLG4sYSxzLG89IiIsdT0odCtvKS5tYXRjaChFdCksaD1lPyJoc2xhKCI6InJnYmEoIixsPTA7aWYoIXUpcmV0dXJuIHQ7aWYodT11Lm1hcChmdW5jdGlvbih0KXtyZXR1cm4odD1BYih0LGUsMSkpJiZoKyhlP3RbMF0rIiwiK3RbMV0rIiUsIit0WzJdKyIlLCIrdFszXTp0LmpvaW4oIiwiKSkrIikifSksciYmKGE9QmIodCksKGk9ci5jKS5qb2luKG8pIT09YS5jLmpvaW4obykpKWZvcihzPShuPXQucmVwbGFjZShFdCwiMSIpLnNwbGl0KHJ0KSkubGVuZ3RoLTE7bDxzO2wrKylvKz1uW2xdKyh+aS5pbmRleE9mKGwpP3Uuc2hpZnQoKXx8aCsiMCwwLDAsMCkiOihhLmxlbmd0aD9hOnUubGVuZ3RoP3U6cikuc2hpZnQoKSk7aWYoIW4pZm9yKHM9KG49dC5zcGxpdChFdCkpLmxlbmd0aC0xO2w8cztsKyspbys9bltsXSt1W2xdO3JldHVybiBvK25bc119ZnVuY3Rpb24gRmIodCl7dmFyIGUscj10LmpvaW4oIiAiKTtpZihFdC5sYXN0SW5kZXg9MCxFdC50ZXN0KHIpKXJldHVybiBlPUR0LnRlc3QociksdFsxXT1DYih0WzFdLGUpLHRbMF09Q2IodFswXSxlLEJiKHRbMV0pKSwhMH1mdW5jdGlvbiBPYih0KXt2YXIgZT0odCsiIikuc3BsaXQoIigiKSxyPUx0W2VbMF1dO3JldHVybiByJiYxPGUubGVuZ3RoJiZyLmNvbmZpZz9yLmNvbmZpZy5hcHBseShudWxsLH50LmluZGV4T2YoInsiKT9bZnVuY3Rpb24gX3BhcnNlT2JqZWN0SW5TdHJpbmcodCl7Zm9yKHZhciBlLHIsaSxuPXt9LGE9dC5zdWJzdHIoMSx0Lmxlbmd0aC0zKS5zcGxpdCgiOiIpLHM9YVswXSxvPTEsdT1hLmxlbmd0aDtvPHU7bysrKXI9YVtvXSxlPW8hPT11LTE/ci5sYXN0SW5kZXhPZigiLCIpOnIubGVuZ3RoLGk9ci5zdWJzdHIoMCxlKSxuW3NdPWlzTmFOKGkpP2kucmVwbGFjZShCdCwiIikudHJpbSgpOitpLHM9ci5zdWJzdHIoZSsxKS50cmltKCk7cmV0dXJuIG59KGVbMV0pXTpmdW5jdGlvbiBfdmFsdWVJblBhcmVudGhlc2VzKHQpe3ZhciBlPXQuaW5kZXhPZigiKCIpKzEscj10LmluZGV4T2YoIikiKSxpPXQuaW5kZXhPZigiKCIsZSk7cmV0dXJuIHQuc3Vic3RyaW5nKGUsfmkmJmk8cj90LmluZGV4T2YoIikiLHIrMSk6cil9KHQpLnNwbGl0KCIsIikubWFwKG9hKSk6THQuX0NFJiZJdC50ZXN0KHQpP0x0Ll9DRSgiIix0KTpyfWZ1bmN0aW9uIFFiKHQsZSl7Zm9yKHZhciByLGk9dC5fZmlyc3Q7aTspaSBpbnN0YW5jZW9mIFh0P1FiKGksZSk6IWkudmFycy55b3lvRWFzZXx8aS5feW95byYmaS5fcmVwZWF0fHxpLl95b3lvPT09ZXx8KGkudGltZWxpbmU/UWIoaS50aW1lbGluZSxlKToocj1pLl9lYXNlLGkuX2Vhc2U9aS5feUVhc2UsaS5feUVhc2U9cixpLl95b3lvPWUpKSxpPWkuX25leHR9ZnVuY3Rpb24gU2IodCxlLHIsaSl7dm9pZCAwPT09ciYmKHI9ZnVuY3Rpb24gZWFzZU91dCh0KXtyZXR1cm4gMS1lKDEtdCl9KSx2b2lkIDA9PT1pJiYoaT1mdW5jdGlvbiBlYXNlSW5PdXQodCl7cmV0dXJuIHQ8LjU/ZSgyKnQpLzI6MS1lKDIqKDEtdCkpLzJ9KTt2YXIgbixhPXtlYXNlSW46ZSxlYXNlT3V0OnIsZWFzZUluT3V0Oml9O3JldHVybiBoYSh0LGZ1bmN0aW9uKHQpe2Zvcih2YXIgZSBpbiBMdFt0XT1vdFt0XT1hLEx0W249dC50b0xvd2VyQ2FzZSgpXT1yLGEpTHRbbisoImVhc2VJbiI9PT1lPyIuaW4iOiJlYXNlT3V0Ij09PWU/Ii5vdXQiOiIuaW5PdXQiKV09THRbdCsiLiIrZV09YVtlXX0pLGF9ZnVuY3Rpb24gVGIoZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiB0PC41PygxLWUoMS0yKnQpKS8yOi41K2UoMioodC0uNSkpLzJ9fWZ1bmN0aW9uIFViKHIsdCxlKXtmdW5jdGlvbiBKbSh0KXtyZXR1cm4gMT09PXQ/MTppKk1hdGgucG93KDIsLTEwKnQpKkgoKHQtYSkqbikrMX12YXIgaT0xPD10P3Q6MSxuPShlfHwocj8uMzouNDUpKS8odDwxP3Q6MSksYT1uL04qKE1hdGguYXNpbigxL2kpfHwwKSxzPSJvdXQiPT09cj9KbToiaW4iPT09cj9mdW5jdGlvbih0KXtyZXR1cm4gMS1KbSgxLXQpfTpUYihKbSk7cmV0dXJuIG49Ti9uLHMuY29uZmlnPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIFViKHIsdCxlKX0sc31mdW5jdGlvbiBWYihlLHIpe2Z1bmN0aW9uIFJtKHQpe3JldHVybiB0Py0tdCp0KigocisxKSp0K3IpKzE6MH12b2lkIDA9PT1yJiYocj0xLjcwMTU4KTt2YXIgdD0ib3V0Ij09PWU/Um06ImluIj09PWU/ZnVuY3Rpb24odCl7cmV0dXJuIDEtUm0oMS10KX06VGIoUm0pO3JldHVybiB0LmNvbmZpZz1mdW5jdGlvbih0KXtyZXR1cm4gVmIoZSx0KX0sdH12YXIgRixMLGwsSSxoLG4sYSxpLG8sZixkLGMscCxfLG0sZyxiLE8sayxNLEMsQSx6LEUsRCxCLFksaixxPXthdXRvU2xlZXA6MTIwLGZvcmNlM0Q6ImF1dG8iLG51bGxUYXJnZXRXYXJuOjEsdW5pdHM6e2xpbmVIZWlnaHQ6IiJ9fSxWPXtkdXJhdGlvbjouNSxvdmVyd3JpdGU6ITEsZGVsYXk6MH0sVT0xZTgsWD0xL1UsTj0yKk1hdGguUEksRz1OLzQsVz0wLEs9TWF0aC5zcXJ0LEo9TWF0aC5jb3MsSD1NYXRoLnNpbiwkPSJmdW5jdGlvbiI9PXR5cGVvZiBBcnJheUJ1ZmZlciYmQXJyYXlCdWZmZXIuaXNWaWV3fHxmdW5jdGlvbigpe30sWj1BcnJheS5pc0FycmF5LHR0PS8oPzotP1wuP1xkfFwuKSsvZ2ksZXQ9L1stKz0uXSpcZCtbLmVcLStdKlxkKltlXC0rXSpcZCovZyxydD0vWy0rPS5dKlxkK1suZS1dKlxkKlthLXolXSovZyxpdD0vWy0rPS5dKlxkK1wuP1xkKig/OmUtfGVcKyk/XGQqL2dpLG50PS9bKy1dPS0/Wy5cZF0rLyxhdD0vW14sJyJcW1xdXHNdKy9naSxzdD0vXlsrXC09ZVxzXGRdKlxkK1suXGRdKihbYS16XSp8JSlccyokL2ksb3Q9e30sdXQ9e3N1cHByZXNzRXZlbnRzOiEwLGlzU3RhcnQ6ITAsa2lsbDohMX0saHQ9e3N1cHByZXNzRXZlbnRzOiEwLGtpbGw6ITF9LGx0PXtzdXBwcmVzc0V2ZW50czohMH0sZnQ9e30sZHQ9W10sY3Q9e30scHQ9e30sX3Q9e30sbXQ9MzAsZ3Q9W10sdnQ9IiIseXQ9ZnVuY3Rpb24gX21lcmdlKHQsZSl7Zm9yKHZhciByIGluIGUpdFtyXT1lW3JdO3JldHVybiB0fSxUdD1mdW5jdGlvbiBfYW5pbWF0aW9uQ3ljbGUodCxlKXt2YXIgcj1NYXRoLmZsb29yKHQvPWUpO3JldHVybiB0JiZyPT09dD9yLTE6cn0sYnQ9ZnVuY3Rpb24gX2lzRnJvbU9yRnJvbVN0YXJ0KHQpe3ZhciBlPXQuZGF0YTtyZXR1cm4iaXNGcm9tU3RhcnQiPT09ZXx8ImlzU3RhcnQiPT09ZX0sd3Q9e19zdGFydDowLGVuZFRpbWU6VCx0b3RhbER1cmF0aW9uOlR9LHh0PWZ1bmN0aW9uIF9wYXJzZVBvc2l0aW9uKHQsZSxpKXt2YXIgbixhLHMsbz10LmxhYmVscyx1PXQuX3JlY2VudHx8d3QsaD10LmR1cmF0aW9uKCk+PVU/dS5lbmRUaW1lKCExKTp0Ll9kdXI7cmV0dXJuIHIoZSkmJihpc05hTihlKXx8ZSBpbiBvKT8oYT1lLmNoYXJBdCgwKSxzPSIlIj09PWUuc3Vic3RyKC0xKSxuPWUuaW5kZXhPZigiPSIpLCI8Ij09PWF8fCI+Ij09PWE/KDA8PW4mJihlPWUucmVwbGFjZSgvPS8sIiIpKSwoIjwiPT09YT91Ll9zdGFydDp1LmVuZFRpbWUoMDw9dS5fcmVwZWF0KSkrKHBhcnNlRmxvYXQoZS5zdWJzdHIoMSkpfHwwKSoocz8objwwP3U6aSkudG90YWxEdXJhdGlvbigpLzEwMDoxKSk6bjwwPyhlIGluIG98fChvW2VdPWgpLG9bZV0pOihhPXBhcnNlRmxvYXQoZS5jaGFyQXQobi0xKStlLnN1YnN0cihuKzEpKSxzJiZpJiYoYT1hLzEwMCooWihpKT9pWzBdOmkpLnRvdGFsRHVyYXRpb24oKSksMTxuP19wYXJzZVBvc2l0aW9uKHQsZS5zdWJzdHIoMCxuLTEpLGkpK2E6aCthKSk6bnVsbD09ZT9oOitlfSxPdD1mdW5jdGlvbiBfY2xhbXAodCxlLHIpe3JldHVybiByPHQ/dDplPHI/ZTpyfSxrdD1bXS5zbGljZSxNdD1mdW5jdGlvbiB0b0FycmF5KHQsZSxpKXtyZXR1cm4gbCYmIWUmJmwuc2VsZWN0b3I/bC5zZWxlY3Rvcih0KTohcih0KXx8aXx8IW4mJkZ0KCk/Wih0KT9mdW5jdGlvbiBfZmxhdHRlbih0LGUsaSl7cmV0dXJuIHZvaWQgMD09PWkmJihpPVtdKSx0LmZvckVhY2goZnVuY3Rpb24odCl7cmV0dXJuIHIodCkmJiFlfHxfYSh0LDEpP2kucHVzaC5hcHBseShpLE10KHQpKTppLnB1c2godCl9KXx8aX0odCxpKTpfYSh0KT9rdC5jYWxsKHQsMCk6dD9bdF06W106a3QuY2FsbCgoZXx8YSkucXVlcnlTZWxlY3RvckFsbCh0KSwwKX0sUHQ9ZnVuY3Rpb24gbWFwUmFuZ2UoZSx0LHIsaSxuKXt2YXIgYT10LWUscz1pLXI7cmV0dXJuIFdhKG4sZnVuY3Rpb24odCl7cmV0dXJuIHIrKCh0LWUpL2Eqc3x8MCl9KX0sQ3Q9ZnVuY3Rpb24gX2NhbGxiYWNrKHQsZSxyKXt2YXIgaSxuLGEscz10LnZhcnMsbz1zW2VdLHU9bCxoPXQuX2N0eDtpZihvKXJldHVybiBpPXNbZSsiUGFyYW1zIl0sbj1zLmNhbGxiYWNrU2NvcGV8fHQsciYmZHQubGVuZ3RoJiZtYSgpLGgmJihsPWgpLGE9aT9vLmFwcGx5KG4saSk6by5jYWxsKG4pLGw9dSxhfSxBdD1bXSxTdD0yNTUsenQ9e2FxdWE6WzAsU3QsU3RdLGxpbWU6WzAsU3QsMF0sc2lsdmVyOlsxOTIsMTkyLDE5Ml0sYmxhY2s6WzAsMCwwXSxtYXJvb246WzEyOCwwLDBdLHRlYWw6WzAsMTI4LDEyOF0sYmx1ZTpbMCwwLFN0XSxuYXZ5OlswLDAsMTI4XSx3aGl0ZTpbU3QsU3QsU3RdLG9saXZlOlsxMjgsMTI4LDBdLHllbGxvdzpbU3QsU3QsMF0sb3JhbmdlOltTdCwxNjUsMF0sZ3JheTpbMTI4LDEyOCwxMjhdLHB1cnBsZTpbMTI4LDAsMTI4XSxncmVlbjpbMCwxMjgsMF0scmVkOltTdCwwLDBdLHBpbms6W1N0LDE5MiwyMDNdLGN5YW46WzAsU3QsU3RdLHRyYW5zcGFyZW50OltTdCxTdCxTdCwwXX0sRXQ9ZnVuY3Rpb24oKXt2YXIgdCxlPSIoPzpcXGIoPzooPzpyZ2J8cmdiYXxoc2x8aHNsYSlcXCguKz9cXCkpfFxcQiMoPzpbMC05YS1mXXszLDR9KXsxLDJ9XFxiIjtmb3IodCBpbiB6dCllKz0ifCIrdCsiXFxiIjtyZXR1cm4gbmV3IFJlZ0V4cChlKyIpIiwiZ2kiKX0oKSxEdD0vaHNsW2FdP1woLyxSdD0oaz1EYXRlLm5vdyxNPTUwMCxDPTMzLEE9aygpLHo9QSxEPUU9MWUzLzI0MCxnPXt0aW1lOjAsZnJhbWU6MCx0aWNrOmZ1bmN0aW9uIHRpY2soKXt5bCghMCl9LGRlbHRhUmF0aW86ZnVuY3Rpb24gZGVsdGFSYXRpbyh0KXtyZXR1cm4gYi8oMWUzLyh0fHw2MCkpfSx3YWtlOmZ1bmN0aW9uIHdha2UoKXtvJiYoIW4mJngoKSYmKGg9bj13aW5kb3csYT1oLmRvY3VtZW50fHx7fSxvdC5nc2FwPXplLChoLmdzYXBWZXJzaW9uc3x8KGguZ3NhcFZlcnNpb25zPVtdKSkucHVzaCh6ZS52ZXJzaW9uKSxQKGl8fGguR3JlZW5Tb2NrR2xvYmFsc3x8IWguZ3NhcCYmaHx8e30pLEF0LmZvckVhY2god2IpKSxtPSJ1bmRlZmluZWQiIT10eXBlb2YgcmVxdWVzdEFuaW1hdGlvbkZyYW1lJiZyZXF1ZXN0QW5pbWF0aW9uRnJhbWUscCYmZy5zbGVlcCgpLF89bXx8ZnVuY3Rpb24odCl7cmV0dXJuIHNldFRpbWVvdXQodCxELTFlMypnLnRpbWUrMXwwKX0sYz0xLHlsKDIpKX0sc2xlZXA6ZnVuY3Rpb24gc2xlZXAoKXsobT9jYW5jZWxBbmltYXRpb25GcmFtZTpjbGVhclRpbWVvdXQpKHApLGM9MCxfPVR9LGxhZ1Ntb290aGluZzpmdW5jdGlvbiBsYWdTbW9vdGhpbmcodCxlKXtNPXR8fDEvMCxDPU1hdGgubWluKGV8fDMzLE0pfSxmcHM6ZnVuY3Rpb24gZnBzKHQpe0U9MWUzLyh0fHwyNDApLEQ9MWUzKmcudGltZStFfSxhZGQ6ZnVuY3Rpb24gYWRkKG4sdCxlKXt2YXIgYT10P2Z1bmN0aW9uKHQsZSxyLGkpe24odCxlLHIsaSksZy5yZW1vdmUoYSl9Om47cmV0dXJuIGcucmVtb3ZlKG4pLEJbZT8idW5zaGlmdCI6InB1c2giXShhKSxGdCgpLGF9LHJlbW92ZTpmdW5jdGlvbiByZW1vdmUodCxlKXt+KGU9Qi5pbmRleE9mKHQpKSYmQi5zcGxpY2UoZSwxKSYmZTw9TyYmTy0tfSxfbGlzdGVuZXJzOkI9W119KSxGdD1mdW5jdGlvbiBfd2FrZSgpe3JldHVybiFjJiZSdC53YWtlKCl9LEx0PXt9LEl0PS9eW1xkLlwtTV1bXGQuXC0sXHNdLyxCdD0vWyInXS9nLFl0PWZ1bmN0aW9uIF9pbnZlcnRFYXNlKGUpe3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4gMS1lKDEtdCl9fSxqdD1mdW5jdGlvbiBfcGFyc2VFYXNlKHQsZSl7cmV0dXJuIHQmJihzKHQpP3Q6THRbdF18fE9iKHQpKXx8ZX07ZnVuY3Rpb24geWwodCl7dmFyIGUscixpLG4sYT1rKCkteixzPSEwPT09dDtpZigoTTxhfHxhPDApJiYoQSs9YS1DKSwoMDwoZT0oaT0oeis9YSktQSktRCl8fHMpJiYobj0rK2cuZnJhbWUsYj1pLTFlMypnLnRpbWUsZy50aW1lPWkvPTFlMyxEKz1lKyhFPD1lPzQ6RS1lKSxyPTEpLHN8fChwPV8oeWwpKSxyKWZvcihPPTA7TzxCLmxlbmd0aDtPKyspQltPXShpLGIsbix0KX1mdW5jdGlvbiBnbih0KXtyZXR1cm4gdDxqP1kqdCp0OnQ8LjcyNzI3MjcyNzI3MjcyNzM/WSpNYXRoLnBvdyh0LTEuNS8yLjc1LDIpKy43NTp0PC45MDkwOTA5MDkwOTA5MDkyP1kqKHQtPTIuMjUvMi43NSkqdCsuOTM3NTpZKk1hdGgucG93KHQtMi42MjUvMi43NSwyKSsuOTg0Mzc1fWhhKCJMaW5lYXIsUXVhZCxDdWJpYyxRdWFydCxRdWludCxTdHJvbmciLGZ1bmN0aW9uKHQsZSl7dmFyIHI9ZTw1P2UrMTplO1NiKHQrIixQb3dlciIrKHItMSksZT9mdW5jdGlvbih0KXtyZXR1cm4gTWF0aC5wb3codCxyKX06ZnVuY3Rpb24odCl7cmV0dXJuIHR9LGZ1bmN0aW9uKHQpe3JldHVybiAxLU1hdGgucG93KDEtdCxyKX0sZnVuY3Rpb24odCl7cmV0dXJuIHQ8LjU/TWF0aC5wb3coMip0LHIpLzI6MS1NYXRoLnBvdygyKigxLXQpLHIpLzJ9KX0pLEx0LkxpbmVhci5lYXNlTm9uZT1MdC5ub25lPUx0LkxpbmVhci5lYXNlSW4sU2IoIkVsYXN0aWMiLFViKCJpbiIpLFViKCJvdXQiKSxVYigpKSxZPTcuNTYyNSxqPTEvMi43NSxTYigiQm91bmNlIixmdW5jdGlvbih0KXtyZXR1cm4gMS1nbigxLXQpfSxnbiksU2IoIkV4cG8iLGZ1bmN0aW9uKHQpe3JldHVybiB0P01hdGgucG93KDIsMTAqKHQtMSkpOjB9KSxTYigiQ2lyYyIsZnVuY3Rpb24odCl7cmV0dXJuLShLKDEtdCp0KS0xKX0pLFNiKCJTaW5lIixmdW5jdGlvbih0KXtyZXR1cm4gMT09PXQ/MToxLUoodCpHKX0pLFNiKCJCYWNrIixWYigiaW4iKSxWYigib3V0IiksVmIoKSksTHQuU3RlcHBlZEVhc2U9THQuc3RlcHM9b3QuU3RlcHBlZEVhc2U9e2NvbmZpZzpmdW5jdGlvbiBjb25maWcodCxlKXt2b2lkIDA9PT10JiYodD0xKTt2YXIgcj0xL3QsaT10KyhlPzA6MSksbj1lPzE6MDtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuKChpKk90KDAsLjk5OTk5OTk5LHQpfDApK24pKnJ9fX0sVi5lYXNlPUx0WyJxdWFkLm91dCJdLGhhKCJvbkNvbXBsZXRlLG9uVXBkYXRlLG9uU3RhcnQsb25SZXBlYXQsb25SZXZlcnNlQ29tcGxldGUsb25JbnRlcnJ1cHQiLGZ1bmN0aW9uKHQpe3JldHVybiB2dCs9dCsiLCIrdCsiUGFyYW1zLCJ9KTt2YXIgcXQsVnQ9ZnVuY3Rpb24gR1NDYWNoZSh0LGUpe3RoaXMuaWQ9VysrLCh0Ll9nc2FwPXRoaXMpLnRhcmdldD10LHRoaXMuaGFybmVzcz1lLHRoaXMuZ2V0PWU/ZS5nZXQ6Z2EsdGhpcy5zZXQ9ZT9lLmdldFNldHRlcjpuZX0sVXQ9KChxdD1BbmltYXRpb24ucHJvdG90eXBlKS5kZWxheT1mdW5jdGlvbiBkZWxheSh0KXtyZXR1cm4gdHx8MD09PXQ/KHRoaXMucGFyZW50JiZ0aGlzLnBhcmVudC5zbW9vdGhDaGlsZFRpbWluZyYmdGhpcy5zdGFydFRpbWUodGhpcy5fc3RhcnQrdC10aGlzLl9kZWxheSksdGhpcy5fZGVsYXk9dCx0aGlzKTp0aGlzLl9kZWxheX0scXQuZHVyYXRpb249ZnVuY3Rpb24gZHVyYXRpb24odCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/dGhpcy50b3RhbER1cmF0aW9uKDA8dGhpcy5fcmVwZWF0P3QrKHQrdGhpcy5fckRlbGF5KSp0aGlzLl9yZXBlYXQ6dCk6dGhpcy50b3RhbER1cmF0aW9uKCkmJnRoaXMuX2R1cn0scXQudG90YWxEdXJhdGlvbj1mdW5jdGlvbiB0b3RhbER1cmF0aW9uKHQpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyh0aGlzLl9kaXJ0eT0wLFJhKHRoaXMsdGhpcy5fcmVwZWF0PDA/dDoodC10aGlzLl9yZXBlYXQqdGhpcy5fckRlbGF5KS8odGhpcy5fcmVwZWF0KzEpKSk6dGhpcy5fdER1cn0scXQudG90YWxUaW1lPWZ1bmN0aW9uIHRvdGFsVGltZSh0LGUpe2lmKEZ0KCksIWFyZ3VtZW50cy5sZW5ndGgpcmV0dXJuIHRoaXMuX3RUaW1lO3ZhciByPXRoaXMuX2RwO2lmKHImJnIuc21vb3RoQ2hpbGRUaW1pbmcmJnRoaXMuX3RzKXtmb3IoSWEodGhpcyx0KSwhci5fZHB8fHIucGFyZW50fHxKYShyLHRoaXMpO3ImJnIucGFyZW50OylyLnBhcmVudC5fdGltZSE9PXIuX3N0YXJ0KygwPD1yLl90cz9yLl90VGltZS9yLl90czooci50b3RhbER1cmF0aW9uKCktci5fdFRpbWUpLy1yLl90cykmJnIudG90YWxUaW1lKHIuX3RUaW1lLCEwKSxyPXIucGFyZW50OyF0aGlzLnBhcmVudCYmdGhpcy5fZHAuYXV0b1JlbW92ZUNoaWxkcmVuJiYoMDx0aGlzLl90cyYmdDx0aGlzLl90RHVyfHx0aGlzLl90czwwJiYwPHR8fCF0aGlzLl90RHVyJiYhdCkmJkthKHRoaXMuX2RwLHRoaXMsdGhpcy5fc3RhcnQtdGhpcy5fZGVsYXkpfXJldHVybih0aGlzLl90VGltZSE9PXR8fCF0aGlzLl9kdXImJiFlfHx0aGlzLl9pbml0dGVkJiZNYXRoLmFicyh0aGlzLl96VGltZSk9PT1YfHwhdCYmIXRoaXMuX2luaXR0ZWQmJih0aGlzLmFkZHx8dGhpcy5fcHRMb29rdXApKSYmKHRoaXMuX3RzfHwodGhpcy5fcFRpbWU9dCksbmEodGhpcyx0LGUpKSx0aGlzfSxxdC50aW1lPWZ1bmN0aW9uIHRpbWUodCxlKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD90aGlzLnRvdGFsVGltZShNYXRoLm1pbih0aGlzLnRvdGFsRHVyYXRpb24oKSx0K0VhKHRoaXMpKSUodGhpcy5fZHVyK3RoaXMuX3JEZWxheSl8fCh0P3RoaXMuX2R1cjowKSxlKTp0aGlzLl90aW1lfSxxdC50b3RhbFByb2dyZXNzPWZ1bmN0aW9uIHRvdGFsUHJvZ3Jlc3ModCxlKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD90aGlzLnRvdGFsVGltZSh0aGlzLnRvdGFsRHVyYXRpb24oKSp0LGUpOnRoaXMudG90YWxEdXJhdGlvbigpP01hdGgubWluKDEsdGhpcy5fdFRpbWUvdGhpcy5fdER1cik6MDx0aGlzLnJhd1RpbWUoKT8xOjB9LHF0LnByb2dyZXNzPWZ1bmN0aW9uIHByb2dyZXNzKHQsZSl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/dGhpcy50b3RhbFRpbWUodGhpcy5kdXJhdGlvbigpKighdGhpcy5feW95b3x8MSZ0aGlzLml0ZXJhdGlvbigpP3Q6MS10KStFYSh0aGlzKSxlKTp0aGlzLmR1cmF0aW9uKCk/TWF0aC5taW4oMSx0aGlzLl90aW1lL3RoaXMuX2R1cik6MDx0aGlzLnJhd1RpbWUoKT8xOjB9LHF0Lml0ZXJhdGlvbj1mdW5jdGlvbiBpdGVyYXRpb24odCxlKXt2YXIgcj10aGlzLmR1cmF0aW9uKCkrdGhpcy5fckRlbGF5O3JldHVybiBhcmd1bWVudHMubGVuZ3RoP3RoaXMudG90YWxUaW1lKHRoaXMuX3RpbWUrKHQtMSkqcixlKTp0aGlzLl9yZXBlYXQ/VHQodGhpcy5fdFRpbWUscikrMToxfSxxdC50aW1lU2NhbGU9ZnVuY3Rpb24gdGltZVNjYWxlKHQsZSl7aWYoIWFyZ3VtZW50cy5sZW5ndGgpcmV0dXJuIHRoaXMuX3J0cz09PS1YPzA6dGhpcy5fcnRzO2lmKHRoaXMuX3J0cz09PXQpcmV0dXJuIHRoaXM7dmFyIHI9dGhpcy5wYXJlbnQmJnRoaXMuX3RzP0dhKHRoaXMucGFyZW50Ll90aW1lLHRoaXMpOnRoaXMuX3RUaW1lO3JldHVybiB0aGlzLl9ydHM9K3R8fDAsdGhpcy5fdHM9dGhpcy5fcHN8fHQ9PT0tWD8wOnRoaXMuX3J0cyx0aGlzLnRvdGFsVGltZShPdCgtTWF0aC5hYnModGhpcy5fZGVsYXkpLHRoaXMuX3REdXIsciksITEhPT1lKSxIYSh0aGlzKSxmdW5jdGlvbiBfcmVjYWNoZUFuY2VzdG9ycyh0KXtmb3IodmFyIGU9dC5wYXJlbnQ7ZSYmZS5wYXJlbnQ7KWUuX2RpcnR5PTEsZS50b3RhbER1cmF0aW9uKCksZT1lLnBhcmVudDtyZXR1cm4gdH0odGhpcyl9LHF0LnBhdXNlZD1mdW5jdGlvbiBwYXVzZWQodCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KHRoaXMuX3BzIT09dCYmKCh0aGlzLl9wcz10KT8odGhpcy5fcFRpbWU9dGhpcy5fdFRpbWV8fE1hdGgubWF4KC10aGlzLl9kZWxheSx0aGlzLnJhd1RpbWUoKSksdGhpcy5fdHM9dGhpcy5fYWN0PTApOihGdCgpLHRoaXMuX3RzPXRoaXMuX3J0cyx0aGlzLnRvdGFsVGltZSh0aGlzLnBhcmVudCYmIXRoaXMucGFyZW50LnNtb290aENoaWxkVGltaW5nP3RoaXMucmF3VGltZSgpOnRoaXMuX3RUaW1lfHx0aGlzLl9wVGltZSwxPT09dGhpcy5wcm9ncmVzcygpJiZNYXRoLmFicyh0aGlzLl96VGltZSkhPT1YJiYodGhpcy5fdFRpbWUtPVgpKSkpLHRoaXMpOnRoaXMuX3BzfSxxdC5zdGFydFRpbWU9ZnVuY3Rpb24gc3RhcnRUaW1lKHQpe2lmKGFyZ3VtZW50cy5sZW5ndGgpe3RoaXMuX3N0YXJ0PXQ7dmFyIGU9dGhpcy5wYXJlbnR8fHRoaXMuX2RwO3JldHVybiFlfHwhZS5fc29ydCYmdGhpcy5wYXJlbnR8fEthKGUsdGhpcyx0LXRoaXMuX2RlbGF5KSx0aGlzfXJldHVybiB0aGlzLl9zdGFydH0scXQuZW5kVGltZT1mdW5jdGlvbiBlbmRUaW1lKHQpe3JldHVybiB0aGlzLl9zdGFydCsodyh0KT90aGlzLnRvdGFsRHVyYXRpb24oKTp0aGlzLmR1cmF0aW9uKCkpL01hdGguYWJzKHRoaXMuX3RzfHwxKX0scXQucmF3VGltZT1mdW5jdGlvbiByYXdUaW1lKHQpe3ZhciBlPXRoaXMucGFyZW50fHx0aGlzLl9kcDtyZXR1cm4gZT90JiYoIXRoaXMuX3RzfHx0aGlzLl9yZXBlYXQmJnRoaXMuX3RpbWUmJnRoaXMudG90YWxQcm9ncmVzcygpPDEpP3RoaXMuX3RUaW1lJSh0aGlzLl9kdXIrdGhpcy5fckRlbGF5KTp0aGlzLl90cz9HYShlLnJhd1RpbWUodCksdGhpcyk6dGhpcy5fdFRpbWU6dGhpcy5fdFRpbWV9LHF0LnJldmVydD1mdW5jdGlvbiByZXZlcnQodCl7dm9pZCAwPT09dCYmKHQ9bHQpO3ZhciBlPUw7cmV0dXJuIEw9dCwodGhpcy5faW5pdHRlZHx8dGhpcy5fc3RhcnRBdCkmJih0aGlzLnRpbWVsaW5lJiZ0aGlzLnRpbWVsaW5lLnJldmVydCh0KSx0aGlzLnRvdGFsVGltZSgtLjAxLHQuc3VwcHJlc3NFdmVudHMpKSwibmVzdGVkIiE9PXRoaXMuZGF0YSYmITEhPT10LmtpbGwmJnRoaXMua2lsbCgpLEw9ZSx0aGlzfSxxdC5nbG9iYWxUaW1lPWZ1bmN0aW9uIGdsb2JhbFRpbWUodCl7Zm9yKHZhciBlPXRoaXMscj1hcmd1bWVudHMubGVuZ3RoP3Q6ZS5yYXdUaW1lKCk7ZTspcj1lLl9zdGFydCtyLyhNYXRoLmFicyhlLl90cyl8fDEpLGU9ZS5fZHA7cmV0dXJuIXRoaXMucGFyZW50JiZ0aGlzLl9zYXQ/dGhpcy5fc2F0Lmdsb2JhbFRpbWUodCk6cn0scXQucmVwZWF0PWZ1bmN0aW9uIHJlcGVhdCh0KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8odGhpcy5fcmVwZWF0PXQ9PT0xLzA/LTI6dCxTYSh0aGlzKSk6LTI9PT10aGlzLl9yZXBlYXQ/MS8wOnRoaXMuX3JlcGVhdH0scXQucmVwZWF0RGVsYXk9ZnVuY3Rpb24gcmVwZWF0RGVsYXkodCl7aWYoYXJndW1lbnRzLmxlbmd0aCl7dmFyIGU9dGhpcy5fdGltZTtyZXR1cm4gdGhpcy5fckRlbGF5PXQsU2EodGhpcyksZT90aGlzLnRpbWUoZSk6dGhpc31yZXR1cm4gdGhpcy5fckRlbGF5fSxxdC55b3lvPWZ1bmN0aW9uIHlveW8odCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KHRoaXMuX3lveW89dCx0aGlzKTp0aGlzLl95b3lvfSxxdC5zZWVrPWZ1bmN0aW9uIHNlZWsodCxlKXtyZXR1cm4gdGhpcy50b3RhbFRpbWUoeHQodGhpcyx0KSx3KGUpKX0scXQucmVzdGFydD1mdW5jdGlvbiByZXN0YXJ0KHQsZSl7cmV0dXJuIHRoaXMucGxheSgpLnRvdGFsVGltZSh0Py10aGlzLl9kZWxheTowLHcoZSkpfSxxdC5wbGF5PWZ1bmN0aW9uIHBsYXkodCxlKXtyZXR1cm4gbnVsbCE9dCYmdGhpcy5zZWVrKHQsZSksdGhpcy5yZXZlcnNlZCghMSkucGF1c2VkKCExKX0scXQucmV2ZXJzZT1mdW5jdGlvbiByZXZlcnNlKHQsZSl7cmV0dXJuIG51bGwhPXQmJnRoaXMuc2Vlayh0fHx0aGlzLnRvdGFsRHVyYXRpb24oKSxlKSx0aGlzLnJldmVyc2VkKCEwKS5wYXVzZWQoITEpfSxxdC5wYXVzZT1mdW5jdGlvbiBwYXVzZSh0LGUpe3JldHVybiBudWxsIT10JiZ0aGlzLnNlZWsodCxlKSx0aGlzLnBhdXNlZCghMCl9LHF0LnJlc3VtZT1mdW5jdGlvbiByZXN1bWUoKXtyZXR1cm4gdGhpcy5wYXVzZWQoITEpfSxxdC5yZXZlcnNlZD1mdW5jdGlvbiByZXZlcnNlZCh0KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oISF0IT09dGhpcy5yZXZlcnNlZCgpJiZ0aGlzLnRpbWVTY2FsZSgtdGhpcy5fcnRzfHwodD8tWDowKSksdGhpcyk6dGhpcy5fcnRzPDB9LHF0LmludmFsaWRhdGU9ZnVuY3Rpb24gaW52YWxpZGF0ZSgpe3JldHVybiB0aGlzLl9pbml0dGVkPXRoaXMuX2FjdD0wLHRoaXMuX3pUaW1lPS1YLHRoaXN9LHF0LmlzQWN0aXZlPWZ1bmN0aW9uIGlzQWN0aXZlKCl7dmFyIHQsZT10aGlzLnBhcmVudHx8dGhpcy5fZHAscj10aGlzLl9zdGFydDtyZXR1cm4hKGUmJiEodGhpcy5fdHMmJnRoaXMuX2luaXR0ZWQmJmUuaXNBY3RpdmUoKSYmKHQ9ZS5yYXdUaW1lKCEwKSk+PXImJnQ8dGhpcy5lbmRUaW1lKCEwKS1YKSl9LHF0LmV2ZW50Q2FsbGJhY2s9ZnVuY3Rpb24gZXZlbnRDYWxsYmFjayh0LGUscil7dmFyIGk9dGhpcy52YXJzO3JldHVybiAxPGFyZ3VtZW50cy5sZW5ndGg/KGU/KGlbdF09ZSxyJiYoaVt0KyJQYXJhbXMiXT1yKSwib25VcGRhdGUiPT09dCYmKHRoaXMuX29uVXBkYXRlPWUpKTpkZWxldGUgaVt0XSx0aGlzKTppW3RdfSxxdC50aGVuPWZ1bmN0aW9uIHRoZW4odCl7dmFyIGk9dGhpcztyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24oZSl7ZnVuY3Rpb24gQ28oKXt2YXIgdD1pLnRoZW47aS50aGVuPW51bGwscyhyKSYmKHI9cihpKSkmJihyLnRoZW58fHI9PT1pKSYmKGkudGhlbj10KSxlKHIpLGkudGhlbj10fXZhciByPXModCk/dDpwYTtpLl9pbml0dGVkJiYxPT09aS50b3RhbFByb2dyZXNzKCkmJjA8PWkuX3RzfHwhaS5fdFRpbWUmJmkuX3RzPDA/Q28oKTppLl9wcm9tPUNvfSl9LHF0LmtpbGw9ZnVuY3Rpb24ga2lsbCgpe3RiKHRoaXMpfSxBbmltYXRpb24pO2Z1bmN0aW9uIEFuaW1hdGlvbih0KXt0aGlzLnZhcnM9dCx0aGlzLl9kZWxheT0rdC5kZWxheXx8MCwodGhpcy5fcmVwZWF0PXQucmVwZWF0PT09MS8wPy0yOnQucmVwZWF0fHwwKSYmKHRoaXMuX3JEZWxheT10LnJlcGVhdERlbGF5fHwwLHRoaXMuX3lveW89ISF0LnlveW98fCEhdC55b3lvRWFzZSksdGhpcy5fdHM9MSxSYSh0aGlzLCt0LmR1cmF0aW9uLDEsMSksdGhpcy5kYXRhPXQuZGF0YSxsJiYodGhpcy5fY3R4PWwpLmRhdGEucHVzaCh0aGlzKSxjfHxSdC53YWtlKCl9cWEoVXQucHJvdG90eXBlLHtfdGltZTowLF9zdGFydDowLF9lbmQ6MCxfdFRpbWU6MCxfdER1cjowLF9kaXJ0eTowLF9yZXBlYXQ6MCxfeW95bzohMSxwYXJlbnQ6bnVsbCxfaW5pdHRlZDohMSxfckRlbGF5OjAsX3RzOjEsX2RwOjAscmF0aW86MCxfelRpbWU6LVgsX3Byb206MCxfcHM6ITEsX3J0czoxfSk7dmFyIFh0PWZ1bmN0aW9uKGkpe2Z1bmN0aW9uIFRpbWVsaW5lKHQsZSl7dmFyIHI7cmV0dXJuIHZvaWQgMD09PXQmJih0PXt9KSwocj1pLmNhbGwodGhpcyx0KXx8dGhpcykubGFiZWxzPXt9LHIuc21vb3RoQ2hpbGRUaW1pbmc9ISF0LnNtb290aENoaWxkVGltaW5nLHIuYXV0b1JlbW92ZUNoaWxkcmVuPSEhdC5hdXRvUmVtb3ZlQ2hpbGRyZW4sci5fc29ydD13KHQuc29ydENoaWxkcmVuKSxJJiZLYSh0LnBhcmVudHx8SSxfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHIpLGUpLHQucmV2ZXJzZWQmJnIucmV2ZXJzZSgpLHQucGF1c2VkJiZyLnBhdXNlZCghMCksdC5zY3JvbGxUcmlnZ2VyJiZMYShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHIpLHQuc2Nyb2xsVHJpZ2dlcikscn1faW5oZXJpdHNMb29zZShUaW1lbGluZSxpKTt2YXIgZT1UaW1lbGluZS5wcm90b3R5cGU7cmV0dXJuIGUudG89ZnVuY3Rpb24gdG8odCxlLHIpe3JldHVybiBWYSgwLGFyZ3VtZW50cyx0aGlzKSx0aGlzfSxlLmZyb209ZnVuY3Rpb24gZnJvbSh0LGUscil7cmV0dXJuIFZhKDEsYXJndW1lbnRzLHRoaXMpLHRoaXN9LGUuZnJvbVRvPWZ1bmN0aW9uIGZyb21Ubyh0LGUscixpKXtyZXR1cm4gVmEoMixhcmd1bWVudHMsdGhpcyksdGhpc30sZS5zZXQ9ZnVuY3Rpb24gc2V0KHQsZSxyKXtyZXR1cm4gZS5kdXJhdGlvbj0wLGUucGFyZW50PXRoaXMsdmEoZSkucmVwZWF0RGVsYXl8fChlLnJlcGVhdD0wKSxlLmltbWVkaWF0ZVJlbmRlcj0hIWUuaW1tZWRpYXRlUmVuZGVyLG5ldyAkdCh0LGUseHQodGhpcyxyKSwxKSx0aGlzfSxlLmNhbGw9ZnVuY3Rpb24gY2FsbCh0LGUscil7cmV0dXJuIEthKHRoaXMsJHQuZGVsYXllZENhbGwoMCx0LGUpLHIpfSxlLnN0YWdnZXJUbz1mdW5jdGlvbiBzdGFnZ2VyVG8odCxlLHIsaSxuLGEscyl7cmV0dXJuIHIuZHVyYXRpb249ZSxyLnN0YWdnZXI9ci5zdGFnZ2VyfHxpLHIub25Db21wbGV0ZT1hLHIub25Db21wbGV0ZVBhcmFtcz1zLHIucGFyZW50PXRoaXMsbmV3ICR0KHQscix4dCh0aGlzLG4pKSx0aGlzfSxlLnN0YWdnZXJGcm9tPWZ1bmN0aW9uIHN0YWdnZXJGcm9tKHQsZSxyLGksbixhLHMpe3JldHVybiByLnJ1bkJhY2t3YXJkcz0xLHZhKHIpLmltbWVkaWF0ZVJlbmRlcj13KHIuaW1tZWRpYXRlUmVuZGVyKSx0aGlzLnN0YWdnZXJUbyh0LGUscixpLG4sYSxzKX0sZS5zdGFnZ2VyRnJvbVRvPWZ1bmN0aW9uIHN0YWdnZXJGcm9tVG8odCxlLHIsaSxuLGEscyxvKXtyZXR1cm4gaS5zdGFydEF0PXIsdmEoaSkuaW1tZWRpYXRlUmVuZGVyPXcoaS5pbW1lZGlhdGVSZW5kZXIpLHRoaXMuc3RhZ2dlclRvKHQsZSxpLG4sYSxzLG8pfSxlLnJlbmRlcj1mdW5jdGlvbiByZW5kZXIodCxlLHIpe3ZhciBpLG4sYSxzLG8sdSxoLGwsZixkLGMscCxfPXRoaXMuX3RpbWUsbT10aGlzLl9kaXJ0eT90aGlzLnRvdGFsRHVyYXRpb24oKTp0aGlzLl90RHVyLGc9dGhpcy5fZHVyLHY9dDw9MD8wOmphKHQpLHk9dGhpcy5felRpbWU8MCE9dDwwJiYodGhpcy5faW5pdHRlZHx8IWcpO2lmKHRoaXMhPT1JJiZtPHYmJjA8PXQmJih2PW0pLHYhPT10aGlzLl90VGltZXx8cnx8eSl7aWYoXyE9PXRoaXMuX3RpbWUmJmcmJih2Kz10aGlzLl90aW1lLV8sdCs9dGhpcy5fdGltZS1fKSxpPXYsZj10aGlzLl9zdGFydCx1PSEobD10aGlzLl90cykseSYmKGd8fChfPXRoaXMuX3pUaW1lKSwhdCYmZXx8KHRoaXMuX3pUaW1lPXQpKSx0aGlzLl9yZXBlYXQpe2lmKGM9dGhpcy5feW95byxvPWcrdGhpcy5fckRlbGF5LHRoaXMuX3JlcGVhdDwtMSYmdDwwKXJldHVybiB0aGlzLnRvdGFsVGltZSgxMDAqbyt0LGUscik7aWYoaT1qYSh2JW8pLHY9PT1tPyhzPXRoaXMuX3JlcGVhdCxpPWcpOigocz1+fih2L28pKSYmcz09PXYvbyYmKGk9ZyxzLS0pLGc8aSYmKGk9ZykpLGQ9VHQodGhpcy5fdFRpbWUsbyksIV8mJnRoaXMuX3RUaW1lJiZkIT09cyYmdGhpcy5fdFRpbWUtZCpvLXRoaXMuX2R1cjw9MCYmKGQ9cyksYyYmMSZzJiYoaT1nLWkscD0xKSxzIT09ZCYmIXRoaXMuX2xvY2spe3ZhciBUPWMmJjEmZCxiPVQ9PT0oYyYmMSZzKTtpZihzPGQmJihUPSFUKSxfPVQ/MDp2JWc/Zzp2LHRoaXMuX2xvY2s9MSx0aGlzLnJlbmRlcihffHwocD8wOmphKHMqbykpLGUsIWcpLl9sb2NrPTAsdGhpcy5fdFRpbWU9diwhZSYmdGhpcy5wYXJlbnQmJkN0KHRoaXMsIm9uUmVwZWF0IiksdGhpcy52YXJzLnJlcGVhdFJlZnJlc2gmJiFwJiYodGhpcy5pbnZhbGlkYXRlKCkuX2xvY2s9MSksXyYmXyE9PXRoaXMuX3RpbWV8fHUhPSF0aGlzLl90c3x8dGhpcy52YXJzLm9uUmVwZWF0JiYhdGhpcy5wYXJlbnQmJiF0aGlzLl9hY3QpcmV0dXJuIHRoaXM7aWYoZz10aGlzLl9kdXIsbT10aGlzLl90RHVyLGImJih0aGlzLl9sb2NrPTIsXz1UP2c6LTFlLTQsdGhpcy5yZW5kZXIoXywhMCksdGhpcy52YXJzLnJlcGVhdFJlZnJlc2gmJiFwJiZ0aGlzLmludmFsaWRhdGUoKSksdGhpcy5fbG9jaz0wLCF0aGlzLl90cyYmIXUpcmV0dXJuIHRoaXM7UWIodGhpcyxwKX19aWYodGhpcy5faGFzUGF1c2UmJiF0aGlzLl9mb3JjaW5nJiZ0aGlzLl9sb2NrPDImJihoPWZ1bmN0aW9uIF9maW5kTmV4dFBhdXNlVHdlZW4odCxlLHIpe3ZhciBpO2lmKGU8cilmb3IoaT10Ll9maXJzdDtpJiZpLl9zdGFydDw9cjspe2lmKCJpc1BhdXNlIj09PWkuZGF0YSYmaS5fc3RhcnQ+ZSlyZXR1cm4gaTtpPWkuX25leHR9ZWxzZSBmb3IoaT10Ll9sYXN0O2kmJmkuX3N0YXJ0Pj1yOyl7aWYoImlzUGF1c2UiPT09aS5kYXRhJiZpLl9zdGFydDxlKXJldHVybiBpO2k9aS5fcHJldn19KHRoaXMsamEoXyksamEoaSkpKSYmKHYtPWktKGk9aC5fc3RhcnQpKSx0aGlzLl90VGltZT12LHRoaXMuX3RpbWU9aSx0aGlzLl9hY3Q9IWwsdGhpcy5faW5pdHRlZHx8KHRoaXMuX29uVXBkYXRlPXRoaXMudmFycy5vblVwZGF0ZSx0aGlzLl9pbml0dGVkPTEsdGhpcy5felRpbWU9dCxfPTApLCFfJiZpJiYhZSYmIXMmJihDdCh0aGlzLCJvblN0YXJ0IiksdGhpcy5fdFRpbWUhPT12KSlyZXR1cm4gdGhpcztpZihfPD1pJiYwPD10KWZvcihuPXRoaXMuX2ZpcnN0O247KXtpZihhPW4uX25leHQsKG4uX2FjdHx8aT49bi5fc3RhcnQpJiZuLl90cyYmaCE9PW4pe2lmKG4ucGFyZW50IT09dGhpcylyZXR1cm4gdGhpcy5yZW5kZXIodCxlLHIpO2lmKG4ucmVuZGVyKDA8bi5fdHM/KGktbi5fc3RhcnQpKm4uX3RzOihuLl9kaXJ0eT9uLnRvdGFsRHVyYXRpb24oKTpuLl90RHVyKSsoaS1uLl9zdGFydCkqbi5fdHMsZSxyKSxpIT09dGhpcy5fdGltZXx8IXRoaXMuX3RzJiYhdSl7aD0wLGEmJih2Kz10aGlzLl96VGltZT0tWCk7YnJlYWt9fW49YX1lbHNle249dGhpcy5fbGFzdDtmb3IodmFyIHc9dDwwP3Q6aTtuOyl7aWYoYT1uLl9wcmV2LChuLl9hY3R8fHc8PW4uX2VuZCkmJm4uX3RzJiZoIT09bil7aWYobi5wYXJlbnQhPT10aGlzKXJldHVybiB0aGlzLnJlbmRlcih0LGUscik7aWYobi5yZW5kZXIoMDxuLl90cz8ody1uLl9zdGFydCkqbi5fdHM6KG4uX2RpcnR5P24udG90YWxEdXJhdGlvbigpOm4uX3REdXIpKyh3LW4uX3N0YXJ0KSpuLl90cyxlLHJ8fEwmJihuLl9pbml0dGVkfHxuLl9zdGFydEF0KSksaSE9PXRoaXMuX3RpbWV8fCF0aGlzLl90cyYmIXUpe2g9MCxhJiYodis9dGhpcy5felRpbWU9dz8tWDpYKTticmVha319bj1hfX1pZihoJiYhZSYmKHRoaXMucGF1c2UoKSxoLnJlbmRlcihfPD1pPzA6LVgpLl96VGltZT1fPD1pPzE6LTEsdGhpcy5fdHMpKXJldHVybiB0aGlzLl9zdGFydD1mLEhhKHRoaXMpLHRoaXMucmVuZGVyKHQsZSxyKTt0aGlzLl9vblVwZGF0ZSYmIWUmJkN0KHRoaXMsIm9uVXBkYXRlIiwhMCksKHY9PT1tJiZ0aGlzLl90VGltZT49dGhpcy50b3RhbER1cmF0aW9uKCl8fCF2JiZfKSYmKGYhPT10aGlzLl9zdGFydCYmTWF0aC5hYnMobCk9PT1NYXRoLmFicyh0aGlzLl90cyl8fHRoaXMuX2xvY2t8fCghdCYmZ3x8ISh2PT09bSYmMDx0aGlzLl90c3x8IXYmJnRoaXMuX3RzPDApfHx6YSh0aGlzLDEpLGV8fHQ8MCYmIV98fCF2JiYhXyYmbXx8KEN0KHRoaXMsdj09PW0mJjA8PXQ/Im9uQ29tcGxldGUiOiJvblJldmVyc2VDb21wbGV0ZSIsITApLCF0aGlzLl9wcm9tfHx2PG0mJjA8dGhpcy50aW1lU2NhbGUoKXx8dGhpcy5fcHJvbSgpKSkpfXJldHVybiB0aGlzfSxlLmFkZD1mdW5jdGlvbiBhZGQoZSxpKXt2YXIgbj10aGlzO2lmKHQoaSl8fChpPXh0KHRoaXMsaSxlKSksIShlIGluc3RhbmNlb2YgVXQpKXtpZihaKGUpKXJldHVybiBlLmZvckVhY2goZnVuY3Rpb24odCl7cmV0dXJuIG4uYWRkKHQsaSl9KSx0aGlzO2lmKHIoZSkpcmV0dXJuIHRoaXMuYWRkTGFiZWwoZSxpKTtpZighcyhlKSlyZXR1cm4gdGhpcztlPSR0LmRlbGF5ZWRDYWxsKDAsZSl9cmV0dXJuIHRoaXMhPT1lP0thKHRoaXMsZSxpKTp0aGlzfSxlLmdldENoaWxkcmVuPWZ1bmN0aW9uIGdldENoaWxkcmVuKHQsZSxyLGkpe3ZvaWQgMD09PXQmJih0PSEwKSx2b2lkIDA9PT1lJiYoZT0hMCksdm9pZCAwPT09ciYmKHI9ITApLHZvaWQgMD09PWkmJihpPS1VKTtmb3IodmFyIG49W10sYT10aGlzLl9maXJzdDthOylhLl9zdGFydD49aSYmKGEgaW5zdGFuY2VvZiAkdD9lJiZuLnB1c2goYSk6KHImJm4ucHVzaChhKSx0JiZuLnB1c2guYXBwbHkobixhLmdldENoaWxkcmVuKCEwLGUscikpKSksYT1hLl9uZXh0O3JldHVybiBufSxlLmdldEJ5SWQ9ZnVuY3Rpb24gZ2V0QnlJZCh0KXtmb3IodmFyIGU9dGhpcy5nZXRDaGlsZHJlbigxLDEsMSkscj1lLmxlbmd0aDtyLS07KWlmKGVbcl0udmFycy5pZD09PXQpcmV0dXJuIGVbcl19LGUucmVtb3ZlPWZ1bmN0aW9uIHJlbW92ZSh0KXtyZXR1cm4gcih0KT90aGlzLnJlbW92ZUxhYmVsKHQpOnModCk/dGhpcy5raWxsVHdlZW5zT2YodCk6KHlhKHRoaXMsdCksdD09PXRoaXMuX3JlY2VudCYmKHRoaXMuX3JlY2VudD10aGlzLl9sYXN0KSxBYSh0aGlzKSl9LGUudG90YWxUaW1lPWZ1bmN0aW9uIHRvdGFsVGltZSh0LGUpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyh0aGlzLl9mb3JjaW5nPTEsIXRoaXMuX2RwJiZ0aGlzLl90cyYmKHRoaXMuX3N0YXJ0PWphKFJ0LnRpbWUtKDA8dGhpcy5fdHM/dC90aGlzLl90czoodGhpcy50b3RhbER1cmF0aW9uKCktdCkvLXRoaXMuX3RzKSkpLGkucHJvdG90eXBlLnRvdGFsVGltZS5jYWxsKHRoaXMsdCxlKSx0aGlzLl9mb3JjaW5nPTAsdGhpcyk6dGhpcy5fdFRpbWV9LGUuYWRkTGFiZWw9ZnVuY3Rpb24gYWRkTGFiZWwodCxlKXtyZXR1cm4gdGhpcy5sYWJlbHNbdF09eHQodGhpcyxlKSx0aGlzfSxlLnJlbW92ZUxhYmVsPWZ1bmN0aW9uIHJlbW92ZUxhYmVsKHQpe3JldHVybiBkZWxldGUgdGhpcy5sYWJlbHNbdF0sdGhpc30sZS5hZGRQYXVzZT1mdW5jdGlvbiBhZGRQYXVzZSh0LGUscil7dmFyIGk9JHQuZGVsYXllZENhbGwoMCxlfHxULHIpO3JldHVybiBpLmRhdGE9ImlzUGF1c2UiLHRoaXMuX2hhc1BhdXNlPTEsS2EodGhpcyxpLHh0KHRoaXMsdCkpfSxlLnJlbW92ZVBhdXNlPWZ1bmN0aW9uIHJlbW92ZVBhdXNlKHQpe3ZhciBlPXRoaXMuX2ZpcnN0O2Zvcih0PXh0KHRoaXMsdCk7ZTspZS5fc3RhcnQ9PT10JiYiaXNQYXVzZSI9PT1lLmRhdGEmJnphKGUpLGU9ZS5fbmV4dH0sZS5raWxsVHdlZW5zT2Y9ZnVuY3Rpb24ga2lsbFR3ZWVuc09mKHQsZSxyKXtmb3IodmFyIGk9dGhpcy5nZXRUd2VlbnNPZih0LHIpLG49aS5sZW5ndGg7bi0tOylOdCE9PWlbbl0mJmlbbl0ua2lsbCh0LGUpO3JldHVybiB0aGlzfSxlLmdldFR3ZWVuc09mPWZ1bmN0aW9uIGdldFR3ZWVuc09mKGUscil7Zm9yKHZhciBpLG49W10sYT1NdChlKSxzPXRoaXMuX2ZpcnN0LG89dChyKTtzOylzIGluc3RhbmNlb2YgJHQ/bGEocy5fdGFyZ2V0cyxhKSYmKG8/KCFOdHx8cy5faW5pdHRlZCYmcy5fdHMpJiZzLmdsb2JhbFRpbWUoMCk8PXImJnMuZ2xvYmFsVGltZShzLnRvdGFsRHVyYXRpb24oKSk+cjohcnx8cy5pc0FjdGl2ZSgpKSYmbi5wdXNoKHMpOihpPXMuZ2V0VHdlZW5zT2YoYSxyKSkubGVuZ3RoJiZuLnB1c2guYXBwbHkobixpKSxzPXMuX25leHQ7cmV0dXJuIG59LGUudHdlZW5Ubz1mdW5jdGlvbiB0d2VlblRvKHQsZSl7ZT1lfHx7fTt2YXIgcixpPXRoaXMsbj14dChpLHQpLGE9ZS5zdGFydEF0LHM9ZS5vblN0YXJ0LG89ZS5vblN0YXJ0UGFyYW1zLHU9ZS5pbW1lZGlhdGVSZW5kZXIsaD0kdC50byhpLHFhKHtlYXNlOmUuZWFzZXx8Im5vbmUiLGxhenk6ITEsaW1tZWRpYXRlUmVuZGVyOiExLHRpbWU6bixvdmVyd3JpdGU6ImF1dG8iLGR1cmF0aW9uOmUuZHVyYXRpb258fE1hdGguYWJzKChuLShhJiYidGltZSJpbiBhP2EudGltZTppLl90aW1lKSkvaS50aW1lU2NhbGUoKSl8fFgsb25TdGFydDpmdW5jdGlvbiBvblN0YXJ0KCl7aWYoaS5wYXVzZSgpLCFyKXt2YXIgdD1lLmR1cmF0aW9ufHxNYXRoLmFicygobi0oYSYmInRpbWUiaW4gYT9hLnRpbWU6aS5fdGltZSkpL2kudGltZVNjYWxlKCkpO2guX2R1ciE9PXQmJlJhKGgsdCwwLDEpLnJlbmRlcihoLl90aW1lLCEwLCEwKSxyPTF9cyYmcy5hcHBseShoLG98fFtdKX19LGUpKTtyZXR1cm4gdT9oLnJlbmRlcigwKTpofSxlLnR3ZWVuRnJvbVRvPWZ1bmN0aW9uIHR3ZWVuRnJvbVRvKHQsZSxyKXtyZXR1cm4gdGhpcy50d2VlblRvKGUscWEoe3N0YXJ0QXQ6e3RpbWU6eHQodGhpcyx0KX19LHIpKX0sZS5yZWNlbnQ9ZnVuY3Rpb24gcmVjZW50KCl7cmV0dXJuIHRoaXMuX3JlY2VudH0sZS5uZXh0TGFiZWw9ZnVuY3Rpb24gbmV4dExhYmVsKHQpe3JldHVybiB2b2lkIDA9PT10JiYodD10aGlzLl90aW1lKSxyYih0aGlzLHh0KHRoaXMsdCkpfSxlLnByZXZpb3VzTGFiZWw9ZnVuY3Rpb24gcHJldmlvdXNMYWJlbCh0KXtyZXR1cm4gdm9pZCAwPT09dCYmKHQ9dGhpcy5fdGltZSkscmIodGhpcyx4dCh0aGlzLHQpLDEpfSxlLmN1cnJlbnRMYWJlbD1mdW5jdGlvbiBjdXJyZW50TGFiZWwodCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/dGhpcy5zZWVrKHQsITApOnRoaXMucHJldmlvdXNMYWJlbCh0aGlzLl90aW1lK1gpfSxlLnNoaWZ0Q2hpbGRyZW49ZnVuY3Rpb24gc2hpZnRDaGlsZHJlbih0LGUscil7dm9pZCAwPT09ciYmKHI9MCk7Zm9yKHZhciBpLG49dGhpcy5fZmlyc3QsYT10aGlzLmxhYmVscztuOyluLl9zdGFydD49ciYmKG4uX3N0YXJ0Kz10LG4uX2VuZCs9dCksbj1uLl9uZXh0O2lmKGUpZm9yKGkgaW4gYSlhW2ldPj1yJiYoYVtpXSs9dCk7cmV0dXJuIEFhKHRoaXMpfSxlLmludmFsaWRhdGU9ZnVuY3Rpb24gaW52YWxpZGF0ZSh0KXt2YXIgZT10aGlzLl9maXJzdDtmb3IodGhpcy5fbG9jaz0wO2U7KWUuaW52YWxpZGF0ZSh0KSxlPWUuX25leHQ7cmV0dXJuIGkucHJvdG90eXBlLmludmFsaWRhdGUuY2FsbCh0aGlzLHQpfSxlLmNsZWFyPWZ1bmN0aW9uIGNsZWFyKHQpe3ZvaWQgMD09PXQmJih0PSEwKTtmb3IodmFyIGUscj10aGlzLl9maXJzdDtyOyllPXIuX25leHQsdGhpcy5yZW1vdmUocikscj1lO3JldHVybiB0aGlzLl9kcCYmKHRoaXMuX3RpbWU9dGhpcy5fdFRpbWU9dGhpcy5fcFRpbWU9MCksdCYmKHRoaXMubGFiZWxzPXt9KSxBYSh0aGlzKX0sZS50b3RhbER1cmF0aW9uPWZ1bmN0aW9uIHRvdGFsRHVyYXRpb24odCl7dmFyIGUscixpLG49MCxhPXRoaXMscz1hLl9sYXN0LG89VTtpZihhcmd1bWVudHMubGVuZ3RoKXJldHVybiBhLnRpbWVTY2FsZSgoYS5fcmVwZWF0PDA/YS5kdXJhdGlvbigpOmEudG90YWxEdXJhdGlvbigpKS8oYS5yZXZlcnNlZCgpPy10OnQpKTtpZihhLl9kaXJ0eSl7Zm9yKGk9YS5wYXJlbnQ7czspZT1zLl9wcmV2LHMuX2RpcnR5JiZzLnRvdGFsRHVyYXRpb24oKSxvPChyPXMuX3N0YXJ0KSYmYS5fc29ydCYmcy5fdHMmJiFhLl9sb2NrPyhhLl9sb2NrPTEsS2EoYSxzLHItcy5fZGVsYXksMSkuX2xvY2s9MCk6bz1yLHI8MCYmcy5fdHMmJihuLT1yLCghaSYmIWEuX2RwfHxpJiZpLnNtb290aENoaWxkVGltaW5nKSYmKGEuX3N0YXJ0Kz1yL2EuX3RzLGEuX3RpbWUtPXIsYS5fdFRpbWUtPXIpLGEuc2hpZnRDaGlsZHJlbigtciwhMSwtSW5maW5pdHkpLG89MCkscy5fZW5kPm4mJnMuX3RzJiYobj1zLl9lbmQpLHM9ZTtSYShhLGE9PT1JJiZhLl90aW1lPm4/YS5fdGltZTpuLDEsMSksYS5fZGlydHk9MH1yZXR1cm4gYS5fdER1cn0sVGltZWxpbmUudXBkYXRlUm9vdD1mdW5jdGlvbiB1cGRhdGVSb290KHQpe2lmKEkuX3RzJiYobmEoSSxHYSh0LEkpKSxmPVJ0LmZyYW1lKSxSdC5mcmFtZT49bXQpe210Kz1xLmF1dG9TbGVlcHx8MTIwO3ZhciBlPUkuX2ZpcnN0O2lmKCghZXx8IWUuX3RzKSYmcS5hdXRvU2xlZXAmJlJ0Ll9saXN0ZW5lcnMubGVuZ3RoPDIpe2Zvcig7ZSYmIWUuX3RzOyllPWUuX25leHQ7ZXx8UnQuc2xlZXAoKX19fSxUaW1lbGluZX0oVXQpO3FhKFh0LnByb3RvdHlwZSx7X2xvY2s6MCxfaGFzUGF1c2U6MCxfZm9yY2luZzowfSk7ZnVuY3Rpb24gYWModCxlLGksbixhLG8pe3ZhciB1LGgsbCxmO2lmKHB0W3RdJiYhMSE9PSh1PW5ldyBwdFt0XSkuaW5pdChhLHUucmF3VmFycz9lW3RdOmZ1bmN0aW9uIF9wcm9jZXNzVmFycyh0LGUsaSxuLGEpe2lmKHModCkmJih0PUt0KHQsYSxlLGksbikpLCF2KHQpfHx0LnN0eWxlJiZ0Lm5vZGVUeXBlfHxaKHQpfHwkKHQpKXJldHVybiByKHQpP0t0KHQsYSxlLGksbik6dDt2YXIgbyx1PXt9O2ZvcihvIGluIHQpdVtvXT1LdCh0W29dLGEsZSxpLG4pO3JldHVybiB1fShlW3RdLG4sYSxvLGkpLGksbixvKSYmKGkuX3B0PWg9bmV3IF9lKGkuX3B0LGEsdCwwLDEsdS5yZW5kZXIsdSwwLHUucHJpb3JpdHkpLGkhPT1kKSlmb3IobD1pLl9wdExvb2t1cFtpLl90YXJnZXRzLmluZGV4T2YoYSldLGY9dS5fcHJvcHMubGVuZ3RoO2YtLTspbFt1Ll9wcm9wc1tmXV09aDtyZXR1cm4gdX1mdW5jdGlvbiBnYyh0LHIsZSxpKXt2YXIgbixhLHM9ci5lYXNlfHxpfHwicG93ZXIxLmluT3V0IjtpZihaKHIpKWE9ZVt0XXx8KGVbdF09W10pLHIuZm9yRWFjaChmdW5jdGlvbih0LGUpe3JldHVybiBhLnB1c2goe3Q6ZS8oci5sZW5ndGgtMSkqMTAwLHY6dCxlOnN9KX0pO2Vsc2UgZm9yKG4gaW4gcilhPWVbbl18fChlW25dPVtdKSwiZWFzZSI9PT1ufHxhLnB1c2goe3Q6cGFyc2VGbG9hdCh0KSx2OnJbbl0sZTpzfSl9dmFyIE50LEd0LFd0PWZ1bmN0aW9uIF9hZGRQcm9wVHdlZW4odCxlLGksbixhLG8sdSxoLGwsZil7cyhuKSYmKG49bihhfHwwLHQsbykpO3ZhciBkLGM9dFtlXSxwPSJnZXQiIT09aT9pOnMoYyk/bD90W2UuaW5kZXhPZigic2V0Iil8fCFzKHRbImdldCIrZS5zdWJzdHIoMyldKT9lOiJnZXQiK2Uuc3Vic3RyKDMpXShsKTp0W2VdKCk6YyxfPXMoYyk/bD9yZTp0ZTpadDtpZihyKG4pJiYofm4uaW5kZXhPZigicmFuZG9tKCIpJiYobj1vYihuKSksIj0iPT09bi5jaGFyQXQoMSkmJighKGQ9a2EocCxuKSsoWWEocCl8fDApKSYmMCE9PWR8fChuPWQpKSksIWZ8fHAhPT1ufHxHdClyZXR1cm4gaXNOYU4ocCpuKXx8IiI9PT1uPyhjfHxlIGluIHR8fFEoZSxuKSxmdW5jdGlvbiBfYWRkQ29tcGxleFN0cmluZ1Byb3BUd2Vlbih0LGUscixpLG4sYSxzKXt2YXIgbyx1LGgsbCxmLGQsYyxwLF89bmV3IF9lKHRoaXMuX3B0LHQsZSwwLDEsdWUsbnVsbCxuKSxtPTAsZz0wO2ZvcihfLmI9cixfLmU9aSxyKz0iIiwoYz1+KGkrPSIiKS5pbmRleE9mKCJyYW5kb20oIikpJiYoaT1vYihpKSksYSYmKGEocD1bcixpXSx0LGUpLHI9cFswXSxpPXBbMV0pLHU9ci5tYXRjaChpdCl8fFtdO289aXQuZXhlYyhpKTspbD1vWzBdLGY9aS5zdWJzdHJpbmcobSxvLmluZGV4KSxoP2g9KGgrMSklNToicmdiYSgiPT09Zi5zdWJzdHIoLTUpJiYoaD0xKSxsIT09dVtnKytdJiYoZD1wYXJzZUZsb2F0KHVbZy0xXSl8fDAsXy5fcHQ9e19uZXh0Ol8uX3B0LHA6Znx8MT09PWc/ZjoiLCIsczpkLGM6Ij0iPT09bC5jaGFyQXQoMSk/a2EoZCxsKS1kOnBhcnNlRmxvYXQobCktZCxtOmgmJmg8ND9NYXRoLnJvdW5kOjB9LG09aXQubGFzdEluZGV4KTtyZXR1cm4gXy5jPW08aS5sZW5ndGg/aS5zdWJzdHJpbmcobSxpLmxlbmd0aCk6IiIsXy5mcD1zLChudC50ZXN0KGkpfHxjKSYmKF8uZT0wKSx0aGlzLl9wdD1ffS5jYWxsKHRoaXMsdCxlLHAsbixfLGh8fHEuc3RyaW5nRmlsdGVyLGwpKTooZD1uZXcgX2UodGhpcy5fcHQsdCxlLCtwfHwwLG4tKHB8fDApLCJib29sZWFuIj09dHlwZW9mIGM/c2U6YWUsMCxfKSxsJiYoZC5mcD1sKSx1JiZkLm1vZGlmaWVyKHUsdGhpcyx0KSx0aGlzLl9wdD1kKX0sUXQ9ZnVuY3Rpb24gX2luaXRUd2Vlbih0LGUscil7dmFyIGksbixhLHMsbyx1LGgsbCxmLGQsYyxwLF8sbT10LnZhcnMsZz1tLmVhc2Usdj1tLnN0YXJ0QXQseT1tLmltbWVkaWF0ZVJlbmRlcixUPW0ubGF6eSxiPW0ub25VcGRhdGUseD1tLnJ1bkJhY2t3YXJkcyxPPW0ueW95b0Vhc2Usaz1tLmtleWZyYW1lcyxNPW0uYXV0b1JldmVydCxQPXQuX2R1cixDPXQuX3N0YXJ0QXQsQT10Ll90YXJnZXRzLFM9dC5wYXJlbnQsej1TJiYibmVzdGVkIj09PVMuZGF0YT9TLnZhcnMudGFyZ2V0czpBLEU9ImF1dG8iPT09dC5fb3ZlcndyaXRlJiYhRixEPXQudGltZWxpbmU7aWYoIUR8fGsmJmd8fChnPSJub25lIiksdC5fZWFzZT1qdChnLFYuZWFzZSksdC5feUVhc2U9Tz9ZdChqdCghMD09PU8/ZzpPLFYuZWFzZSkpOjAsTyYmdC5feW95byYmIXQuX3JlcGVhdCYmKE89dC5feUVhc2UsdC5feUVhc2U9dC5fZWFzZSx0Ll9lYXNlPU8pLHQuX2Zyb209IUQmJiEhbS5ydW5CYWNrd2FyZHMsIUR8fGsmJiFtLnN0YWdnZXIpe2lmKHA9KGw9QVswXT9mYShBWzBdKS5oYXJuZXNzOjApJiZtW2wucHJvcF0saT11YShtLGZ0KSxDJiYoQy5felRpbWU8MCYmQy5wcm9ncmVzcygxKSxlPDAmJngmJnkmJiFNP0MucmVuZGVyKC0xLCEwKTpDLnJldmVydCh4JiZQP2h0OnV0KSxDLl9sYXp5PTApLHYpe2lmKHphKHQuX3N0YXJ0QXQ9JHQuc2V0KEEscWEoe2RhdGE6ImlzU3RhcnQiLG92ZXJ3cml0ZTohMSxwYXJlbnQ6UyxpbW1lZGlhdGVSZW5kZXI6ITAsbGF6eTohQyYmdyhUKSxzdGFydEF0Om51bGwsZGVsYXk6MCxvblVwZGF0ZTpiJiZmdW5jdGlvbigpe3JldHVybiBDdCh0LCJvblVwZGF0ZSIpfSxzdGFnZ2VyOjB9LHYpKSksdC5fc3RhcnRBdC5fZHA9MCx0Ll9zdGFydEF0Ll9zYXQ9dCxlPDAmJihMfHwheSYmIU0pJiZ0Ll9zdGFydEF0LnJldmVydChodCkseSYmUCYmZTw9MCYmcjw9MClyZXR1cm4gdm9pZChlJiYodC5felRpbWU9ZSkpfWVsc2UgaWYoeCYmUCYmIUMpaWYoZSYmKHk9ITEpLGE9cWEoe292ZXJ3cml0ZTohMSxkYXRhOiJpc0Zyb21TdGFydCIsbGF6eTp5JiYhQyYmdyhUKSxpbW1lZGlhdGVSZW5kZXI6eSxzdGFnZ2VyOjAscGFyZW50OlN9LGkpLHAmJihhW2wucHJvcF09cCksemEodC5fc3RhcnRBdD0kdC5zZXQoQSxhKSksdC5fc3RhcnRBdC5fZHA9MCx0Ll9zdGFydEF0Ll9zYXQ9dCxlPDAmJihMP3QuX3N0YXJ0QXQucmV2ZXJ0KGh0KTp0Ll9zdGFydEF0LnJlbmRlcigtMSwhMCkpLHQuX3pUaW1lPWUseSl7aWYoIWUpcmV0dXJufWVsc2UgX2luaXRUd2Vlbih0Ll9zdGFydEF0LFgsWCk7Zm9yKHQuX3B0PXQuX3B0Q2FjaGU9MCxUPVAmJncoVCl8fFQmJiFQLG49MDtuPEEubGVuZ3RoO24rKyl7aWYoaD0obz1BW25dKS5fZ3NhcHx8ZWEoQSlbbl0uX2dzYXAsdC5fcHRMb29rdXBbbl09ZD17fSxjdFtoLmlkXSYmZHQubGVuZ3RoJiZtYSgpLGM9ej09PUE/bjp6LmluZGV4T2YobyksbCYmITEhPT0oZj1uZXcgbCkuaW5pdChvLHB8fGksdCxjLHopJiYodC5fcHQ9cz1uZXcgX2UodC5fcHQsbyxmLm5hbWUsMCwxLGYucmVuZGVyLGYsMCxmLnByaW9yaXR5KSxmLl9wcm9wcy5mb3JFYWNoKGZ1bmN0aW9uKHQpe2RbdF09c30pLGYucHJpb3JpdHkmJih1PTEpKSwhbHx8cClmb3IoYSBpbiBpKXB0W2FdJiYoZj1hYyhhLGksdCxjLG8seikpP2YucHJpb3JpdHkmJih1PTEpOmRbYV09cz1XdC5jYWxsKHQsbyxhLCJnZXQiLGlbYV0sYyx6LDAsbS5zdHJpbmdGaWx0ZXIpO3QuX29wJiZ0Ll9vcFtuXSYmdC5raWxsKG8sdC5fb3Bbbl0pLEUmJnQuX3B0JiYoTnQ9dCxJLmtpbGxUd2VlbnNPZihvLGQsdC5nbG9iYWxUaW1lKGUpKSxfPSF0LnBhcmVudCxOdD0wKSx0Ll9wdCYmVCYmKGN0W2guaWRdPTEpfXUmJnBlKHQpLHQuX29uSW5pdCYmdC5fb25Jbml0KHQpfXQuX29uVXBkYXRlPWIsdC5faW5pdHRlZD0oIXQuX29wfHx0Ll9wdCkmJiFfLGsmJmU8PTAmJkQucmVuZGVyKFUsITAsITApfSxLdD1mdW5jdGlvbiBfcGFyc2VGdW5jT3JTdHJpbmcodCxlLGksbixhKXtyZXR1cm4gcyh0KT90LmNhbGwoZSxpLG4sYSk6cih0KSYmfnQuaW5kZXhPZigicmFuZG9tKCIpP29iKHQpOnR9LEp0PXZ0KyJyZXBlYXQscmVwZWF0RGVsYXkseW95byxyZXBlYXRSZWZyZXNoLHlveW9FYXNlLGF1dG9SZXZlcnQiLEh0PXt9O2hhKEp0KyIsaWQsc3RhZ2dlcixkZWxheSxkdXJhdGlvbixwYXVzZWQsc2Nyb2xsVHJpZ2dlciIsZnVuY3Rpb24odCl7cmV0dXJuIEh0W3RdPTF9KTt2YXIgJHQ9ZnVuY3Rpb24oRCl7ZnVuY3Rpb24gVHdlZW4oZSxyLGksbil7dmFyIGE7Im51bWJlciI9PXR5cGVvZiByJiYoaS5kdXJhdGlvbj1yLHI9aSxpPW51bGwpO3ZhciBzLG8sdSxoLGwsZixkLGMscD0oYT1ELmNhbGwodGhpcyxuP3I6dmEocikpfHx0aGlzKS52YXJzLF89cC5kdXJhdGlvbixtPXAuZGVsYXksZz1wLmltbWVkaWF0ZVJlbmRlcixUPXAuc3RhZ2dlcixiPXAub3ZlcndyaXRlLHg9cC5rZXlmcmFtZXMsTz1wLmRlZmF1bHRzLGs9cC5zY3JvbGxUcmlnZ2VyLE09cC55b3lvRWFzZSxQPXIucGFyZW50fHxJLEM9KFooZSl8fCQoZSk/dChlWzBdKToibGVuZ3RoImluIHIpP1tlXTpNdChlKTtpZihhLl90YXJnZXRzPUMubGVuZ3RoP2VhKEMpOlIoIkdTQVAgdGFyZ2V0ICIrZSsiIG5vdCBmb3VuZC4gaHR0cHM6Ly9nc2FwLmNvbSIsIXEubnVsbFRhcmdldFdhcm4pfHxbXSxhLl9wdExvb2t1cD1bXSxhLl9vdmVyd3JpdGU9Yix4fHxUfHx5KF8pfHx5KG0pKXtpZihyPWEudmFycywocz1hLnRpbWVsaW5lPW5ldyBYdCh7ZGF0YToibmVzdGVkIixkZWZhdWx0czpPfHx7fSx0YXJnZXRzOlAmJiJuZXN0ZWQiPT09UC5kYXRhP1AudmFycy50YXJnZXRzOkN9KSkua2lsbCgpLHMucGFyZW50PXMuX2RwPV9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoYSkscy5fc3RhcnQ9MCxUfHx5KF8pfHx5KG0pKXtpZihoPUMubGVuZ3RoLGQ9VCYmZWIoVCksdihUKSlmb3IobCBpbiBUKX5KdC5pbmRleE9mKGwpJiYoKGM9Y3x8e30pW2xdPVRbbF0pO2ZvcihvPTA7bzxoO28rKykodT11YShyLEh0KSkuc3RhZ2dlcj0wLE0mJih1LnlveW9FYXNlPU0pLGMmJnl0KHUsYyksZj1DW29dLHUuZHVyYXRpb249K0t0KF8sX2Fzc2VydFRoaXNJbml0aWFsaXplZChhKSxvLGYsQyksdS5kZWxheT0oK0t0KG0sX2Fzc2VydFRoaXNJbml0aWFsaXplZChhKSxvLGYsQyl8fDApLWEuX2RlbGF5LCFUJiYxPT09aCYmdS5kZWxheSYmKGEuX2RlbGF5PW09dS5kZWxheSxhLl9zdGFydCs9bSx1LmRlbGF5PTApLHMudG8oZix1LGQ/ZChvLGYsQyk6MCkscy5fZWFzZT1MdC5ub25lO3MuZHVyYXRpb24oKT9fPW09MDphLnRpbWVsaW5lPTB9ZWxzZSBpZih4KXt2YShxYShzLnZhcnMuZGVmYXVsdHMse2Vhc2U6Im5vbmUifSkpLHMuX2Vhc2U9anQoeC5lYXNlfHxyLmVhc2V8fCJub25lIik7dmFyIEEsUyx6LEU9MDtpZihaKHgpKXguZm9yRWFjaChmdW5jdGlvbih0KXtyZXR1cm4gcy50byhDLHQsIj4iKX0pLHMuZHVyYXRpb24oKTtlbHNle2ZvcihsIGluIHU9e30seCkiZWFzZSI9PT1sfHwiZWFzZUVhY2giPT09bHx8Z2MobCx4W2xdLHUseC5lYXNlRWFjaCk7Zm9yKGwgaW4gdSlmb3IoQT11W2xdLnNvcnQoZnVuY3Rpb24odCxlKXtyZXR1cm4gdC50LWUudH0pLG89RT0wO288QS5sZW5ndGg7bysrKSh6PXtlYXNlOihTPUFbb10pLmUsZHVyYXRpb246KFMudC0obz9BW28tMV0udDowKSkvMTAwKl99KVtsXT1TLnYscy50byhDLHosRSksRSs9ei5kdXJhdGlvbjtzLmR1cmF0aW9uKCk8XyYmcy50byh7fSx7ZHVyYXRpb246Xy1zLmR1cmF0aW9uKCl9KX19X3x8YS5kdXJhdGlvbihfPXMuZHVyYXRpb24oKSl9ZWxzZSBhLnRpbWVsaW5lPTA7cmV0dXJuITAhPT1ifHxGfHwoTnQ9X2Fzc2VydFRoaXNJbml0aWFsaXplZChhKSxJLmtpbGxUd2VlbnNPZihDKSxOdD0wKSxLYShQLF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoYSksaSksci5yZXZlcnNlZCYmYS5yZXZlcnNlKCksci5wYXVzZWQmJmEucGF1c2VkKCEwKSwoZ3x8IV8mJiF4JiZhLl9zdGFydD09PWphKFAuX3RpbWUpJiZ3KGcpJiZmdW5jdGlvbiBfaGFzTm9QYXVzZWRBbmNlc3RvcnModCl7cmV0dXJuIXR8fHQuX3RzJiZfaGFzTm9QYXVzZWRBbmNlc3RvcnModC5wYXJlbnQpfShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKGEpKSYmIm5lc3RlZCIhPT1QLmRhdGEpJiYoYS5fdFRpbWU9LVgsYS5yZW5kZXIoTWF0aC5tYXgoMCwtbSl8fDApKSxrJiZMYShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKGEpLGspLGF9X2luaGVyaXRzTG9vc2UoVHdlZW4sRCk7dmFyIGU9VHdlZW4ucHJvdG90eXBlO3JldHVybiBlLnJlbmRlcj1mdW5jdGlvbiByZW5kZXIodCxlLHIpe3ZhciBpLG4sYSxzLG8sdSxoLGwsZixkPXRoaXMuX3RpbWUsYz10aGlzLl90RHVyLHA9dGhpcy5fZHVyLF89dDwwLG09Yy1YPHQmJiFfP2M6dDxYPzA6dDtpZihwKXtpZihtIT09dGhpcy5fdFRpbWV8fCF0fHxyfHwhdGhpcy5faW5pdHRlZCYmdGhpcy5fdFRpbWV8fHRoaXMuX3N0YXJ0QXQmJnRoaXMuX3pUaW1lPDAhPV8pe2lmKGk9bSxsPXRoaXMudGltZWxpbmUsdGhpcy5fcmVwZWF0KXtpZihzPXArdGhpcy5fckRlbGF5LHRoaXMuX3JlcGVhdDwtMSYmXylyZXR1cm4gdGhpcy50b3RhbFRpbWUoMTAwKnMrdCxlLHIpO2lmKGk9amEobSVzKSxtPT09Yz8oYT10aGlzLl9yZXBlYXQsaT1wKTooKGE9fn4obS9zKSkmJmE9PT1qYShtL3MpJiYoaT1wLGEtLSkscDxpJiYoaT1wKSksKHU9dGhpcy5feW95byYmMSZhKSYmKGY9dGhpcy5feUVhc2UsaT1wLWkpLG89VHQodGhpcy5fdFRpbWUscyksaT09PWQmJiFyJiZ0aGlzLl9pbml0dGVkJiZhPT09bylyZXR1cm4gdGhpcy5fdFRpbWU9bSx0aGlzO2EhPT1vJiYobCYmdGhpcy5feUVhc2UmJlFiKGwsdSksdGhpcy52YXJzLnJlcGVhdFJlZnJlc2gmJiF1JiYhdGhpcy5fbG9jayYmdGhpcy5fdGltZSE9PXMmJnRoaXMuX2luaXR0ZWQmJih0aGlzLl9sb2NrPXI9MSx0aGlzLnJlbmRlcihqYShzKmEpLCEwKS5pbnZhbGlkYXRlKCkuX2xvY2s9MCkpfWlmKCF0aGlzLl9pbml0dGVkKXtpZihNYSh0aGlzLF8/dDppLHIsZSxtKSlyZXR1cm4gdGhpcy5fdFRpbWU9MCx0aGlzO2lmKCEoZD09PXRoaXMuX3RpbWV8fHImJnRoaXMudmFycy5yZXBlYXRSZWZyZXNoJiZhIT09bykpcmV0dXJuIHRoaXM7aWYocCE9PXRoaXMuX2R1cilyZXR1cm4gdGhpcy5yZW5kZXIodCxlLHIpfWlmKHRoaXMuX3RUaW1lPW0sdGhpcy5fdGltZT1pLCF0aGlzLl9hY3QmJnRoaXMuX3RzJiYodGhpcy5fYWN0PTEsdGhpcy5fbGF6eT0wKSx0aGlzLnJhdGlvPWg9KGZ8fHRoaXMuX2Vhc2UpKGkvcCksdGhpcy5fZnJvbSYmKHRoaXMucmF0aW89aD0xLWgpLGkmJiFkJiYhZSYmIWEmJihDdCh0aGlzLCJvblN0YXJ0IiksdGhpcy5fdFRpbWUhPT1tKSlyZXR1cm4gdGhpcztmb3Iobj10aGlzLl9wdDtuOyluLnIoaCxuLmQpLG49bi5fbmV4dDtsJiZsLnJlbmRlcih0PDA/dDpsLl9kdXIqbC5fZWFzZShpL3RoaXMuX2R1ciksZSxyKXx8dGhpcy5fc3RhcnRBdCYmKHRoaXMuX3pUaW1lPXQpLHRoaXMuX29uVXBkYXRlJiYhZSYmKF8mJkNhKHRoaXMsdCwwLHIpLEN0KHRoaXMsIm9uVXBkYXRlIikpLHRoaXMuX3JlcGVhdCYmYSE9PW8mJnRoaXMudmFycy5vblJlcGVhdCYmIWUmJnRoaXMucGFyZW50JiZDdCh0aGlzLCJvblJlcGVhdCIpLG0hPT10aGlzLl90RHVyJiZtfHx0aGlzLl90VGltZSE9PW18fChfJiYhdGhpcy5fb25VcGRhdGUmJkNhKHRoaXMsdCwwLCEwKSwhdCYmcHx8IShtPT09dGhpcy5fdER1ciYmMDx0aGlzLl90c3x8IW0mJnRoaXMuX3RzPDApfHx6YSh0aGlzLDEpLGV8fF8mJiFkfHwhKG18fGR8fHUpfHwoQ3QodGhpcyxtPT09Yz8ib25Db21wbGV0ZSI6Im9uUmV2ZXJzZUNvbXBsZXRlIiwhMCksIXRoaXMuX3Byb218fG08YyYmMDx0aGlzLnRpbWVTY2FsZSgpfHx0aGlzLl9wcm9tKCkpKX19ZWxzZSFmdW5jdGlvbiBfcmVuZGVyWmVyb0R1cmF0aW9uVHdlZW4odCxlLHIsaSl7dmFyIG4sYSxzLG89dC5yYXRpbyx1PWU8MHx8IWUmJighdC5fc3RhcnQmJmZ1bmN0aW9uIF9wYXJlbnRQbGF5aGVhZElzQmVmb3JlU3RhcnQodCl7dmFyIGU9dC5wYXJlbnQ7cmV0dXJuIGUmJmUuX3RzJiZlLl9pbml0dGVkJiYhZS5fbG9jayYmKGUucmF3VGltZSgpPDB8fF9wYXJlbnRQbGF5aGVhZElzQmVmb3JlU3RhcnQoZSkpfSh0KSYmKHQuX2luaXR0ZWR8fCFidCh0KSl8fCh0Ll90czwwfHx0Ll9kcC5fdHM8MCkmJiFidCh0KSk/MDoxLGg9dC5fckRlbGF5LGw9MDtpZihoJiZ0Ll9yZXBlYXQmJihsPU90KDAsdC5fdER1cixlKSxhPVR0KGwsaCksdC5feW95byYmMSZhJiYodT0xLXUpLGEhPT1UdCh0Ll90VGltZSxoKSYmKG89MS11LHQudmFycy5yZXBlYXRSZWZyZXNoJiZ0Ll9pbml0dGVkJiZ0LmludmFsaWRhdGUoKSkpLHUhPT1vfHxMfHxpfHx0Ll96VGltZT09PVh8fCFlJiZ0Ll96VGltZSl7aWYoIXQuX2luaXR0ZWQmJk1hKHQsZSxpLHIsbCkpcmV0dXJuO2ZvcihzPXQuX3pUaW1lLHQuX3pUaW1lPWV8fChyP1g6MCkscj1yfHxlJiYhcyx0LnJhdGlvPXUsdC5fZnJvbSYmKHU9MS11KSx0Ll90aW1lPTAsdC5fdFRpbWU9bCxuPXQuX3B0O247KW4ucih1LG4uZCksbj1uLl9uZXh0O2U8MCYmQ2EodCxlLDAsITApLHQuX29uVXBkYXRlJiYhciYmQ3QodCwib25VcGRhdGUiKSxsJiZ0Ll9yZXBlYXQmJiFyJiZ0LnBhcmVudCYmQ3QodCwib25SZXBlYXQiKSwoZT49dC5fdER1cnx8ZTwwKSYmdC5yYXRpbz09PXUmJih1JiZ6YSh0LDEpLHJ8fEx8fChDdCh0LHU/Im9uQ29tcGxldGUiOiJvblJldmVyc2VDb21wbGV0ZSIsITApLHQuX3Byb20mJnQuX3Byb20oKSkpfWVsc2UgdC5felRpbWV8fCh0Ll96VGltZT1lKX0odGhpcyx0LGUscik7cmV0dXJuIHRoaXN9LGUudGFyZ2V0cz1mdW5jdGlvbiB0YXJnZXRzKCl7cmV0dXJuIHRoaXMuX3RhcmdldHN9LGUuaW52YWxpZGF0ZT1mdW5jdGlvbiBpbnZhbGlkYXRlKHQpe3JldHVybiB0JiZ0aGlzLnZhcnMucnVuQmFja3dhcmRzfHwodGhpcy5fc3RhcnRBdD0wKSx0aGlzLl9wdD10aGlzLl9vcD10aGlzLl9vblVwZGF0ZT10aGlzLl9sYXp5PXRoaXMucmF0aW89MCx0aGlzLl9wdExvb2t1cD1bXSx0aGlzLnRpbWVsaW5lJiZ0aGlzLnRpbWVsaW5lLmludmFsaWRhdGUodCksRC5wcm90b3R5cGUuaW52YWxpZGF0ZS5jYWxsKHRoaXMsdCl9LGUucmVzZXRUbz1mdW5jdGlvbiByZXNldFRvKHQsZSxyLGksbil7Y3x8UnQud2FrZSgpLHRoaXMuX3RzfHx0aGlzLnBsYXkoKTt2YXIgYSxzPU1hdGgubWluKHRoaXMuX2R1ciwodGhpcy5fZHAuX3RpbWUtdGhpcy5fc3RhcnQpKnRoaXMuX3RzKTtyZXR1cm4gdGhpcy5faW5pdHRlZHx8UXQodGhpcyxzKSxhPXRoaXMuX2Vhc2Uocy90aGlzLl9kdXIpLGZ1bmN0aW9uIF91cGRhdGVQcm9wVHdlZW5zKHQsZSxyLGksbixhLHMsbyl7dmFyIHUsaCxsLGYsZD0odC5fcHQmJnQuX3B0Q2FjaGV8fCh0Ll9wdENhY2hlPXt9KSlbZV07aWYoIWQpZm9yKGQ9dC5fcHRDYWNoZVtlXT1bXSxsPXQuX3B0TG9va3VwLGY9dC5fdGFyZ2V0cy5sZW5ndGg7Zi0tOyl7aWYoKHU9bFtmXVtlXSkmJnUuZCYmdS5kLl9wdClmb3IodT11LmQuX3B0O3UmJnUucCE9PWUmJnUuZnAhPT1lOyl1PXUuX25leHQ7aWYoIXUpcmV0dXJuIEd0PTEsdC52YXJzW2VdPSIrPTAiLFF0KHQscyksR3Q9MCxvP1IoZSsiIG5vdCBlbGlnaWJsZSBmb3IgcmVzZXQiKToxO2QucHVzaCh1KX1mb3IoZj1kLmxlbmd0aDtmLS07KSh1PShoPWRbZl0pLl9wdHx8aCkucz0haSYmMCE9PWl8fG4/dS5zKyhpfHwwKSthKnUuYzppLHUuYz1yLXUucyxoLmUmJihoLmU9aWEocikrWWEoaC5lKSksaC5iJiYoaC5iPXUucytZYShoLmIpKX0odGhpcyx0LGUscixpLGEscyxuKT90aGlzLnJlc2V0VG8odCxlLHIsaSwxKTooSWEodGhpcywwKSx0aGlzLnBhcmVudHx8eGEodGhpcy5fZHAsdGhpcywiX2ZpcnN0IiwiX2xhc3QiLHRoaXMuX2RwLl9zb3J0PyJfc3RhcnQiOjApLHRoaXMucmVuZGVyKDApKX0sZS5raWxsPWZ1bmN0aW9uIGtpbGwodCxlKXtpZih2b2lkIDA9PT1lJiYoZT0iYWxsIiksISh0fHxlJiYiYWxsIiE9PWUpKXJldHVybiB0aGlzLl9sYXp5PXRoaXMuX3B0PTAsdGhpcy5wYXJlbnQ/dGIodGhpcyk6dGhpcztpZih0aGlzLnRpbWVsaW5lKXt2YXIgaT10aGlzLnRpbWVsaW5lLnRvdGFsRHVyYXRpb24oKTtyZXR1cm4gdGhpcy50aW1lbGluZS5raWxsVHdlZW5zT2YodCxlLE50JiYhMCE9PU50LnZhcnMub3ZlcndyaXRlKS5fZmlyc3R8fHRiKHRoaXMpLHRoaXMucGFyZW50JiZpIT09dGhpcy50aW1lbGluZS50b3RhbER1cmF0aW9uKCkmJlJhKHRoaXMsdGhpcy5fZHVyKnRoaXMudGltZWxpbmUuX3REdXIvaSwwLDEpLHRoaXN9dmFyIG4sYSxzLG8sdSxoLGwsZj10aGlzLl90YXJnZXRzLGQ9dD9NdCh0KTpmLGM9dGhpcy5fcHRMb29rdXAscD10aGlzLl9wdDtpZigoIWV8fCJhbGwiPT09ZSkmJmZ1bmN0aW9uIF9hcnJheXNNYXRjaCh0LGUpe2Zvcih2YXIgcj10Lmxlbmd0aCxpPXI9PT1lLmxlbmd0aDtpJiZyLS0mJnRbcl09PT1lW3JdOyk7cmV0dXJuIHI8MH0oZixkKSlyZXR1cm4iYWxsIj09PWUmJih0aGlzLl9wdD0wKSx0Yih0aGlzKTtmb3Iobj10aGlzLl9vcD10aGlzLl9vcHx8W10sImFsbCIhPT1lJiYocihlKSYmKHU9e30saGEoZSxmdW5jdGlvbih0KXtyZXR1cm4gdVt0XT0xfSksZT11KSxlPWZ1bmN0aW9uIF9hZGRBbGlhc2VzVG9WYXJzKHQsZSl7dmFyIHIsaSxuLGEscz10WzBdP2ZhKHRbMF0pLmhhcm5lc3M6MCxvPXMmJnMuYWxpYXNlcztpZighbylyZXR1cm4gZTtmb3IoaSBpbiByPXl0KHt9LGUpLG8paWYoaSBpbiByKWZvcihuPShhPW9baV0uc3BsaXQoIiwiKSkubGVuZ3RoO24tLTspclthW25dXT1yW2ldO3JldHVybiByfShmLGUpKSxsPWYubGVuZ3RoO2wtLTspaWYofmQuaW5kZXhPZihmW2xdKSlmb3IodSBpbiBhPWNbbF0sImFsbCI9PT1lPyhuW2xdPWUsbz1hLHM9e30pOihzPW5bbF09bltsXXx8e30sbz1lKSxvKShoPWEmJmFbdV0pJiYoImtpbGwiaW4gaC5kJiYhMCE9PWguZC5raWxsKHUpfHx5YSh0aGlzLGgsIl9wdCIpLGRlbGV0ZSBhW3VdKSwiYWxsIiE9PXMmJihzW3VdPTEpO3JldHVybiB0aGlzLl9pbml0dGVkJiYhdGhpcy5fcHQmJnAmJnRiKHRoaXMpLHRoaXN9LFR3ZWVuLnRvPWZ1bmN0aW9uIHRvKHQsZSxyKXtyZXR1cm4gbmV3IFR3ZWVuKHQsZSxyKX0sVHdlZW4uZnJvbT1mdW5jdGlvbiBmcm9tKHQsZSl7cmV0dXJuIFZhKDEsYXJndW1lbnRzKX0sVHdlZW4uZGVsYXllZENhbGw9ZnVuY3Rpb24gZGVsYXllZENhbGwodCxlLHIsaSl7cmV0dXJuIG5ldyBUd2VlbihlLDAse2ltbWVkaWF0ZVJlbmRlcjohMSxsYXp5OiExLG92ZXJ3cml0ZTohMSxkZWxheTp0LG9uQ29tcGxldGU6ZSxvblJldmVyc2VDb21wbGV0ZTplLG9uQ29tcGxldGVQYXJhbXM6cixvblJldmVyc2VDb21wbGV0ZVBhcmFtczpyLGNhbGxiYWNrU2NvcGU6aX0pfSxUd2Vlbi5mcm9tVG89ZnVuY3Rpb24gZnJvbVRvKHQsZSxyKXtyZXR1cm4gVmEoMixhcmd1bWVudHMpfSxUd2Vlbi5zZXQ9ZnVuY3Rpb24gc2V0KHQsZSl7cmV0dXJuIGUuZHVyYXRpb249MCxlLnJlcGVhdERlbGF5fHwoZS5yZXBlYXQ9MCksbmV3IFR3ZWVuKHQsZSl9LFR3ZWVuLmtpbGxUd2VlbnNPZj1mdW5jdGlvbiBraWxsVHdlZW5zT2YodCxlLHIpe3JldHVybiBJLmtpbGxUd2VlbnNPZih0LGUscil9LFR3ZWVufShVdCk7cWEoJHQucHJvdG90eXBlLHtfdGFyZ2V0czpbXSxfbGF6eTowLF9zdGFydEF0OjAsX29wOjAsX29uSW5pdDowfSksaGEoInN0YWdnZXJUbyxzdGFnZ2VyRnJvbSxzdGFnZ2VyRnJvbVRvIixmdW5jdGlvbihyKXskdFtyXT1mdW5jdGlvbigpe3ZhciB0PW5ldyBYdCxlPWt0LmNhbGwoYXJndW1lbnRzLDApO3JldHVybiBlLnNwbGljZSgic3RhZ2dlckZyb21UbyI9PT1yPzU6NCwwLDApLHRbcl0uYXBwbHkodCxlKX19KTtmdW5jdGlvbiBvYyh0LGUscil7cmV0dXJuIHQuc2V0QXR0cmlidXRlKGUscil9ZnVuY3Rpb24gd2ModCxlLHIsaSl7aS5tU2V0KHQsZSxpLm0uY2FsbChpLnR3ZWVuLHIsaS5tdCksaSl9dmFyIFp0PWZ1bmN0aW9uIF9zZXR0ZXJQbGFpbih0LGUscil7cmV0dXJuIHRbZV09cn0sdGU9ZnVuY3Rpb24gX3NldHRlckZ1bmModCxlLHIpe3JldHVybiB0W2VdKHIpfSxyZT1mdW5jdGlvbiBfc2V0dGVyRnVuY1dpdGhQYXJhbSh0LGUscixpKXtyZXR1cm4gdFtlXShpLmZwLHIpfSxuZT1mdW5jdGlvbiBfZ2V0U2V0dGVyKHQsZSl7cmV0dXJuIHModFtlXSk/dGU6dSh0W2VdKSYmdC5zZXRBdHRyaWJ1dGU/b2M6WnR9LGFlPWZ1bmN0aW9uIF9yZW5kZXJQbGFpbih0LGUpe3JldHVybiBlLnNldChlLnQsZS5wLE1hdGgucm91bmQoMWU2KihlLnMrZS5jKnQpKS8xZTYsZSl9LHNlPWZ1bmN0aW9uIF9yZW5kZXJCb29sZWFuKHQsZSl7cmV0dXJuIGUuc2V0KGUudCxlLnAsISEoZS5zK2UuYyp0KSxlKX0sdWU9ZnVuY3Rpb24gX3JlbmRlckNvbXBsZXhTdHJpbmcodCxlKXt2YXIgcj1lLl9wdCxpPSIiO2lmKCF0JiZlLmIpaT1lLmI7ZWxzZSBpZigxPT09dCYmZS5lKWk9ZS5lO2Vsc2V7Zm9yKDtyOylpPXIucCsoci5tP3IubShyLnMrci5jKnQpOk1hdGgucm91bmQoMWU0KihyLnMrci5jKnQpKS8xZTQpK2kscj1yLl9uZXh0O2krPWUuY31lLnNldChlLnQsZS5wLGksZSl9LGhlPWZ1bmN0aW9uIF9yZW5kZXJQcm9wVHdlZW5zKHQsZSl7Zm9yKHZhciByPWUuX3B0O3I7KXIucih0LHIuZCkscj1yLl9uZXh0fSxmZT1mdW5jdGlvbiBfYWRkUGx1Z2luTW9kaWZpZXIodCxlLHIsaSl7Zm9yKHZhciBuLGE9dGhpcy5fcHQ7YTspbj1hLl9uZXh0LGEucD09PWkmJmEubW9kaWZpZXIodCxlLHIpLGE9bn0sY2U9ZnVuY3Rpb24gX2tpbGxQcm9wVHdlZW5zT2YodCl7Zm9yKHZhciBlLHIsaT10aGlzLl9wdDtpOylyPWkuX25leHQsaS5wPT09dCYmIWkub3B8fGkub3A9PT10P3lhKHRoaXMsaSwiX3B0Iik6aS5kZXB8fChlPTEpLGk9cjtyZXR1cm4hZX0scGU9ZnVuY3Rpb24gX3NvcnRQcm9wVHdlZW5zQnlQcmlvcml0eSh0KXtmb3IodmFyIGUscixpLG4sYT10Ll9wdDthOyl7Zm9yKGU9YS5fbmV4dCxyPWk7ciYmci5wcj5hLnByOylyPXIuX25leHQ7KGEuX3ByZXY9cj9yLl9wcmV2Om4pP2EuX3ByZXYuX25leHQ9YTppPWEsKGEuX25leHQ9cik/ci5fcHJldj1hOm49YSxhPWV9dC5fcHQ9aX0sX2U9KFByb3BUd2Vlbi5wcm90b3R5cGUubW9kaWZpZXI9ZnVuY3Rpb24gbW9kaWZpZXIodCxlLHIpe3RoaXMubVNldD10aGlzLm1TZXR8fHRoaXMuc2V0LHRoaXMuc2V0PXdjLHRoaXMubT10LHRoaXMubXQ9cix0aGlzLnR3ZWVuPWV9LFByb3BUd2Vlbik7ZnVuY3Rpb24gUHJvcFR3ZWVuKHQsZSxyLGksbixhLHMsbyx1KXt0aGlzLnQ9ZSx0aGlzLnM9aSx0aGlzLmM9bix0aGlzLnA9cix0aGlzLnI9YXx8YWUsdGhpcy5kPXN8fHRoaXMsdGhpcy5zZXQ9b3x8WnQsdGhpcy5wcj11fHwwLCh0aGlzLl9uZXh0PXQpJiYodC5fcHJldj10aGlzKX1oYSh2dCsicGFyZW50LGR1cmF0aW9uLGVhc2UsZGVsYXksb3ZlcndyaXRlLHJ1bkJhY2t3YXJkcyxzdGFydEF0LHlveW8saW1tZWRpYXRlUmVuZGVyLHJlcGVhdCxyZXBlYXREZWxheSxkYXRhLHBhdXNlZCxyZXZlcnNlZCxsYXp5LGNhbGxiYWNrU2NvcGUsc3RyaW5nRmlsdGVyLGlkLHlveW9FYXNlLHN0YWdnZXIsaW5oZXJpdCxyZXBlYXRSZWZyZXNoLGtleWZyYW1lcyxhdXRvUmV2ZXJ0LHNjcm9sbFRyaWdnZXIiLGZ1bmN0aW9uKHQpe3JldHVybiBmdFt0XT0xfSksb3QuVHdlZW5NYXg9b3QuVHdlZW5MaXRlPSR0LG90LlRpbWVsaW5lTGl0ZT1vdC5UaW1lbGluZU1heD1YdCxJPW5ldyBYdCh7c29ydENoaWxkcmVuOiExLGRlZmF1bHRzOlYsYXV0b1JlbW92ZUNoaWxkcmVuOiEwLGlkOiJyb290IixzbW9vdGhDaGlsZFRpbWluZzohMH0pLHEuc3RyaW5nRmlsdGVyPUZiO2Z1bmN0aW9uIEVjKHQpe3JldHVybih5ZVt0XXx8VGUpLm1hcChmdW5jdGlvbih0KXtyZXR1cm4gdCgpfSl9ZnVuY3Rpb24gRmMoKXt2YXIgdD1EYXRlLm5vdygpLG89W107Mjx0LU9lJiYoRWMoIm1hdGNoTWVkaWFJbml0IiksZ2UuZm9yRWFjaChmdW5jdGlvbih0KXt2YXIgZSxyLGksbixhPXQucXVlcmllcyxzPXQuY29uZGl0aW9ucztmb3IociBpbiBhKShlPWgubWF0Y2hNZWRpYShhW3JdKS5tYXRjaGVzKSYmKGk9MSksZSE9PXNbcl0mJihzW3JdPWUsbj0xKTtuJiYodC5yZXZlcnQoKSxpJiZvLnB1c2godCkpfSksRWMoIm1hdGNoTWVkaWFSZXZlcnQiKSxvLmZvckVhY2goZnVuY3Rpb24oZSl7cmV0dXJuIGUub25NYXRjaChlLGZ1bmN0aW9uKHQpe3JldHVybiBlLmFkZChudWxsLHQpfSl9KSxPZT10LEVjKCJtYXRjaE1lZGlhIikpfXZhciBtZSxnZT1bXSx5ZT17fSxUZT1bXSxPZT0wLE1lPTAsUGU9KChtZT1Db250ZXh0LnByb3RvdHlwZSkuYWRkPWZ1bmN0aW9uIGFkZCh0LGksbil7ZnVuY3Rpb24gR3coKXt2YXIgdCxlPWwscj1hLnNlbGVjdG9yO3JldHVybiBlJiZlIT09YSYmZS5kYXRhLnB1c2goYSksbiYmKGEuc2VsZWN0b3I9Y2IobikpLGw9YSx0PWkuYXBwbHkoYSxhcmd1bWVudHMpLHModCkmJmEuX3IucHVzaCh0KSxsPWUsYS5zZWxlY3Rvcj1yLGEuaXNSZXZlcnRlZD0hMSx0fXModCkmJihuPWksaT10LHQ9cyk7dmFyIGE9dGhpcztyZXR1cm4gYS5sYXN0PUd3LHQ9PT1zP0d3KGEsZnVuY3Rpb24odCl7cmV0dXJuIGEuYWRkKG51bGwsdCl9KTp0P2FbdF09R3c6R3d9LG1lLmlnbm9yZT1mdW5jdGlvbiBpZ25vcmUodCl7dmFyIGU9bDtsPW51bGwsdCh0aGlzKSxsPWV9LG1lLmdldFR3ZWVucz1mdW5jdGlvbiBnZXRUd2VlbnMoKXt2YXIgZT1bXTtyZXR1cm4gdGhpcy5kYXRhLmZvckVhY2goZnVuY3Rpb24odCl7cmV0dXJuIHQgaW5zdGFuY2VvZiBDb250ZXh0P2UucHVzaC5hcHBseShlLHQuZ2V0VHdlZW5zKCkpOnQgaW5zdGFuY2VvZiAkdCYmISh0LnBhcmVudCYmIm5lc3RlZCI9PT10LnBhcmVudC5kYXRhKSYmZS5wdXNoKHQpfSksZX0sbWUuY2xlYXI9ZnVuY3Rpb24gY2xlYXIoKXt0aGlzLl9yLmxlbmd0aD10aGlzLmRhdGEubGVuZ3RoPTB9LG1lLmtpbGw9ZnVuY3Rpb24ga2lsbChpLHQpe3ZhciBuPXRoaXM7aWYoaT9mdW5jdGlvbigpe2Zvcih2YXIgdCxlPW4uZ2V0VHdlZW5zKCkscj1uLmRhdGEubGVuZ3RoO3ItLTspImlzRmxpcCI9PT0odD1uLmRhdGFbcl0pLmRhdGEmJih0LnJldmVydCgpLHQuZ2V0Q2hpbGRyZW4oITAsITAsITEpLmZvckVhY2goZnVuY3Rpb24odCl7cmV0dXJuIGUuc3BsaWNlKGUuaW5kZXhPZih0KSwxKX0pKTtmb3IoZS5tYXAoZnVuY3Rpb24odCl7cmV0dXJue2c6dC5fZHVyfHx0Ll9kZWxheXx8dC5fc2F0JiYhdC5fc2F0LnZhcnMuaW1tZWRpYXRlUmVuZGVyP3QuZ2xvYmFsVGltZSgwKTotMS8wLHQ6dH19KS5zb3J0KGZ1bmN0aW9uKHQsZSl7cmV0dXJuIGUuZy10Lmd8fC0xLzB9KS5mb3JFYWNoKGZ1bmN0aW9uKHQpe3JldHVybiB0LnQucmV2ZXJ0KGkpfSkscj1uLmRhdGEubGVuZ3RoO3ItLTspKHQ9bi5kYXRhW3JdKWluc3RhbmNlb2YgWHQ/Im5lc3RlZCIhPT10LmRhdGEmJih0LnNjcm9sbFRyaWdnZXImJnQuc2Nyb2xsVHJpZ2dlci5yZXZlcnQoKSx0LmtpbGwoKSk6dCBpbnN0YW5jZW9mICR0fHwhdC5yZXZlcnR8fHQucmV2ZXJ0KGkpO24uX3IuZm9yRWFjaChmdW5jdGlvbih0KXtyZXR1cm4gdChpLG4pfSksbi5pc1JldmVydGVkPSEwfSgpOnRoaXMuZGF0YS5mb3JFYWNoKGZ1bmN0aW9uKHQpe3JldHVybiB0LmtpbGwmJnQua2lsbCgpfSksdGhpcy5jbGVhcigpLHQpZm9yKHZhciBlPWdlLmxlbmd0aDtlLS07KWdlW2VdLmlkPT09dGhpcy5pZCYmZ2Uuc3BsaWNlKGUsMSl9LG1lLnJldmVydD1mdW5jdGlvbiByZXZlcnQodCl7dGhpcy5raWxsKHR8fHt9KX0sQ29udGV4dCk7ZnVuY3Rpb24gQ29udGV4dCh0LGUpe3RoaXMuc2VsZWN0b3I9ZSYmY2IoZSksdGhpcy5kYXRhPVtdLHRoaXMuX3I9W10sdGhpcy5pc1JldmVydGVkPSExLHRoaXMuaWQ9TWUrKyx0JiZ0aGlzLmFkZCh0KX12YXIgQ2UsQWU9KChDZT1NYXRjaE1lZGlhLnByb3RvdHlwZSkuYWRkPWZ1bmN0aW9uIGFkZCh0LGUscil7dih0KXx8KHQ9e21hdGNoZXM6dH0pO3ZhciBpLG4sYSxzPW5ldyBQZSgwLHJ8fHRoaXMuc2NvcGUpLG89cy5jb25kaXRpb25zPXt9O2ZvcihuIGluIGwmJiFzLnNlbGVjdG9yJiYocy5zZWxlY3Rvcj1sLnNlbGVjdG9yKSx0aGlzLmNvbnRleHRzLnB1c2gocyksZT1zLmFkZCgib25NYXRjaCIsZSkscy5xdWVyaWVzPXQpImFsbCI9PT1uP2E9MTooaT1oLm1hdGNoTWVkaWEodFtuXSkpJiYoZ2UuaW5kZXhPZihzKTwwJiZnZS5wdXNoKHMpLChvW25dPWkubWF0Y2hlcykmJihhPTEpLGkuYWRkTGlzdGVuZXI/aS5hZGRMaXN0ZW5lcihGYyk6aS5hZGRFdmVudExpc3RlbmVyKCJjaGFuZ2UiLEZjKSk7cmV0dXJuIGEmJmUocyxmdW5jdGlvbih0KXtyZXR1cm4gcy5hZGQobnVsbCx0KX0pLHRoaXN9LENlLnJldmVydD1mdW5jdGlvbiByZXZlcnQodCl7dGhpcy5raWxsKHR8fHt9KX0sQ2Uua2lsbD1mdW5jdGlvbiBraWxsKGUpe3RoaXMuY29udGV4dHMuZm9yRWFjaChmdW5jdGlvbih0KXtyZXR1cm4gdC5raWxsKGUsITApfSl9LE1hdGNoTWVkaWEpO2Z1bmN0aW9uIE1hdGNoTWVkaWEodCl7dGhpcy5jb250ZXh0cz1bXSx0aGlzLnNjb3BlPXQsbCYmbC5kYXRhLnB1c2godGhpcyl9dmFyIFNlPXtyZWdpc3RlclBsdWdpbjpmdW5jdGlvbiByZWdpc3RlclBsdWdpbigpe2Zvcih2YXIgdD1hcmd1bWVudHMubGVuZ3RoLGU9bmV3IEFycmF5KHQpLHI9MDtyPHQ7cisrKWVbcl09YXJndW1lbnRzW3JdO2UuZm9yRWFjaChmdW5jdGlvbih0KXtyZXR1cm4gd2IodCl9KX0sdGltZWxpbmU6ZnVuY3Rpb24gdGltZWxpbmUodCl7cmV0dXJuIG5ldyBYdCh0KX0sZ2V0VHdlZW5zT2Y6ZnVuY3Rpb24gZ2V0VHdlZW5zT2YodCxlKXtyZXR1cm4gSS5nZXRUd2VlbnNPZih0LGUpfSxnZXRQcm9wZXJ0eTpmdW5jdGlvbiBnZXRQcm9wZXJ0eShpLHQsZSxuKXtyKGkpJiYoaT1NdChpKVswXSk7dmFyIGE9ZmEoaXx8e30pLmdldCxzPWU/cGE6b2E7cmV0dXJuIm5hdGl2ZSI9PT1lJiYoZT0iIiksaT90P3MoKHB0W3RdJiZwdFt0XS5nZXR8fGEpKGksdCxlLG4pKTpmdW5jdGlvbih0LGUscil7cmV0dXJuIHMoKHB0W3RdJiZwdFt0XS5nZXR8fGEpKGksdCxlLHIpKX06aX0scXVpY2tTZXR0ZXI6ZnVuY3Rpb24gcXVpY2tTZXR0ZXIocixlLGkpe2lmKDE8KHI9TXQocikpLmxlbmd0aCl7dmFyIG49ci5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIHplLnF1aWNrU2V0dGVyKHQsZSxpKX0pLGE9bi5sZW5ndGg7cmV0dXJuIGZ1bmN0aW9uKHQpe2Zvcih2YXIgZT1hO2UtLTspbltlXSh0KX19cj1yWzBdfHx7fTt2YXIgcz1wdFtlXSxvPWZhKHIpLHU9by5oYXJuZXNzJiYoby5oYXJuZXNzLmFsaWFzZXN8fHt9KVtlXXx8ZSxoPXM/ZnVuY3Rpb24odCl7dmFyIGU9bmV3IHM7ZC5fcHQ9MCxlLmluaXQocixpP3QraTp0LGQsMCxbcl0pLGUucmVuZGVyKDEsZSksZC5fcHQmJmhlKDEsZCl9Om8uc2V0KHIsdSk7cmV0dXJuIHM/aDpmdW5jdGlvbih0KXtyZXR1cm4gaChyLHUsaT90K2k6dCxvLDEpfX0scXVpY2tUbzpmdW5jdGlvbiBxdWlja1RvKHQsaSxlKXtmdW5jdGlvbiAkeCh0LGUscil7cmV0dXJuIG4ucmVzZXRUbyhpLHQsZSxyKX12YXIgcixuPXplLnRvKHQseXQoKChyPXt9KVtpXT0iKz0wLjEiLHIucGF1c2VkPSEwLHIpLGV8fHt9KSk7cmV0dXJuICR4LnR3ZWVuPW4sJHh9LGlzVHdlZW5pbmc6ZnVuY3Rpb24gaXNUd2VlbmluZyh0KXtyZXR1cm4gMDxJLmdldFR3ZWVuc09mKHQsITApLmxlbmd0aH0sZGVmYXVsdHM6ZnVuY3Rpb24gZGVmYXVsdHModCl7cmV0dXJuIHQmJnQuZWFzZSYmKHQuZWFzZT1qdCh0LmVhc2UsVi5lYXNlKSksdGEoVix0fHx7fSl9LGNvbmZpZzpmdW5jdGlvbiBjb25maWcodCl7cmV0dXJuIHRhKHEsdHx8e30pfSxyZWdpc3RlckVmZmVjdDpmdW5jdGlvbiByZWdpc3RlckVmZmVjdCh0KXt2YXIgaT10Lm5hbWUsbj10LmVmZmVjdCxlPXQucGx1Z2lucyxhPXQuZGVmYXVsdHMscj10LmV4dGVuZFRpbWVsaW5lOyhlfHwiIikuc3BsaXQoIiwiKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe3JldHVybiB0JiYhcHRbdF0mJiFvdFt0XSYmUihpKyIgZWZmZWN0IHJlcXVpcmVzICIrdCsiIHBsdWdpbi4iKX0pLF90W2ldPWZ1bmN0aW9uKHQsZSxyKXtyZXR1cm4gbihNdCh0KSxxYShlfHx7fSxhKSxyKX0sciYmKFh0LnByb3RvdHlwZVtpXT1mdW5jdGlvbih0LGUscil7cmV0dXJuIHRoaXMuYWRkKF90W2ldKHQsdihlKT9lOihyPWUpJiZ7fSx0aGlzKSxyKX0pfSxyZWdpc3RlckVhc2U6ZnVuY3Rpb24gcmVnaXN0ZXJFYXNlKHQsZSl7THRbdF09anQoZSl9LHBhcnNlRWFzZTpmdW5jdGlvbiBwYXJzZUVhc2UodCxlKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD9qdCh0LGUpOkx0fSxnZXRCeUlkOmZ1bmN0aW9uIGdldEJ5SWQodCl7cmV0dXJuIEkuZ2V0QnlJZCh0KX0sZXhwb3J0Um9vdDpmdW5jdGlvbiBleHBvcnRSb290KHQsZSl7dm9pZCAwPT09dCYmKHQ9e30pO3ZhciByLGksbj1uZXcgWHQodCk7Zm9yKG4uc21vb3RoQ2hpbGRUaW1pbmc9dyh0LnNtb290aENoaWxkVGltaW5nKSxJLnJlbW92ZShuKSxuLl9kcD0wLG4uX3RpbWU9bi5fdFRpbWU9SS5fdGltZSxyPUkuX2ZpcnN0O3I7KWk9ci5fbmV4dCwhZSYmIXIuX2R1ciYmciBpbnN0YW5jZW9mICR0JiZyLnZhcnMub25Db21wbGV0ZT09PXIuX3RhcmdldHNbMF18fEthKG4scixyLl9zdGFydC1yLl9kZWxheSkscj1pO3JldHVybiBLYShJLG4sMCksbn0sY29udGV4dDpmdW5jdGlvbiBjb250ZXh0KHQsZSl7cmV0dXJuIHQ/bmV3IFBlKHQsZSk6bH0sbWF0Y2hNZWRpYTpmdW5jdGlvbiBtYXRjaE1lZGlhKHQpe3JldHVybiBuZXcgQWUodCl9LG1hdGNoTWVkaWFSZWZyZXNoOmZ1bmN0aW9uIG1hdGNoTWVkaWFSZWZyZXNoKCl7cmV0dXJuIGdlLmZvckVhY2goZnVuY3Rpb24odCl7dmFyIGUscixpPXQuY29uZGl0aW9ucztmb3IociBpbiBpKWlbcl0mJihpW3JdPSExLGU9MSk7ZSYmdC5yZXZlcnQoKX0pfHxGYygpfSxhZGRFdmVudExpc3RlbmVyOmZ1bmN0aW9uIGFkZEV2ZW50TGlzdGVuZXIodCxlKXt2YXIgcj15ZVt0XXx8KHllW3RdPVtdKTt+ci5pbmRleE9mKGUpfHxyLnB1c2goZSl9LHJlbW92ZUV2ZW50TGlzdGVuZXI6ZnVuY3Rpb24gcmVtb3ZlRXZlbnRMaXN0ZW5lcih0LGUpe3ZhciByPXllW3RdLGk9ciYmci5pbmRleE9mKGUpOzA8PWkmJnIuc3BsaWNlKGksMSl9LHV0aWxzOnt3cmFwOmZ1bmN0aW9uIHdyYXAoZSx0LHIpe3ZhciBpPXQtZTtyZXR1cm4gWihlKT9sYihlLHdyYXAoMCxlLmxlbmd0aCksdCk6V2EocixmdW5jdGlvbih0KXtyZXR1cm4oaSsodC1lKSVpKSVpK2V9KX0sd3JhcFlveW86ZnVuY3Rpb24gd3JhcFlveW8oZSx0LHIpe3ZhciBpPXQtZSxuPTIqaTtyZXR1cm4gWihlKT9sYihlLHdyYXBZb3lvKDAsZS5sZW5ndGgtMSksdCk6V2EocixmdW5jdGlvbih0KXtyZXR1cm4gZSsoaTwodD0obisodC1lKSVuKSVufHwwKT9uLXQ6dCl9KX0sZGlzdHJpYnV0ZTplYixyYW5kb206aGIsc25hcDpnYixub3JtYWxpemU6ZnVuY3Rpb24gbm9ybWFsaXplKHQsZSxyKXtyZXR1cm4gUHQodCxlLDAsMSxyKX0sZ2V0VW5pdDpZYSxjbGFtcDpmdW5jdGlvbiBjbGFtcChlLHIsdCl7cmV0dXJuIFdhKHQsZnVuY3Rpb24odCl7cmV0dXJuIE90KGUscix0KX0pfSxzcGxpdENvbG9yOkFiLHRvQXJyYXk6TXQsc2VsZWN0b3I6Y2IsbWFwUmFuZ2U6UHQscGlwZTpmdW5jdGlvbiBwaXBlKCl7Zm9yKHZhciB0PWFyZ3VtZW50cy5sZW5ndGgsZT1uZXcgQXJyYXkodCkscj0wO3I8dDtyKyspZVtyXT1hcmd1bWVudHNbcl07cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiBlLnJlZHVjZShmdW5jdGlvbih0LGUpe3JldHVybiBlKHQpfSx0KX19LHVuaXRpemU6ZnVuY3Rpb24gdW5pdGl6ZShlLHIpe3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4gZShwYXJzZUZsb2F0KHQpKSsocnx8WWEodCkpfX0saW50ZXJwb2xhdGU6ZnVuY3Rpb24gaW50ZXJwb2xhdGUoZSxpLHQsbil7dmFyIGE9aXNOYU4oZStpKT8wOmZ1bmN0aW9uKHQpe3JldHVybigxLXQpKmUrdCppfTtpZighYSl7dmFyIHMsbyx1LGgsbCxmPXIoZSksZD17fTtpZighMD09PXQmJihuPTEpJiYodD1udWxsKSxmKWU9e3A6ZX0saT17cDppfTtlbHNlIGlmKFooZSkmJiFaKGkpKXtmb3IodT1bXSxoPWUubGVuZ3RoLGw9aC0yLG89MTtvPGg7bysrKXUucHVzaChpbnRlcnBvbGF0ZShlW28tMV0sZVtvXSkpO2gtLSxhPWZ1bmN0aW9uIGZ1bmModCl7dCo9aDt2YXIgZT1NYXRoLm1pbihsLH5+dCk7cmV0dXJuIHVbZV0odC1lKX0sdD1pfWVsc2Ugbnx8KGU9eXQoWihlKT9bXTp7fSxlKSk7aWYoIXUpe2ZvcihzIGluIGkpV3QuY2FsbChkLGUscywiZ2V0IixpW3NdKTthPWZ1bmN0aW9uIGZ1bmModCl7cmV0dXJuIGhlKHQsZCl8fChmP2UucDplKX19fXJldHVybiBXYSh0LGEpfSxzaHVmZmxlOmRifSxpbnN0YWxsOlAsZWZmZWN0czpfdCx0aWNrZXI6UnQsdXBkYXRlUm9vdDpYdC51cGRhdGVSb290LHBsdWdpbnM6cHQsZ2xvYmFsVGltZWxpbmU6SSxjb3JlOntQcm9wVHdlZW46X2UsZ2xvYmFsczpTLFR3ZWVuOiR0LFRpbWVsaW5lOlh0LEFuaW1hdGlvbjpVdCxnZXRDYWNoZTpmYSxfcmVtb3ZlTGlua2VkTGlzdEl0ZW06eWEscmV2ZXJ0aW5nOmZ1bmN0aW9uIHJldmVydGluZygpe3JldHVybiBMfSxjb250ZXh0OmZ1bmN0aW9uIGNvbnRleHQodCl7cmV0dXJuIHQmJmwmJihsLmRhdGEucHVzaCh0KSx0Ll9jdHg9bCksbH0sc3VwcHJlc3NPdmVyd3JpdGVzOmZ1bmN0aW9uIHN1cHByZXNzT3ZlcndyaXRlcyh0KXtyZXR1cm4gRj10fX19O2hhKCJ0byxmcm9tLGZyb21UbyxkZWxheWVkQ2FsbCxzZXQsa2lsbFR3ZWVuc09mIixmdW5jdGlvbih0KXtyZXR1cm4gU2VbdF09JHRbdF19KSxSdC5hZGQoWHQudXBkYXRlUm9vdCksZD1TZS50byh7fSx7ZHVyYXRpb246MH0pO2Z1bmN0aW9uIEpjKHQsZSl7Zm9yKHZhciByPXQuX3B0O3ImJnIucCE9PWUmJnIub3AhPT1lJiZyLmZwIT09ZTspcj1yLl9uZXh0O3JldHVybiByfWZ1bmN0aW9uIExjKHQsYSl7cmV0dXJue25hbWU6dCxyYXdWYXJzOjEsaW5pdDpmdW5jdGlvbiBpbml0KHQsbixlKXtlLl9vbkluaXQ9ZnVuY3Rpb24odCl7dmFyIGUsaTtpZihyKG4pJiYoZT17fSxoYShuLGZ1bmN0aW9uKHQpe3JldHVybiBlW3RdPTF9KSxuPWUpLGEpe2ZvcihpIGluIGU9e30sbillW2ldPWEobltpXSk7bj1lfSFmdW5jdGlvbiBfYWRkTW9kaWZpZXJzKHQsZSl7dmFyIHIsaSxuLGE9dC5fdGFyZ2V0cztmb3IociBpbiBlKWZvcihpPWEubGVuZ3RoO2ktLTspKG49KG49dC5fcHRMb29rdXBbaV1bcl0pJiZuLmQpJiYobi5fcHQmJihuPUpjKG4scikpLG4mJm4ubW9kaWZpZXImJm4ubW9kaWZpZXIoZVtyXSx0LGFbaV0scikpfSh0LG4pfX19fXZhciB6ZT1TZS5yZWdpc3RlclBsdWdpbih7bmFtZToiYXR0ciIsaW5pdDpmdW5jdGlvbiBpbml0KHQsZSxyLGksbil7dmFyIGEscyxvO2ZvcihhIGluIHRoaXMudHdlZW49cixlKW89dC5nZXRBdHRyaWJ1dGUoYSl8fCIiLChzPXRoaXMuYWRkKHQsInNldEF0dHJpYnV0ZSIsKG98fDApKyIiLGVbYV0saSxuLDAsMCxhKSkub3A9YSxzLmI9byx0aGlzLl9wcm9wcy5wdXNoKGEpfSxyZW5kZXI6ZnVuY3Rpb24gcmVuZGVyKHQsZSl7Zm9yKHZhciByPWUuX3B0O3I7KUw/ci5zZXQoci50LHIucCxyLmIscik6ci5yKHQsci5kKSxyPXIuX25leHR9fSx7bmFtZToiZW5kQXJyYXkiLGluaXQ6ZnVuY3Rpb24gaW5pdCh0LGUpe2Zvcih2YXIgcj1lLmxlbmd0aDtyLS07KXRoaXMuYWRkKHQscix0W3JdfHwwLGVbcl0sMCwwLDAsMCwwLDEpfX0sTGMoInJvdW5kUHJvcHMiLGZiKSxMYygibW9kaWZpZXJzIiksTGMoInNuYXAiLGdiKSl8fFNlOyR0LnZlcnNpb249WHQudmVyc2lvbj16ZS52ZXJzaW9uPSIzLjEyLjUiLG89MSx4KCkmJkZ0KCk7ZnVuY3Rpb24gdmQodCxlKXtyZXR1cm4gZS5zZXQoZS50LGUucCxNYXRoLnJvdW5kKDFlNCooZS5zK2UuYyp0KSkvMWU0K2UudSxlKX1mdW5jdGlvbiB3ZCh0LGUpe3JldHVybiBlLnNldChlLnQsZS5wLDE9PT10P2UuZTpNYXRoLnJvdW5kKDFlNCooZS5zK2UuYyp0KSkvMWU0K2UudSxlKX1mdW5jdGlvbiB4ZCh0LGUpe3JldHVybiBlLnNldChlLnQsZS5wLHQ/TWF0aC5yb3VuZCgxZTQqKGUucytlLmMqdCkpLzFlNCtlLnU6ZS5iLGUpfWZ1bmN0aW9uIHlkKHQsZSl7dmFyIHI9ZS5zK2UuYyp0O2Uuc2V0KGUudCxlLnAsfn4ocisocjwwPy0uNTouNSkpK2UudSxlKX1mdW5jdGlvbiB6ZCh0LGUpe3JldHVybiBlLnNldChlLnQsZS5wLHQ/ZS5lOmUuYixlKX1mdW5jdGlvbiBBZCh0LGUpe3JldHVybiBlLnNldChlLnQsZS5wLDEhPT10P2UuYjplLmUsZSl9ZnVuY3Rpb24gQmQodCxlLHIpe3JldHVybiB0LnN0eWxlW2VdPXJ9ZnVuY3Rpb24gQ2QodCxlLHIpe3JldHVybiB0LnN0eWxlLnNldFByb3BlcnR5KGUscil9ZnVuY3Rpb24gRGQodCxlLHIpe3JldHVybiB0Ll9nc2FwW2VdPXJ9ZnVuY3Rpb24gRWQodCxlLHIpe3JldHVybiB0Ll9nc2FwLnNjYWxlWD10Ll9nc2FwLnNjYWxlWT1yfWZ1bmN0aW9uIEZkKHQsZSxyLGksbil7dmFyIGE9dC5fZ3NhcDthLnNjYWxlWD1hLnNjYWxlWT1yLGEucmVuZGVyVHJhbnNmb3JtKG4sYSl9ZnVuY3Rpb24gR2QodCxlLHIsaSxuKXt2YXIgYT10Ll9nc2FwO2FbZV09cixhLnJlbmRlclRyYW5zZm9ybShuLGEpfWZ1bmN0aW9uIEpkKHQsZSl7dmFyIHI9dGhpcyxpPXRoaXMudGFyZ2V0LG49aS5zdHlsZSxhPWkuX2dzYXA7aWYodCBpbiBhciYmbil7aWYodGhpcy50Zm09dGhpcy50Zm18fHt9LCJ0cmFuc2Zvcm0iPT09dClyZXR1cm4gZHIudHJhbnNmb3JtLnNwbGl0KCIsIikuZm9yRWFjaChmdW5jdGlvbih0KXtyZXR1cm4gSmQuY2FsbChyLHQsZSl9KTtpZih+KHQ9ZHJbdF18fHQpLmluZGV4T2YoIiwiKT90LnNwbGl0KCIsIikuZm9yRWFjaChmdW5jdGlvbih0KXtyZXR1cm4gci50Zm1bdF09eXIoaSx0KX0pOnRoaXMudGZtW3RdPWEueD9hW3RdOnlyKGksdCksdD09PXByJiYodGhpcy50Zm0uek9yaWdpbj1hLnpPcmlnaW4pLDA8PXRoaXMucHJvcHMuaW5kZXhPZihjcikpcmV0dXJuO2Euc3ZnJiYodGhpcy5zdmdvPWkuZ2V0QXR0cmlidXRlKCJkYXRhLXN2Zy1vcmlnaW4iKSx0aGlzLnByb3BzLnB1c2gocHIsZSwiIikpLHQ9Y3J9KG58fGUpJiZ0aGlzLnByb3BzLnB1c2godCxlLG5bdF0pfWZ1bmN0aW9uIEtkKHQpe3QudHJhbnNsYXRlJiYodC5yZW1vdmVQcm9wZXJ0eSgidHJhbnNsYXRlIiksdC5yZW1vdmVQcm9wZXJ0eSgic2NhbGUiKSx0LnJlbW92ZVByb3BlcnR5KCJyb3RhdGUiKSl9ZnVuY3Rpb24gTGQoKXt2YXIgdCxlLHI9dGhpcy5wcm9wcyxpPXRoaXMudGFyZ2V0LG49aS5zdHlsZSxhPWkuX2dzYXA7Zm9yKHQ9MDt0PHIubGVuZ3RoO3QrPTMpclt0KzFdP2lbclt0XV09clt0KzJdOnJbdCsyXT9uW3JbdF1dPXJbdCsyXTpuLnJlbW92ZVByb3BlcnR5KCItLSI9PT1yW3RdLnN1YnN0cigwLDIpP3JbdF06clt0XS5yZXBsYWNlKGhyLCItJDEiKS50b0xvd2VyQ2FzZSgpKTtpZih0aGlzLnRmbSl7Zm9yKGUgaW4gdGhpcy50Zm0pYVtlXT10aGlzLnRmbVtlXTthLnN2ZyYmKGEucmVuZGVyVHJhbnNmb3JtKCksaS5zZXRBdHRyaWJ1dGUoImRhdGEtc3ZnLW9yaWdpbiIsdGhpcy5zdmdvfHwiIikpLCh0PUJlKCkpJiZ0LmlzU3RhcnR8fG5bY3JdfHwoS2QobiksYS56T3JpZ2luJiZuW3ByXSYmKG5bcHJdKz0iICIrYS56T3JpZ2luKyJweCIsYS56T3JpZ2luPTAsYS5yZW5kZXJUcmFuc2Zvcm0oKSksYS51bmNhY2hlPTEpfX1mdW5jdGlvbiBNZCh0LGUpe3ZhciByPXt0YXJnZXQ6dCxwcm9wczpbXSxyZXZlcnQ6TGQsc2F2ZTpKZH07cmV0dXJuIHQuX2dzYXB8fHplLmNvcmUuZ2V0Q2FjaGUodCksZSYmZS5zcGxpdCgiLCIpLmZvckVhY2goZnVuY3Rpb24odCl7cmV0dXJuIHIuc2F2ZSh0KX0pLHJ9ZnVuY3Rpb24gT2QodCxlKXt2YXIgcj1EZS5jcmVhdGVFbGVtZW50TlM/RGUuY3JlYXRlRWxlbWVudE5TKChlfHwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIpLnJlcGxhY2UoL15odHRwcy8sImh0dHAiKSx0KTpEZS5jcmVhdGVFbGVtZW50KHQpO3JldHVybiByJiZyLnN0eWxlP3I6RGUuY3JlYXRlRWxlbWVudCh0KX1mdW5jdGlvbiBQZCh0LGUscil7dmFyIGk9Z2V0Q29tcHV0ZWRTdHlsZSh0KTtyZXR1cm4gaVtlXXx8aS5nZXRQcm9wZXJ0eVZhbHVlKGUucmVwbGFjZShociwiLSQxIikudG9Mb3dlckNhc2UoKSl8fGkuZ2V0UHJvcGVydHlWYWx1ZShlKXx8IXImJlBkKHQsbXIoZSl8fGUsMSl8fCIifWZ1bmN0aW9uIFNkKCl7KGZ1bmN0aW9uIF93aW5kb3dFeGlzdHMoKXtyZXR1cm4idW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvd30pKCkmJndpbmRvdy5kb2N1bWVudCYmKEVlPXdpbmRvdyxEZT1FZS5kb2N1bWVudCxSZT1EZS5kb2N1bWVudEVsZW1lbnQsTGU9T2QoImRpdiIpfHx7c3R5bGU6e319LE9kKCJkaXYiKSxjcj1tcihjcikscHI9Y3IrIk9yaWdpbiIsTGUuc3R5bGUuY3NzVGV4dD0iYm9yZGVyLXdpZHRoOjA7bGluZS1oZWlnaHQ6MDtwb3NpdGlvbjphYnNvbHV0ZTtwYWRkaW5nOjAiLFllPSEhbXIoInBlcnNwZWN0aXZlIiksQmU9emUuY29yZS5yZXZlcnRpbmcsRmU9MSl9ZnVuY3Rpb24gVGQodCl7dmFyIGUscj1PZCgic3ZnIix0aGlzLm93bmVyU1ZHRWxlbWVudCYmdGhpcy5vd25lclNWR0VsZW1lbnQuZ2V0QXR0cmlidXRlKCJ4bWxucyIpfHwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciKSxpPXRoaXMucGFyZW50Tm9kZSxuPXRoaXMubmV4dFNpYmxpbmcsYT10aGlzLnN0eWxlLmNzc1RleHQ7aWYoUmUuYXBwZW5kQ2hpbGQociksci5hcHBlbmRDaGlsZCh0aGlzKSx0aGlzLnN0eWxlLmRpc3BsYXk9ImJsb2NrIix0KXRyeXtlPXRoaXMuZ2V0QkJveCgpLHRoaXMuX2dzYXBCQm94PXRoaXMuZ2V0QkJveCx0aGlzLmdldEJCb3g9VGR9Y2F0Y2godCl7fWVsc2UgdGhpcy5fZ3NhcEJCb3gmJihlPXRoaXMuX2dzYXBCQm94KCkpO3JldHVybiBpJiYobj9pLmluc2VydEJlZm9yZSh0aGlzLG4pOmkuYXBwZW5kQ2hpbGQodGhpcykpLFJlLnJlbW92ZUNoaWxkKHIpLHRoaXMuc3R5bGUuY3NzVGV4dD1hLGV9ZnVuY3Rpb24gVWQodCxlKXtmb3IodmFyIHI9ZS5sZW5ndGg7ci0tOylpZih0Lmhhc0F0dHJpYnV0ZShlW3JdKSlyZXR1cm4gdC5nZXRBdHRyaWJ1dGUoZVtyXSl9ZnVuY3Rpb24gVmQoZSl7dmFyIHI7dHJ5e3I9ZS5nZXRCQm94KCl9Y2F0Y2godCl7cj1UZC5jYWxsKGUsITApfXJldHVybiByJiYoci53aWR0aHx8ci5oZWlnaHQpfHxlLmdldEJCb3g9PT1UZHx8KHI9VGQuY2FsbChlLCEwKSksIXJ8fHIud2lkdGh8fHIueHx8ci55P3I6e3g6K1VkKGUsWyJ4IiwiY3giLCJ4MSJdKXx8MCx5OitVZChlLFsieSIsImN5IiwieTEiXSl8fDAsd2lkdGg6MCxoZWlnaHQ6MH19ZnVuY3Rpb24gV2QodCl7cmV0dXJuISghdC5nZXRDVE18fHQucGFyZW50Tm9kZSYmIXQub3duZXJTVkdFbGVtZW50fHwhVmQodCkpfWZ1bmN0aW9uIFhkKHQsZSl7aWYoZSl7dmFyIHIsaT10LnN0eWxlO2UgaW4gYXImJmUhPT1wciYmKGU9Y3IpLGkucmVtb3ZlUHJvcGVydHk/KCJtcyIhPT0ocj1lLnN1YnN0cigwLDIpKSYmIndlYmtpdCIhPT1lLnN1YnN0cigwLDYpfHwoZT0iLSIrZSksaS5yZW1vdmVQcm9wZXJ0eSgiLS0iPT09cj9lOmUucmVwbGFjZShociwiLSQxIikudG9Mb3dlckNhc2UoKSkpOmkucmVtb3ZlQXR0cmlidXRlKGUpfX1mdW5jdGlvbiBZZCh0LGUscixpLG4sYSl7dmFyIHM9bmV3IF9lKHQuX3B0LGUsciwwLDEsYT9BZDp6ZCk7cmV0dXJuKHQuX3B0PXMpLmI9aSxzLmU9bix0Ll9wcm9wcy5wdXNoKHIpLHN9ZnVuY3Rpb24gX2QodCxlLHIsaSl7dmFyIG4sYSxzLG8sdT1wYXJzZUZsb2F0KHIpfHwwLGg9KHIrIiIpLnRyaW0oKS5zdWJzdHIoKHUrIiIpLmxlbmd0aCl8fCJweCIsbD1MZS5zdHlsZSxmPWxyLnRlc3QoZSksZD0ic3ZnIj09PXQudGFnTmFtZS50b0xvd2VyQ2FzZSgpLGM9KGQ/ImNsaWVudCI6Im9mZnNldCIpKyhmPyJXaWR0aCI6IkhlaWdodCIpLHA9InB4Ij09PWksXz0iJSI9PT1pO2lmKGk9PT1ofHwhdXx8Z3JbaV18fGdyW2hdKXJldHVybiB1O2lmKCJweCI9PT1ofHxwfHwodT1fZCh0LGUsciwicHgiKSksbz10LmdldENUTSYmV2QodCksKF98fCIlIj09PWgpJiYoYXJbZV18fH5lLmluZGV4T2YoImFkaXVzIikpKXJldHVybiBuPW8/dC5nZXRCQm94KClbZj8id2lkdGgiOiJoZWlnaHQiXTp0W2NdLGlhKF8/dS9uKjEwMDp1LzEwMCpuKTtpZihsW2Y/IndpZHRoIjoiaGVpZ2h0Il09MTAwKyhwP2g6aSksYT1+ZS5pbmRleE9mKCJhZGl1cyIpfHwiZW0iPT09aSYmdC5hcHBlbmRDaGlsZCYmIWQ/dDp0LnBhcmVudE5vZGUsbyYmKGE9KHQub3duZXJTVkdFbGVtZW50fHx7fSkucGFyZW50Tm9kZSksYSYmYSE9PURlJiZhLmFwcGVuZENoaWxkfHwoYT1EZS5ib2R5KSwocz1hLl9nc2FwKSYmXyYmcy53aWR0aCYmZiYmcy50aW1lPT09UnQudGltZSYmIXMudW5jYWNoZSlyZXR1cm4gaWEodS9zLndpZHRoKjEwMCk7aWYoIV98fCJoZWlnaHQiIT09ZSYmIndpZHRoIiE9PWUpIV8mJiIlIiE9PWh8fHZyW1BkKGEsImRpc3BsYXkiKV18fChsLnBvc2l0aW9uPVBkKHQsInBvc2l0aW9uIikpLGE9PT10JiYobC5wb3NpdGlvbj0ic3RhdGljIiksYS5hcHBlbmRDaGlsZChMZSksbj1MZVtjXSxhLnJlbW92ZUNoaWxkKExlKSxsLnBvc2l0aW9uPSJhYnNvbHV0ZSI7ZWxzZXt2YXIgbT10LnN0eWxlW2VdO3Quc3R5bGVbZV09MTAwK2ksbj10W2NdLG0/dC5zdHlsZVtlXT1tOlhkKHQsZSl9cmV0dXJuIGYmJl8mJigocz1mYShhKSkudGltZT1SdC50aW1lLHMud2lkdGg9YVtjXSksaWEocD9uKnUvMTAwOm4mJnU/MTAwL24qdTowKX1mdW5jdGlvbiBiZSh0LGUscixpKXtpZighcnx8Im5vbmUiPT09cil7dmFyIG49bXIoZSx0LDEpLGE9biYmUGQodCxuLDEpO2EmJmEhPT1yPyhlPW4scj1hKToiYm9yZGVyQ29sb3IiPT09ZSYmKHI9UGQodCwiYm9yZGVyVG9wQ29sb3IiKSl9dmFyIHMsbyx1LGgsbCxmLGQsYyxwLF8sbSxnPW5ldyBfZSh0aGlzLl9wdCx0LnN0eWxlLGUsMCwxLHVlKSx2PTAseT0wO2lmKGcuYj1yLGcuZT1pLHIrPSIiLCJhdXRvIj09PShpKz0iIikmJihmPXQuc3R5bGVbZV0sdC5zdHlsZVtlXT1pLGk9UGQodCxlKXx8aSxmP3Quc3R5bGVbZV09ZjpYZCh0LGUpKSxGYihzPVtyLGldKSxpPXNbMV0sdT0ocj1zWzBdKS5tYXRjaChydCl8fFtdLChpLm1hdGNoKHJ0KXx8W10pLmxlbmd0aCl7Zm9yKDtvPXJ0LmV4ZWMoaSk7KWQ9b1swXSxwPWkuc3Vic3RyaW5nKHYsby5pbmRleCksbD9sPShsKzEpJTU6InJnYmEoIiE9PXAuc3Vic3RyKC01KSYmImhzbGEoIiE9PXAuc3Vic3RyKC01KXx8KGw9MSksZCE9PShmPXVbeSsrXXx8IiIpJiYoaD1wYXJzZUZsb2F0KGYpfHwwLG09Zi5zdWJzdHIoKGgrIiIpLmxlbmd0aCksIj0iPT09ZC5jaGFyQXQoMSkmJihkPWthKGgsZCkrbSksYz1wYXJzZUZsb2F0KGQpLF89ZC5zdWJzdHIoKGMrIiIpLmxlbmd0aCksdj1ydC5sYXN0SW5kZXgtXy5sZW5ndGgsX3x8KF89X3x8cS51bml0c1tlXXx8bSx2PT09aS5sZW5ndGgmJihpKz1fLGcuZSs9XykpLG0hPT1fJiYoaD1fZCh0LGUsZixfKXx8MCksZy5fcHQ9e19uZXh0OmcuX3B0LHA6cHx8MT09PXk/cDoiLCIsczpoLGM6Yy1oLG06bCYmbDw0fHwiekluZGV4Ij09PWU/TWF0aC5yb3VuZDowfSk7Zy5jPXY8aS5sZW5ndGg/aS5zdWJzdHJpbmcodixpLmxlbmd0aCk6IiJ9ZWxzZSBnLnI9ImRpc3BsYXkiPT09ZSYmIm5vbmUiPT09aT9BZDp6ZDtyZXR1cm4gbnQudGVzdChpKSYmKGcuZT0wKSx0aGlzLl9wdD1nfWZ1bmN0aW9uIGRlKHQpe3ZhciBlPXQuc3BsaXQoIiAiKSxyPWVbMF0saT1lWzFdfHwiNTAlIjtyZXR1cm4idG9wIiE9PXImJiJib3R0b20iIT09ciYmImxlZnQiIT09aSYmInJpZ2h0IiE9PWl8fCh0PXIscj1pLGk9dCksZVswXT1UcltyXXx8cixlWzFdPVRyW2ldfHxpLGUuam9pbigiICIpfWZ1bmN0aW9uIGVlKHQsZSl7aWYoZS50d2VlbiYmZS50d2Vlbi5fdGltZT09PWUudHdlZW4uX2R1cil7dmFyIHIsaSxuLGE9ZS50LHM9YS5zdHlsZSxvPWUudSx1PWEuX2dzYXA7aWYoImFsbCI9PT1vfHwhMD09PW8pcy5jc3NUZXh0PSIiLGk9MTtlbHNlIGZvcihuPShvPW8uc3BsaXQoIiwiKSkubGVuZ3RoOy0xPC0tbjspcj1vW25dLGFyW3JdJiYoaT0xLHI9InRyYW5zZm9ybU9yaWdpbiI9PT1yP3ByOmNyKSxYZChhLHIpO2kmJihYZChhLGNyKSx1JiYodS5zdmcmJmEucmVtb3ZlQXR0cmlidXRlKCJ0cmFuc2Zvcm0iKSxPcihhLDEpLHUudW5jYWNoZT0xLEtkKHMpKSl9fWZ1bmN0aW9uIGllKHQpe3JldHVybiJtYXRyaXgoMSwgMCwgMCwgMSwgMCwgMCkiPT09dHx8Im5vbmUiPT09dHx8IXR9ZnVuY3Rpb24gamUodCl7dmFyIGU9UGQodCxjcik7cmV0dXJuIGllKGUpP3dyOmUuc3Vic3RyKDcpLm1hdGNoKGV0KS5tYXAoaWEpfWZ1bmN0aW9uIGtlKHQsZSl7dmFyIHIsaSxuLGEscz10Ll9nc2FwfHxmYSh0KSxvPXQuc3R5bGUsdT1qZSh0KTtyZXR1cm4gcy5zdmcmJnQuZ2V0QXR0cmlidXRlKCJ0cmFuc2Zvcm0iKT8iMSwwLDAsMSwwLDAiPT09KHU9WyhuPXQudHJhbnNmb3JtLmJhc2VWYWwuY29uc29saWRhdGUoKS5tYXRyaXgpLmEsbi5iLG4uYyxuLmQsbi5lLG4uZl0pLmpvaW4oIiwiKT93cjp1Oih1IT09d3J8fHQub2Zmc2V0UGFyZW50fHx0PT09UmV8fHMuc3ZnfHwobj1vLmRpc3BsYXksby5kaXNwbGF5PSJibG9jayIsKHI9dC5wYXJlbnROb2RlKSYmdC5vZmZzZXRQYXJlbnR8fChhPTEsaT10Lm5leHRFbGVtZW50U2libGluZyxSZS5hcHBlbmRDaGlsZCh0KSksdT1qZSh0KSxuP28uZGlzcGxheT1uOlhkKHQsImRpc3BsYXkiKSxhJiYoaT9yLmluc2VydEJlZm9yZSh0LGkpOnI/ci5hcHBlbmRDaGlsZCh0KTpSZS5yZW1vdmVDaGlsZCh0KSkpLGUmJjY8dS5sZW5ndGg/W3VbMF0sdVsxXSx1WzRdLHVbNV0sdVsxMl0sdVsxM11dOnUpfWZ1bmN0aW9uIGxlKHQsZSxyLGksbixhKXt2YXIgcyxvLHUsaD10Ll9nc2FwLGw9bnx8a2UodCwhMCksZj1oLnhPcmlnaW58fDAsZD1oLnlPcmlnaW58fDAsYz1oLnhPZmZzZXR8fDAscD1oLnlPZmZzZXR8fDAsXz1sWzBdLG09bFsxXSxnPWxbMl0sdj1sWzNdLHk9bFs0XSxUPWxbNV0sYj1lLnNwbGl0KCIgIiksdz1wYXJzZUZsb2F0KGJbMF0pfHwwLHg9cGFyc2VGbG9hdChiWzFdKXx8MDtyP2whPT13ciYmKG89Xyp2LW0qZykmJih1PXcqKC1tL28pK3gqKF8vbyktKF8qVC1tKnkpL28sdz13Kih2L28pK3gqKC1nL28pKyhnKlQtdip5KS9vLHg9dSk6KHc9KHM9VmQodCkpLngrKH5iWzBdLmluZGV4T2YoIiUiKT93LzEwMCpzLndpZHRoOncpLHg9cy55Kyh+KGJbMV18fGJbMF0pLmluZGV4T2YoIiUiKT94LzEwMCpzLmhlaWdodDp4KSksaXx8ITEhPT1pJiZoLnNtb290aD8oeT13LWYsVD14LWQsaC54T2Zmc2V0PWMrKHkqXytUKmcpLXksaC55T2Zmc2V0PXArKHkqbStUKnYpLVQpOmgueE9mZnNldD1oLnlPZmZzZXQ9MCxoLnhPcmlnaW49dyxoLnlPcmlnaW49eCxoLnNtb290aD0hIWksaC5vcmlnaW49ZSxoLm9yaWdpbklzQWJzb2x1dGU9ISFyLHQuc3R5bGVbcHJdPSIwcHggMHB4IixhJiYoWWQoYSxoLCJ4T3JpZ2luIixmLHcpLFlkKGEsaCwieU9yaWdpbiIsZCx4KSxZZChhLGgsInhPZmZzZXQiLGMsaC54T2Zmc2V0KSxZZChhLGgsInlPZmZzZXQiLHAsaC55T2Zmc2V0KSksdC5zZXRBdHRyaWJ1dGUoImRhdGEtc3ZnLW9yaWdpbiIsdysiICIreCl9ZnVuY3Rpb24gb2UodCxlLHIpe3ZhciBpPVlhKGUpO3JldHVybiBpYShwYXJzZUZsb2F0KGUpK3BhcnNlRmxvYXQoX2QodCwieCIscisicHgiLGkpKSkraX1mdW5jdGlvbiB2ZSh0LGUsaSxuLGEpe3ZhciBzLG8sdT0zNjAsaD1yKGEpLGw9cGFyc2VGbG9hdChhKSooaCYmfmEuaW5kZXhPZigicmFkIik/c3I6MSktbixmPW4rbCsiZGVnIjtyZXR1cm4gaCYmKCJzaG9ydCI9PT0ocz1hLnNwbGl0KCJfIilbMV0pJiYobCU9dSkhPT1sJTE4MCYmKGwrPWw8MD91Oi11KSwiY3ciPT09cyYmbDwwP2w9KGwrMzZlOSkldS1+fihsL3UpKnU6ImNjdyI9PT1zJiYwPGwmJihsPShsLTM2ZTkpJXUtfn4obC91KSp1KSksdC5fcHQ9bz1uZXcgX2UodC5fcHQsZSxpLG4sbCx3ZCksby5lPWYsby51PSJkZWciLHQuX3Byb3BzLnB1c2goaSksb31mdW5jdGlvbiB3ZSh0LGUpe2Zvcih2YXIgciBpbiBlKXRbcl09ZVtyXTtyZXR1cm4gdH1mdW5jdGlvbiB4ZSh0LGUscil7dmFyIGksbixhLHMsbyx1LGgsbD13ZSh7fSxyLl9nc2FwKSxmPXIuc3R5bGU7Zm9yKG4gaW4gbC5zdmc/KGE9ci5nZXRBdHRyaWJ1dGUoInRyYW5zZm9ybSIpLHIuc2V0QXR0cmlidXRlKCJ0cmFuc2Zvcm0iLCIiKSxmW2NyXT1lLGk9T3IociwxKSxYZChyLGNyKSxyLnNldEF0dHJpYnV0ZSgidHJhbnNmb3JtIixhKSk6KGE9Z2V0Q29tcHV0ZWRTdHlsZShyKVtjcl0sZltjcl09ZSxpPU9yKHIsMSksZltjcl09YSksYXIpKGE9bFtuXSkhPT0ocz1pW25dKSYmInBlcnNwZWN0aXZlLGZvcmNlM0QsdHJhbnNmb3JtT3JpZ2luLHN2Z09yaWdpbiIuaW5kZXhPZihuKTwwJiYobz1ZYShhKSE9PShoPVlhKHMpKT9fZChyLG4sYSxoKTpwYXJzZUZsb2F0KGEpLHU9cGFyc2VGbG9hdChzKSx0Ll9wdD1uZXcgX2UodC5fcHQsaSxuLG8sdS1vLHZkKSx0Ll9wdC51PWh8fDAsdC5fcHJvcHMucHVzaChuKSk7d2UoaSxsKX12YXIgRWUsRGUsUmUsRmUsTGUsSWUsQmUsWWUscWU9THQuUG93ZXIwLFZlPUx0LlBvd2VyMSxVZT1MdC5Qb3dlcjIsWGU9THQuUG93ZXIzLE5lPUx0LlBvd2VyNCxHZT1MdC5MaW5lYXIsV2U9THQuUXVhZCxRZT1MdC5DdWJpYyxLZT1MdC5RdWFydCxKZT1MdC5RdWludCxIZT1MdC5TdHJvbmcsJGU9THQuRWxhc3RpYyxaZT1MdC5CYWNrLHRyPUx0LlN0ZXBwZWRFYXNlLGVyPUx0LkJvdW5jZSxycj1MdC5TaW5lLGlyPUx0LkV4cG8sbnI9THQuQ2lyYyxhcj17fSxzcj0xODAvTWF0aC5QSSxvcj1NYXRoLlBJLzE4MCx1cj1NYXRoLmF0YW4yLGhyPS8oW0EtWl0pL2csbHI9LyhsZWZ0fHJpZ2h0fHdpZHRofG1hcmdpbnxwYWRkaW5nfHgpL2ksZnI9L1tccyxcKF1cUy8sZHI9e2F1dG9BbHBoYToib3BhY2l0eSx2aXNpYmlsaXR5IixzY2FsZToic2NhbGVYLHNjYWxlWSIsYWxwaGE6Im9wYWNpdHkifSxjcj0idHJhbnNmb3JtIixwcj1jcisiT3JpZ2luIixfcj0iTyxNb3osbXMsTXMsV2Via2l0Ii5zcGxpdCgiLCIpLG1yPWZ1bmN0aW9uIF9jaGVja1Byb3BQcmVmaXgodCxlLHIpe3ZhciBpPShlfHxMZSkuc3R5bGUsbj01O2lmKHQgaW4gaSYmIXIpcmV0dXJuIHQ7Zm9yKHQ9dC5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSt0LnN1YnN0cigxKTtuLS0mJiEoX3Jbbl0rdCBpbiBpKTspO3JldHVybiBuPDA/bnVsbDooMz09PW4/Im1zIjowPD1uP19yW25dOiIiKSt0fSxncj17ZGVnOjEscmFkOjEsdHVybjoxfSx2cj17Z3JpZDoxLGZsZXg6MX0seXI9ZnVuY3Rpb24gX2dldCh0LGUscixpKXt2YXIgbjtyZXR1cm4gRmV8fFNkKCksZSBpbiBkciYmInRyYW5zZm9ybSIhPT1lJiZ+KGU9ZHJbZV0pLmluZGV4T2YoIiwiKSYmKGU9ZS5zcGxpdCgiLCIpWzBdKSxhcltlXSYmInRyYW5zZm9ybSIhPT1lPyhuPU9yKHQsaSksbj0idHJhbnNmb3JtT3JpZ2luIiE9PWU/bltlXTpuLnN2Zz9uLm9yaWdpbjprcihQZCh0LHByKSkrIiAiK24uek9yaWdpbisicHgiKToobj10LnN0eWxlW2VdKSYmImF1dG8iIT09biYmIWkmJiF+KG4rIiIpLmluZGV4T2YoImNhbGMoIil8fChuPWJyW2VdJiZicltlXSh0LGUscil8fFBkKHQsZSl8fGdhKHQsZSl8fCgib3BhY2l0eSI9PT1lPzE6MCkpLHImJiF+KG4rIiIpLnRyaW0oKS5pbmRleE9mKCIgIik/X2QodCxlLG4scikrcjpufSxUcj17dG9wOiIwJSIsYm90dG9tOiIxMDAlIixsZWZ0OiIwJSIscmlnaHQ6IjEwMCUiLGNlbnRlcjoiNTAlIn0sYnI9e2NsZWFyUHJvcHM6ZnVuY3Rpb24gY2xlYXJQcm9wcyh0LGUscixpLG4pe2lmKCJpc0Zyb21TdGFydCIhPT1uLmRhdGEpe3ZhciBhPXQuX3B0PW5ldyBfZSh0Ll9wdCxlLHIsMCwwLGVlKTtyZXR1cm4gYS51PWksYS5wcj0tMTAsYS50d2Vlbj1uLHQuX3Byb3BzLnB1c2gociksMX19fSx3cj1bMSwwLDAsMSwwLDBdLHhyPXt9LE9yPWZ1bmN0aW9uIF9wYXJzZVRyYW5zZm9ybSh0LGUpe3ZhciByPXQuX2dzYXB8fG5ldyBWdCh0KTtpZigieCJpbiByJiYhZSYmIXIudW5jYWNoZSlyZXR1cm4gcjt2YXIgaSxuLGEscyxvLHUsaCxsLGYsZCxjLHAsXyxtLGcsdix5LFQsYix3LHgsTyxrLE0sUCxDLEEsUyx6LEUsRCxSLEY9dC5zdHlsZSxMPXIuc2NhbGVYPDAsST0iZGVnIixCPWdldENvbXB1dGVkU3R5bGUodCksWT1QZCh0LHByKXx8IjAiO3JldHVybiBpPW49YT11PWg9bD1mPWQ9Yz0wLHM9bz0xLHIuc3ZnPSEoIXQuZ2V0Q1RNfHwhV2QodCkpLEIudHJhbnNsYXRlJiYoIm5vbmUiPT09Qi50cmFuc2xhdGUmJiJub25lIj09PUIuc2NhbGUmJiJub25lIj09PUIucm90YXRlfHwoRltjcl09KCJub25lIiE9PUIudHJhbnNsYXRlPyJ0cmFuc2xhdGUzZCgiKyhCLnRyYW5zbGF0ZSsiIDAgMCIpLnNwbGl0KCIgIikuc2xpY2UoMCwzKS5qb2luKCIsICIpKyIpICI6IiIpKygibm9uZSIhPT1CLnJvdGF0ZT8icm90YXRlKCIrQi5yb3RhdGUrIikgIjoiIikrKCJub25lIiE9PUIuc2NhbGU/InNjYWxlKCIrQi5zY2FsZS5zcGxpdCgiICIpLmpvaW4oIiwiKSsiKSAiOiIiKSsoIm5vbmUiIT09Qltjcl0/Qltjcl06IiIpKSxGLnNjYWxlPUYucm90YXRlPUYudHJhbnNsYXRlPSJub25lIiksbT1rZSh0LHIuc3ZnKSxyLnN2ZyYmKE09ci51bmNhY2hlPyhQPXQuZ2V0QkJveCgpLFk9ci54T3JpZ2luLVAueCsicHggIisoci55T3JpZ2luLVAueSkrInB4IiwiIik6IWUmJnQuZ2V0QXR0cmlidXRlKCJkYXRhLXN2Zy1vcmlnaW4iKSxsZSh0LE18fFksISFNfHxyLm9yaWdpbklzQWJzb2x1dGUsITEhPT1yLnNtb290aCxtKSkscD1yLnhPcmlnaW58fDAsXz1yLnlPcmlnaW58fDAsbSE9PXdyJiYoVD1tWzBdLGI9bVsxXSx3PW1bMl0seD1tWzNdLGk9Tz1tWzRdLG49az1tWzVdLDY9PT1tLmxlbmd0aD8ocz1NYXRoLnNxcnQoVCpUK2IqYiksbz1NYXRoLnNxcnQoeCp4K3cqdyksdT1UfHxiP3VyKGIsVCkqc3I6MCwoZj13fHx4P3VyKHcseCkqc3IrdTowKSYmKG8qPU1hdGguYWJzKE1hdGguY29zKGYqb3IpKSksci5zdmcmJihpLT1wLShwKlQrXyp3KSxuLT1fLShwKmIrXyp4KSkpOihSPW1bNl0sRT1tWzddLEE9bVs4XSxTPW1bOV0sej1tWzEwXSxEPW1bMTFdLGk9bVsxMl0sbj1tWzEzXSxhPW1bMTRdLGg9KGc9dXIoUix6KSkqc3IsZyYmKE09Tyoodj1NYXRoLmNvcygtZykpK0EqKHk9TWF0aC5zaW4oLWcpKSxQPWsqditTKnksQz1SKnYreip5LEE9TyoteStBKnYsUz1rKi15K1Mqdix6PVIqLXkreip2LEQ9RSoteStEKnYsTz1NLGs9UCxSPUMpLGw9KGc9dXIoLXcseikpKnNyLGcmJih2PU1hdGguY29zKC1nKSxEPXgqKHk9TWF0aC5zaW4oLWcpKStEKnYsVD1NPVQqdi1BKnksYj1QPWIqdi1TKnksdz1DPXcqdi16KnkpLHU9KGc9dXIoYixUKSkqc3IsZyYmKE09VCoodj1NYXRoLmNvcyhnKSkrYiooeT1NYXRoLnNpbihnKSksUD1PKnYrayp5LGI9Yip2LVQqeSxrPWsqdi1PKnksVD1NLE89UCksaCYmMzU5Ljk8TWF0aC5hYnMoaCkrTWF0aC5hYnModSkmJihoPXU9MCxsPTE4MC1sKSxzPWlhKE1hdGguc3FydChUKlQrYipiK3cqdykpLG89aWEoTWF0aC5zcXJ0KGsqaytSKlIpKSxnPXVyKE8sayksZj0yZS00PE1hdGguYWJzKGcpP2cqc3I6MCxjPUQ/MS8oRDwwPy1EOkQpOjApLHIuc3ZnJiYoTT10LmdldEF0dHJpYnV0ZSgidHJhbnNmb3JtIiksci5mb3JjZUNTUz10LnNldEF0dHJpYnV0ZSgidHJhbnNmb3JtIiwiIil8fCFpZShQZCh0LGNyKSksTSYmdC5zZXRBdHRyaWJ1dGUoInRyYW5zZm9ybSIsTSkpKSw5MDxNYXRoLmFicyhmKSYmTWF0aC5hYnMoZik8MjcwJiYoTD8ocyo9LTEsZis9dTw9MD8xODA6LTE4MCx1Kz11PD0wPzE4MDotMTgwKToobyo9LTEsZis9Zjw9MD8xODA6LTE4MCkpLGU9ZXx8ci51bmNhY2hlLHIueD1pLSgoci54UGVyY2VudD1pJiYoIWUmJnIueFBlcmNlbnR8fChNYXRoLnJvdW5kKHQub2Zmc2V0V2lkdGgvMik9PT1NYXRoLnJvdW5kKC1pKT8tNTA6MCkpKT90Lm9mZnNldFdpZHRoKnIueFBlcmNlbnQvMTAwOjApKyJweCIsci55PW4tKChyLnlQZXJjZW50PW4mJighZSYmci55UGVyY2VudHx8KE1hdGgucm91bmQodC5vZmZzZXRIZWlnaHQvMik9PT1NYXRoLnJvdW5kKC1uKT8tNTA6MCkpKT90Lm9mZnNldEhlaWdodCpyLnlQZXJjZW50LzEwMDowKSsicHgiLHIuej1hKyJweCIsci5zY2FsZVg9aWEocyksci5zY2FsZVk9aWEobyksci5yb3RhdGlvbj1pYSh1KStJLHIucm90YXRpb25YPWlhKGgpK0ksci5yb3RhdGlvblk9aWEobCkrSSxyLnNrZXdYPWYrSSxyLnNrZXdZPWQrSSxyLnRyYW5zZm9ybVBlcnNwZWN0aXZlPWMrInB4Iiwoci56T3JpZ2luPXBhcnNlRmxvYXQoWS5zcGxpdCgiICIpWzJdKXx8IWUmJnIuek9yaWdpbnx8MCkmJihGW3ByXT1rcihZKSksci54T2Zmc2V0PXIueU9mZnNldD0wLHIuZm9yY2UzRD1xLmZvcmNlM0Qsci5yZW5kZXJUcmFuc2Zvcm09ci5zdmc/enI6WWU/U3I6TXIsci51bmNhY2hlPTAscn0sa3I9ZnVuY3Rpb24gX2ZpcnN0VHdvT25seSh0KXtyZXR1cm4odD10LnNwbGl0KCIgIikpWzBdKyIgIit0WzFdfSxNcj1mdW5jdGlvbiBfcmVuZGVyTm9uM0RUcmFuc2Zvcm1zKHQsZSl7ZS56PSIwcHgiLGUucm90YXRpb25ZPWUucm90YXRpb25YPSIwZGVnIixlLmZvcmNlM0Q9MCxTcih0LGUpfSxQcj0iMGRlZyIsQ3I9IjBweCIsQXI9IikgIixTcj1mdW5jdGlvbiBfcmVuZGVyQ1NTVHJhbnNmb3Jtcyh0LGUpe3ZhciByPWV8fHRoaXMsaT1yLnhQZXJjZW50LG49ci55UGVyY2VudCxhPXIueCxzPXIueSxvPXIueix1PXIucm90YXRpb24saD1yLnJvdGF0aW9uWSxsPXIucm90YXRpb25YLGY9ci5za2V3WCxkPXIuc2tld1ksYz1yLnNjYWxlWCxwPXIuc2NhbGVZLF89ci50cmFuc2Zvcm1QZXJzcGVjdGl2ZSxtPXIuZm9yY2UzRCxnPXIudGFyZ2V0LHY9ci56T3JpZ2luLHk9IiIsVD0iYXV0byI9PT1tJiZ0JiYxIT09dHx8ITA9PT1tO2lmKHYmJihsIT09UHJ8fGghPT1Qcikpe3ZhciBiLHc9cGFyc2VGbG9hdChoKSpvcix4PU1hdGguc2luKHcpLE89TWF0aC5jb3Modyk7dz1wYXJzZUZsb2F0KGwpKm9yLGI9TWF0aC5jb3ModyksYT1vZShnLGEseCpiKi12KSxzPW9lKGcscywtTWF0aC5zaW4odykqLXYpLG89b2UoZyxvLE8qYiotdit2KX1fIT09Q3ImJih5Kz0icGVyc3BlY3RpdmUoIitfK0FyKSwoaXx8bikmJih5Kz0idHJhbnNsYXRlKCIraSsiJSwgIituKyIlKSAiKSwhVCYmYT09PUNyJiZzPT09Q3ImJm89PT1Dcnx8KHkrPW8hPT1Dcnx8VD8idHJhbnNsYXRlM2QoIithKyIsICIrcysiLCAiK28rIikgIjoidHJhbnNsYXRlKCIrYSsiLCAiK3MrQXIpLHUhPT1QciYmKHkrPSJyb3RhdGUoIit1K0FyKSxoIT09UHImJih5Kz0icm90YXRlWSgiK2grQXIpLGwhPT1QciYmKHkrPSJyb3RhdGVYKCIrbCtBciksZj09PVByJiZkPT09UHJ8fCh5Kz0ic2tldygiK2YrIiwgIitkK0FyKSwxPT09YyYmMT09PXB8fCh5Kz0ic2NhbGUoIitjKyIsICIrcCtBciksZy5zdHlsZVtjcl09eXx8InRyYW5zbGF0ZSgwLCAwKSJ9LHpyPWZ1bmN0aW9uIF9yZW5kZXJTVkdUcmFuc2Zvcm1zKHQsZSl7dmFyIHIsaSxuLGEscyxvPWV8fHRoaXMsdT1vLnhQZXJjZW50LGg9by55UGVyY2VudCxsPW8ueCxmPW8ueSxkPW8ucm90YXRpb24sYz1vLnNrZXdYLHA9by5za2V3WSxfPW8uc2NhbGVYLG09by5zY2FsZVksZz1vLnRhcmdldCx2PW8ueE9yaWdpbix5PW8ueU9yaWdpbixUPW8ueE9mZnNldCxiPW8ueU9mZnNldCx3PW8uZm9yY2VDU1MseD1wYXJzZUZsb2F0KGwpLE89cGFyc2VGbG9hdChmKTtkPXBhcnNlRmxvYXQoZCksYz1wYXJzZUZsb2F0KGMpLChwPXBhcnNlRmxvYXQocCkpJiYoYys9cD1wYXJzZUZsb2F0KHApLGQrPXApLGR8fGM/KGQqPW9yLGMqPW9yLHI9TWF0aC5jb3MoZCkqXyxpPU1hdGguc2luKGQpKl8sbj1NYXRoLnNpbihkLWMpKi1tLGE9TWF0aC5jb3MoZC1jKSptLGMmJihwKj1vcixzPU1hdGgudGFuKGMtcCksbio9cz1NYXRoLnNxcnQoMStzKnMpLGEqPXMscCYmKHM9TWF0aC50YW4ocCkscio9cz1NYXRoLnNxcnQoMStzKnMpLGkqPXMpKSxyPWlhKHIpLGk9aWEoaSksbj1pYShuKSxhPWlhKGEpKToocj1fLGE9bSxpPW49MCksKHgmJiF+KGwrIiIpLmluZGV4T2YoInB4Iil8fE8mJiF+KGYrIiIpLmluZGV4T2YoInB4IikpJiYoeD1fZChnLCJ4IixsLCJweCIpLE89X2QoZywieSIsZiwicHgiKSksKHZ8fHl8fFR8fGIpJiYoeD1pYSh4K3YtKHYqcit5Km4pK1QpLE89aWEoTyt5LSh2KmkreSphKStiKSksKHV8fGgpJiYocz1nLmdldEJCb3goKSx4PWlhKHgrdS8xMDAqcy53aWR0aCksTz1pYShPK2gvMTAwKnMuaGVpZ2h0KSkscz0ibWF0cml4KCIrcisiLCIraSsiLCIrbisiLCIrYSsiLCIreCsiLCIrTysiKSIsZy5zZXRBdHRyaWJ1dGUoInRyYW5zZm9ybSIscyksdyYmKGcuc3R5bGVbY3JdPXMpfTtoYSgicGFkZGluZyxtYXJnaW4sV2lkdGgsUmFkaXVzIixmdW5jdGlvbihlLHIpe3ZhciB0PSJSaWdodCIsaT0iQm90dG9tIixuPSJMZWZ0IixvPShyPDM/WyJUb3AiLHQsaSxuXTpbIlRvcCIrbiwiVG9wIit0LGkrdCxpK25dKS5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIHI8Mj9lK3Q6ImJvcmRlciIrdCtlfSk7YnJbMTxyPyJib3JkZXIiK2U6ZV09ZnVuY3Rpb24oZSx0LHIsaSxuKXt2YXIgYSxzO2lmKGFyZ3VtZW50cy5sZW5ndGg8NClyZXR1cm4gYT1vLm1hcChmdW5jdGlvbih0KXtyZXR1cm4geXIoZSx0LHIpfSksNT09PShzPWEuam9pbigiICIpKS5zcGxpdChhWzBdKS5sZW5ndGg/YVswXTpzO2E9KGkrIiIpLnNwbGl0KCIgIikscz17fSxvLmZvckVhY2goZnVuY3Rpb24odCxlKXtyZXR1cm4gc1t0XT1hW2VdPWFbZV18fGFbKGUtMSkvMnwwXX0pLGUuaW5pdCh0LHMsbil9fSk7dmFyIEVyLERyLFJyLEZyPXtuYW1lOiJjc3MiLHJlZ2lzdGVyOlNkLHRhcmdldFRlc3Q6ZnVuY3Rpb24gdGFyZ2V0VGVzdCh0KXtyZXR1cm4gdC5zdHlsZSYmdC5ub2RlVHlwZX0saW5pdDpmdW5jdGlvbiBpbml0KHQsZSxpLG4sYSl7dmFyIHMsbyx1LGgsbCxmLGQsYyxwLF8sbSxnLHYseSxULGIsdz10aGlzLl9wcm9wcyx4PXQuc3R5bGUsTz1pLnZhcnMuc3RhcnRBdDtmb3IoZCBpbiBGZXx8U2QoKSx0aGlzLnN0eWxlcz10aGlzLnN0eWxlc3x8TWQodCksYj10aGlzLnN0eWxlcy5wcm9wcyx0aGlzLnR3ZWVuPWksZSlpZigiYXV0b1JvdW5kIiE9PWQmJihvPWVbZF0sIXB0W2RdfHwhYWMoZCxlLGksbix0LGEpKSlpZihsPXR5cGVvZiBvLGY9YnJbZF0sImZ1bmN0aW9uIj09PWwmJihsPXR5cGVvZihvPW8uY2FsbChpLG4sdCxhKSkpLCJzdHJpbmciPT09bCYmfm8uaW5kZXhPZigicmFuZG9tKCIpJiYobz1vYihvKSksZilmKHRoaXMsdCxkLG8saSkmJihUPTEpO2Vsc2UgaWYoIi0tIj09PWQuc3Vic3RyKDAsMikpcz0oZ2V0Q29tcHV0ZWRTdHlsZSh0KS5nZXRQcm9wZXJ0eVZhbHVlKGQpKyIiKS50cmltKCksbys9IiIsRXQubGFzdEluZGV4PTAsRXQudGVzdChzKXx8KGM9WWEocykscD1ZYShvKSkscD9jIT09cCYmKHM9X2QodCxkLHMscCkrcCk6YyYmKG8rPWMpLHRoaXMuYWRkKHgsInNldFByb3BlcnR5IixzLG8sbixhLDAsMCxkKSx3LnB1c2goZCksYi5wdXNoKGQsMCx4W2RdKTtlbHNlIGlmKCJ1bmRlZmluZWQiIT09bCl7aWYoTyYmZCBpbiBPPyhzPSJmdW5jdGlvbiI9PXR5cGVvZiBPW2RdP09bZF0uY2FsbChpLG4sdCxhKTpPW2RdLHIocykmJn5zLmluZGV4T2YoInJhbmRvbSgiKSYmKHM9b2IocykpLFlhKHMrIiIpfHwiYXV0byI9PT1zfHwocys9cS51bml0c1tkXXx8WWEoeXIodCxkKSl8fCIiKSwiPSI9PT0ocysiIikuY2hhckF0KDEpJiYocz15cih0LGQpKSk6cz15cih0LGQpLGg9cGFyc2VGbG9hdChzKSwoXz0ic3RyaW5nIj09PWwmJiI9Ij09PW8uY2hhckF0KDEpJiZvLnN1YnN0cigwLDIpKSYmKG89by5zdWJzdHIoMikpLHU9cGFyc2VGbG9hdChvKSxkIGluIGRyJiYoImF1dG9BbHBoYSI9PT1kJiYoMT09PWgmJiJoaWRkZW4iPT09eXIodCwidmlzaWJpbGl0eSIpJiZ1JiYoaD0wKSxiLnB1c2goInZpc2liaWxpdHkiLDAseC52aXNpYmlsaXR5KSxZZCh0aGlzLHgsInZpc2liaWxpdHkiLGg/ImluaGVyaXQiOiJoaWRkZW4iLHU/ImluaGVyaXQiOiJoaWRkZW4iLCF1KSksInNjYWxlIiE9PWQmJiJ0cmFuc2Zvcm0iIT09ZCYmfihkPWRyW2RdKS5pbmRleE9mKCIsIikmJihkPWQuc3BsaXQoIiwiKVswXSkpLG09ZCBpbiBhcilpZih0aGlzLnN0eWxlcy5zYXZlKGQpLGd8fCgodj10Ll9nc2FwKS5yZW5kZXJUcmFuc2Zvcm0mJiFlLnBhcnNlVHJhbnNmb3JtfHxPcih0LGUucGFyc2VUcmFuc2Zvcm0pLHk9ITEhPT1lLnNtb290aE9yaWdpbiYmdi5zbW9vdGgsKGc9dGhpcy5fcHQ9bmV3IF9lKHRoaXMuX3B0LHgsY3IsMCwxLHYucmVuZGVyVHJhbnNmb3JtLHYsMCwtMSkpLmRlcD0xKSwic2NhbGUiPT09ZCl0aGlzLl9wdD1uZXcgX2UodGhpcy5fcHQsdiwic2NhbGVZIix2LnNjYWxlWSwoXz9rYSh2LnNjYWxlWSxfK3UpOnUpLXYuc2NhbGVZfHwwLHZkKSx0aGlzLl9wdC51PTAsdy5wdXNoKCJzY2FsZVkiLGQpLGQrPSJYIjtlbHNle2lmKCJ0cmFuc2Zvcm1PcmlnaW4iPT09ZCl7Yi5wdXNoKHByLDAseFtwcl0pLG89ZGUobyksdi5zdmc/bGUodCxvLDAseSwwLHRoaXMpOigocD1wYXJzZUZsb2F0KG8uc3BsaXQoIiAiKVsyXSl8fDApIT09di56T3JpZ2luJiZZZCh0aGlzLHYsInpPcmlnaW4iLHYuek9yaWdpbixwKSxZZCh0aGlzLHgsZCxrcihzKSxrcihvKSkpO2NvbnRpbnVlfWlmKCJzdmdPcmlnaW4iPT09ZCl7bGUodCxvLDEseSwwLHRoaXMpO2NvbnRpbnVlfWlmKGQgaW4geHIpe3ZlKHRoaXMsdixkLGgsXz9rYShoLF8rbyk6byk7Y29udGludWV9aWYoInNtb290aE9yaWdpbiI9PT1kKXtZZCh0aGlzLHYsInNtb290aCIsdi5zbW9vdGgsbyk7Y29udGludWV9aWYoImZvcmNlM0QiPT09ZCl7dltkXT1vO2NvbnRpbnVlfWlmKCJ0cmFuc2Zvcm0iPT09ZCl7eGUodGhpcyxvLHQpO2NvbnRpbnVlfX1lbHNlIGQgaW4geHx8KGQ9bXIoZCl8fGQpO2lmKG18fCh1fHwwPT09dSkmJihofHwwPT09aCkmJiFmci50ZXN0KG8pJiZkIGluIHgpdT11fHwwLChjPShzKyIiKS5zdWJzdHIoKGgrIiIpLmxlbmd0aCkpIT09KHA9WWEobyl8fChkIGluIHEudW5pdHM/cS51bml0c1tkXTpjKSkmJihoPV9kKHQsZCxzLHApKSx0aGlzLl9wdD1uZXcgX2UodGhpcy5fcHQsbT92OngsZCxoLChfP2thKGgsXyt1KTp1KS1oLG18fCJweCIhPT1wJiYiekluZGV4IiE9PWR8fCExPT09ZS5hdXRvUm91bmQ/dmQ6eWQpLHRoaXMuX3B0LnU9cHx8MCxjIT09cCYmIiUiIT09cCYmKHRoaXMuX3B0LmI9cyx0aGlzLl9wdC5yPXhkKTtlbHNlIGlmKGQgaW4geCliZS5jYWxsKHRoaXMsdCxkLHMsXz9fK286byk7ZWxzZSBpZihkIGluIHQpdGhpcy5hZGQodCxkLHN8fHRbZF0sXz9fK286byxuLGEpO2Vsc2UgaWYoInBhcnNlVHJhbnNmb3JtIiE9PWQpe1EoZCxvKTtjb250aW51ZX1tfHwoZCBpbiB4P2IucHVzaChkLDAseFtkXSk6Yi5wdXNoKGQsMSxzfHx0W2RdKSksdy5wdXNoKGQpfVQmJnBlKHRoaXMpfSxyZW5kZXI6ZnVuY3Rpb24gcmVuZGVyKHQsZSl7aWYoZS50d2Vlbi5fdGltZXx8IUJlKCkpZm9yKHZhciByPWUuX3B0O3I7KXIucih0LHIuZCkscj1yLl9uZXh0O2Vsc2UgZS5zdHlsZXMucmV2ZXJ0KCl9LGdldDp5cixhbGlhc2VzOmRyLGdldFNldHRlcjpmdW5jdGlvbiBnZXRTZXR0ZXIodCxlLHIpe3ZhciBpPWRyW2VdO3JldHVybiBpJiZpLmluZGV4T2YoIiwiKTwwJiYoZT1pKSxlIGluIGFyJiZlIT09cHImJih0Ll9nc2FwLnh8fHlyKHQsIngiKSk/ciYmSWU9PT1yPyJzY2FsZSI9PT1lP0VkOkRkOihJZT1yfHx7fSkmJigic2NhbGUiPT09ZT9GZDpHZCk6dC5zdHlsZSYmIXUodC5zdHlsZVtlXSk/QmQ6fmUuaW5kZXhPZigiLSIpP0NkOm5lKHQsZSl9LGNvcmU6e19yZW1vdmVQcm9wZXJ0eTpYZCxfZ2V0TWF0cml4OmtlfX07emUudXRpbHMuY2hlY2tQcmVmaXg9bXIsemUuY29yZS5nZXRTdHlsZVNhdmVyPU1kLFJyPWhhKChFcj0ieCx5LHosc2NhbGUsc2NhbGVYLHNjYWxlWSx4UGVyY2VudCx5UGVyY2VudCIpKyIsIisoRHI9InJvdGF0aW9uLHJvdGF0aW9uWCxyb3RhdGlvblksc2tld1gsc2tld1kiKSsiLHRyYW5zZm9ybSx0cmFuc2Zvcm1PcmlnaW4sc3ZnT3JpZ2luLGZvcmNlM0Qsc21vb3RoT3JpZ2luLHRyYW5zZm9ybVBlcnNwZWN0aXZlIixmdW5jdGlvbih0KXthclt0XT0xfSksaGEoRHIsZnVuY3Rpb24odCl7cS51bml0c1t0XT0iZGVnIix4clt0XT0xfSksZHJbUnJbMTNdXT1FcisiLCIrRHIsaGEoIjA6dHJhbnNsYXRlWCwxOnRyYW5zbGF0ZVksMjp0cmFuc2xhdGVaLDg6cm90YXRlLDg6cm90YXRpb25aLDg6cm90YXRlWiw5OnJvdGF0ZVgsMTA6cm90YXRlWSIsZnVuY3Rpb24odCl7dmFyIGU9dC5zcGxpdCgiOiIpO2RyW2VbMV1dPVJyW2VbMF1dfSksaGEoIngseSx6LHRvcCxyaWdodCxib3R0b20sbGVmdCx3aWR0aCxoZWlnaHQsZm9udFNpemUscGFkZGluZyxtYXJnaW4scGVyc3BlY3RpdmUiLGZ1bmN0aW9uKHQpe3EudW5pdHNbdF09InB4In0pLHplLnJlZ2lzdGVyUGx1Z2luKEZyKTt2YXIgTHI9emUucmVnaXN0ZXJQbHVnaW4oRnIpfHx6ZSxJcj1Mci5jb3JlLlR3ZWVuO2UuQmFjaz1aZSxlLkJvdW5jZT1lcixlLkNTU1BsdWdpbj1GcixlLkNpcmM9bnIsZS5DdWJpYz1RZSxlLkVsYXN0aWM9JGUsZS5FeHBvPWlyLGUuTGluZWFyPUdlLGUuUG93ZXIwPXFlLGUuUG93ZXIxPVZlLGUuUG93ZXIyPVVlLGUuUG93ZXIzPVhlLGUuUG93ZXI0PU5lLGUuUXVhZD1XZSxlLlF1YXJ0PUtlLGUuUXVpbnQ9SmUsZS5TaW5lPXJyLGUuU3RlcHBlZEVhc2U9dHIsZS5TdHJvbmc9SGUsZS5UaW1lbGluZUxpdGU9WHQsZS5UaW1lbGluZU1heD1YdCxlLlR3ZWVuTGl0ZT0kdCxlLlR3ZWVuTWF4PUlyLGUuZGVmYXVsdD1McixlLmdzYXA9THI7aWYgKHR5cGVvZih3aW5kb3cpPT09InVuZGVmaW5lZCJ8fHdpbmRvdyE9PWUpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KX0gZWxzZSB7ZGVsZXRlIGUuZGVmYXVsdH19KTsKCg=="></script>
<script src="data:application/javascript;charset=utf-8;base64,LyohCiAqIFNjcm9sbFRyaWdnZXIgMy4xMi41CiAqIGh0dHBzOi8vZ3NhcC5jb20KICogCiAqIEBsaWNlbnNlIENvcHlyaWdodCAyMDI0LCBHcmVlblNvY2suIEFsbCByaWdodHMgcmVzZXJ2ZWQuCiAqIFN1YmplY3QgdG8gdGhlIHRlcm1zIGF0IGh0dHBzOi8vZ3NhcC5jb20vc3RhbmRhcmQtbGljZW5zZSBvciBmb3IgQ2x1YiBHU0FQIG1lbWJlcnMsIHRoZSBhZ3JlZW1lbnQgaXNzdWVkIHdpdGggdGhhdCBtZW1iZXJzaGlwLgogKiBAYXV0aG9yOiBKYWNrIERveWxlLCBqYWNrQGdyZWVuc29jay5jb20KICovCgohZnVuY3Rpb24oZSx0KXsib2JqZWN0Ij09dHlwZW9mIGV4cG9ydHMmJiJ1bmRlZmluZWQiIT10eXBlb2YgbW9kdWxlP3QoZXhwb3J0cyk6ImZ1bmN0aW9uIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoWyJleHBvcnRzIl0sdCk6dCgoZT1lfHxzZWxmKS53aW5kb3c9ZS53aW5kb3d8fHt9KX0odGhpcyxmdW5jdGlvbihlKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXMoZSx0KXtmb3IodmFyIHI9MDtyPHQubGVuZ3RoO3IrKyl7dmFyIG49dFtyXTtuLmVudW1lcmFibGU9bi5lbnVtZXJhYmxlfHwhMSxuLmNvbmZpZ3VyYWJsZT0hMCwidmFsdWUiaW4gbiYmKG4ud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLG4ua2V5LG4pfX1mdW5jdGlvbiByKCl7cmV0dXJuIENlfHwidW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdyYmKENlPXdpbmRvdy5nc2FwKSYmQ2UucmVnaXN0ZXJQbHVnaW4mJkNlfWZ1bmN0aW9uIHooZSx0KXtyZXR1cm5+TGUuaW5kZXhPZihlKSYmTGVbTGUuaW5kZXhPZihlKSsxXVt0XX1mdW5jdGlvbiBBKGUpe3JldHVybiEhfnQuaW5kZXhPZihlKX1mdW5jdGlvbiBCKGUsdCxyLG4sbyl7cmV0dXJuIGUuYWRkRXZlbnRMaXN0ZW5lcih0LHIse3Bhc3NpdmU6ITEhPT1uLGNhcHR1cmU6ISFvfSl9ZnVuY3Rpb24gQyhlLHQscixuKXtyZXR1cm4gZS5yZW1vdmVFdmVudExpc3RlbmVyKHQsciwhIW4pfWZ1bmN0aW9uIEYoKXtyZXR1cm4gRGUmJkRlLmlzUHJlc3NlZHx8SWUuY2FjaGUrK31mdW5jdGlvbiBHKHIsbil7ZnVuY3Rpb24gZGQoZSl7aWYoZXx8MD09PWUpe28mJihTZS5oaXN0b3J5LnNjcm9sbFJlc3RvcmF0aW9uPSJtYW51YWwiKTt2YXIgdD1EZSYmRGUuaXNQcmVzc2VkO2U9ZGQudj1NYXRoLnJvdW5kKGUpfHwoRGUmJkRlLmlPUz8xOjApLHIoZSksZGQuY2FjaGVJRD1JZS5jYWNoZSx0JiZpKCJzcyIsZSl9ZWxzZShufHxJZS5jYWNoZSE9PWRkLmNhY2hlSUR8fGkoInJlZiIpKSYmKGRkLmNhY2hlSUQ9SWUuY2FjaGUsZGQudj1yKCkpO3JldHVybiBkZC52K2RkLm9mZnNldH1yZXR1cm4gZGQub2Zmc2V0PTAsciYmZGR9ZnVuY3Rpb24gSihlLHQpe3JldHVybih0JiZ0Ll9jdHgmJnQuX2N0eC5zZWxlY3Rvcnx8Q2UudXRpbHMudG9BcnJheSkoZSlbMF18fCgic3RyaW5nIj09dHlwZW9mIGUmJiExIT09Q2UuY29uZmlnKCkubnVsbFRhcmdldFdhcm4/Y29uc29sZS53YXJuKCJFbGVtZW50IG5vdCBmb3VuZDoiLGUpOm51bGwpfWZ1bmN0aW9uIEsodCxlKXt2YXIgcj1lLnMsbj1lLnNjO0EodCkmJih0PWtlLnNjcm9sbGluZ0VsZW1lbnR8fFBlKTt2YXIgbz1JZS5pbmRleE9mKHQpLGk9bj09PUZlLnNjPzE6Mjt+b3x8KG89SWUucHVzaCh0KS0xKSxJZVtvK2ldfHxCKHQsInNjcm9sbCIsRik7dmFyIGE9SWVbbytpXSxzPWF8fChJZVtvK2ldPUcoeih0LHIpLCEwKXx8KEEodCk/bjpHKGZ1bmN0aW9uKGUpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoP3Rbcl09ZTp0W3JdfSkpKTtyZXR1cm4gcy50YXJnZXQ9dCxhfHwocy5zbW9vdGg9InNtb290aCI9PT1DZS5nZXRQcm9wZXJ0eSh0LCJzY3JvbGxCZWhhdmlvciIpKSxzfWZ1bmN0aW9uIEwoZSx0LG8pe2Z1bmN0aW9uIENkKGUsdCl7dmFyIHI9emUoKTt0fHxuPHItcz8oYT1pLGk9ZSxsPXMscz1yKTpvP2krPWU6aT1hKyhlLWEpLyhyLWwpKihzLWwpfXZhciBpPWUsYT1lLHM9emUoKSxsPXMsbj10fHw1MCxjPU1hdGgubWF4KDUwMCwzKm4pO3JldHVybnt1cGRhdGU6Q2QscmVzZXQ6ZnVuY3Rpb24gcmVzZXQoKXthPWk9bz8wOmksbD1zPTB9LGdldFZlbG9jaXR5OmZ1bmN0aW9uIGdldFZlbG9jaXR5KGUpe3ZhciB0PWwscj1hLG49emUoKTtyZXR1cm4hZSYmMCE9PWV8fGU9PT1pfHxDZChlKSxzPT09bHx8YzxuLWw/MDooaSsobz9yOi1yKSkvKChvP246cyktdCkqMWUzfX19ZnVuY3Rpb24gTShlLHQpe3JldHVybiB0JiYhZS5fZ3NhcEFsbG93JiZlLnByZXZlbnREZWZhdWx0KCksZS5jaGFuZ2VkVG91Y2hlcz9lLmNoYW5nZWRUb3VjaGVzWzBdOmV9ZnVuY3Rpb24gTihlKXt2YXIgdD1NYXRoLm1heC5hcHBseShNYXRoLGUpLHI9TWF0aC5taW4uYXBwbHkoTWF0aCxlKTtyZXR1cm4gTWF0aC5hYnModCk+PU1hdGguYWJzKHIpP3Q6cn1mdW5jdGlvbiBPKCl7KEFlPUNlLmNvcmUuZ2xvYmFscygpLlNjcm9sbFRyaWdnZXIpJiZBZS5jb3JlJiZmdW5jdGlvbiBfaW50ZWdyYXRlKCl7dmFyIGU9QWUuY29yZSxyPWUuYnJpZGdlfHx7fSx0PWUuX3Njcm9sbGVycyxuPWUuX3Byb3hpZXM7dC5wdXNoLmFwcGx5KHQsSWUpLG4ucHVzaC5hcHBseShuLExlKSxJZT10LExlPW4saT1mdW5jdGlvbiBfYnJpZGdlKGUsdCl7cmV0dXJuIHJbZV0odCl9fSgpfWZ1bmN0aW9uIFAoZSl7cmV0dXJuIENlPWV8fHIoKSwhVGUmJkNlJiYidW5kZWZpbmVkIiE9dHlwZW9mIGRvY3VtZW50JiZkb2N1bWVudC5ib2R5JiYoU2U9d2luZG93LFBlPShrZT1kb2N1bWVudCkuZG9jdW1lbnRFbGVtZW50LE1lPWtlLmJvZHksdD1bU2Usa2UsUGUsTWVdLENlLnV0aWxzLmNsYW1wLEJlPUNlLmNvcmUuY29udGV4dHx8ZnVuY3Rpb24oKXt9LE9lPSJvbnBvaW50ZXJlbnRlciJpbiBNZT8icG9pbnRlciI6Im1vdXNlIixFZT1rLmlzVG91Y2g9U2UubWF0Y2hNZWRpYSYmU2UubWF0Y2hNZWRpYSgiKGhvdmVyOiBub25lKSwgKHBvaW50ZXI6IGNvYXJzZSkiKS5tYXRjaGVzPzE6Im9udG91Y2hzdGFydCJpbiBTZXx8MDxuYXZpZ2F0b3IubWF4VG91Y2hQb2ludHN8fDA8bmF2aWdhdG9yLm1zTWF4VG91Y2hQb2ludHM/MjowLFJlPWsuZXZlbnRUeXBlcz0oIm9udG91Y2hzdGFydCJpbiBQZT8idG91Y2hzdGFydCx0b3VjaG1vdmUsdG91Y2hjYW5jZWwsdG91Y2hlbmQiOiJvbnBvaW50ZXJkb3duImluIFBlPyJwb2ludGVyZG93bixwb2ludGVybW92ZSxwb2ludGVyY2FuY2VsLHBvaW50ZXJ1cCI6Im1vdXNlZG93bixtb3VzZW1vdmUsbW91c2V1cCxtb3VzZXVwIikuc3BsaXQoIiwiKSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7cmV0dXJuIG89MH0sNTAwKSxPKCksVGU9MSksVGV9dmFyIENlLFRlLFNlLGtlLFBlLE1lLEVlLE9lLEFlLHQsRGUsUmUsQmUsbz0xLHFlPVtdLEllPVtdLExlPVtdLHplPURhdGUubm93LGk9ZnVuY3Rpb24gX2JyaWRnZShlLHQpe3JldHVybiB0fSxuPSJzY3JvbGxMZWZ0IixhPSJzY3JvbGxUb3AiLFllPXtzOm4scDoibGVmdCIscDI6IkxlZnQiLG9zOiJyaWdodCIsb3MyOiJSaWdodCIsZDoid2lkdGgiLGQyOiJXaWR0aCIsYToieCIsc2M6RyhmdW5jdGlvbihlKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD9TZS5zY3JvbGxUbyhlLEZlLnNjKCkpOlNlLnBhZ2VYT2Zmc2V0fHxrZVtuXXx8UGVbbl18fE1lW25dfHwwfSl9LEZlPXtzOmEscDoidG9wIixwMjoiVG9wIixvczoiYm90dG9tIixvczI6IkJvdHRvbSIsZDoiaGVpZ2h0IixkMjoiSGVpZ2h0IixhOiJ5IixvcDpZZSxzYzpHKGZ1bmN0aW9uKGUpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoP1NlLnNjcm9sbFRvKFllLnNjKCksZSk6U2UucGFnZVlPZmZzZXR8fGtlW2FdfHxQZVthXXx8TWVbYV18fDB9KX07WWUub3A9RmUsSWUuY2FjaGU9MDt2YXIgaz0oT2JzZXJ2ZXIucHJvdG90eXBlLmluaXQ9ZnVuY3Rpb24gaW5pdChlKXtUZXx8UChDZSl8fGNvbnNvbGUud2FybigiUGxlYXNlIGdzYXAucmVnaXN0ZXJQbHVnaW4oT2JzZXJ2ZXIpIiksQWV8fE8oKTt2YXIgbz1lLnRvbGVyYW5jZSxhPWUuZHJhZ01pbmltdW0sdD1lLnR5cGUsaT1lLnRhcmdldCxyPWUubGluZUhlaWdodCxuPWUuZGVib3VuY2Uscz1lLnByZXZlbnREZWZhdWx0LGw9ZS5vblN0b3AsYz1lLm9uU3RvcERlbGF5LHU9ZS5pZ25vcmUsZj1lLndoZWVsU3BlZWQsZD1lLmV2ZW50LHA9ZS5vbkRyYWdTdGFydCxnPWUub25EcmFnRW5kLGg9ZS5vbkRyYWcsdj1lLm9uUHJlc3MsYj1lLm9uUmVsZWFzZSxtPWUub25SaWdodCx5PWUub25MZWZ0LHg9ZS5vblVwLHc9ZS5vbkRvd24sXz1lLm9uQ2hhbmdlWCxUPWUub25DaGFuZ2VZLFM9ZS5vbkNoYW5nZSxrPWUub25Ub2dnbGVYLEU9ZS5vblRvZ2dsZVksRD1lLm9uSG92ZXIsUj1lLm9uSG92ZXJFbmQscT1lLm9uTW92ZSxJPWUuaWdub3JlQ2hlY2ssej1lLmlzTm9ybWFsaXplcixZPWUub25HZXN0dXJlU3RhcnQsSD1lLm9uR2VzdHVyZUVuZCxYPWUub25XaGVlbCxXPWUub25FbmFibGUsVj1lLm9uRGlzYWJsZSxVPWUub25DbGljayxqPWUuc2Nyb2xsU3BlZWQsRz1lLmNhcHR1cmUsUT1lLmFsbG93Q2xpY2tzLFo9ZS5sb2NrQXhpcywkPWUub25Mb2NrQXhpcztmdW5jdGlvbiBjZigpe3JldHVybiB4ZT16ZSgpfWZ1bmN0aW9uIGRmKGUsdCl7cmV0dXJuKHNlLmV2ZW50PWUpJiZ1JiZ+dS5pbmRleE9mKGUudGFyZ2V0KXx8dCYmaGUmJiJ0b3VjaCIhPT1lLnBvaW50ZXJUeXBlfHxJJiZJKGUsdCl9ZnVuY3Rpb24gZmYoKXt2YXIgZT1zZS5kZWx0YVg9TihtZSksdD1zZS5kZWx0YVk9Tih5ZSkscj1NYXRoLmFicyhlKT49byxuPU1hdGguYWJzKHQpPj1vO1MmJihyfHxuKSYmUyhzZSxlLHQsbWUseWUpLHImJihtJiYwPHNlLmRlbHRhWCYmbShzZSkseSYmc2UuZGVsdGFYPDAmJnkoc2UpLF8mJl8oc2UpLGsmJnNlLmRlbHRhWDwwIT1sZTwwJiZrKHNlKSxsZT1zZS5kZWx0YVgsbWVbMF09bWVbMV09bWVbMl09MCksbiYmKHcmJjA8c2UuZGVsdGFZJiZ3KHNlKSx4JiZzZS5kZWx0YVk8MCYmeChzZSksVCYmVChzZSksRSYmc2UuZGVsdGFZPDAhPWNlPDAmJkUoc2UpLGNlPXNlLmRlbHRhWSx5ZVswXT15ZVsxXT15ZVsyXT0wKSwobmV8fHJlKSYmKHEmJnEoc2UpLHJlJiYoaChzZSkscmU9ITEpLG5lPSExKSxpZSYmIShpZT0hMSkmJiQmJiQoc2UpLG9lJiYoWChzZSksb2U9ITEpLGVlPTB9ZnVuY3Rpb24gZ2YoZSx0LHIpe21lW3JdKz1lLHllW3JdKz10LHNlLl92eC51cGRhdGUoZSksc2UuX3Z5LnVwZGF0ZSh0KSxuP2VlPWVlfHxyZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZmYpOmZmKCl9ZnVuY3Rpb24gaGYoZSx0KXtaJiYhYWUmJihzZS5heGlzPWFlPU1hdGguYWJzKGUpPk1hdGguYWJzKHQpPyJ4IjoieSIsaWU9ITApLCJ5IiE9PWFlJiYobWVbMl0rPWUsc2UuX3Z4LnVwZGF0ZShlLCEwKSksIngiIT09YWUmJih5ZVsyXSs9dCxzZS5fdnkudXBkYXRlKHQsITApKSxuP2VlPWVlfHxyZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZmYpOmZmKCl9ZnVuY3Rpb24gamYoZSl7aWYoIWRmKGUsMSkpe3ZhciB0PShlPU0oZSxzKSkuY2xpZW50WCxyPWUuY2xpZW50WSxuPXQtc2UueCxvPXItc2UueSxpPXNlLmlzRHJhZ2dpbmc7c2UueD10LHNlLnk9ciwoaXx8TWF0aC5hYnMoc2Uuc3RhcnRYLXQpPj1hfHxNYXRoLmFicyhzZS5zdGFydFktcik+PWEpJiYoaCYmKHJlPSEwKSxpfHwoc2UuaXNEcmFnZ2luZz0hMCksaGYobixvKSxpfHxwJiZwKHNlKSl9fWZ1bmN0aW9uIG1mKGUpe3JldHVybiBlLnRvdWNoZXMmJjE8ZS50b3VjaGVzLmxlbmd0aCYmKHNlLmlzR2VzdHVyaW5nPSEwKSYmWShlLHNlLmlzRHJhZ2dpbmcpfWZ1bmN0aW9uIG5mKCl7cmV0dXJuKHNlLmlzR2VzdHVyaW5nPSExKXx8SChzZSl9ZnVuY3Rpb24gb2YoZSl7aWYoIWRmKGUpKXt2YXIgdD1mZSgpLHI9ZGUoKTtnZigodC1wZSkqaiwoci1nZSkqaiwxKSxwZT10LGdlPXIsbCYmdGUucmVzdGFydCghMCl9fWZ1bmN0aW9uIHBmKGUpe2lmKCFkZihlKSl7ZT1NKGUscyksWCYmKG9lPSEwKTt2YXIgdD0oMT09PWUuZGVsdGFNb2RlP3I6Mj09PWUuZGVsdGFNb2RlP1NlLmlubmVySGVpZ2h0OjEpKmY7Z2YoZS5kZWx0YVgqdCxlLmRlbHRhWSp0LDApLGwmJiF6JiZ0ZS5yZXN0YXJ0KCEwKX19ZnVuY3Rpb24gcWYoZSl7aWYoIWRmKGUpKXt2YXIgdD1lLmNsaWVudFgscj1lLmNsaWVudFksbj10LXNlLngsbz1yLXNlLnk7c2UueD10LHNlLnk9cixuZT0hMCxsJiZ0ZS5yZXN0YXJ0KCEwKSwobnx8bykmJmhmKG4sbyl9fWZ1bmN0aW9uIHJmKGUpe3NlLmV2ZW50PWUsRChzZSl9ZnVuY3Rpb24gc2YoZSl7c2UuZXZlbnQ9ZSxSKHNlKX1mdW5jdGlvbiB0ZihlKXtyZXR1cm4gZGYoZSl8fE0oZSxzKSYmVShzZSl9dGhpcy50YXJnZXQ9aT1KKGkpfHxQZSx0aGlzLnZhcnM9ZSx1PXUmJkNlLnV0aWxzLnRvQXJyYXkodSksbz1vfHwxZS05LGE9YXx8MCxmPWZ8fDEsaj1qfHwxLHQ9dHx8IndoZWVsLHRvdWNoLHBvaW50ZXIiLG49ITEhPT1uLHI9cnx8cGFyc2VGbG9hdChTZS5nZXRDb21wdXRlZFN0eWxlKE1lKS5saW5lSGVpZ2h0KXx8MjI7dmFyIGVlLHRlLHJlLG5lLG9lLGllLGFlLHNlPXRoaXMsbGU9MCxjZT0wLHVlPWUucGFzc2l2ZXx8IXMsZmU9SyhpLFllKSxkZT1LKGksRmUpLHBlPWZlKCksZ2U9ZGUoKSxoZT1+dC5pbmRleE9mKCJ0b3VjaCIpJiYhfnQuaW5kZXhPZigicG9pbnRlciIpJiYicG9pbnRlcmRvd24iPT09UmVbMF0sdmU9QShpKSxiZT1pLm93bmVyRG9jdW1lbnR8fGtlLG1lPVswLDAsMF0seWU9WzAsMCwwXSx4ZT0wLHdlPXNlLm9uUHJlc3M9ZnVuY3Rpb24oZSl7ZGYoZSwxKXx8ZSYmZS5idXR0b258fChzZS5heGlzPWFlPW51bGwsdGUucGF1c2UoKSxzZS5pc1ByZXNzZWQ9ITAsZT1NKGUpLGxlPWNlPTAsc2Uuc3RhcnRYPXNlLng9ZS5jbGllbnRYLHNlLnN0YXJ0WT1zZS55PWUuY2xpZW50WSxzZS5fdngucmVzZXQoKSxzZS5fdnkucmVzZXQoKSxCKHo/aTpiZSxSZVsxXSxqZix1ZSwhMCksc2UuZGVsdGFYPXNlLmRlbHRhWT0wLHYmJnYoc2UpKX0sX2U9c2Uub25SZWxlYXNlPWZ1bmN0aW9uKHQpe2lmKCFkZih0LDEpKXtDKHo/aTpiZSxSZVsxXSxqZiwhMCk7dmFyIGU9IWlzTmFOKHNlLnktc2Uuc3RhcnRZKSxyPXNlLmlzRHJhZ2dpbmcsbj1yJiYoMzxNYXRoLmFicyhzZS54LXNlLnN0YXJ0WCl8fDM8TWF0aC5hYnMoc2UueS1zZS5zdGFydFkpKSxvPU0odCk7IW4mJmUmJihzZS5fdngucmVzZXQoKSxzZS5fdnkucmVzZXQoKSxzJiZRJiZDZS5kZWxheWVkQ2FsbCguMDgsZnVuY3Rpb24oKXtpZigzMDA8emUoKS14ZSYmIXQuZGVmYXVsdFByZXZlbnRlZClpZih0LnRhcmdldC5jbGljayl0LnRhcmdldC5jbGljaygpO2Vsc2UgaWYoYmUuY3JlYXRlRXZlbnQpe3ZhciBlPWJlLmNyZWF0ZUV2ZW50KCJNb3VzZUV2ZW50cyIpO2UuaW5pdE1vdXNlRXZlbnQoImNsaWNrIiwhMCwhMCxTZSwxLG8uc2NyZWVuWCxvLnNjcmVlblksby5jbGllbnRYLG8uY2xpZW50WSwhMSwhMSwhMSwhMSwwLG51bGwpLHQudGFyZ2V0LmRpc3BhdGNoRXZlbnQoZSl9fSkpLHNlLmlzRHJhZ2dpbmc9c2UuaXNHZXN0dXJpbmc9c2UuaXNQcmVzc2VkPSExLGwmJnImJiF6JiZ0ZS5yZXN0YXJ0KCEwKSxnJiZyJiZnKHNlKSxiJiZiKHNlLG4pfX07dGU9c2UuX2RjPUNlLmRlbGF5ZWRDYWxsKGN8fC4yNSxmdW5jdGlvbiBvblN0b3BGdW5jKCl7c2UuX3Z4LnJlc2V0KCksc2UuX3Z5LnJlc2V0KCksdGUucGF1c2UoKSxsJiZsKHNlKX0pLnBhdXNlKCksc2UuZGVsdGFYPXNlLmRlbHRhWT0wLHNlLl92eD1MKDAsNTAsITApLHNlLl92eT1MKDAsNTAsITApLHNlLnNjcm9sbFg9ZmUsc2Uuc2Nyb2xsWT1kZSxzZS5pc0RyYWdnaW5nPXNlLmlzR2VzdHVyaW5nPXNlLmlzUHJlc3NlZD0hMSxCZSh0aGlzKSxzZS5lbmFibGU9ZnVuY3Rpb24oZSl7cmV0dXJuIHNlLmlzRW5hYmxlZHx8KEIodmU/YmU6aSwic2Nyb2xsIixGKSwwPD10LmluZGV4T2YoInNjcm9sbCIpJiZCKHZlP2JlOmksInNjcm9sbCIsb2YsdWUsRyksMDw9dC5pbmRleE9mKCJ3aGVlbCIpJiZCKGksIndoZWVsIixwZix1ZSxHKSwoMDw9dC5pbmRleE9mKCJ0b3VjaCIpJiZFZXx8MDw9dC5pbmRleE9mKCJwb2ludGVyIikpJiYoQihpLFJlWzBdLHdlLHVlLEcpLEIoYmUsUmVbMl0sX2UpLEIoYmUsUmVbM10sX2UpLFEmJkIoaSwiY2xpY2siLGNmLCEwLCEwKSxVJiZCKGksImNsaWNrIix0ZiksWSYmQihiZSwiZ2VzdHVyZXN0YXJ0IixtZiksSCYmQihiZSwiZ2VzdHVyZWVuZCIsbmYpLEQmJkIoaSxPZSsiZW50ZXIiLHJmKSxSJiZCKGksT2UrImxlYXZlIixzZikscSYmQihpLE9lKyJtb3ZlIixxZikpLHNlLmlzRW5hYmxlZD0hMCxlJiZlLnR5cGUmJndlKGUpLFcmJlcoc2UpKSxzZX0sc2UuZGlzYWJsZT1mdW5jdGlvbigpe3NlLmlzRW5hYmxlZCYmKHFlLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4gZSE9PXNlJiZBKGUudGFyZ2V0KX0pLmxlbmd0aHx8Qyh2ZT9iZTppLCJzY3JvbGwiLEYpLHNlLmlzUHJlc3NlZCYmKHNlLl92eC5yZXNldCgpLHNlLl92eS5yZXNldCgpLEMoej9pOmJlLFJlWzFdLGpmLCEwKSksQyh2ZT9iZTppLCJzY3JvbGwiLG9mLEcpLEMoaSwid2hlZWwiLHBmLEcpLEMoaSxSZVswXSx3ZSxHKSxDKGJlLFJlWzJdLF9lKSxDKGJlLFJlWzNdLF9lKSxDKGksImNsaWNrIixjZiwhMCksQyhpLCJjbGljayIsdGYpLEMoYmUsImdlc3R1cmVzdGFydCIsbWYpLEMoYmUsImdlc3R1cmVlbmQiLG5mKSxDKGksT2UrImVudGVyIixyZiksQyhpLE9lKyJsZWF2ZSIsc2YpLEMoaSxPZSsibW92ZSIscWYpLHNlLmlzRW5hYmxlZD1zZS5pc1ByZXNzZWQ9c2UuaXNEcmFnZ2luZz0hMSxWJiZWKHNlKSl9LHNlLmtpbGw9c2UucmV2ZXJ0PWZ1bmN0aW9uKCl7c2UuZGlzYWJsZSgpO3ZhciBlPXFlLmluZGV4T2Yoc2UpOzA8PWUmJnFlLnNwbGljZShlLDEpLERlPT09c2UmJihEZT0wKX0scWUucHVzaChzZSkseiYmQShpKSYmKERlPXNlKSxzZS5lbmFibGUoZCl9LGZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhlLHQscil7cmV0dXJuIHQmJl9kZWZpbmVQcm9wZXJ0aWVzKGUucHJvdG90eXBlLHQpLHImJl9kZWZpbmVQcm9wZXJ0aWVzKGUsciksZX0oT2JzZXJ2ZXIsW3trZXk6InZlbG9jaXR5WCIsZ2V0OmZ1bmN0aW9uIGdldCgpe3JldHVybiB0aGlzLl92eC5nZXRWZWxvY2l0eSgpfX0se2tleToidmVsb2NpdHlZIixnZXQ6ZnVuY3Rpb24gZ2V0KCl7cmV0dXJuIHRoaXMuX3Z5LmdldFZlbG9jaXR5KCl9fV0pLE9ic2VydmVyKTtmdW5jdGlvbiBPYnNlcnZlcihlKXt0aGlzLmluaXQoZSl9ay52ZXJzaW9uPSIzLjEyLjUiLGsuY3JlYXRlPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgayhlKX0say5yZWdpc3Rlcj1QLGsuZ2V0QWxsPWZ1bmN0aW9uKCl7cmV0dXJuIHFlLnNsaWNlKCl9LGsuZ2V0QnlJZD1mdW5jdGlvbih0KXtyZXR1cm4gcWUuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiBlLnZhcnMuaWQ9PT10fSlbMF19LHIoKSYmQ2UucmVnaXN0ZXJQbHVnaW4oayk7ZnVuY3Rpb24gQ2EoZSx0LHIpe3ZhciBuPWN0KGUpJiYoImNsYW1wKCI9PT1lLnN1YnN0cigwLDYpfHwtMTxlLmluZGV4T2YoIm1heCIpKTtyZXR1cm4oclsiXyIrdCsiQ2xhbXAiXT1uKT9lLnN1YnN0cig2LGUubGVuZ3RoLTcpOmV9ZnVuY3Rpb24gRGEoZSx0KXtyZXR1cm4hdHx8Y3QoZSkmJiJjbGFtcCgiPT09ZS5zdWJzdHIoMCw2KT9lOiJjbGFtcCgiK2UrIikifWZ1bmN0aW9uIEZhKCl7cmV0dXJuIEdlPTF9ZnVuY3Rpb24gR2EoKXtyZXR1cm4gR2U9MH1mdW5jdGlvbiBIYShlKXtyZXR1cm4gZX1mdW5jdGlvbiBJYShlKXtyZXR1cm4gTWF0aC5yb3VuZCgxZTUqZSkvMWU1fHwwfWZ1bmN0aW9uIEphKCl7cmV0dXJuInVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3d9ZnVuY3Rpb24gS2EoKXtyZXR1cm4gSGV8fEphKCkmJihIZT13aW5kb3cuZ3NhcCkmJkhlLnJlZ2lzdGVyUGx1Z2luJiZIZX1mdW5jdGlvbiBMYShlKXtyZXR1cm4hIX5sLmluZGV4T2YoZSl9ZnVuY3Rpb24gTWEoZSl7cmV0dXJuKCJIZWlnaHQiPT09ZT9UOk5lWyJpbm5lciIrZV0pfHxKZVsiY2xpZW50IitlXXx8V2VbImNsaWVudCIrZV19ZnVuY3Rpb24gTmEoZSl7cmV0dXJuIHooZSwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0Iil8fChMYShlKT9mdW5jdGlvbigpe3JldHVybiBPdC53aWR0aD1OZS5pbm5lcldpZHRoLE90LmhlaWdodD1ULE90fTpmdW5jdGlvbigpe3JldHVybiB3dChlKX0pfWZ1bmN0aW9uIFFhKGUsdCl7dmFyIHI9dC5zLG49dC5kMixvPXQuZCxpPXQuYTtyZXR1cm4gTWF0aC5tYXgoMCwocj0ic2Nyb2xsIituKSYmKGk9eihlLHIpKT9pKCktTmEoZSkoKVtvXTpMYShlKT8oSmVbcl18fFdlW3JdKS1NYShuKTplW3JdLWVbIm9mZnNldCIrbl0pfWZ1bmN0aW9uIFJhKGUsdCl7Zm9yKHZhciByPTA7cjxnLmxlbmd0aDtyKz0zKXQmJiF+dC5pbmRleE9mKGdbcisxXSl8fGUoZ1tyXSxnW3IrMV0sZ1tyKzJdKX1mdW5jdGlvbiBUYShlKXtyZXR1cm4iZnVuY3Rpb24iPT10eXBlb2YgZX1mdW5jdGlvbiBVYShlKXtyZXR1cm4ibnVtYmVyIj09dHlwZW9mIGV9ZnVuY3Rpb24gVmEoZSl7cmV0dXJuIm9iamVjdCI9PXR5cGVvZiBlfWZ1bmN0aW9uIFdhKGUsdCxyKXtyZXR1cm4gZSYmZS5wcm9ncmVzcyh0PzA6MSkmJnImJmUucGF1c2UoKX1mdW5jdGlvbiBYYShlLHQpe2lmKGUuZW5hYmxlZCl7dmFyIHI9ZS5fY3R4P2UuX2N0eC5hZGQoZnVuY3Rpb24oKXtyZXR1cm4gdChlKX0pOnQoZSk7ciYmci50b3RhbFRpbWUmJihlLmNhbGxiYWNrQW5pbWF0aW9uPXIpfX1mdW5jdGlvbiBtYihlKXtyZXR1cm4gTmUuZ2V0Q29tcHV0ZWRTdHlsZShlKX1mdW5jdGlvbiBvYihlLHQpe2Zvcih2YXIgciBpbiB0KXIgaW4gZXx8KGVbcl09dFtyXSk7cmV0dXJuIGV9ZnVuY3Rpb24gcWIoZSx0KXt2YXIgcj10LmQyO3JldHVybiBlWyJvZmZzZXQiK3JdfHxlWyJjbGllbnQiK3JdfHwwfWZ1bmN0aW9uIHJiKGUpe3ZhciB0LHI9W10sbj1lLmxhYmVscyxvPWUuZHVyYXRpb24oKTtmb3IodCBpbiBuKXIucHVzaChuW3RdL28pO3JldHVybiByfWZ1bmN0aW9uIHRiKG8pe3ZhciBpPUhlLnV0aWxzLnNuYXAobyksYT1BcnJheS5pc0FycmF5KG8pJiZvLnNsaWNlKDApLnNvcnQoZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS10fSk7cmV0dXJuIGE/ZnVuY3Rpb24oZSx0LHIpe3ZhciBuO2lmKHZvaWQgMD09PXImJihyPS4wMDEpLCF0KXJldHVybiBpKGUpO2lmKDA8dCl7Zm9yKGUtPXIsbj0wO248YS5sZW5ndGg7bisrKWlmKGFbbl0+PWUpcmV0dXJuIGFbbl07cmV0dXJuIGFbbi0xXX1mb3Iobj1hLmxlbmd0aCxlKz1yO24tLTspaWYoYVtuXTw9ZSlyZXR1cm4gYVtuXTtyZXR1cm4gYVswXX06ZnVuY3Rpb24oZSx0LHIpe3ZvaWQgMD09PXImJihyPS4wMDEpO3ZhciBuPWkoZSk7cmV0dXJuIXR8fE1hdGguYWJzKG4tZSk8cnx8bi1lPDA9PXQ8MD9uOmkodDwwP2UtbzplK28pfX1mdW5jdGlvbiB2Yih0LHIsZSxuKXtyZXR1cm4gZS5zcGxpdCgiLCIpLmZvckVhY2goZnVuY3Rpb24oZSl7cmV0dXJuIHQocixlLG4pfSl9ZnVuY3Rpb24gd2IoZSx0LHIsbixvKXtyZXR1cm4gZS5hZGRFdmVudExpc3RlbmVyKHQscix7cGFzc2l2ZTohbixjYXB0dXJlOiEhb30pfWZ1bmN0aW9uIHhiKGUsdCxyLG4pe3JldHVybiBlLnJlbW92ZUV2ZW50TGlzdGVuZXIodCxyLCEhbil9ZnVuY3Rpb24geWIoZSx0LHIpeyhyPXImJnIud2hlZWxIYW5kbGVyKSYmKGUodCwid2hlZWwiLHIpLGUodCwidG91Y2htb3ZlIixyKSl9ZnVuY3Rpb24gQ2IoZSx0KXtpZihjdChlKSl7dmFyIHI9ZS5pbmRleE9mKCI9Iiksbj1+cj8oZS5jaGFyQXQoci0xKSsxKSpwYXJzZUZsb2F0KGUuc3Vic3RyKHIrMSkpOjA7fnImJihlLmluZGV4T2YoIiUiKT5yJiYobio9dC8xMDApLGU9ZS5zdWJzdHIoMCxyLTEpKSxlPW4rKGUgaW4gSD9IW2VdKnQ6fmUuaW5kZXhPZigiJSIpP3BhcnNlRmxvYXQoZSkqdC8xMDA6cGFyc2VGbG9hdChlKXx8MCl9cmV0dXJuIGV9ZnVuY3Rpb24gRGIoZSx0LHIsbixvLGksYSxzKXt2YXIgbD1vLnN0YXJ0Q29sb3IsYz1vLmVuZENvbG9yLHU9by5mb250U2l6ZSxmPW8uaW5kZW50LGQ9by5mb250V2VpZ2h0LHA9WGUuY3JlYXRlRWxlbWVudCgiZGl2IiksZz1MYShyKXx8ImZpeGVkIj09PXoociwicGluVHlwZSIpLGg9LTEhPT1lLmluZGV4T2YoInNjcm9sbGVyIiksdj1nP1dlOnIsYj0tMSE9PWUuaW5kZXhPZigic3RhcnQiKSxtPWI/bDpjLHk9ImJvcmRlci1jb2xvcjoiK20rIjtmb250LXNpemU6Iit1KyI7Y29sb3I6IittKyI7Zm9udC13ZWlnaHQ6IitkKyI7cG9pbnRlci1ldmVudHM6bm9uZTt3aGl0ZS1zcGFjZTpub3dyYXA7Zm9udC1mYW1pbHk6c2Fucy1zZXJpZixBcmlhbDt6LWluZGV4OjEwMDA7cGFkZGluZzo0cHggOHB4O2JvcmRlci13aWR0aDowO2JvcmRlci1zdHlsZTpzb2xpZDsiO3JldHVybiB5Kz0icG9zaXRpb246IisoKGh8fHMpJiZnPyJmaXhlZDsiOiJhYnNvbHV0ZTsiKSwhaCYmIXMmJmd8fCh5Kz0obj09PUZlP3E6SSkrIjoiKyhpK3BhcnNlRmxvYXQoZikpKyJweDsiKSxhJiYoeSs9ImJveC1zaXppbmc6Ym9yZGVyLWJveDt0ZXh0LWFsaWduOmxlZnQ7d2lkdGg6IithLm9mZnNldFdpZHRoKyJweDsiKSxwLl9pc1N0YXJ0PWIscC5zZXRBdHRyaWJ1dGUoImNsYXNzIiwiZ3NhcC1tYXJrZXItIitlKyh0PyIgbWFya2VyLSIrdDoiIikpLHAuc3R5bGUuY3NzVGV4dD15LHAuaW5uZXJUZXh0PXR8fDA9PT10P2UrIi0iK3Q6ZSx2LmNoaWxkcmVuWzBdP3YuaW5zZXJ0QmVmb3JlKHAsdi5jaGlsZHJlblswXSk6di5hcHBlbmRDaGlsZChwKSxwLl9vZmZzZXQ9cFsib2Zmc2V0IituLm9wLmQyXSxYKHAsMCxuLGIpLHB9ZnVuY3Rpb24gSWIoKXtyZXR1cm4gMzQ8YXQoKS1zdCYmKEQ9RHx8cmVxdWVzdEFuaW1hdGlvbkZyYW1lKFopKX1mdW5jdGlvbiBKYigpe3YmJnYuaXNQcmVzc2VkJiYhKHYuc3RhcnRYPldlLmNsaWVudFdpZHRoKXx8KEllLmNhY2hlKyssdj9EPUR8fHJlcXVlc3RBbmltYXRpb25GcmFtZShaKTpaKCksc3R8fFUoInNjcm9sbFN0YXJ0Iiksc3Q9YXQoKSl9ZnVuY3Rpb24gS2IoKXt5PU5lLmlubmVyV2lkdGgsbT1OZS5pbm5lckhlaWdodH1mdW5jdGlvbiBMYigpe0llLmNhY2hlKyssamV8fGh8fFhlLmZ1bGxzY3JlZW5FbGVtZW50fHxYZS53ZWJraXRGdWxsc2NyZWVuRWxlbWVudHx8YiYmeT09PU5lLmlubmVyV2lkdGgmJiEoTWF0aC5hYnMoTmUuaW5uZXJIZWlnaHQtbSk+LjI1Kk5lLmlubmVySGVpZ2h0KXx8Yy5yZXN0YXJ0KCEwKX1mdW5jdGlvbiBPYigpe3JldHVybiB4YihuZSwic2Nyb2xsRW5kIixPYil8fFB0KCEwKX1mdW5jdGlvbiBSYihlKXtmb3IodmFyIHQ9MDt0PGoubGVuZ3RoO3QrPTUpKCFlfHxqW3QrNF0mJmpbdCs0XS5xdWVyeT09PWUpJiYoalt0XS5zdHlsZS5jc3NUZXh0PWpbdCsxXSxqW3RdLmdldEJCb3gmJmpbdF0uc2V0QXR0cmlidXRlKCJ0cmFuc2Zvcm0iLGpbdCsyXXx8IiIpLGpbdCszXS51bmNhY2hlPTEpfWZ1bmN0aW9uIFNiKGUsdCl7dmFyIHI7Zm9yKFFlPTA7UWU8VHQubGVuZ3RoO1FlKyspIShyPVR0W1FlXSl8fHQmJnIuX2N0eCE9PXR8fChlP3Iua2lsbCgxKTpyLnJldmVydCghMCwhMCkpO1M9ITAsdCYmUmIodCksdHx8VSgicmV2ZXJ0Iil9ZnVuY3Rpb24gVGIoZSx0KXtJZS5jYWNoZSsrLCF0JiZydHx8SWUuZm9yRWFjaChmdW5jdGlvbihlKXtyZXR1cm4gVGEoZSkmJmUuY2FjaGVJRCsrJiYoZS5yZWM9MCl9KSxjdChlKSYmKE5lLmhpc3Rvcnkuc2Nyb2xsUmVzdG9yYXRpb249dz1lKX1mdW5jdGlvbiBZYigpe1dlLmFwcGVuZENoaWxkKF8pLFQ9IXYmJl8ub2Zmc2V0SGVpZ2h0fHxOZS5pbm5lckhlaWdodCxXZS5yZW1vdmVDaGlsZChfKX1mdW5jdGlvbiBaYih0KXtyZXR1cm4gVmUoIi5nc2FwLW1hcmtlci1zdGFydCwgLmdzYXAtbWFya2VyLWVuZCwgLmdzYXAtbWFya2VyLXNjcm9sbGVyLXN0YXJ0LCAuZ3NhcC1tYXJrZXItc2Nyb2xsZXItZW5kIikuZm9yRWFjaChmdW5jdGlvbihlKXtyZXR1cm4gZS5zdHlsZS5kaXNwbGF5PXQ/Im5vbmUiOiJibG9jayJ9KX1mdW5jdGlvbiBnYyhlLHQscixuKXtpZighZS5fZ3NhcC5zd2FwcGVkSW4pe2Zvcih2YXIgbyxpPSQubGVuZ3RoLGE9dC5zdHlsZSxzPWUuc3R5bGU7aS0tOylhW289JFtpXV09cltvXTthLnBvc2l0aW9uPSJhYnNvbHV0ZSI9PT1yLnBvc2l0aW9uPyJhYnNvbHV0ZSI6InJlbGF0aXZlIiwiaW5saW5lIj09PXIuZGlzcGxheSYmKGEuZGlzcGxheT0iaW5saW5lLWJsb2NrIiksc1tJXT1zW3FdPSJhdXRvIixhLmZsZXhCYXNpcz1yLmZsZXhCYXNpc3x8ImF1dG8iLGEub3ZlcmZsb3c9InZpc2libGUiLGEuYm94U2l6aW5nPSJib3JkZXItYm94IixhW2Z0XT1xYihlLFllKSt4dCxhW2R0XT1xYihlLEZlKSt4dCxhW2J0XT1zW210XT1zLnRvcD1zLmxlZnQ9IjAiLEV0KG4pLHNbZnRdPXMubWF4V2lkdGg9cltmdF0sc1tkdF09cy5tYXhIZWlnaHQ9cltkdF0sc1tidF09cltidF0sZS5wYXJlbnROb2RlIT09dCYmKGUucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUodCxlKSx0LmFwcGVuZENoaWxkKGUpKSxlLl9nc2FwLnN3YXBwZWRJbj0hMH19ZnVuY3Rpb24gamMoZSl7Zm9yKHZhciB0PWVlLmxlbmd0aCxyPWUuc3R5bGUsbj1bXSxvPTA7bzx0O28rKyluLnB1c2goZWVbb10scltlZVtvXV0pO3JldHVybiBuLnQ9ZSxufWZ1bmN0aW9uIG1jKGUsdCxyLG4sbyxpLGEscyxsLGMsdSxmLGQscCl7VGEoZSkmJihlPWUocykpLGN0KGUpJiYibWF4Ij09PWUuc3Vic3RyKDAsMykmJihlPWYrKCI9Ij09PWUuY2hhckF0KDQpP0NiKCIwIitlLnN1YnN0cigzKSxyKTowKSk7dmFyIGcsaCx2LGI9ZD9kLnRpbWUoKTowO2lmKGQmJmQuc2VlaygwKSxpc05hTihlKXx8KGU9K2UpLFVhKGUpKWQmJihlPUhlLnV0aWxzLm1hcFJhbmdlKGQuc2Nyb2xsVHJpZ2dlci5zdGFydCxkLnNjcm9sbFRyaWdnZXIuZW5kLDAsZixlKSksYSYmWChhLHIsbiwhMCk7ZWxzZXtUYSh0KSYmKHQ9dChzKSk7dmFyIG0seSx4LHcsXz0oZXx8IjAiKS5zcGxpdCgiICIpO3Y9Sih0LHMpfHxXZSwobT13dCh2KXx8e30pJiYobS5sZWZ0fHxtLnRvcCl8fCJub25lIiE9PW1iKHYpLmRpc3BsYXl8fCh3PXYuc3R5bGUuZGlzcGxheSx2LnN0eWxlLmRpc3BsYXk9ImJsb2NrIixtPXd0KHYpLHc/di5zdHlsZS5kaXNwbGF5PXc6di5zdHlsZS5yZW1vdmVQcm9wZXJ0eSgiZGlzcGxheSIpKSx5PUNiKF9bMF0sbVtuLmRdKSx4PUNiKF9bMV18fCIwIixyKSxlPW1bbi5wXS1sW24ucF0tYyt5K28teCxhJiZYKGEseCxuLHIteDwyMHx8YS5faXNTdGFydCYmMjA8eCksci09ci14fWlmKHAmJihzW3BdPWV8fC0uMDAxLGU8MCYmKGU9MCkpLGkpe3ZhciBDPWUrcixUPWkuX2lzU3RhcnQ7Zz0ic2Nyb2xsIituLmQyLFgoaSxDLG4sVCYmMjA8Q3x8IVQmJih1P01hdGgubWF4KFdlW2ddLEplW2ddKTppLnBhcmVudE5vZGVbZ10pPD1DKzEpLHUmJihsPXd0KGEpLHUmJihpLnN0eWxlW24ub3AucF09bFtuLm9wLnBdLW4ub3AubS1pLl9vZmZzZXQreHQpKX1yZXR1cm4gZCYmdiYmKGc9d3QodiksZC5zZWVrKGYpLGg9d3QodiksZC5fY2FTY3JvbGxEaXN0PWdbbi5wXS1oW24ucF0sZT1lL2QuX2NhU2Nyb2xsRGlzdCpmKSxkJiZkLnNlZWsoYiksZD9lOk1hdGgucm91bmQoZSl9ZnVuY3Rpb24gb2MoZSx0LHIsbil7aWYoZS5wYXJlbnROb2RlIT09dCl7dmFyIG8saSxhPWUuc3R5bGU7aWYodD09PVdlKXtmb3IobyBpbiBlLl9zdE9yaWc9YS5jc3NUZXh0LGk9bWIoZSkpK298fHJlLnRlc3Qobyl8fCFpW29dfHwic3RyaW5nIiE9dHlwZW9mIGFbb118fCIwIj09PW98fChhW29dPWlbb10pO2EudG9wPXIsYS5sZWZ0PW59ZWxzZSBhLmNzc1RleHQ9ZS5fc3RPcmlnO0hlLmNvcmUuZ2V0Q2FjaGUoZSkudW5jYWNoZT0xLHQuYXBwZW5kQ2hpbGQoZSl9fWZ1bmN0aW9uIHBjKHIsZSxuKXt2YXIgbz1lLGk9bztyZXR1cm4gZnVuY3Rpb24oZSl7dmFyIHQ9TWF0aC5yb3VuZChyKCkpO3JldHVybiB0IT09byYmdCE9PWkmJjM8TWF0aC5hYnModC1vKSYmMzxNYXRoLmFicyh0LWkpJiYoZT10LG4mJm4oKSksaT1vLG89ZX19ZnVuY3Rpb24gcWMoZSx0LHIpe3ZhciBuPXt9O25bdC5wXT0iKz0iK3IsSGUuc2V0KGUsbil9ZnVuY3Rpb24gcmMoYyxlKXtmdW5jdGlvbiBDayhlLHQscixuLG8pe3ZhciBpPUNrLnR3ZWVuLGE9dC5vbkNvbXBsZXRlLHM9e307cj1yfHx1KCk7dmFyIGw9cGModSxyLGZ1bmN0aW9uKCl7aS5raWxsKCksQ2sudHdlZW49MH0pO3JldHVybiBvPW4mJm98fDAsbj1ufHxlLXIsaSYmaS5raWxsKCksdFtmXT1lLHQuaW5oZXJpdD0hMSwodC5tb2RpZmllcnM9cylbZl09ZnVuY3Rpb24oKXtyZXR1cm4gbChyK24qaS5yYXRpbytvKmkucmF0aW8qaS5yYXRpbyl9LHQub25VcGRhdGU9ZnVuY3Rpb24oKXtJZS5jYWNoZSsrLENrLnR3ZWVuJiZaKCl9LHQub25Db21wbGV0ZT1mdW5jdGlvbigpe0NrLnR3ZWVuPTAsYSYmYS5jYWxsKGkpfSxpPUNrLnR3ZWVuPUhlLnRvKGMsdCl9dmFyIHU9SyhjLGUpLGY9Il9zY3JvbGwiK2UucDI7cmV0dXJuKGNbZl09dSkud2hlZWxIYW5kbGVyPWZ1bmN0aW9uKCl7cmV0dXJuIENrLnR3ZWVuJiZDay50d2Vlbi5raWxsKCkmJihDay50d2Vlbj0wKX0sd2IoYywid2hlZWwiLHUud2hlZWxIYW5kbGVyKSxuZS5pc1RvdWNoJiZ3YihjLCJ0b3VjaG1vdmUiLHUud2hlZWxIYW5kbGVyKSxDa312YXIgSGUscyxOZSxYZSxKZSxXZSxsLGMsVmUsVWUsS2UsdSxqZSxHZSxmLFFlLGQscCxnLFplLCRlLGgsdixiLG0seSxFLHgsdyxfLFQsUyxldCx0dCxELHJ0LG50LG90LGl0PTEsYXQ9RGF0ZS5ub3csUj1hdCgpLHN0PTAsbHQ9MCxjdD1mdW5jdGlvbiBfaXNTdHJpbmcoZSl7cmV0dXJuInN0cmluZyI9PXR5cGVvZiBlfSx1dD1NYXRoLmFicyxxPSJyaWdodCIsST0iYm90dG9tIixmdD0id2lkdGgiLGR0PSJoZWlnaHQiLHB0PSJSaWdodCIsZ3Q9IkxlZnQiLGh0PSJUb3AiLHZ0PSJCb3R0b20iLGJ0PSJwYWRkaW5nIixtdD0ibWFyZ2luIix5dD0iV2lkdGgiLFk9IkhlaWdodCIseHQ9InB4Iix3dD1mdW5jdGlvbiBfZ2V0Qm91bmRzKGUsdCl7dmFyIHI9dCYmIm1hdHJpeCgxLCAwLCAwLCAxLCAwLCAwKSIhPT1tYihlKVtmXSYmSGUudG8oZSx7eDowLHk6MCx4UGVyY2VudDowLHlQZXJjZW50OjAscm90YXRpb246MCxyb3RhdGlvblg6MCxyb3RhdGlvblk6MCxzY2FsZToxLHNrZXdYOjAsc2tld1k6MH0pLnByb2dyZXNzKDEpLG49ZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtyZXR1cm4gciYmci5wcm9ncmVzcygwKS5raWxsKCksbn0sX3Q9e3N0YXJ0Q29sb3I6ImdyZWVuIixlbmRDb2xvcjoicmVkIixpbmRlbnQ6MCxmb250U2l6ZToiMTZweCIsZm9udFdlaWdodDoibm9ybWFsIn0sQ3Q9e3RvZ2dsZUFjdGlvbnM6InBsYXkiLGFudGljaXBhdGVQaW46MH0sSD17dG9wOjAsbGVmdDowLGNlbnRlcjouNSxib3R0b206MSxyaWdodDoxfSxYPWZ1bmN0aW9uIF9wb3NpdGlvbk1hcmtlcihlLHQscixuKXt2YXIgbz17ZGlzcGxheToiYmxvY2sifSxpPXJbbj8ib3MyIjoicDIiXSxhPXJbbj8icDIiOiJvczIiXTtlLl9pc0ZsaXBwZWQ9bixvW3IuYSsiUGVyY2VudCJdPW4/LTEwMDowLG9bci5hXT1uPyIxcHgiOjAsb1siYm9yZGVyIitpK3l0XT0xLG9bImJvcmRlciIrYSt5dF09MCxvW3IucF09dCsicHgiLEhlLnNldChlLG8pfSxUdD1bXSxTdD17fSxXPXt9LFY9W10sVT1mdW5jdGlvbiBfZGlzcGF0Y2goZSl7cmV0dXJuIFdbZV0mJldbZV0ubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBlKCl9KXx8Vn0saj1bXSxrdD0wLFB0PWZ1bmN0aW9uIF9yZWZyZXNoQWxsKGUsdCl7aWYoIXN0fHxlfHxTKXtZYigpLHJ0PW5lLmlzUmVmcmVzaGluZz0hMCxJZS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3JldHVybiBUYShlKSYmKytlLmNhY2hlSUQmJihlLnJlYz1lKCkpfSk7dmFyIHI9VSgicmVmcmVzaEluaXQiKTtaZSYmbmUuc29ydCgpLHR8fFNiKCksSWUuZm9yRWFjaChmdW5jdGlvbihlKXtUYShlKSYmKGUuc21vb3RoJiYoZS50YXJnZXQuc3R5bGUuc2Nyb2xsQmVoYXZpb3I9ImF1dG8iKSxlKDApKX0pLFR0LnNsaWNlKDApLmZvckVhY2goZnVuY3Rpb24oZSl7cmV0dXJuIGUucmVmcmVzaCgpfSksUz0hMSxUdC5mb3JFYWNoKGZ1bmN0aW9uKGUpe2lmKGUuX3N1YlBpbk9mZnNldCYmZS5waW4pe3ZhciB0PWUudmFycy5ob3Jpem9udGFsPyJvZmZzZXRXaWR0aCI6Im9mZnNldEhlaWdodCIscj1lLnBpblt0XTtlLnJldmVydCghMCwxKSxlLmFkanVzdFBpblNwYWNpbmcoZS5waW5bdF0tciksZS5yZWZyZXNoKCl9fSksZXQ9MSxaYighMCksVHQuZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgdD1RYShlLnNjcm9sbGVyLGUuX2Rpcikscj0ibWF4Ij09PWUudmFycy5lbmR8fGUuX2VuZENsYW1wJiZlLmVuZD50LG49ZS5fc3RhcnRDbGFtcCYmZS5zdGFydD49dDsocnx8bikmJmUuc2V0UG9zaXRpb25zKG4/dC0xOmUuc3RhcnQscj9NYXRoLm1heChuP3Q6ZS5zdGFydCsxLHQpOmUuZW5kLCEwKX0pLFpiKCExKSxldD0wLHIuZm9yRWFjaChmdW5jdGlvbihlKXtyZXR1cm4gZSYmZS5yZW5kZXImJmUucmVuZGVyKC0xKX0pLEllLmZvckVhY2goZnVuY3Rpb24oZSl7VGEoZSkmJihlLnNtb290aCYmcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGZ1bmN0aW9uKCl7cmV0dXJuIGUudGFyZ2V0LnN0eWxlLnNjcm9sbEJlaGF2aW9yPSJzbW9vdGgifSksZS5yZWMmJmUoZS5yZWMpKX0pLFRiKHcsMSksYy5wYXVzZSgpLGt0KyssWihydD0yKSxUdC5mb3JFYWNoKGZ1bmN0aW9uKGUpe3JldHVybiBUYShlLnZhcnMub25SZWZyZXNoKSYmZS52YXJzLm9uUmVmcmVzaChlKX0pLHJ0PW5lLmlzUmVmcmVzaGluZz0hMSxVKCJyZWZyZXNoIil9ZWxzZSB3YihuZSwic2Nyb2xsRW5kIixPYil9LFE9MCxNdD0xLFo9ZnVuY3Rpb24gX3VwZGF0ZUFsbChlKXtpZigyPT09ZXx8IXJ0JiYhUyl7bmUuaXNVcGRhdGluZz0hMCxvdCYmb3QudXBkYXRlKDApO3ZhciB0PVR0Lmxlbmd0aCxyPWF0KCksbj01MDw9ci1SLG89dCYmVHRbMF0uc2Nyb2xsKCk7aWYoTXQ9bzxRPy0xOjEscnR8fChRPW8pLG4mJihzdCYmIUdlJiYyMDA8ci1zdCYmKHN0PTAsVSgic2Nyb2xsRW5kIikpLEtlPVIsUj1yKSxNdDwwKXtmb3IoUWU9dDswPFFlLS07KVR0W1FlXSYmVHRbUWVdLnVwZGF0ZSgwLG4pO010PTF9ZWxzZSBmb3IoUWU9MDtRZTx0O1FlKyspVHRbUWVdJiZUdFtRZV0udXBkYXRlKDAsbik7bmUuaXNVcGRhdGluZz0hMX1EPTB9LCQ9WyJsZWZ0IiwidG9wIixJLHEsbXQrdnQsbXQrcHQsbXQraHQsbXQrZ3QsImRpc3BsYXkiLCJmbGV4U2hyaW5rIiwiZmxvYXQiLCJ6SW5kZXgiLCJncmlkQ29sdW1uU3RhcnQiLCJncmlkQ29sdW1uRW5kIiwiZ3JpZFJvd1N0YXJ0IiwiZ3JpZFJvd0VuZCIsImdyaWRBcmVhIiwianVzdGlmeVNlbGYiLCJhbGlnblNlbGYiLCJwbGFjZVNlbGYiLCJvcmRlciJdLGVlPSQuY29uY2F0KFtmdCxkdCwiYm94U2l6aW5nIiwibWF4Iit5dCwibWF4IitZLCJwb3NpdGlvbiIsbXQsYnQsYnQraHQsYnQrcHQsYnQrdnQsYnQrZ3RdKSx0ZT0vKFtBLVpdKS9nLEV0PWZ1bmN0aW9uIF9zZXRTdGF0ZShlKXtpZihlKXt2YXIgdCxyLG49ZS50LnN0eWxlLG89ZS5sZW5ndGgsaT0wO2ZvcigoZS50Ll9nc2FwfHxIZS5jb3JlLmdldENhY2hlKGUudCkpLnVuY2FjaGU9MTtpPG87aSs9MilyPWVbaSsxXSx0PWVbaV0scj9uW3RdPXI6blt0XSYmbi5yZW1vdmVQcm9wZXJ0eSh0LnJlcGxhY2UodGUsIi0kMSIpLnRvTG93ZXJDYXNlKCkpfX0sT3Q9e2xlZnQ6MCx0b3A6MH0scmU9Lyh3ZWJraXR8bW96fGxlbmd0aHxjc3NUZXh0fGluc2V0KS9pLG5lPShTY3JvbGxUcmlnZ2VyLnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uIGluaXQoRSxPKXtpZih0aGlzLnByb2dyZXNzPXRoaXMuc3RhcnQ9MCx0aGlzLnZhcnMmJnRoaXMua2lsbCghMCwhMCksbHQpe3ZhciBBLG4scCxELFIsQixxLEksTCxZLEYsZSxILE4sWCxXLFYsVSx0LGosYixHLFEsbSxaLHksJCx4LHIsdyxfLGVlLG8sZyx0ZSxyZSxuZSxDLGksVD0oRT1vYihjdChFKXx8VWEoRSl8fEUubm9kZVR5cGU/e3RyaWdnZXI6RX06RSxDdCkpLm9uVXBkYXRlLFM9RS50b2dnbGVDbGFzcyxhPUUuaWQsaz1FLm9uVG9nZ2xlLG9lPUUub25SZWZyZXNoLFA9RS5zY3J1YixpZT1FLnRyaWdnZXIsYWU9RS5waW4sc2U9RS5waW5TcGFjaW5nLGxlPUUuaW52YWxpZGF0ZU9uUmVmcmVzaCxNPUUuYW50aWNpcGF0ZVBpbixzPUUub25TY3J1YkNvbXBsZXRlLGg9RS5vblNuYXBDb21wbGV0ZSxjZT1FLm9uY2UsdWU9RS5zbmFwLGZlPUUucGluUmVwYXJlbnQsbD1FLnBpblNwYWNlcixkZT1FLmNvbnRhaW5lckFuaW1hdGlvbixwZT1FLmZhc3RTY3JvbGxFbmQsZ2U9RS5wcmV2ZW50T3ZlcmxhcHMsaGU9RS5ob3Jpem9udGFsfHxFLmNvbnRhaW5lckFuaW1hdGlvbiYmITEhPT1FLmhvcml6b250YWw/WWU6RmUsdmU9IVAmJjAhPT1QLGJlPUooRS5zY3JvbGxlcnx8TmUpLGM9SGUuY29yZS5nZXRDYWNoZShiZSksbWU9TGEoYmUpLHllPSJmaXhlZCI9PT0oInBpblR5cGUiaW4gRT9FLnBpblR5cGU6eihiZSwicGluVHlwZSIpfHxtZSYmImZpeGVkIikseGU9W0Uub25FbnRlcixFLm9uTGVhdmUsRS5vbkVudGVyQmFjayxFLm9uTGVhdmVCYWNrXSx3ZT12ZSYmRS50b2dnbGVBY3Rpb25zLnNwbGl0KCIgIiksX2U9Im1hcmtlcnMiaW4gRT9FLm1hcmtlcnM6Q3QubWFya2VycyxDZT1tZT8wOnBhcnNlRmxvYXQobWIoYmUpWyJib3JkZXIiK2hlLnAyK3l0XSl8fDAsVGU9dGhpcyxTZT1FLm9uUmVmcmVzaEluaXQmJmZ1bmN0aW9uKCl7cmV0dXJuIEUub25SZWZyZXNoSW5pdChUZSl9LGtlPWZ1bmN0aW9uIF9nZXRTaXplRnVuYyhlLHQscil7dmFyIG49ci5kLG89ci5kMixpPXIuYTtyZXR1cm4oaT16KGUsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIpKT9mdW5jdGlvbigpe3JldHVybiBpKClbbl19OmZ1bmN0aW9uKCl7cmV0dXJuKHQ/TWEobyk6ZVsiY2xpZW50IitvXSl8fDB9fShiZSxtZSxoZSksUGU9ZnVuY3Rpb24gX2dldE9mZnNldHNGdW5jKGUsdCl7cmV0dXJuIXR8fH5MZS5pbmRleE9mKGUpP05hKGUpOmZ1bmN0aW9uKCl7cmV0dXJuIE90fX0oYmUsbWUpLE1lPTAsRWU9MCxPZT0wLEFlPUsoYmUsaGUpO2lmKFRlLl9zdGFydENsYW1wPVRlLl9lbmRDbGFtcD0hMSxUZS5fZGlyPWhlLE0qPTQ1LFRlLnNjcm9sbGVyPWJlLFRlLnNjcm9sbD1kZT9kZS50aW1lLmJpbmQoZGUpOkFlLEQ9QWUoKSxUZS52YXJzPUUsTz1PfHxFLmFuaW1hdGlvbiwicmVmcmVzaFByaW9yaXR5ImluIEUmJihaZT0xLC05OTk5PT09RS5yZWZyZXNoUHJpb3JpdHkmJihvdD1UZSkpLGMudHdlZW5TY3JvbGw9Yy50d2VlblNjcm9sbHx8e3RvcDpyYyhiZSxGZSksbGVmdDpyYyhiZSxZZSl9LFRlLnR3ZWVuVG89QT1jLnR3ZWVuU2Nyb2xsW2hlLnBdLFRlLnNjcnViRHVyYXRpb249ZnVuY3Rpb24oZSl7KG89VWEoZSkmJmUpP2VlP2VlLmR1cmF0aW9uKGUpOmVlPUhlLnRvKE8se2Vhc2U6ImV4cG8iLHRvdGFsUHJvZ3Jlc3M6Iis9MCIsaW5oZXJpdDohMSxkdXJhdGlvbjpvLHBhdXNlZDohMCxvbkNvbXBsZXRlOmZ1bmN0aW9uIG9uQ29tcGxldGUoKXtyZXR1cm4gcyYmcyhUZSl9fSk6KGVlJiZlZS5wcm9ncmVzcygxKS5raWxsKCksZWU9MCl9LE8mJihPLnZhcnMubGF6eT0hMSxPLl9pbml0dGVkJiYhVGUuaXNSZXZlcnRlZHx8ITEhPT1PLnZhcnMuaW1tZWRpYXRlUmVuZGVyJiYhMSE9PUUuaW1tZWRpYXRlUmVuZGVyJiZPLmR1cmF0aW9uKCkmJk8ucmVuZGVyKDAsITAsITApLFRlLmFuaW1hdGlvbj1PLnBhdXNlKCksKE8uc2Nyb2xsVHJpZ2dlcj1UZSkuc2NydWJEdXJhdGlvbihQKSx3PTAsYT1hfHxPLnZhcnMuaWQpLHVlJiYoVmEodWUpJiYhdWUucHVzaHx8KHVlPXtzbmFwVG86dWV9KSwic2Nyb2xsQmVoYXZpb3IiaW4gV2Uuc3R5bGUmJkhlLnNldChtZT9bV2UsSmVdOmJlLHtzY3JvbGxCZWhhdmlvcjoiYXV0byJ9KSxJZS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3JldHVybiBUYShlKSYmZS50YXJnZXQ9PT0obWU/WGUuc2Nyb2xsaW5nRWxlbWVudHx8SmU6YmUpJiYoZS5zbW9vdGg9ITEpfSkscD1UYSh1ZS5zbmFwVG8pP3VlLnNuYXBUbzoibGFiZWxzIj09PXVlLnNuYXBUbz9mdW5jdGlvbiBfZ2V0Q2xvc2VzdExhYmVsKHQpe3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm4gSGUudXRpbHMuc25hcChyYih0KSxlKX19KE8pOiJsYWJlbHNEaXJlY3Rpb25hbCI9PT11ZS5zbmFwVG8/ZnVuY3Rpb24gX2dldExhYmVsQXREaXJlY3Rpb24ocil7cmV0dXJuIGZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRiKHJiKHIpKShlLHQuZGlyZWN0aW9uKX19KE8pOiExIT09dWUuZGlyZWN0aW9uYWw/ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGIodWUuc25hcFRvKShlLGF0KCktRWU8NTAwPzA6dC5kaXJlY3Rpb24pfTpIZS51dGlscy5zbmFwKHVlLnNuYXBUbyksZz11ZS5kdXJhdGlvbnx8e21pbjouMSxtYXg6Mn0sZz1WYShnKT9VZShnLm1pbixnLm1heCk6VWUoZyxnKSx0ZT1IZS5kZWxheWVkQ2FsbCh1ZS5kZWxheXx8by8yfHwuMSxmdW5jdGlvbigpe3ZhciBlPUFlKCksdD1hdCgpLUVlPDUwMCxyPUEudHdlZW47aWYoISh0fHxNYXRoLmFicyhUZS5nZXRWZWxvY2l0eSgpKTwxMCl8fHJ8fEdlfHxNZT09PWUpVGUuaXNBY3RpdmUmJk1lIT09ZSYmdGUucmVzdGFydCghMCk7ZWxzZXt2YXIgbixvLGk9KGUtQikvTixhPU8mJiF2ZT9PLnRvdGFsUHJvZ3Jlc3MoKTppLHM9dD8wOihhLV8pLyhhdCgpLUtlKSoxZTN8fDAsbD1IZS51dGlscy5jbGFtcCgtaSwxLWksdXQocy8yKSpzLy4xODUpLGM9aSsoITE9PT11ZS5pbmVydGlhPzA6bCksdT11ZS5vblN0YXJ0LGY9dWUub25JbnRlcnJ1cHQsZD11ZS5vbkNvbXBsZXRlO2lmKG49cChjLFRlKSxVYShuKXx8KG49Yyksbz1NYXRoLnJvdW5kKEIrbipOKSxlPD1xJiZCPD1lJiZvIT09ZSl7aWYociYmIXIuX2luaXR0ZWQmJnIuZGF0YTw9dXQoby1lKSlyZXR1cm47ITE9PT11ZS5pbmVydGlhJiYobD1uLWkpLEEobyx7ZHVyYXRpb246Zyh1dCguMTg1Kk1hdGgubWF4KHV0KGMtYSksdXQobi1hKSkvcy8uMDV8fDApKSxlYXNlOnVlLmVhc2V8fCJwb3dlcjMiLGRhdGE6dXQoby1lKSxvbkludGVycnVwdDpmdW5jdGlvbiBvbkludGVycnVwdCgpe3JldHVybiB0ZS5yZXN0YXJ0KCEwKSYmZiYmZihUZSl9LG9uQ29tcGxldGU6ZnVuY3Rpb24gb25Db21wbGV0ZSgpe1RlLnVwZGF0ZSgpLE1lPUFlKCksTyYmKGVlP2VlLnJlc2V0VG8oInRvdGFsUHJvZ3Jlc3MiLG4sTy5fdFRpbWUvTy5fdER1cik6Ty5wcm9ncmVzcyhuKSksdz1fPU8mJiF2ZT9PLnRvdGFsUHJvZ3Jlc3MoKTpUZS5wcm9ncmVzcyxoJiZoKFRlKSxkJiZkKFRlKX19LGUsbCpOLG8tZS1sKk4pLHUmJnUoVGUsQS50d2Vlbil9fX0pLnBhdXNlKCkpLGEmJihTdFthXT1UZSksaT0oaT0oaWU9VGUudHJpZ2dlcj1KKGllfHwhMCE9PWFlJiZhZSkpJiZpZS5fZ3NhcCYmaWUuX2dzYXAuc3RSZXZlcnQpJiZpKFRlKSxhZT0hMD09PWFlP2llOkooYWUpLGN0KFMpJiYoUz17dGFyZ2V0czppZSxjbGFzc05hbWU6U30pLGFlJiYoITE9PT1zZXx8c2U9PT1tdHx8KHNlPSEoIXNlJiZhZS5wYXJlbnROb2RlJiZhZS5wYXJlbnROb2RlLnN0eWxlJiYiZmxleCI9PT1tYihhZS5wYXJlbnROb2RlKS5kaXNwbGF5KSYmYnQpLFRlLnBpbj1hZSwobj1IZS5jb3JlLmdldENhY2hlKGFlKSkuc3BhY2VyP1g9bi5waW5TdGF0ZToobCYmKChsPUoobCkpJiYhbC5ub2RlVHlwZSYmKGw9bC5jdXJyZW50fHxsLm5hdGl2ZUVsZW1lbnQpLG4uc3BhY2VySXNOYXRpdmU9ISFsLGwmJihuLnNwYWNlclN0YXRlPWpjKGwpKSksbi5zcGFjZXI9VT1sfHxYZS5jcmVhdGVFbGVtZW50KCJkaXYiKSxVLmNsYXNzTGlzdC5hZGQoInBpbi1zcGFjZXIiKSxhJiZVLmNsYXNzTGlzdC5hZGQoInBpbi1zcGFjZXItIithKSxuLnBpblN0YXRlPVg9amMoYWUpKSwhMSE9PUUuZm9yY2UzRCYmSGUuc2V0KGFlLHtmb3JjZTNEOiEwfSksVGUuc3BhY2VyPVU9bi5zcGFjZXIscj1tYihhZSksbT1yW3NlK2hlLm9zMl0saj1IZS5nZXRQcm9wZXJ0eShhZSksYj1IZS5xdWlja1NldHRlcihhZSxoZS5hLHh0KSxnYyhhZSxVLHIpLFY9amMoYWUpKSxfZSl7ZT1WYShfZSk/b2IoX2UsX3QpOl90LFk9RGIoInNjcm9sbGVyLXN0YXJ0IixhLGJlLGhlLGUsMCksRj1EYigic2Nyb2xsZXItZW5kIixhLGJlLGhlLGUsMCxZKSx0PVlbIm9mZnNldCIraGUub3AuZDJdO3ZhciB1PUooeihiZSwiY29udGVudCIpfHxiZSk7ST10aGlzLm1hcmtlclN0YXJ0PURiKCJzdGFydCIsYSx1LGhlLGUsdCwwLGRlKSxMPXRoaXMubWFya2VyRW5kPURiKCJlbmQiLGEsdSxoZSxlLHQsMCxkZSksZGUmJihDPUhlLnF1aWNrU2V0dGVyKFtJLExdLGhlLmEseHQpKSx5ZXx8TGUubGVuZ3RoJiYhMD09PXooYmUsImZpeGVkTWFya2VycyIpfHwoZnVuY3Rpb24gX21ha2VQb3NpdGlvbmFibGUoZSl7dmFyIHQ9bWIoZSkucG9zaXRpb247ZS5zdHlsZS5wb3NpdGlvbj0iYWJzb2x1dGUiPT09dHx8ImZpeGVkIj09PXQ/dDoicmVsYXRpdmUifShtZT9XZTpiZSksSGUuc2V0KFtZLEZdLHtmb3JjZTNEOiEwfSkseT1IZS5xdWlja1NldHRlcihZLGhlLmEseHQpLHg9SGUucXVpY2tTZXR0ZXIoRixoZS5hLHh0KSl9aWYoZGUpe3ZhciBmPWRlLnZhcnMub25VcGRhdGUsZD1kZS52YXJzLm9uVXBkYXRlUGFyYW1zO2RlLmV2ZW50Q2FsbGJhY2soIm9uVXBkYXRlIixmdW5jdGlvbigpe1RlLnVwZGF0ZSgwLDAsMSksZiYmZi5hcHBseShkZSxkfHxbXSl9KX1pZihUZS5wcmV2aW91cz1mdW5jdGlvbigpe3JldHVybiBUdFtUdC5pbmRleE9mKFRlKS0xXX0sVGUubmV4dD1mdW5jdGlvbigpe3JldHVybiBUdFtUdC5pbmRleE9mKFRlKSsxXX0sVGUucmV2ZXJ0PWZ1bmN0aW9uKGUsdCl7aWYoIXQpcmV0dXJuIFRlLmtpbGwoITApO3ZhciByPSExIT09ZXx8IVRlLmVuYWJsZWQsbj1qZTtyIT09VGUuaXNSZXZlcnRlZCYmKHImJihyZT1NYXRoLm1heChBZSgpLFRlLnNjcm9sbC5yZWN8fDApLE9lPVRlLnByb2dyZXNzLG5lPU8mJk8ucHJvZ3Jlc3MoKSksSSYmW0ksTCxZLEZdLmZvckVhY2goZnVuY3Rpb24oZSl7cmV0dXJuIGUuc3R5bGUuZGlzcGxheT1yPyJub25lIjoiYmxvY2sifSksciYmKGplPVRlKS51cGRhdGUociksIWFlfHxmZSYmVGUuaXNBY3RpdmV8fChyP2Z1bmN0aW9uIF9zd2FwUGluT3V0KGUsdCxyKXtFdChyKTt2YXIgbj1lLl9nc2FwO2lmKG4uc3BhY2VySXNOYXRpdmUpRXQobi5zcGFjZXJTdGF0ZSk7ZWxzZSBpZihlLl9nc2FwLnN3YXBwZWRJbil7dmFyIG89dC5wYXJlbnROb2RlO28mJihvLmluc2VydEJlZm9yZShlLHQpLG8ucmVtb3ZlQ2hpbGQodCkpfWUuX2dzYXAuc3dhcHBlZEluPSExfShhZSxVLFgpOmdjKGFlLFUsbWIoYWUpLFopKSxyfHxUZS51cGRhdGUociksamU9bixUZS5pc1JldmVydGVkPXIpfSxUZS5yZWZyZXNoPWZ1bmN0aW9uKGUsdCxyLG4pe2lmKCFqZSYmVGUuZW5hYmxlZHx8dClpZihhZSYmZSYmc3Qpd2IoU2Nyb2xsVHJpZ2dlciwic2Nyb2xsRW5kIixPYik7ZWxzZXshcnQmJlNlJiZTZShUZSksamU9VGUsQS50d2VlbiYmIXImJihBLnR3ZWVuLmtpbGwoKSxBLnR3ZWVuPTApLGVlJiZlZS5wYXVzZSgpLGxlJiZPJiZPLnJldmVydCh7a2lsbDohMX0pLmludmFsaWRhdGUoKSxUZS5pc1JldmVydGVkfHxUZS5yZXZlcnQoITAsITApLFRlLl9zdWJQaW5PZmZzZXQ9ITE7dmFyIG8saSxhLHMsbCxjLHUsZixkLHAsZyxoLHYsYj1rZSgpLG09UGUoKSx5PWRlP2RlLmR1cmF0aW9uKCk6UWEoYmUsaGUpLHg9Tjw9LjAxLHc9MCxfPW58fDAsQz1WYShyKT9yLmVuZDpFLmVuZCxUPUUuZW5kVHJpZ2dlcnx8aWUsUz1WYShyKT9yLnN0YXJ0OkUuc3RhcnR8fCgwIT09RS5zdGFydCYmaWU/YWU/IjAgMCI6IjAgMTAwJSI6MCksaz1UZS5waW5uZWRDb250YWluZXI9RS5waW5uZWRDb250YWluZXImJkooRS5waW5uZWRDb250YWluZXIsVGUpLFA9aWUmJk1hdGgubWF4KDAsVHQuaW5kZXhPZihUZSkpfHwwLE09UDtmb3IoX2UmJlZhKHIpJiYoaD1IZS5nZXRQcm9wZXJ0eShZLGhlLnApLHY9SGUuZ2V0UHJvcGVydHkoRixoZS5wKSk7TS0tOykoYz1UdFtNXSkuZW5kfHxjLnJlZnJlc2goMCwxKXx8KGplPVRlKSwhKHU9Yy5waW4pfHx1IT09aWUmJnUhPT1hZSYmdSE9PWt8fGMuaXNSZXZlcnRlZHx8KChwPXB8fFtdKS51bnNoaWZ0KGMpLGMucmV2ZXJ0KCEwLCEwKSksYyE9PVR0W01dJiYoUC0tLE0tLSk7Zm9yKFRhKFMpJiYoUz1TKFRlKSksUz1DYShTLCJzdGFydCIsVGUpLEI9bWMoUyxpZSxiLGhlLEFlKCksSSxZLFRlLG0sQ2UseWUseSxkZSxUZS5fc3RhcnRDbGFtcCYmIl9zdGFydENsYW1wIil8fChhZT8tLjAwMTowKSxUYShDKSYmKEM9QyhUZSkpLGN0KEMpJiYhQy5pbmRleE9mKCIrPSIpJiYofkMuaW5kZXhPZigiICIpP0M9KGN0KFMpP1Muc3BsaXQoIiAiKVswXToiIikrQzoodz1DYihDLnN1YnN0cigyKSxiKSxDPWN0KFMpP1M6KGRlP0hlLnV0aWxzLm1hcFJhbmdlKDAsZGUuZHVyYXRpb24oKSxkZS5zY3JvbGxUcmlnZ2VyLnN0YXJ0LGRlLnNjcm9sbFRyaWdnZXIuZW5kLEIpOkIpK3csVD1pZSkpLEM9Q2EoQywiZW5kIixUZSkscT1NYXRoLm1heChCLG1jKEN8fChUPyIxMDAlIDAiOnkpLFQsYixoZSxBZSgpK3csTCxGLFRlLG0sQ2UseWUseSxkZSxUZS5fZW5kQ2xhbXAmJiJfZW5kQ2xhbXAiKSl8fC0uMDAxLHc9MCxNPVA7TS0tOykodT0oYz1UdFtNXSkucGluKSYmYy5zdGFydC1jLl9waW5QdXNoPD1CJiYhZGUmJjA8Yy5lbmQmJihvPWMuZW5kLShUZS5fc3RhcnRDbGFtcD9NYXRoLm1heCgwLGMuc3RhcnQpOmMuc3RhcnQpLCh1PT09aWUmJmMuc3RhcnQtYy5fcGluUHVzaDxCfHx1PT09aykmJmlzTmFOKFMpJiYodys9byooMS1jLnByb2dyZXNzKSksdT09PWFlJiYoXys9bykpO2lmKEIrPXcscSs9dyxUZS5fc3RhcnRDbGFtcCYmKFRlLl9zdGFydENsYW1wKz13KSxUZS5fZW5kQ2xhbXAmJiFydCYmKFRlLl9lbmRDbGFtcD1xfHwtLjAwMSxxPU1hdGgubWluKHEsUWEoYmUsaGUpKSksTj1xLUJ8fChCLT0uMDEpJiYuMDAxLHgmJihPZT1IZS51dGlscy5jbGFtcCgwLDEsSGUudXRpbHMubm9ybWFsaXplKEIscSxyZSkpKSxUZS5fcGluUHVzaD1fLEkmJncmJigobz17fSlbaGUuYV09Iis9Iit3LGsmJihvW2hlLnBdPSItPSIrQWUoKSksSGUuc2V0KFtJLExdLG8pKSwhYWV8fGV0JiZUZS5lbmQ+PVFhKGJlLGhlKSl7aWYoaWUmJkFlKCkmJiFkZSlmb3IoaT1pZS5wYXJlbnROb2RlO2kmJmkhPT1XZTspaS5fcGluT2Zmc2V0JiYoQi09aS5fcGluT2Zmc2V0LHEtPWkuX3Bpbk9mZnNldCksaT1pLnBhcmVudE5vZGV9ZWxzZSBvPW1iKGFlKSxzPWhlPT09RmUsYT1BZSgpLEc9cGFyc2VGbG9hdChqKGhlLmEpKStfLCF5JiYxPHEmJihnPXtzdHlsZTpnPShtZT9YZS5zY3JvbGxpbmdFbGVtZW50fHxKZTpiZSkuc3R5bGUsdmFsdWU6Z1sib3ZlcmZsb3ciK2hlLmEudG9VcHBlckNhc2UoKV19LG1lJiYic2Nyb2xsIiE9PW1iKFdlKVsib3ZlcmZsb3ciK2hlLmEudG9VcHBlckNhc2UoKV0mJihnLnN0eWxlWyJvdmVyZmxvdyIraGUuYS50b1VwcGVyQ2FzZSgpXT0ic2Nyb2xsIikpLGdjKGFlLFUsbyksVj1qYyhhZSksaT13dChhZSwhMCksZj15ZSYmSyhiZSxzP1llOkZlKSgpLHNlPygoWj1bc2UraGUub3MyLE4rXyt4dF0pLnQ9VSwoTT1zZT09PWJ0P3FiKGFlLGhlKStOK186MCkmJihaLnB1c2goaGUuZCxNK3h0KSwiYXV0byIhPT1VLnN0eWxlLmZsZXhCYXNpcyYmKFUuc3R5bGUuZmxleEJhc2lzPU0reHQpKSxFdChaKSxrJiZUdC5mb3JFYWNoKGZ1bmN0aW9uKGUpe2UucGluPT09ayYmITEhPT1lLnZhcnMucGluU3BhY2luZyYmKGUuX3N1YlBpbk9mZnNldD0hMCl9KSx5ZSYmQWUocmUpKTooTT1xYihhZSxoZSkpJiYiYXV0byIhPT1VLnN0eWxlLmZsZXhCYXNpcyYmKFUuc3R5bGUuZmxleEJhc2lzPU0reHQpLHllJiYoKGw9e3RvcDppLnRvcCsocz9hLUI6ZikreHQsbGVmdDppLmxlZnQrKHM/ZjphLUIpK3h0LGJveFNpemluZzoiYm9yZGVyLWJveCIscG9zaXRpb246ImZpeGVkIn0pW2Z0XT1sLm1heFdpZHRoPU1hdGguY2VpbChpLndpZHRoKSt4dCxsW2R0XT1sLm1heEhlaWdodD1NYXRoLmNlaWwoaS5oZWlnaHQpK3h0LGxbbXRdPWxbbXQraHRdPWxbbXQrcHRdPWxbbXQrdnRdPWxbbXQrZ3RdPSIwIixsW2J0XT1vW2J0XSxsW2J0K2h0XT1vW2J0K2h0XSxsW2J0K3B0XT1vW2J0K3B0XSxsW2J0K3Z0XT1vW2J0K3Z0XSxsW2J0K2d0XT1vW2J0K2d0XSxXPWZ1bmN0aW9uIF9jb3B5U3RhdGUoZSx0LHIpe2Zvcih2YXIgbixvPVtdLGk9ZS5sZW5ndGgsYT1yPzg6MDthPGk7YSs9MiluPWVbYV0sby5wdXNoKG4sbiBpbiB0P3Rbbl06ZVthKzFdKTtyZXR1cm4gby50PWUudCxvfShYLGwsZmUpLHJ0JiZBZSgwKSksTz8oZD1PLl9pbml0dGVkLCRlKDEpLE8ucmVuZGVyKE8uZHVyYXRpb24oKSwhMCwhMCksUT1qKGhlLmEpLUcrTitfLCQ9MTxNYXRoLmFicyhOLVEpLHllJiYkJiZXLnNwbGljZShXLmxlbmd0aC0yLDIpLE8ucmVuZGVyKDAsITAsITApLGR8fE8uaW52YWxpZGF0ZSghMCksTy5wYXJlbnR8fE8udG90YWxUaW1lKE8udG90YWxUaW1lKCkpLCRlKDApKTpRPU4sZyYmKGcudmFsdWU/Zy5zdHlsZVsib3ZlcmZsb3ciK2hlLmEudG9VcHBlckNhc2UoKV09Zy52YWx1ZTpnLnN0eWxlLnJlbW92ZVByb3BlcnR5KCJvdmVyZmxvdy0iK2hlLmEpKTtwJiZwLmZvckVhY2goZnVuY3Rpb24oZSl7cmV0dXJuIGUucmV2ZXJ0KCExLCEwKX0pLFRlLnN0YXJ0PUIsVGUuZW5kPXEsRD1SPXJ0P3JlOkFlKCksZGV8fHJ0fHwoRDxyZSYmQWUocmUpLFRlLnNjcm9sbC5yZWM9MCksVGUucmV2ZXJ0KCExLCEwKSxFZT1hdCgpLHRlJiYoTWU9LTEsdGUucmVzdGFydCghMCkpLGplPTAsTyYmdmUmJihPLl9pbml0dGVkfHxuZSkmJk8ucHJvZ3Jlc3MoKSE9PW5lJiZPLnByb2dyZXNzKG5lfHwwLCEwKS5yZW5kZXIoTy50aW1lKCksITAsITApLCh4fHxPZSE9PVRlLnByb2dyZXNzfHxkZXx8bGUpJiYoTyYmIXZlJiZPLnRvdGFsUHJvZ3Jlc3MoZGUmJkI8LS4wMDEmJiFPZT9IZS51dGlscy5ub3JtYWxpemUoQixxLDApOk9lLCEwKSxUZS5wcm9ncmVzcz14fHwoRC1CKS9OPT09T2U/MDpPZSksYWUmJnNlJiYoVS5fcGluT2Zmc2V0PU1hdGgucm91bmQoVGUucHJvZ3Jlc3MqUSkpLGVlJiZlZS5pbnZhbGlkYXRlKCksaXNOYU4oaCl8fChoLT1IZS5nZXRQcm9wZXJ0eShZLGhlLnApLHYtPUhlLmdldFByb3BlcnR5KEYsaGUucCkscWMoWSxoZSxoKSxxYyhJLGhlLGgtKG58fDApKSxxYyhGLGhlLHYpLHFjKEwsaGUsdi0obnx8MCkpKSx4JiYhcnQmJlRlLnVwZGF0ZSgpLCFvZXx8cnR8fEh8fChIPSEwLG9lKFRlKSxIPSExKX19LFRlLmdldFZlbG9jaXR5PWZ1bmN0aW9uKCl7cmV0dXJuKEFlKCktUikvKGF0KCktS2UpKjFlM3x8MH0sVGUuZW5kQW5pbWF0aW9uPWZ1bmN0aW9uKCl7V2EoVGUuY2FsbGJhY2tBbmltYXRpb24pLE8mJihlZT9lZS5wcm9ncmVzcygxKTpPLnBhdXNlZCgpP3ZlfHxXYShPLFRlLmRpcmVjdGlvbjwwLDEpOldhKE8sTy5yZXZlcnNlZCgpKSl9LFRlLmxhYmVsVG9TY3JvbGw9ZnVuY3Rpb24oZSl7cmV0dXJuIE8mJk8ubGFiZWxzJiYoQnx8VGUucmVmcmVzaCgpfHxCKStPLmxhYmVsc1tlXS9PLmR1cmF0aW9uKCkqTnx8MH0sVGUuZ2V0VHJhaWxpbmc9ZnVuY3Rpb24odCl7dmFyIGU9VHQuaW5kZXhPZihUZSkscj0wPFRlLmRpcmVjdGlvbj9UdC5zbGljZSgwLGUpLnJldmVyc2UoKTpUdC5zbGljZShlKzEpO3JldHVybihjdCh0KT9yLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4gZS52YXJzLnByZXZlbnRPdmVybGFwcz09PXR9KTpyKS5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIDA8VGUuZGlyZWN0aW9uP2UuZW5kPD1COmUuc3RhcnQ+PXF9KX0sVGUudXBkYXRlPWZ1bmN0aW9uKGUsdCxyKXtpZighZGV8fHJ8fGUpe3ZhciBuLG8saSxhLHMsbCxjLHU9ITA9PT1ydD9yZTpUZS5zY3JvbGwoKSxmPWU/MDoodS1CKS9OLGQ9ZjwwPzA6MTxmPzE6Znx8MCxwPVRlLnByb2dyZXNzO2lmKHQmJihSPUQsRD1kZT9BZSgpOnUsdWUmJihfPXcsdz1PJiYhdmU/Ty50b3RhbFByb2dyZXNzKCk6ZCkpLE0mJmFlJiYhamUmJiFpdCYmc3QmJighZCYmQjx1Kyh1LVIpLyhhdCgpLUtlKSpNP2Q9MWUtNDoxPT09ZCYmcT51Kyh1LVIpLyhhdCgpLUtlKSpNJiYoZD0uOTk5OSkpLGQhPT1wJiZUZS5lbmFibGVkKXtpZihhPShzPShuPVRlLmlzQWN0aXZlPSEhZCYmZDwxKSE9KCEhcCYmcDwxKSl8fCEhZCE9ISFwLFRlLmRpcmVjdGlvbj1wPGQ/MTotMSxUZS5wcm9ncmVzcz1kLGEmJiFqZSYmKG89ZCYmIXA/MDoxPT09ZD8xOjE9PT1wPzI6Myx2ZSYmKGk9IXMmJiJub25lIiE9PXdlW28rMV0mJndlW28rMV18fHdlW29dLGM9TyYmKCJjb21wbGV0ZSI9PT1pfHwicmVzZXQiPT09aXx8aSBpbiBPKSkpLGdlJiYoc3x8YykmJihjfHxQfHwhTykmJihUYShnZSk/Z2UoVGUpOlRlLmdldFRyYWlsaW5nKGdlKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmVuZEFuaW1hdGlvbigpfSkpLHZlfHwoIWVlfHxqZXx8aXQ/TyYmTy50b3RhbFByb2dyZXNzKGQsISghamV8fCFFZSYmIWUpKTooZWUuX2RwLl90aW1lLWVlLl9zdGFydCE9PWVlLl90aW1lJiZlZS5yZW5kZXIoZWUuX2RwLl90aW1lLWVlLl9zdGFydCksZWUucmVzZXRUbz9lZS5yZXNldFRvKCJ0b3RhbFByb2dyZXNzIixkLE8uX3RUaW1lL08uX3REdXIpOihlZS52YXJzLnRvdGFsUHJvZ3Jlc3M9ZCxlZS5pbnZhbGlkYXRlKCkucmVzdGFydCgpKSkpLGFlKWlmKGUmJnNlJiYoVS5zdHlsZVtzZStoZS5vczJdPW0pLHllKXtpZihhKXtpZihsPSFlJiZwPGQmJnU8cSsxJiZ1KzE+PVFhKGJlLGhlKSxmZSlpZihlfHwhbiYmIWwpb2MoYWUsVSk7ZWxzZXt2YXIgZz13dChhZSwhMCksaD11LUI7b2MoYWUsV2UsZy50b3ArKGhlPT09RmU/aDowKSt4dCxnLmxlZnQrKGhlPT09RmU/MDpoKSt4dCl9RXQobnx8bD9XOlYpLCQmJmQ8MSYmbnx8YihHKygxIT09ZHx8bD8wOlEpKX19ZWxzZSBiKElhKEcrUSpkKSk7IXVlfHxBLnR3ZWVufHxqZXx8aXR8fHRlLnJlc3RhcnQoITApLFMmJihzfHxjZSYmZCYmKGQ8MXx8IXR0KSkmJlZlKFMudGFyZ2V0cykuZm9yRWFjaChmdW5jdGlvbihlKXtyZXR1cm4gZS5jbGFzc0xpc3Rbbnx8Y2U/ImFkZCI6InJlbW92ZSJdKFMuY2xhc3NOYW1lKX0pLCFUfHx2ZXx8ZXx8VChUZSksYSYmIWplPyh2ZSYmKGMmJigiY29tcGxldGUiPT09aT9PLnBhdXNlKCkudG90YWxQcm9ncmVzcygxKToicmVzZXQiPT09aT9PLnJlc3RhcnQoITApLnBhdXNlKCk6InJlc3RhcnQiPT09aT9PLnJlc3RhcnQoITApOk9baV0oKSksVCYmVChUZSkpLCFzJiZ0dHx8KGsmJnMmJlhhKFRlLGspLHhlW29dJiZYYShUZSx4ZVtvXSksY2UmJigxPT09ZD9UZS5raWxsKCExLDEpOnhlW29dPTApLHN8fHhlW289MT09PWQ/MTozXSYmWGEoVGUseGVbb10pKSxwZSYmIW4mJk1hdGguYWJzKFRlLmdldFZlbG9jaXR5KCkpPihVYShwZSk/cGU6MjUwMCkmJihXYShUZS5jYWxsYmFja0FuaW1hdGlvbiksZWU/ZWUucHJvZ3Jlc3MoMSk6V2EoTywicmV2ZXJzZSI9PT1pPzE6IWQsMSkpKTp2ZSYmVCYmIWplJiZUKFRlKX1pZih4KXt2YXIgdj1kZT91L2RlLmR1cmF0aW9uKCkqKGRlLl9jYVNjcm9sbERpc3R8fDApOnU7eSh2KyhZLl9pc0ZsaXBwZWQ/MTowKSkseCh2KX1DJiZDKC11L2RlLmR1cmF0aW9uKCkqKGRlLl9jYVNjcm9sbERpc3R8fDApKX19LFRlLmVuYWJsZT1mdW5jdGlvbihlLHQpe1RlLmVuYWJsZWR8fChUZS5lbmFibGVkPSEwLHdiKGJlLCJyZXNpemUiLExiKSxtZXx8d2IoYmUsInNjcm9sbCIsSmIpLFNlJiZ3YihTY3JvbGxUcmlnZ2VyLCJyZWZyZXNoSW5pdCIsU2UpLCExIT09ZSYmKFRlLnByb2dyZXNzPU9lPTAsRD1SPU1lPUFlKCkpLCExIT09dCYmVGUucmVmcmVzaCgpKX0sVGUuZ2V0VHdlZW49ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJkE/QS50d2VlbjplZX0sVGUuc2V0UG9zaXRpb25zPWZ1bmN0aW9uKGUsdCxyLG4pe2lmKGRlKXt2YXIgbz1kZS5zY3JvbGxUcmlnZ2VyLGk9ZGUuZHVyYXRpb24oKSxhPW8uZW5kLW8uc3RhcnQ7ZT1vLnN0YXJ0K2EqZS9pLHQ9by5zdGFydCthKnQvaX1UZS5yZWZyZXNoKCExLCExLHtzdGFydDpEYShlLHImJiEhVGUuX3N0YXJ0Q2xhbXApLGVuZDpEYSh0LHImJiEhVGUuX2VuZENsYW1wKX0sbiksVGUudXBkYXRlKCl9LFRlLmFkanVzdFBpblNwYWNpbmc9ZnVuY3Rpb24oZSl7aWYoWiYmZSl7dmFyIHQ9Wi5pbmRleE9mKGhlLmQpKzE7Wlt0XT1wYXJzZUZsb2F0KFpbdF0pK2UreHQsWlsxXT1wYXJzZUZsb2F0KFpbMV0pK2UreHQsRXQoWil9fSxUZS5kaXNhYmxlPWZ1bmN0aW9uKGUsdCl7aWYoVGUuZW5hYmxlZCYmKCExIT09ZSYmVGUucmV2ZXJ0KCEwLCEwKSxUZS5lbmFibGVkPVRlLmlzQWN0aXZlPSExLHR8fGVlJiZlZS5wYXVzZSgpLHJlPTAsbiYmKG4udW5jYWNoZT0xKSxTZSYmeGIoU2Nyb2xsVHJpZ2dlciwicmVmcmVzaEluaXQiLFNlKSx0ZSYmKHRlLnBhdXNlKCksQS50d2VlbiYmQS50d2Vlbi5raWxsKCkmJihBLnR3ZWVuPTApKSwhbWUpKXtmb3IodmFyIHI9VHQubGVuZ3RoO3ItLTspaWYoVHRbcl0uc2Nyb2xsZXI9PT1iZSYmVHRbcl0hPT1UZSlyZXR1cm47eGIoYmUsInJlc2l6ZSIsTGIpLG1lfHx4YihiZSwic2Nyb2xsIixKYil9fSxUZS5raWxsPWZ1bmN0aW9uKGUsdCl7VGUuZGlzYWJsZShlLHQpLGVlJiYhdCYmZWUua2lsbCgpLGEmJmRlbGV0ZSBTdFthXTt2YXIgcj1UdC5pbmRleE9mKFRlKTswPD1yJiZUdC5zcGxpY2UociwxKSxyPT09UWUmJjA8TXQmJlFlLS0scj0wLFR0LmZvckVhY2goZnVuY3Rpb24oZSl7cmV0dXJuIGUuc2Nyb2xsZXI9PT1UZS5zY3JvbGxlciYmKHI9MSl9KSxyfHxydHx8KFRlLnNjcm9sbC5yZWM9MCksTyYmKE8uc2Nyb2xsVHJpZ2dlcj1udWxsLGUmJk8ucmV2ZXJ0KHtraWxsOiExfSksdHx8Ty5raWxsKCkpLEkmJltJLEwsWSxGXS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3JldHVybiBlLnBhcmVudE5vZGUmJmUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChlKX0pLG90PT09VGUmJihvdD0wKSxhZSYmKG4mJihuLnVuY2FjaGU9MSkscj0wLFR0LmZvckVhY2goZnVuY3Rpb24oZSl7cmV0dXJuIGUucGluPT09YWUmJnIrK30pLHJ8fChuLnNwYWNlcj0wKSksRS5vbktpbGwmJkUub25LaWxsKFRlKX0sVHQucHVzaChUZSksVGUuZW5hYmxlKCExLCExKSxpJiZpKFRlKSxPJiZPLmFkZCYmIU4pe3ZhciB2PVRlLnVwZGF0ZTtUZS51cGRhdGU9ZnVuY3Rpb24oKXtUZS51cGRhdGU9dixCfHxxfHxUZS5yZWZyZXNoKCl9LEhlLmRlbGF5ZWRDYWxsKC4wMSxUZS51cGRhdGUpLE49LjAxLEI9cT0wfWVsc2UgVGUucmVmcmVzaCgpO2FlJiZmdW5jdGlvbiBfcXVldWVSZWZyZXNoQWxsKCl7aWYobnQhPT1rdCl7dmFyIGU9bnQ9a3Q7cmVxdWVzdEFuaW1hdGlvbkZyYW1lKGZ1bmN0aW9uKCl7cmV0dXJuIGU9PT1rdCYmUHQoITApfSl9fSgpfWVsc2UgdGhpcy51cGRhdGU9dGhpcy5yZWZyZXNoPXRoaXMua2lsbD1IYX0sU2Nyb2xsVHJpZ2dlci5yZWdpc3Rlcj1mdW5jdGlvbiByZWdpc3RlcihlKXtyZXR1cm4gc3x8KEhlPWV8fEthKCksSmEoKSYmd2luZG93LmRvY3VtZW50JiZTY3JvbGxUcmlnZ2VyLmVuYWJsZSgpLHM9bHQpLHN9LFNjcm9sbFRyaWdnZXIuZGVmYXVsdHM9ZnVuY3Rpb24gZGVmYXVsdHMoZSl7aWYoZSlmb3IodmFyIHQgaW4gZSlDdFt0XT1lW3RdO3JldHVybiBDdH0sU2Nyb2xsVHJpZ2dlci5kaXNhYmxlPWZ1bmN0aW9uIGRpc2FibGUodCxyKXtsdD0wLFR0LmZvckVhY2goZnVuY3Rpb24oZSl7cmV0dXJuIGVbcj8ia2lsbCI6ImRpc2FibGUiXSh0KX0pLHhiKE5lLCJ3aGVlbCIsSmIpLHhiKFhlLCJzY3JvbGwiLEpiKSxjbGVhckludGVydmFsKHUpLHhiKFhlLCJ0b3VjaGNhbmNlbCIsSGEpLHhiKFdlLCJ0b3VjaHN0YXJ0IixIYSksdmIoeGIsWGUsInBvaW50ZXJkb3duLHRvdWNoc3RhcnQsbW91c2Vkb3duIixGYSksdmIoeGIsWGUsInBvaW50ZXJ1cCx0b3VjaGVuZCxtb3VzZXVwIixHYSksYy5raWxsKCksUmEoeGIpO2Zvcih2YXIgZT0wO2U8SWUubGVuZ3RoO2UrPTMpeWIoeGIsSWVbZV0sSWVbZSsxXSkseWIoeGIsSWVbZV0sSWVbZSsyXSl9LFNjcm9sbFRyaWdnZXIuZW5hYmxlPWZ1bmN0aW9uIGVuYWJsZSgpe2lmKE5lPXdpbmRvdyxYZT1kb2N1bWVudCxKZT1YZS5kb2N1bWVudEVsZW1lbnQsV2U9WGUuYm9keSxIZSYmKFZlPUhlLnV0aWxzLnRvQXJyYXksVWU9SGUudXRpbHMuY2xhbXAseD1IZS5jb3JlLmNvbnRleHR8fEhhLCRlPUhlLmNvcmUuc3VwcHJlc3NPdmVyd3JpdGVzfHxIYSx3PU5lLmhpc3Rvcnkuc2Nyb2xsUmVzdG9yYXRpb258fCJhdXRvIixRPU5lLnBhZ2VZT2Zmc2V0LEhlLmNvcmUuZ2xvYmFscygiU2Nyb2xsVHJpZ2dlciIsU2Nyb2xsVHJpZ2dlciksV2UpKXtsdD0xLChfPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpKS5zdHlsZS5oZWlnaHQ9IjEwMHZoIixfLnN0eWxlLnBvc2l0aW9uPSJhYnNvbHV0ZSIsWWIoKSxmdW5jdGlvbiBfcmFmQnVnRml4KCl7cmV0dXJuIGx0JiZyZXF1ZXN0QW5pbWF0aW9uRnJhbWUoX3JhZkJ1Z0ZpeCl9KCksay5yZWdpc3RlcihIZSksU2Nyb2xsVHJpZ2dlci5pc1RvdWNoPWsuaXNUb3VjaCxFPWsuaXNUb3VjaCYmLyhpUGFkfGlQaG9uZXxpUG9kfE1hYykvZy50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpLGI9MT09PWsuaXNUb3VjaCx3YihOZSwid2hlZWwiLEpiKSxsPVtOZSxYZSxKZSxXZV0sSGUubWF0Y2hNZWRpYT8oU2Nyb2xsVHJpZ2dlci5tYXRjaE1lZGlhPWZ1bmN0aW9uKGUpe3ZhciB0LHI9SGUubWF0Y2hNZWRpYSgpO2Zvcih0IGluIGUpci5hZGQodCxlW3RdKTtyZXR1cm4gcn0sSGUuYWRkRXZlbnRMaXN0ZW5lcigibWF0Y2hNZWRpYUluaXQiLGZ1bmN0aW9uKCl7cmV0dXJuIFNiKCl9KSxIZS5hZGRFdmVudExpc3RlbmVyKCJtYXRjaE1lZGlhUmV2ZXJ0IixmdW5jdGlvbigpe3JldHVybiBSYigpfSksSGUuYWRkRXZlbnRMaXN0ZW5lcigibWF0Y2hNZWRpYSIsZnVuY3Rpb24oKXtQdCgwLDEpLFUoIm1hdGNoTWVkaWEiKX0pLEhlLm1hdGNoTWVkaWEoIihvcmllbnRhdGlvbjogcG9ydHJhaXQpIixmdW5jdGlvbigpe3JldHVybiBLYigpLEtifSkpOmNvbnNvbGUud2FybigiUmVxdWlyZXMgR1NBUCAzLjExLjAgb3IgbGF0ZXIiKSxLYigpLHdiKFhlLCJzY3JvbGwiLEpiKTt2YXIgZSx0LHI9V2Uuc3R5bGUsbj1yLmJvcmRlclRvcFN0eWxlLG89SGUuY29yZS5BbmltYXRpb24ucHJvdG90eXBlO2ZvcihvLnJldmVydHx8T2JqZWN0LmRlZmluZVByb3BlcnR5KG8sInJldmVydCIse3ZhbHVlOmZ1bmN0aW9uIHZhbHVlKCl7cmV0dXJuIHRoaXMudGltZSgtLjAxLCEwKX19KSxyLmJvcmRlclRvcFN0eWxlPSJzb2xpZCIsZT13dChXZSksRmUubT1NYXRoLnJvdW5kKGUudG9wK0ZlLnNjKCkpfHwwLFllLm09TWF0aC5yb3VuZChlLmxlZnQrWWUuc2MoKSl8fDAsbj9yLmJvcmRlclRvcFN0eWxlPW46ci5yZW1vdmVQcm9wZXJ0eSgiYm9yZGVyLXRvcC1zdHlsZSIpLHU9c2V0SW50ZXJ2YWwoSWIsMjUwKSxIZS5kZWxheWVkQ2FsbCguNSxmdW5jdGlvbigpe3JldHVybiBpdD0wfSksd2IoWGUsInRvdWNoY2FuY2VsIixIYSksd2IoV2UsInRvdWNoc3RhcnQiLEhhKSx2Yih3YixYZSwicG9pbnRlcmRvd24sdG91Y2hzdGFydCxtb3VzZWRvd24iLEZhKSx2Yih3YixYZSwicG9pbnRlcnVwLHRvdWNoZW5kLG1vdXNldXAiLEdhKSxmPUhlLnV0aWxzLmNoZWNrUHJlZml4KCJ0cmFuc2Zvcm0iKSxlZS5wdXNoKGYpLHM9YXQoKSxjPUhlLmRlbGF5ZWRDYWxsKC4yLFB0KS5wYXVzZSgpLGc9W1hlLCJ2aXNpYmlsaXR5Y2hhbmdlIixmdW5jdGlvbigpe3ZhciBlPU5lLmlubmVyV2lkdGgsdD1OZS5pbm5lckhlaWdodDtYZS5oaWRkZW4/KGQ9ZSxwPXQpOmQ9PT1lJiZwPT09dHx8TGIoKX0sWGUsIkRPTUNvbnRlbnRMb2FkZWQiLFB0LE5lLCJsb2FkIixQdCxOZSwicmVzaXplIixMYl0sUmEod2IpLFR0LmZvckVhY2goZnVuY3Rpb24oZSl7cmV0dXJuIGUuZW5hYmxlKDAsMSl9KSx0PTA7dDxJZS5sZW5ndGg7dCs9Myl5Yih4YixJZVt0XSxJZVt0KzFdKSx5Yih4YixJZVt0XSxJZVt0KzJdKX19LFNjcm9sbFRyaWdnZXIuY29uZmlnPWZ1bmN0aW9uIGNvbmZpZyhlKXsibGltaXRDYWxsYmFja3MiaW4gZSYmKHR0PSEhZS5saW1pdENhbGxiYWNrcyk7dmFyIHQ9ZS5zeW5jSW50ZXJ2YWw7dCYmY2xlYXJJbnRlcnZhbCh1KXx8KHU9dCkmJnNldEludGVydmFsKEliLHQpLCJpZ25vcmVNb2JpbGVSZXNpemUiaW4gZSYmKGI9MT09PVNjcm9sbFRyaWdnZXIuaXNUb3VjaCYmZS5pZ25vcmVNb2JpbGVSZXNpemUpLCJhdXRvUmVmcmVzaEV2ZW50cyJpbiBlJiYoUmEoeGIpfHxSYSh3YixlLmF1dG9SZWZyZXNoRXZlbnRzfHwibm9uZSIpLGg9LTE9PT0oZS5hdXRvUmVmcmVzaEV2ZW50cysiIikuaW5kZXhPZigicmVzaXplIikpfSxTY3JvbGxUcmlnZ2VyLnNjcm9sbGVyUHJveHk9ZnVuY3Rpb24gc2Nyb2xsZXJQcm94eShlLHQpe3ZhciByPUooZSksbj1JZS5pbmRleE9mKHIpLG89TGEocik7fm4mJkllLnNwbGljZShuLG8/NjoyKSx0JiYobz9MZS51bnNoaWZ0KE5lLHQsV2UsdCxKZSx0KTpMZS51bnNoaWZ0KHIsdCkpfSxTY3JvbGxUcmlnZ2VyLmNsZWFyTWF0Y2hNZWRpYT1mdW5jdGlvbiBjbGVhck1hdGNoTWVkaWEodCl7VHQuZm9yRWFjaChmdW5jdGlvbihlKXtyZXR1cm4gZS5fY3R4JiZlLl9jdHgucXVlcnk9PT10JiZlLl9jdHgua2lsbCghMCwhMCl9KX0sU2Nyb2xsVHJpZ2dlci5pc0luVmlld3BvcnQ9ZnVuY3Rpb24gaXNJblZpZXdwb3J0KGUsdCxyKXt2YXIgbj0oY3QoZSk/SihlKTplKS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxvPW5bcj9mdDpkdF0qdHx8MDtyZXR1cm4gcj8wPG4ucmlnaHQtbyYmbi5sZWZ0K288TmUuaW5uZXJXaWR0aDowPG4uYm90dG9tLW8mJm4udG9wK288TmUuaW5uZXJIZWlnaHR9LFNjcm9sbFRyaWdnZXIucG9zaXRpb25JblZpZXdwb3J0PWZ1bmN0aW9uIHBvc2l0aW9uSW5WaWV3cG9ydChlLHQscil7Y3QoZSkmJihlPUooZSkpO3ZhciBuPWUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksbz1uW3I/ZnQ6ZHRdLGk9bnVsbD09dD9vLzI6dCBpbiBIP0hbdF0qbzp+dC5pbmRleE9mKCIlIik/cGFyc2VGbG9hdCh0KSpvLzEwMDpwYXJzZUZsb2F0KHQpfHwwO3JldHVybiByPyhuLmxlZnQraSkvTmUuaW5uZXJXaWR0aDoobi50b3AraSkvTmUuaW5uZXJIZWlnaHR9LFNjcm9sbFRyaWdnZXIua2lsbEFsbD1mdW5jdGlvbiBraWxsQWxsKGUpe2lmKFR0LnNsaWNlKDApLmZvckVhY2goZnVuY3Rpb24oZSl7cmV0dXJuIlNjcm9sbFNtb290aGVyIiE9PWUudmFycy5pZCYmZS5raWxsKCl9KSwhMCE9PWUpe3ZhciB0PVcua2lsbEFsbHx8W107Vz17fSx0LmZvckVhY2goZnVuY3Rpb24oZSl7cmV0dXJuIGUoKX0pfX0sU2Nyb2xsVHJpZ2dlcik7ZnVuY3Rpb24gU2Nyb2xsVHJpZ2dlcihlLHQpe3N8fFNjcm9sbFRyaWdnZXIucmVnaXN0ZXIoSGUpfHxjb25zb2xlLndhcm4oIlBsZWFzZSBnc2FwLnJlZ2lzdGVyUGx1Z2luKFNjcm9sbFRyaWdnZXIpIikseCh0aGlzKSx0aGlzLmluaXQoZSx0KX1uZS52ZXJzaW9uPSIzLjEyLjUiLG5lLnNhdmVTdHlsZXM9ZnVuY3Rpb24oZSl7cmV0dXJuIGU/VmUoZSkuZm9yRWFjaChmdW5jdGlvbihlKXtpZihlJiZlLnN0eWxlKXt2YXIgdD1qLmluZGV4T2YoZSk7MDw9dCYmai5zcGxpY2UodCw1KSxqLnB1c2goZSxlLnN0eWxlLmNzc1RleHQsZS5nZXRCQm94JiZlLmdldEF0dHJpYnV0ZSgidHJhbnNmb3JtIiksSGUuY29yZS5nZXRDYWNoZShlKSx4KCkpfX0pOmp9LG5lLnJldmVydD1mdW5jdGlvbihlLHQpe3JldHVybiBTYighZSx0KX0sbmUuY3JlYXRlPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIG5ldyBuZShlLHQpfSxuZS5yZWZyZXNoPWZ1bmN0aW9uKGUpe3JldHVybiBlP0xiKCk6KHN8fG5lLnJlZ2lzdGVyKCkpJiZQdCghMCl9LG5lLnVwZGF0ZT1mdW5jdGlvbihlKXtyZXR1cm4rK0llLmNhY2hlJiZaKCEwPT09ZT8yOjApfSxuZS5jbGVhclNjcm9sbE1lbW9yeT1UYixuZS5tYXhTY3JvbGw9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gUWEoZSx0P1llOkZlKX0sbmUuZ2V0U2Nyb2xsRnVuYz1mdW5jdGlvbihlLHQpe3JldHVybiBLKEooZSksdD9ZZTpGZSl9LG5lLmdldEJ5SWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIFN0W2VdfSxuZS5nZXRBbGw9ZnVuY3Rpb24oKXtyZXR1cm4gVHQuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiJTY3JvbGxTbW9vdGhlciIhPT1lLnZhcnMuaWR9KX0sbmUuaXNTY3JvbGxpbmc9ZnVuY3Rpb24oKXtyZXR1cm4hIXN0fSxuZS5zbmFwRGlyZWN0aW9uYWw9dGIsbmUuYWRkRXZlbnRMaXN0ZW5lcj1mdW5jdGlvbihlLHQpe3ZhciByPVdbZV18fChXW2VdPVtdKTt+ci5pbmRleE9mKHQpfHxyLnB1c2godCl9LG5lLnJlbW92ZUV2ZW50TGlzdGVuZXI9ZnVuY3Rpb24oZSx0KXt2YXIgcj1XW2VdLG49ciYmci5pbmRleE9mKHQpOzA8PW4mJnIuc3BsaWNlKG4sMSl9LG5lLmJhdGNoPWZ1bmN0aW9uKGUsdCl7ZnVuY3Rpb24gQ3AoZSx0KXt2YXIgcj1bXSxuPVtdLG89SGUuZGVsYXllZENhbGwoaSxmdW5jdGlvbigpe3QocixuKSxyPVtdLG49W119KS5wYXVzZSgpO3JldHVybiBmdW5jdGlvbihlKXtyLmxlbmd0aHx8by5yZXN0YXJ0KCEwKSxyLnB1c2goZS50cmlnZ2VyKSxuLnB1c2goZSksYTw9ci5sZW5ndGgmJm8ucHJvZ3Jlc3MoMSl9fXZhciByLG49W10sbz17fSxpPXQuaW50ZXJ2YWx8fC4wMTYsYT10LmJhdGNoTWF4fHwxZTk7Zm9yKHIgaW4gdClvW3JdPSJvbiI9PT1yLnN1YnN0cigwLDIpJiZUYSh0W3JdKSYmIm9uUmVmcmVzaEluaXQiIT09cj9DcCgwLHRbcl0pOnRbcl07cmV0dXJuIFRhKGEpJiYoYT1hKCksd2IobmUsInJlZnJlc2giLGZ1bmN0aW9uKCl7cmV0dXJuIGE9dC5iYXRjaE1heCgpfSkpLFZlKGUpLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIHQ9e307Zm9yKHIgaW4gbyl0W3JdPW9bcl07dC50cmlnZ2VyPWUsbi5wdXNoKG5lLmNyZWF0ZSh0KSl9KSxufTtmdW5jdGlvbiB0YyhlLHQscixuKXtyZXR1cm4gbjx0P2Uobik6dDwwJiZlKDApLG48cj8obi10KS8oci10KTpyPDA/dC8odC1yKToxfWZ1bmN0aW9uIHVjKGUsdCl7ITA9PT10P2Uuc3R5bGUucmVtb3ZlUHJvcGVydHkoInRvdWNoLWFjdGlvbiIpOmUuc3R5bGUudG91Y2hBY3Rpb249ITA9PT10PyJhdXRvIjp0PyJwYW4tIit0KyhrLmlzVG91Y2g/IiBwaW5jaC16b29tIjoiIik6Im5vbmUiLGU9PT1KZSYmdWMoV2UsdCl9ZnVuY3Rpb24gd2MoZSl7dmFyIHQscj1lLmV2ZW50LG49ZS50YXJnZXQsbz1lLmF4aXMsaT0oci5jaGFuZ2VkVG91Y2hlcz9yLmNoYW5nZWRUb3VjaGVzWzBdOnIpLnRhcmdldCxhPWkuX2dzYXB8fEhlLmNvcmUuZ2V0Q2FjaGUoaSkscz1hdCgpO2lmKCFhLl9pc1Njcm9sbFR8fDJlMzxzLWEuX2lzU2Nyb2xsVCl7Zm9yKDtpJiZpIT09V2UmJihpLnNjcm9sbEhlaWdodDw9aS5jbGllbnRIZWlnaHQmJmkuc2Nyb2xsV2lkdGg8PWkuY2xpZW50V2lkdGh8fCFpZVsodD1tYihpKSkub3ZlcmZsb3dZXSYmIWllW3Qub3ZlcmZsb3dYXSk7KWk9aS5wYXJlbnROb2RlO2EuX2lzU2Nyb2xsPWkmJmkhPT1uJiYhTGEoaSkmJihpZVsodD1tYihpKSkub3ZlcmZsb3dZXXx8aWVbdC5vdmVyZmxvd1hdKSxhLl9pc1Njcm9sbFQ9c30hYS5faXNTY3JvbGwmJiJ4IiE9PW98fChyLnN0b3BQcm9wYWdhdGlvbigpLHIuX2dzYXBBbGxvdz0hMCl9ZnVuY3Rpb24geGMoZSx0LHIsbil7cmV0dXJuIGsuY3JlYXRlKHt0YXJnZXQ6ZSxjYXB0dXJlOiEwLGRlYm91bmNlOiExLGxvY2tBeGlzOiEwLHR5cGU6dCxvbldoZWVsOm49biYmd2Msb25QcmVzczpuLG9uRHJhZzpuLG9uU2Nyb2xsOm4sb25FbmFibGU6ZnVuY3Rpb24gb25FbmFibGUoKXtyZXR1cm4gciYmd2IoWGUsay5ldmVudFR5cGVzWzBdLHNlLCExLCEwKX0sb25EaXNhYmxlOmZ1bmN0aW9uIG9uRGlzYWJsZSgpe3JldHVybiB4YihYZSxrLmV2ZW50VHlwZXNbMF0sc2UsITApfX0pfWZ1bmN0aW9uIEJjKGUpe2Z1bmN0aW9uIHpxKCl7cmV0dXJuIG89ITF9ZnVuY3Rpb24gQ3EoKXtpPVFhKHAsRmUpLFM9VWUoRT8xOjAsaSksZiYmKFQ9VWUoMCxRYShwLFllKSkpLGw9a3R9ZnVuY3Rpb24gRHEoKXt2Ll9nc2FwLnk9SWEocGFyc2VGbG9hdCh2Ll9nc2FwLnkpK2Iub2Zmc2V0KSsicHgiLHYuc3R5bGUudHJhbnNmb3JtPSJtYXRyaXgzZCgxLCAwLCAwLCAwLCAwLCAxLCAwLCAwLCAwLCAwLCAxLCAwLCAwLCAiK3BhcnNlRmxvYXQodi5fZ3NhcC55KSsiLCAwLCAxKSIsYi5vZmZzZXQ9Yi5jYWNoZUlEPTB9ZnVuY3Rpb24gSnEoKXtDcSgpLGEuaXNBY3RpdmUoKSYmYS52YXJzLnNjcm9sbFk+aSYmKGIoKT5pP2EucHJvZ3Jlc3MoMSkmJmIoaSk6YS5yZXNldFRvKCJzY3JvbGxZIixpKSl9VmEoZSl8fChlPXt9KSxlLnByZXZlbnREZWZhdWx0PWUuaXNOb3JtYWxpemVyPWUuYWxsb3dDbGlja3M9ITAsZS50eXBlfHwoZS50eXBlPSJ3aGVlbCx0b3VjaCIpLGUuZGVib3VuY2U9ISFlLmRlYm91bmNlLGUuaWQ9ZS5pZHx8Im5vcm1hbGl6ZXIiO3ZhciBuLGksbCxvLGEsYyx1LHMsZj1lLm5vcm1hbGl6ZVNjcm9sbFgsdD1lLm1vbWVudHVtLHI9ZS5hbGxvd05lc3RlZFNjcm9sbCxkPWUub25SZWxlYXNlLHA9SihlLnRhcmdldCl8fEplLGc9SGUuY29yZS5nbG9iYWxzKCkuU2Nyb2xsU21vb3RoZXIsaD1nJiZnLmdldCgpLHY9RSYmKGUuY29udGVudCYmSihlLmNvbnRlbnQpfHxoJiYhMSE9PWUuY29udGVudCYmIWguc21vb3RoKCkmJmguY29udGVudCgpKSxiPUsocCxGZSksbT1LKHAsWWUpLHk9MSx4PShrLmlzVG91Y2gmJk5lLnZpc3VhbFZpZXdwb3J0P05lLnZpc3VhbFZpZXdwb3J0LnNjYWxlKk5lLnZpc3VhbFZpZXdwb3J0LndpZHRoOk5lLm91dGVyV2lkdGgpL05lLmlubmVyV2lkdGgsdz0wLF89VGEodCk/ZnVuY3Rpb24oKXtyZXR1cm4gdChuKX06ZnVuY3Rpb24oKXtyZXR1cm4gdHx8Mi44fSxDPXhjKHAsZS50eXBlLCEwLHIpLFQ9SGEsUz1IYTtyZXR1cm4gdiYmSGUuc2V0KHYse3k6Iis9MCJ9KSxlLmlnbm9yZUNoZWNrPWZ1bmN0aW9uKGUpe3JldHVybiBFJiYidG91Y2htb3ZlIj09PWUudHlwZSYmZnVuY3Rpb24gaWdub3JlRHJhZygpe2lmKG8pe3JlcXVlc3RBbmltYXRpb25GcmFtZSh6cSk7dmFyIGU9SWEobi5kZWx0YVkvMiksdD1TKGIudi1lKTtpZih2JiZ0IT09Yi52K2Iub2Zmc2V0KXtiLm9mZnNldD10LWIudjt2YXIgcj1JYSgocGFyc2VGbG9hdCh2JiZ2Ll9nc2FwLnkpfHwwKS1iLm9mZnNldCk7di5zdHlsZS50cmFuc2Zvcm09Im1hdHJpeDNkKDEsIDAsIDAsIDAsIDAsIDEsIDAsIDAsIDAsIDAsIDEsIDAsIDAsICIrcisiLCAwLCAxKSIsdi5fZ3NhcC55PXIrInB4IixiLmNhY2hlSUQ9SWUuY2FjaGUsWigpfXJldHVybiEwfWIub2Zmc2V0JiZEcSgpLG89ITB9KCl8fDEuMDU8eSYmInRvdWNoc3RhcnQiIT09ZS50eXBlfHxuLmlzR2VzdHVyaW5nfHxlLnRvdWNoZXMmJjE8ZS50b3VjaGVzLmxlbmd0aH0sZS5vblByZXNzPWZ1bmN0aW9uKCl7bz0hMTt2YXIgZT15O3k9SWEoKE5lLnZpc3VhbFZpZXdwb3J0JiZOZS52aXN1YWxWaWV3cG9ydC5zY2FsZXx8MSkveCksYS5wYXVzZSgpLGUhPT15JiZ1YyhwLDEuMDE8eXx8IWYmJiJ4IiksYz1tKCksdT1iKCksQ3EoKSxsPWt0fSxlLm9uUmVsZWFzZT1lLm9uR2VzdHVyZVN0YXJ0PWZ1bmN0aW9uKGUsdCl7aWYoYi5vZmZzZXQmJkRxKCksdCl7SWUuY2FjaGUrKzt2YXIgcixuLG89XygpO2YmJihuPShyPW0oKSkrLjA1Km8qLWUudmVsb2NpdHlYLy4yMjcsbyo9dGMobSxyLG4sUWEocCxZZSkpLGEudmFycy5zY3JvbGxYPVQobikpLG49KHI9YigpKSsuMDUqbyotZS52ZWxvY2l0eVkvLjIyNyxvKj10YyhiLHIsbixRYShwLEZlKSksYS52YXJzLnNjcm9sbFk9UyhuKSxhLmludmFsaWRhdGUoKS5kdXJhdGlvbihvKS5wbGF5KC4wMSksKEUmJmEudmFycy5zY3JvbGxZPj1pfHxpLTE8PXIpJiZIZS50byh7fSx7b25VcGRhdGU6SnEsZHVyYXRpb246b30pfWVsc2Ugcy5yZXN0YXJ0KCEwKTtkJiZkKGUpfSxlLm9uV2hlZWw9ZnVuY3Rpb24oKXthLl90cyYmYS5wYXVzZSgpLDFlMzxhdCgpLXcmJihsPTAsdz1hdCgpKX0sZS5vbkNoYW5nZT1mdW5jdGlvbihlLHQscixuLG8pe2lmKGt0IT09bCYmQ3EoKSx0JiZmJiZtKFQoblsyXT09PXQ/YysoZS5zdGFydFgtZS54KTptKCkrdC1uWzFdKSkscil7Yi5vZmZzZXQmJkRxKCk7dmFyIGk9b1syXT09PXIsYT1pP3UrZS5zdGFydFktZS55OmIoKStyLW9bMV0scz1TKGEpO2kmJmEhPT1zJiYodSs9cy1hKSxiKHMpfShyfHx0KSYmWigpfSxlLm9uRW5hYmxlPWZ1bmN0aW9uKCl7dWMocCwhZiYmIngiKSxuZS5hZGRFdmVudExpc3RlbmVyKCJyZWZyZXNoIixKcSksd2IoTmUsInJlc2l6ZSIsSnEpLGIuc21vb3RoJiYoYi50YXJnZXQuc3R5bGUuc2Nyb2xsQmVoYXZpb3I9ImF1dG8iLGIuc21vb3RoPW0uc21vb3RoPSExKSxDLmVuYWJsZSgpfSxlLm9uRGlzYWJsZT1mdW5jdGlvbigpe3VjKHAsITApLHhiKE5lLCJyZXNpemUiLEpxKSxuZS5yZW1vdmVFdmVudExpc3RlbmVyKCJyZWZyZXNoIixKcSksQy5raWxsKCl9LGUubG9ja0F4aXM9ITEhPT1lLmxvY2tBeGlzLCgobj1uZXcgayhlKSkuaU9TPUUpJiYhYigpJiZiKDEpLEUmJkhlLnRpY2tlci5hZGQoSGEpLHM9bi5fZGMsYT1IZS50byhuLHtlYXNlOiJwb3dlcjQiLHBhdXNlZDohMCxpbmhlcml0OiExLHNjcm9sbFg6Zj8iKz0wLjEiOiIrPTAiLHNjcm9sbFk6Iis9MC4xIixtb2RpZmllcnM6e3Njcm9sbFk6cGMoYixiKCksZnVuY3Rpb24oKXtyZXR1cm4gYS5wYXVzZSgpfSl9LG9uVXBkYXRlOlosb25Db21wbGV0ZTpzLnZhcnMub25Db21wbGV0ZX0pLG59dmFyIG9lLGllPXthdXRvOjEsc2Nyb2xsOjF9LGFlPS8oaW5wdXR8bGFiZWx8c2VsZWN0fHRleHRhcmVhKS9pLHNlPWZ1bmN0aW9uIF9jYXB0dXJlSW5wdXRzKGUpe3ZhciB0PWFlLnRlc3QoZS50YXJnZXQudGFnTmFtZSk7KHR8fG9lKSYmKGUuX2dzYXBBbGxvdz0hMCxvZT10KX07bmUuc29ydD1mdW5jdGlvbihlKXtyZXR1cm4gVHQuc29ydChlfHxmdW5jdGlvbihlLHQpe3JldHVybi0xZTYqKGUudmFycy5yZWZyZXNoUHJpb3JpdHl8fDApK2Uuc3RhcnQtKHQuc3RhcnQrLTFlNioodC52YXJzLnJlZnJlc2hQcmlvcml0eXx8MCkpfSl9LG5lLm9ic2VydmU9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBrKGUpfSxuZS5ub3JtYWxpemVTY3JvbGw9ZnVuY3Rpb24oZSl7aWYodm9pZCAwPT09ZSlyZXR1cm4gdjtpZighMD09PWUmJnYpcmV0dXJuIHYuZW5hYmxlKCk7aWYoITE9PT1lKXJldHVybiB2JiZ2LmtpbGwoKSx2b2lkKHY9ZSk7dmFyIHQ9ZSBpbnN0YW5jZW9mIGs/ZTpCYyhlKTtyZXR1cm4gdiYmdi50YXJnZXQ9PT10LnRhcmdldCYmdi5raWxsKCksTGEodC50YXJnZXQpJiYodj10KSx0fSxuZS5jb3JlPXtfZ2V0VmVsb2NpdHlQcm9wOkwsX2lucHV0T2JzZXJ2ZXI6eGMsX3Njcm9sbGVyczpJZSxfcHJveGllczpMZSxicmlkZ2U6e3NzOmZ1bmN0aW9uIHNzKCl7c3R8fFUoInNjcm9sbFN0YXJ0Iiksc3Q9YXQoKX0scmVmOmZ1bmN0aW9uIHJlZigpe3JldHVybiBqZX19fSxLYSgpJiZIZS5yZWdpc3RlclBsdWdpbihuZSksZS5TY3JvbGxUcmlnZ2VyPW5lLGUuZGVmYXVsdD1uZTtpZiAodHlwZW9mKHdpbmRvdyk9PT0idW5kZWZpbmVkInx8d2luZG93IT09ZSl7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pfSBlbHNlIHtkZWxldGUgZS5kZWZhdWx0fX0pOwoK"></script>
<script src="data:application/javascript;charset=utf-8;base64,LyoqCiAqIEBsaWNlbnNlCiAqIENvcHlyaWdodCAyMDEwLTIwMjEgVGhyZWUuanMgQXV0aG9ycwogKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogTUlUCiAqLwohZnVuY3Rpb24odCxlKXsib2JqZWN0Ij09dHlwZW9mIGV4cG9ydHMmJiJ1bmRlZmluZWQiIT10eXBlb2YgbW9kdWxlP2UoZXhwb3J0cyk6ImZ1bmN0aW9uIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoWyJleHBvcnRzIl0sZSk6ZSgodD0idW5kZWZpbmVkIiE9dHlwZW9mIGdsb2JhbFRoaXM/Z2xvYmFsVGhpczp0fHxzZWxmKS5USFJFRT17fSl9KHRoaXMsKGZ1bmN0aW9uKHQpeyJ1c2Ugc3RyaWN0Ijtjb25zdCBlPSIxMjgiLG49MTAwLGk9MzAwLHI9MzAxLHM9MzAyLGE9MzAzLG89MzA0LGw9MzA2LGM9MzA3LGg9MWUzLHU9MTAwMSxkPTEwMDIscD0xMDAzLG09MTAwNCxmPTEwMDUsZz0xMDA2LHY9MTAwNyx5PTEwMDgseD0xMDA5LF89MTAxMix3PTEwMTQsYj0xMDE1LE09MTAxNixTPTEwMjAsVD0xMDIyLEU9MTAyMyxBPTEwMjYsTD0xMDI3LFI9MzM3NzYsQz0zMzc3NyxQPTMzNzc4LEQ9MzM3NzksST0zNTg0MCxOPTM1ODQxLEI9MzU4NDIsej0zNTg0MyxGPTM3NDkyLE89Mzc0OTYsSD0yMzAwLEc9MjMwMSxVPTIzMDIsaz0yNDAwLFY9MjQwMSxXPTI0MDIsaj0yNTAwLHE9MjUwMSxYPTNlMyxZPTMwMDEsWj0zMDA3LEo9MzAwMixRPTMwMDQsSz0zMDA1LCQ9MzAwNix0dD03NjgwLGV0PTM1MDQ0LG50PTM1MDQ4LGl0PSIzMDAgZXMiO2NsYXNzIHJ0e2FkZEV2ZW50TGlzdGVuZXIodCxlKXt2b2lkIDA9PT10aGlzLl9saXN0ZW5lcnMmJih0aGlzLl9saXN0ZW5lcnM9e30pO2NvbnN0IG49dGhpcy5fbGlzdGVuZXJzO3ZvaWQgMD09PW5bdF0mJihuW3RdPVtdKSwtMT09PW5bdF0uaW5kZXhPZihlKSYmblt0XS5wdXNoKGUpfWhhc0V2ZW50TGlzdGVuZXIodCxlKXtpZih2b2lkIDA9PT10aGlzLl9saXN0ZW5lcnMpcmV0dXJuITE7Y29uc3Qgbj10aGlzLl9saXN0ZW5lcnM7cmV0dXJuIHZvaWQgMCE9PW5bdF0mJi0xIT09blt0XS5pbmRleE9mKGUpfXJlbW92ZUV2ZW50TGlzdGVuZXIodCxlKXtpZih2b2lkIDA9PT10aGlzLl9saXN0ZW5lcnMpcmV0dXJuO2NvbnN0IG49dGhpcy5fbGlzdGVuZXJzW3RdO2lmKHZvaWQgMCE9PW4pe2NvbnN0IHQ9bi5pbmRleE9mKGUpOy0xIT09dCYmbi5zcGxpY2UodCwxKX19ZGlzcGF0Y2hFdmVudCh0KXtpZih2b2lkIDA9PT10aGlzLl9saXN0ZW5lcnMpcmV0dXJuO2NvbnN0IGU9dGhpcy5fbGlzdGVuZXJzW3QudHlwZV07aWYodm9pZCAwIT09ZSl7dC50YXJnZXQ9dGhpcztjb25zdCBuPWUuc2xpY2UoMCk7Zm9yKGxldCBlPTAsaT1uLmxlbmd0aDtlPGk7ZSsrKW5bZV0uY2FsbCh0aGlzLHQpO3QudGFyZ2V0PW51bGx9fX1jb25zdCBzdD1bXTtmb3IobGV0IHQ9MDt0PDI1Njt0Kyspc3RbdF09KHQ8MTY/IjAiOiIiKSt0LnRvU3RyaW5nKDE2KTtsZXQgYXQ9MTIzNDU2Nztjb25zdCBvdD1NYXRoLlBJLzE4MCxsdD0xODAvTWF0aC5QSTtmdW5jdGlvbiBjdCgpe2NvbnN0IHQ9NDI5NDk2NzI5NSpNYXRoLnJhbmRvbSgpfDAsZT00Mjk0OTY3Mjk1Kk1hdGgucmFuZG9tKCl8MCxuPTQyOTQ5NjcyOTUqTWF0aC5yYW5kb20oKXwwLGk9NDI5NDk2NzI5NSpNYXRoLnJhbmRvbSgpfDA7cmV0dXJuKHN0WzI1NSZ0XStzdFt0Pj44JjI1NV0rc3RbdD4+MTYmMjU1XStzdFt0Pj4yNCYyNTVdKyItIitzdFsyNTUmZV0rc3RbZT4+OCYyNTVdKyItIitzdFtlPj4xNiYxNXw2NF0rc3RbZT4+MjQmMjU1XSsiLSIrc3RbNjMmbnwxMjhdK3N0W24+PjgmMjU1XSsiLSIrc3Rbbj4+MTYmMjU1XStzdFtuPj4yNCYyNTVdK3N0WzI1NSZpXStzdFtpPj44JjI1NV0rc3RbaT4+MTYmMjU1XStzdFtpPj4yNCYyNTVdKS50b1VwcGVyQ2FzZSgpfWZ1bmN0aW9uIGh0KHQsZSxuKXtyZXR1cm4gTWF0aC5tYXgoZSxNYXRoLm1pbihuLHQpKX1mdW5jdGlvbiB1dCh0LGUpe3JldHVybih0JWUrZSklZX1mdW5jdGlvbiBkdCh0LGUsbil7cmV0dXJuKDEtbikqdCtuKmV9ZnVuY3Rpb24gcHQodCl7cmV0dXJuIDA9PSh0JnQtMSkmJjAhPT10fWZ1bmN0aW9uIG10KHQpe3JldHVybiBNYXRoLnBvdygyLE1hdGguY2VpbChNYXRoLmxvZyh0KS9NYXRoLkxOMikpfWZ1bmN0aW9uIGZ0KHQpe3JldHVybiBNYXRoLnBvdygyLE1hdGguZmxvb3IoTWF0aC5sb2codCkvTWF0aC5MTjIpKX12YXIgZ3Q9T2JqZWN0LmZyZWV6ZSh7X19wcm90b19fOm51bGwsREVHMlJBRDpvdCxSQUQyREVHOmx0LGdlbmVyYXRlVVVJRDpjdCxjbGFtcDpodCxldWNsaWRlYW5Nb2R1bG86dXQsbWFwTGluZWFyOmZ1bmN0aW9uKHQsZSxuLGkscil7cmV0dXJuIGkrKHQtZSkqKHItaSkvKG4tZSl9LGludmVyc2VMZXJwOmZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gdCE9PWU/KG4tdCkvKGUtdCk6MH0sbGVycDpkdCxkYW1wOmZ1bmN0aW9uKHQsZSxuLGkpe3JldHVybiBkdCh0LGUsMS1NYXRoLmV4cCgtbippKSl9LHBpbmdwb25nOmZ1bmN0aW9uKHQsZT0xKXtyZXR1cm4gZS1NYXRoLmFicyh1dCh0LDIqZSktZSl9LHNtb290aHN0ZXA6ZnVuY3Rpb24odCxlLG4pe3JldHVybiB0PD1lPzA6dD49bj8xOih0PSh0LWUpLyhuLWUpKSp0KigzLTIqdCl9LHNtb290aGVyc3RlcDpmdW5jdGlvbih0LGUsbil7cmV0dXJuIHQ8PWU/MDp0Pj1uPzE6KHQ9KHQtZSkvKG4tZSkpKnQqdCoodCooNip0LTE1KSsxMCl9LHJhbmRJbnQ6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdCtNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqKGUtdCsxKSl9LHJhbmRGbG9hdDpmdW5jdGlvbih0LGUpe3JldHVybiB0K01hdGgucmFuZG9tKCkqKGUtdCl9LHJhbmRGbG9hdFNwcmVhZDpmdW5jdGlvbih0KXtyZXR1cm4gdCooLjUtTWF0aC5yYW5kb20oKSl9LHNlZWRlZFJhbmRvbTpmdW5jdGlvbih0KXtyZXR1cm4gdm9pZCAwIT09dCYmKGF0PXQlMjE0NzQ4MzY0NyksYXQ9MTY4MDcqYXQlMjE0NzQ4MzY0NywoYXQtMSkvMjE0NzQ4MzY0Nn0sZGVnVG9SYWQ6ZnVuY3Rpb24odCl7cmV0dXJuIHQqb3R9LHJhZFRvRGVnOmZ1bmN0aW9uKHQpe3JldHVybiB0Kmx0fSxpc1Bvd2VyT2ZUd286cHQsY2VpbFBvd2VyT2ZUd286bXQsZmxvb3JQb3dlck9mVHdvOmZ0LHNldFF1YXRlcm5pb25Gcm9tUHJvcGVyRXVsZXI6ZnVuY3Rpb24odCxlLG4saSxyKXtjb25zdCBzPU1hdGguY29zLGE9TWF0aC5zaW4sbz1zKG4vMiksbD1hKG4vMiksYz1zKChlK2kpLzIpLGg9YSgoZStpKS8yKSx1PXMoKGUtaSkvMiksZD1hKChlLWkpLzIpLHA9cygoaS1lKS8yKSxtPWEoKGktZSkvMik7c3dpdGNoKHIpe2Nhc2UiWFlYIjp0LnNldChvKmgsbCp1LGwqZCxvKmMpO2JyZWFrO2Nhc2UiWVpZIjp0LnNldChsKmQsbypoLGwqdSxvKmMpO2JyZWFrO2Nhc2UiWlhaIjp0LnNldChsKnUsbCpkLG8qaCxvKmMpO2JyZWFrO2Nhc2UiWFpYIjp0LnNldChvKmgsbCptLGwqcCxvKmMpO2JyZWFrO2Nhc2UiWVhZIjp0LnNldChsKnAsbypoLGwqbSxvKmMpO2JyZWFrO2Nhc2UiWllaIjp0LnNldChsKm0sbCpwLG8qaCxvKmMpO2JyZWFrO2RlZmF1bHQ6Y29uc29sZS53YXJuKCJUSFJFRS5NYXRoVXRpbHM6IC5zZXRRdWF0ZXJuaW9uRnJvbVByb3BlckV1bGVyKCkgZW5jb3VudGVyZWQgYW4gdW5rbm93biBvcmRlcjogIityKX19fSk7Y2xhc3MgdnR7Y29uc3RydWN0b3IodD0wLGU9MCl7dGhpcy54PXQsdGhpcy55PWV9Z2V0IHdpZHRoKCl7cmV0dXJuIHRoaXMueH1zZXQgd2lkdGgodCl7dGhpcy54PXR9Z2V0IGhlaWdodCgpe3JldHVybiB0aGlzLnl9c2V0IGhlaWdodCh0KXt0aGlzLnk9dH1zZXQodCxlKXtyZXR1cm4gdGhpcy54PXQsdGhpcy55PWUsdGhpc31zZXRTY2FsYXIodCl7cmV0dXJuIHRoaXMueD10LHRoaXMueT10LHRoaXN9c2V0WCh0KXtyZXR1cm4gdGhpcy54PXQsdGhpc31zZXRZKHQpe3JldHVybiB0aGlzLnk9dCx0aGlzfXNldENvbXBvbmVudCh0LGUpe3N3aXRjaCh0KXtjYXNlIDA6dGhpcy54PWU7YnJlYWs7Y2FzZSAxOnRoaXMueT1lO2JyZWFrO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKCJpbmRleCBpcyBvdXQgb2YgcmFuZ2U6ICIrdCl9cmV0dXJuIHRoaXN9Z2V0Q29tcG9uZW50KHQpe3N3aXRjaCh0KXtjYXNlIDA6cmV0dXJuIHRoaXMueDtjYXNlIDE6cmV0dXJuIHRoaXMueTtkZWZhdWx0OnRocm93IG5ldyBFcnJvcigiaW5kZXggaXMgb3V0IG9mIHJhbmdlOiAiK3QpfX1jbG9uZSgpe3JldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3Rvcih0aGlzLngsdGhpcy55KX1jb3B5KHQpe3JldHVybiB0aGlzLng9dC54LHRoaXMueT10LnksdGhpc31hZGQodCxlKXtyZXR1cm4gdm9pZCAwIT09ZT8oY29uc29sZS53YXJuKCJUSFJFRS5WZWN0b3IyOiAuYWRkKCkgbm93IG9ubHkgYWNjZXB0cyBvbmUgYXJndW1lbnQuIFVzZSAuYWRkVmVjdG9ycyggYSwgYiApIGluc3RlYWQuIiksdGhpcy5hZGRWZWN0b3JzKHQsZSkpOih0aGlzLngrPXQueCx0aGlzLnkrPXQueSx0aGlzKX1hZGRTY2FsYXIodCl7cmV0dXJuIHRoaXMueCs9dCx0aGlzLnkrPXQsdGhpc31hZGRWZWN0b3JzKHQsZSl7cmV0dXJuIHRoaXMueD10LngrZS54LHRoaXMueT10LnkrZS55LHRoaXN9YWRkU2NhbGVkVmVjdG9yKHQsZSl7cmV0dXJuIHRoaXMueCs9dC54KmUsdGhpcy55Kz10LnkqZSx0aGlzfXN1Yih0LGUpe3JldHVybiB2b2lkIDAhPT1lPyhjb25zb2xlLndhcm4oIlRIUkVFLlZlY3RvcjI6IC5zdWIoKSBub3cgb25seSBhY2NlcHRzIG9uZSBhcmd1bWVudC4gVXNlIC5zdWJWZWN0b3JzKCBhLCBiICkgaW5zdGVhZC4iKSx0aGlzLnN1YlZlY3RvcnModCxlKSk6KHRoaXMueC09dC54LHRoaXMueS09dC55LHRoaXMpfXN1YlNjYWxhcih0KXtyZXR1cm4gdGhpcy54LT10LHRoaXMueS09dCx0aGlzfXN1YlZlY3RvcnModCxlKXtyZXR1cm4gdGhpcy54PXQueC1lLngsdGhpcy55PXQueS1lLnksdGhpc31tdWx0aXBseSh0KXtyZXR1cm4gdGhpcy54Kj10LngsdGhpcy55Kj10LnksdGhpc31tdWx0aXBseVNjYWxhcih0KXtyZXR1cm4gdGhpcy54Kj10LHRoaXMueSo9dCx0aGlzfWRpdmlkZSh0KXtyZXR1cm4gdGhpcy54Lz10LngsdGhpcy55Lz10LnksdGhpc31kaXZpZGVTY2FsYXIodCl7cmV0dXJuIHRoaXMubXVsdGlwbHlTY2FsYXIoMS90KX1hcHBseU1hdHJpeDModCl7Y29uc3QgZT10aGlzLngsbj10aGlzLnksaT10LmVsZW1lbnRzO3JldHVybiB0aGlzLng9aVswXSplK2lbM10qbitpWzZdLHRoaXMueT1pWzFdKmUraVs0XSpuK2lbN10sdGhpc31taW4odCl7cmV0dXJuIHRoaXMueD1NYXRoLm1pbih0aGlzLngsdC54KSx0aGlzLnk9TWF0aC5taW4odGhpcy55LHQueSksdGhpc31tYXgodCl7cmV0dXJuIHRoaXMueD1NYXRoLm1heCh0aGlzLngsdC54KSx0aGlzLnk9TWF0aC5tYXgodGhpcy55LHQueSksdGhpc31jbGFtcCh0LGUpe3JldHVybiB0aGlzLng9TWF0aC5tYXgodC54LE1hdGgubWluKGUueCx0aGlzLngpKSx0aGlzLnk9TWF0aC5tYXgodC55LE1hdGgubWluKGUueSx0aGlzLnkpKSx0aGlzfWNsYW1wU2NhbGFyKHQsZSl7cmV0dXJuIHRoaXMueD1NYXRoLm1heCh0LE1hdGgubWluKGUsdGhpcy54KSksdGhpcy55PU1hdGgubWF4KHQsTWF0aC5taW4oZSx0aGlzLnkpKSx0aGlzfWNsYW1wTGVuZ3RoKHQsZSl7Y29uc3Qgbj10aGlzLmxlbmd0aCgpO3JldHVybiB0aGlzLmRpdmlkZVNjYWxhcihufHwxKS5tdWx0aXBseVNjYWxhcihNYXRoLm1heCh0LE1hdGgubWluKGUsbikpKX1mbG9vcigpe3JldHVybiB0aGlzLng9TWF0aC5mbG9vcih0aGlzLngpLHRoaXMueT1NYXRoLmZsb29yKHRoaXMueSksdGhpc31jZWlsKCl7cmV0dXJuIHRoaXMueD1NYXRoLmNlaWwodGhpcy54KSx0aGlzLnk9TWF0aC5jZWlsKHRoaXMueSksdGhpc31yb3VuZCgpe3JldHVybiB0aGlzLng9TWF0aC5yb3VuZCh0aGlzLngpLHRoaXMueT1NYXRoLnJvdW5kKHRoaXMueSksdGhpc31yb3VuZFRvWmVybygpe3JldHVybiB0aGlzLng9dGhpcy54PDA/TWF0aC5jZWlsKHRoaXMueCk6TWF0aC5mbG9vcih0aGlzLngpLHRoaXMueT10aGlzLnk8MD9NYXRoLmNlaWwodGhpcy55KTpNYXRoLmZsb29yKHRoaXMueSksdGhpc31uZWdhdGUoKXtyZXR1cm4gdGhpcy54PS10aGlzLngsdGhpcy55PS10aGlzLnksdGhpc31kb3QodCl7cmV0dXJuIHRoaXMueCp0LngrdGhpcy55KnQueX1jcm9zcyh0KXtyZXR1cm4gdGhpcy54KnQueS10aGlzLnkqdC54fWxlbmd0aFNxKCl7cmV0dXJuIHRoaXMueCp0aGlzLngrdGhpcy55KnRoaXMueX1sZW5ndGgoKXtyZXR1cm4gTWF0aC5zcXJ0KHRoaXMueCp0aGlzLngrdGhpcy55KnRoaXMueSl9bWFuaGF0dGFuTGVuZ3RoKCl7cmV0dXJuIE1hdGguYWJzKHRoaXMueCkrTWF0aC5hYnModGhpcy55KX1ub3JtYWxpemUoKXtyZXR1cm4gdGhpcy5kaXZpZGVTY2FsYXIodGhpcy5sZW5ndGgoKXx8MSl9YW5nbGUoKXtyZXR1cm4gTWF0aC5hdGFuMigtdGhpcy55LC10aGlzLngpK01hdGguUEl9ZGlzdGFuY2VUbyh0KXtyZXR1cm4gTWF0aC5zcXJ0KHRoaXMuZGlzdGFuY2VUb1NxdWFyZWQodCkpfWRpc3RhbmNlVG9TcXVhcmVkKHQpe2NvbnN0IGU9dGhpcy54LXQueCxuPXRoaXMueS10Lnk7cmV0dXJuIGUqZStuKm59bWFuaGF0dGFuRGlzdGFuY2VUbyh0KXtyZXR1cm4gTWF0aC5hYnModGhpcy54LXQueCkrTWF0aC5hYnModGhpcy55LXQueSl9c2V0TGVuZ3RoKHQpe3JldHVybiB0aGlzLm5vcm1hbGl6ZSgpLm11bHRpcGx5U2NhbGFyKHQpfWxlcnAodCxlKXtyZXR1cm4gdGhpcy54Kz0odC54LXRoaXMueCkqZSx0aGlzLnkrPSh0LnktdGhpcy55KSplLHRoaXN9bGVycFZlY3RvcnModCxlLG4pe3JldHVybiB0aGlzLng9dC54KyhlLngtdC54KSpuLHRoaXMueT10LnkrKGUueS10LnkpKm4sdGhpc31lcXVhbHModCl7cmV0dXJuIHQueD09PXRoaXMueCYmdC55PT09dGhpcy55fWZyb21BcnJheSh0LGU9MCl7cmV0dXJuIHRoaXMueD10W2VdLHRoaXMueT10W2UrMV0sdGhpc310b0FycmF5KHQ9W10sZT0wKXtyZXR1cm4gdFtlXT10aGlzLngsdFtlKzFdPXRoaXMueSx0fWZyb21CdWZmZXJBdHRyaWJ1dGUodCxlLG4pe3JldHVybiB2b2lkIDAhPT1uJiZjb25zb2xlLndhcm4oIlRIUkVFLlZlY3RvcjI6IG9mZnNldCBoYXMgYmVlbiByZW1vdmVkIGZyb20gLmZyb21CdWZmZXJBdHRyaWJ1dGUoKS4iKSx0aGlzLng9dC5nZXRYKGUpLHRoaXMueT10LmdldFkoZSksdGhpc31yb3RhdGVBcm91bmQodCxlKXtjb25zdCBuPU1hdGguY29zKGUpLGk9TWF0aC5zaW4oZSkscj10aGlzLngtdC54LHM9dGhpcy55LXQueTtyZXR1cm4gdGhpcy54PXIqbi1zKmkrdC54LHRoaXMueT1yKmkrcypuK3QueSx0aGlzfXJhbmRvbSgpe3JldHVybiB0aGlzLng9TWF0aC5yYW5kb20oKSx0aGlzLnk9TWF0aC5yYW5kb20oKSx0aGlzfX12dC5wcm90b3R5cGUuaXNWZWN0b3IyPSEwO2NsYXNzIHl0e2NvbnN0cnVjdG9yKCl7dGhpcy5lbGVtZW50cz1bMSwwLDAsMCwxLDAsMCwwLDFdLGFyZ3VtZW50cy5sZW5ndGg+MCYmY29uc29sZS5lcnJvcigiVEhSRUUuTWF0cml4MzogdGhlIGNvbnN0cnVjdG9yIG5vIGxvbmdlciByZWFkcyBhcmd1bWVudHMuIHVzZSAuc2V0KCkgaW5zdGVhZC4iKX1zZXQodCxlLG4saSxyLHMsYSxvLGwpe2NvbnN0IGM9dGhpcy5lbGVtZW50cztyZXR1cm4gY1swXT10LGNbMV09aSxjWzJdPWEsY1szXT1lLGNbNF09cixjWzVdPW8sY1s2XT1uLGNbN109cyxjWzhdPWwsdGhpc31pZGVudGl0eSgpe3JldHVybiB0aGlzLnNldCgxLDAsMCwwLDEsMCwwLDAsMSksdGhpc31jb3B5KHQpe2NvbnN0IGU9dGhpcy5lbGVtZW50cyxuPXQuZWxlbWVudHM7cmV0dXJuIGVbMF09blswXSxlWzFdPW5bMV0sZVsyXT1uWzJdLGVbM109blszXSxlWzRdPW5bNF0sZVs1XT1uWzVdLGVbNl09bls2XSxlWzddPW5bN10sZVs4XT1uWzhdLHRoaXN9ZXh0cmFjdEJhc2lzKHQsZSxuKXtyZXR1cm4gdC5zZXRGcm9tTWF0cml4M0NvbHVtbih0aGlzLDApLGUuc2V0RnJvbU1hdHJpeDNDb2x1bW4odGhpcywxKSxuLnNldEZyb21NYXRyaXgzQ29sdW1uKHRoaXMsMiksdGhpc31zZXRGcm9tTWF0cml4NCh0KXtjb25zdCBlPXQuZWxlbWVudHM7cmV0dXJuIHRoaXMuc2V0KGVbMF0sZVs0XSxlWzhdLGVbMV0sZVs1XSxlWzldLGVbMl0sZVs2XSxlWzEwXSksdGhpc31tdWx0aXBseSh0KXtyZXR1cm4gdGhpcy5tdWx0aXBseU1hdHJpY2VzKHRoaXMsdCl9cHJlbXVsdGlwbHkodCl7cmV0dXJuIHRoaXMubXVsdGlwbHlNYXRyaWNlcyh0LHRoaXMpfW11bHRpcGx5TWF0cmljZXModCxlKXtjb25zdCBuPXQuZWxlbWVudHMsaT1lLmVsZW1lbnRzLHI9dGhpcy5lbGVtZW50cyxzPW5bMF0sYT1uWzNdLG89bls2XSxsPW5bMV0sYz1uWzRdLGg9bls3XSx1PW5bMl0sZD1uWzVdLHA9bls4XSxtPWlbMF0sZj1pWzNdLGc9aVs2XSx2PWlbMV0seT1pWzRdLHg9aVs3XSxfPWlbMl0sdz1pWzVdLGI9aVs4XTtyZXR1cm4gclswXT1zKm0rYSp2K28qXyxyWzNdPXMqZithKnkrbyp3LHJbNl09cypnK2EqeCtvKmIsclsxXT1sKm0rYyp2K2gqXyxyWzRdPWwqZitjKnkraCp3LHJbN109bCpnK2MqeCtoKmIsclsyXT11Km0rZCp2K3AqXyxyWzVdPXUqZitkKnkrcCp3LHJbOF09dSpnK2QqeCtwKmIsdGhpc31tdWx0aXBseVNjYWxhcih0KXtjb25zdCBlPXRoaXMuZWxlbWVudHM7cmV0dXJuIGVbMF0qPXQsZVszXSo9dCxlWzZdKj10LGVbMV0qPXQsZVs0XSo9dCxlWzddKj10LGVbMl0qPXQsZVs1XSo9dCxlWzhdKj10LHRoaXN9ZGV0ZXJtaW5hbnQoKXtjb25zdCB0PXRoaXMuZWxlbWVudHMsZT10WzBdLG49dFsxXSxpPXRbMl0scj10WzNdLHM9dFs0XSxhPXRbNV0sbz10WzZdLGw9dFs3XSxjPXRbOF07cmV0dXJuIGUqcypjLWUqYSpsLW4qcipjK24qYSpvK2kqcipsLWkqcypvfWludmVydCgpe2NvbnN0IHQ9dGhpcy5lbGVtZW50cyxlPXRbMF0sbj10WzFdLGk9dFsyXSxyPXRbM10scz10WzRdLGE9dFs1XSxvPXRbNl0sbD10WzddLGM9dFs4XSxoPWMqcy1hKmwsdT1hKm8tYypyLGQ9bCpyLXMqbyxwPWUqaCtuKnUraSpkO2lmKDA9PT1wKXJldHVybiB0aGlzLnNldCgwLDAsMCwwLDAsMCwwLDAsMCk7Y29uc3QgbT0xL3A7cmV0dXJuIHRbMF09aCptLHRbMV09KGkqbC1jKm4pKm0sdFsyXT0oYSpuLWkqcykqbSx0WzNdPXUqbSx0WzRdPShjKmUtaSpvKSptLHRbNV09KGkqci1hKmUpKm0sdFs2XT1kKm0sdFs3XT0obipvLWwqZSkqbSx0WzhdPShzKmUtbipyKSptLHRoaXN9dHJhbnNwb3NlKCl7bGV0IHQ7Y29uc3QgZT10aGlzLmVsZW1lbnRzO3JldHVybiB0PWVbMV0sZVsxXT1lWzNdLGVbM109dCx0PWVbMl0sZVsyXT1lWzZdLGVbNl09dCx0PWVbNV0sZVs1XT1lWzddLGVbN109dCx0aGlzfWdldE5vcm1hbE1hdHJpeCh0KXtyZXR1cm4gdGhpcy5zZXRGcm9tTWF0cml4NCh0KS5pbnZlcnQoKS50cmFuc3Bvc2UoKX10cmFuc3Bvc2VJbnRvQXJyYXkodCl7Y29uc3QgZT10aGlzLmVsZW1lbnRzO3JldHVybiB0WzBdPWVbMF0sdFsxXT1lWzNdLHRbMl09ZVs2XSx0WzNdPWVbMV0sdFs0XT1lWzRdLHRbNV09ZVs3XSx0WzZdPWVbMl0sdFs3XT1lWzVdLHRbOF09ZVs4XSx0aGlzfXNldFV2VHJhbnNmb3JtKHQsZSxuLGkscixzLGEpe2NvbnN0IG89TWF0aC5jb3MociksbD1NYXRoLnNpbihyKTtyZXR1cm4gdGhpcy5zZXQobipvLG4qbCwtbioobypzK2wqYSkrcyt0LC1pKmwsaSpvLC1pKigtbCpzK28qYSkrYStlLDAsMCwxKSx0aGlzfXNjYWxlKHQsZSl7Y29uc3Qgbj10aGlzLmVsZW1lbnRzO3JldHVybiBuWzBdKj10LG5bM10qPXQsbls2XSo9dCxuWzFdKj1lLG5bNF0qPWUsbls3XSo9ZSx0aGlzfXJvdGF0ZSh0KXtjb25zdCBlPU1hdGguY29zKHQpLG49TWF0aC5zaW4odCksaT10aGlzLmVsZW1lbnRzLHI9aVswXSxzPWlbM10sYT1pWzZdLG89aVsxXSxsPWlbNF0sYz1pWzddO3JldHVybiBpWzBdPWUqcituKm8saVszXT1lKnMrbipsLGlbNl09ZSphK24qYyxpWzFdPS1uKnIrZSpvLGlbNF09LW4qcytlKmwsaVs3XT0tbiphK2UqYyx0aGlzfXRyYW5zbGF0ZSh0LGUpe2NvbnN0IG49dGhpcy5lbGVtZW50cztyZXR1cm4gblswXSs9dCpuWzJdLG5bM10rPXQqbls1XSxuWzZdKz10Km5bOF0sblsxXSs9ZSpuWzJdLG5bNF0rPWUqbls1XSxuWzddKz1lKm5bOF0sdGhpc31lcXVhbHModCl7Y29uc3QgZT10aGlzLmVsZW1lbnRzLG49dC5lbGVtZW50cztmb3IobGV0IHQ9MDt0PDk7dCsrKWlmKGVbdF0hPT1uW3RdKXJldHVybiExO3JldHVybiEwfWZyb21BcnJheSh0LGU9MCl7Zm9yKGxldCBuPTA7bjw5O24rKyl0aGlzLmVsZW1lbnRzW25dPXRbbitlXTtyZXR1cm4gdGhpc310b0FycmF5KHQ9W10sZT0wKXtjb25zdCBuPXRoaXMuZWxlbWVudHM7cmV0dXJuIHRbZV09blswXSx0W2UrMV09blsxXSx0W2UrMl09blsyXSx0W2UrM109blszXSx0W2UrNF09bls0XSx0W2UrNV09bls1XSx0W2UrNl09bls2XSx0W2UrN109bls3XSx0W2UrOF09bls4XSx0fWNsb25lKCl7cmV0dXJuKG5ldyB0aGlzLmNvbnN0cnVjdG9yKS5mcm9tQXJyYXkodGhpcy5lbGVtZW50cyl9fWxldCB4dDt5dC5wcm90b3R5cGUuaXNNYXRyaXgzPSEwO2NsYXNzIF90e3N0YXRpYyBnZXREYXRhVVJMKHQpe2lmKC9eZGF0YTovaS50ZXN0KHQuc3JjKSlyZXR1cm4gdC5zcmM7aWYoInVuZGVmaW5lZCI9PXR5cGVvZiBIVE1MQ2FudmFzRWxlbWVudClyZXR1cm4gdC5zcmM7bGV0IGU7aWYodCBpbnN0YW5jZW9mIEhUTUxDYW52YXNFbGVtZW50KWU9dDtlbHNle3ZvaWQgMD09PXh0JiYoeHQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiwiY2FudmFzIikpLHh0LndpZHRoPXQud2lkdGgseHQuaGVpZ2h0PXQuaGVpZ2h0O2NvbnN0IG49eHQuZ2V0Q29udGV4dCgiMmQiKTt0IGluc3RhbmNlb2YgSW1hZ2VEYXRhP24ucHV0SW1hZ2VEYXRhKHQsMCwwKTpuLmRyYXdJbWFnZSh0LDAsMCx0LndpZHRoLHQuaGVpZ2h0KSxlPXh0fXJldHVybiBlLndpZHRoPjIwNDh8fGUuaGVpZ2h0PjIwNDg/KGNvbnNvbGUud2FybigiVEhSRUUuSW1hZ2VVdGlscy5nZXREYXRhVVJMOiBJbWFnZSBjb252ZXJ0ZWQgdG8ganBnIGZvciBwZXJmb3JtYW5jZSByZWFzb25zIix0KSxlLnRvRGF0YVVSTCgiaW1hZ2UvanBlZyIsLjYpKTplLnRvRGF0YVVSTCgiaW1hZ2UvcG5nIil9fWxldCB3dD0wO2NsYXNzIGJ0IGV4dGVuZHMgcnR7Y29uc3RydWN0b3IodD1idC5ERUZBVUxUX0lNQUdFLGU9YnQuREVGQVVMVF9NQVBQSU5HLG49MTAwMSxpPTEwMDEscj0xMDA2LHM9MTAwOCxhPTEwMjMsbz0xMDA5LGw9MSxjPTNlMyl7c3VwZXIoKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywiaWQiLHt2YWx1ZTp3dCsrfSksdGhpcy51dWlkPWN0KCksdGhpcy5uYW1lPSIiLHRoaXMuaW1hZ2U9dCx0aGlzLm1pcG1hcHM9W10sdGhpcy5tYXBwaW5nPWUsdGhpcy53cmFwUz1uLHRoaXMud3JhcFQ9aSx0aGlzLm1hZ0ZpbHRlcj1yLHRoaXMubWluRmlsdGVyPXMsdGhpcy5hbmlzb3Ryb3B5PWwsdGhpcy5mb3JtYXQ9YSx0aGlzLmludGVybmFsRm9ybWF0PW51bGwsdGhpcy50eXBlPW8sdGhpcy5vZmZzZXQ9bmV3IHZ0KDAsMCksdGhpcy5yZXBlYXQ9bmV3IHZ0KDEsMSksdGhpcy5jZW50ZXI9bmV3IHZ0KDAsMCksdGhpcy5yb3RhdGlvbj0wLHRoaXMubWF0cml4QXV0b1VwZGF0ZT0hMCx0aGlzLm1hdHJpeD1uZXcgeXQsdGhpcy5nZW5lcmF0ZU1pcG1hcHM9ITAsdGhpcy5wcmVtdWx0aXBseUFscGhhPSExLHRoaXMuZmxpcFk9ITAsdGhpcy51bnBhY2tBbGlnbm1lbnQ9NCx0aGlzLmVuY29kaW5nPWMsdGhpcy52ZXJzaW9uPTAsdGhpcy5vblVwZGF0ZT1udWxsfXVwZGF0ZU1hdHJpeCgpe3RoaXMubWF0cml4LnNldFV2VHJhbnNmb3JtKHRoaXMub2Zmc2V0LngsdGhpcy5vZmZzZXQueSx0aGlzLnJlcGVhdC54LHRoaXMucmVwZWF0LnksdGhpcy5yb3RhdGlvbix0aGlzLmNlbnRlci54LHRoaXMuY2VudGVyLnkpfWNsb25lKCl7cmV0dXJuKG5ldyB0aGlzLmNvbnN0cnVjdG9yKS5jb3B5KHRoaXMpfWNvcHkodCl7cmV0dXJuIHRoaXMubmFtZT10Lm5hbWUsdGhpcy5pbWFnZT10LmltYWdlLHRoaXMubWlwbWFwcz10Lm1pcG1hcHMuc2xpY2UoMCksdGhpcy5tYXBwaW5nPXQubWFwcGluZyx0aGlzLndyYXBTPXQud3JhcFMsdGhpcy53cmFwVD10LndyYXBULHRoaXMubWFnRmlsdGVyPXQubWFnRmlsdGVyLHRoaXMubWluRmlsdGVyPXQubWluRmlsdGVyLHRoaXMuYW5pc290cm9weT10LmFuaXNvdHJvcHksdGhpcy5mb3JtYXQ9dC5mb3JtYXQsdGhpcy5pbnRlcm5hbEZvcm1hdD10LmludGVybmFsRm9ybWF0LHRoaXMudHlwZT10LnR5cGUsdGhpcy5vZmZzZXQuY29weSh0Lm9mZnNldCksdGhpcy5yZXBlYXQuY29weSh0LnJlcGVhdCksdGhpcy5jZW50ZXIuY29weSh0LmNlbnRlciksdGhpcy5yb3RhdGlvbj10LnJvdGF0aW9uLHRoaXMubWF0cml4QXV0b1VwZGF0ZT10Lm1hdHJpeEF1dG9VcGRhdGUsdGhpcy5tYXRyaXguY29weSh0Lm1hdHJpeCksdGhpcy5nZW5lcmF0ZU1pcG1hcHM9dC5nZW5lcmF0ZU1pcG1hcHMsdGhpcy5wcmVtdWx0aXBseUFscGhhPXQucHJlbXVsdGlwbHlBbHBoYSx0aGlzLmZsaXBZPXQuZmxpcFksdGhpcy51bnBhY2tBbGlnbm1lbnQ9dC51bnBhY2tBbGlnbm1lbnQsdGhpcy5lbmNvZGluZz10LmVuY29kaW5nLHRoaXN9dG9KU09OKHQpe2NvbnN0IGU9dm9pZCAwPT09dHx8InN0cmluZyI9PXR5cGVvZiB0O2lmKCFlJiZ2b2lkIDAhPT10LnRleHR1cmVzW3RoaXMudXVpZF0pcmV0dXJuIHQudGV4dHVyZXNbdGhpcy51dWlkXTtjb25zdCBuPXttZXRhZGF0YTp7dmVyc2lvbjo0LjUsdHlwZToiVGV4dHVyZSIsZ2VuZXJhdG9yOiJUZXh0dXJlLnRvSlNPTiJ9LHV1aWQ6dGhpcy51dWlkLG5hbWU6dGhpcy5uYW1lLG1hcHBpbmc6dGhpcy5tYXBwaW5nLHJlcGVhdDpbdGhpcy5yZXBlYXQueCx0aGlzLnJlcGVhdC55XSxvZmZzZXQ6W3RoaXMub2Zmc2V0LngsdGhpcy5vZmZzZXQueV0sY2VudGVyOlt0aGlzLmNlbnRlci54LHRoaXMuY2VudGVyLnldLHJvdGF0aW9uOnRoaXMucm90YXRpb24sd3JhcDpbdGhpcy53cmFwUyx0aGlzLndyYXBUXSxmb3JtYXQ6dGhpcy5mb3JtYXQsdHlwZTp0aGlzLnR5cGUsZW5jb2Rpbmc6dGhpcy5lbmNvZGluZyxtaW5GaWx0ZXI6dGhpcy5taW5GaWx0ZXIsbWFnRmlsdGVyOnRoaXMubWFnRmlsdGVyLGFuaXNvdHJvcHk6dGhpcy5hbmlzb3Ryb3B5LGZsaXBZOnRoaXMuZmxpcFkscHJlbXVsdGlwbHlBbHBoYTp0aGlzLnByZW11bHRpcGx5QWxwaGEsdW5wYWNrQWxpZ25tZW50OnRoaXMudW5wYWNrQWxpZ25tZW50fTtpZih2b2lkIDAhPT10aGlzLmltYWdlKXtjb25zdCBpPXRoaXMuaW1hZ2U7aWYodm9pZCAwPT09aS51dWlkJiYoaS51dWlkPWN0KCkpLCFlJiZ2b2lkIDA9PT10LmltYWdlc1tpLnV1aWRdKXtsZXQgZTtpZihBcnJheS5pc0FycmF5KGkpKXtlPVtdO2ZvcihsZXQgdD0wLG49aS5sZW5ndGg7dDxuO3QrKylpW3RdLmlzRGF0YVRleHR1cmU/ZS5wdXNoKE10KGlbdF0uaW1hZ2UpKTplLnB1c2goTXQoaVt0XSkpfWVsc2UgZT1NdChpKTt0LmltYWdlc1tpLnV1aWRdPXt1dWlkOmkudXVpZCx1cmw6ZX19bi5pbWFnZT1pLnV1aWR9cmV0dXJuIGV8fCh0LnRleHR1cmVzW3RoaXMudXVpZF09biksbn1kaXNwb3NlKCl7dGhpcy5kaXNwYXRjaEV2ZW50KHt0eXBlOiJkaXNwb3NlIn0pfXRyYW5zZm9ybVV2KHQpe2lmKHRoaXMubWFwcGluZyE9PWkpcmV0dXJuIHQ7aWYodC5hcHBseU1hdHJpeDModGhpcy5tYXRyaXgpLHQueDwwfHx0Lng+MSlzd2l0Y2godGhpcy53cmFwUyl7Y2FzZSBoOnQueD10LngtTWF0aC5mbG9vcih0LngpO2JyZWFrO2Nhc2UgdTp0Lng9dC54PDA/MDoxO2JyZWFrO2Nhc2UgZDoxPT09TWF0aC5hYnMoTWF0aC5mbG9vcih0LngpJTIpP3QueD1NYXRoLmNlaWwodC54KS10Lng6dC54PXQueC1NYXRoLmZsb29yKHQueCl9aWYodC55PDB8fHQueT4xKXN3aXRjaCh0aGlzLndyYXBUKXtjYXNlIGg6dC55PXQueS1NYXRoLmZsb29yKHQueSk7YnJlYWs7Y2FzZSB1OnQueT10Lnk8MD8wOjE7YnJlYWs7Y2FzZSBkOjE9PT1NYXRoLmFicyhNYXRoLmZsb29yKHQueSklMik/dC55PU1hdGguY2VpbCh0LnkpLXQueTp0Lnk9dC55LU1hdGguZmxvb3IodC55KX1yZXR1cm4gdGhpcy5mbGlwWSYmKHQueT0xLXQueSksdH1zZXQgbmVlZHNVcGRhdGUodCl7ITA9PT10JiZ0aGlzLnZlcnNpb24rK319ZnVuY3Rpb24gTXQodCl7cmV0dXJuInVuZGVmaW5lZCIhPXR5cGVvZiBIVE1MSW1hZ2VFbGVtZW50JiZ0IGluc3RhbmNlb2YgSFRNTEltYWdlRWxlbWVudHx8InVuZGVmaW5lZCIhPXR5cGVvZiBIVE1MQ2FudmFzRWxlbWVudCYmdCBpbnN0YW5jZW9mIEhUTUxDYW52YXNFbGVtZW50fHwidW5kZWZpbmVkIiE9dHlwZW9mIEltYWdlQml0bWFwJiZ0IGluc3RhbmNlb2YgSW1hZ2VCaXRtYXA/X3QuZ2V0RGF0YVVSTCh0KTp0LmRhdGE/e2RhdGE6QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwodC5kYXRhKSx3aWR0aDp0LndpZHRoLGhlaWdodDp0LmhlaWdodCx0eXBlOnQuZGF0YS5jb25zdHJ1Y3Rvci5uYW1lfTooY29uc29sZS53YXJuKCJUSFJFRS5UZXh0dXJlOiBVbmFibGUgdG8gc2VyaWFsaXplIFRleHR1cmUuIikse30pfWJ0LkRFRkFVTFRfSU1BR0U9dm9pZCAwLGJ0LkRFRkFVTFRfTUFQUElORz1pLGJ0LnByb3RvdHlwZS5pc1RleHR1cmU9ITA7Y2xhc3MgU3R7Y29uc3RydWN0b3IodD0wLGU9MCxuPTAsaT0xKXt0aGlzLng9dCx0aGlzLnk9ZSx0aGlzLno9bix0aGlzLnc9aX1nZXQgd2lkdGgoKXtyZXR1cm4gdGhpcy56fXNldCB3aWR0aCh0KXt0aGlzLno9dH1nZXQgaGVpZ2h0KCl7cmV0dXJuIHRoaXMud31zZXQgaGVpZ2h0KHQpe3RoaXMudz10fXNldCh0LGUsbixpKXtyZXR1cm4gdGhpcy54PXQsdGhpcy55PWUsdGhpcy56PW4sdGhpcy53PWksdGhpc31zZXRTY2FsYXIodCl7cmV0dXJuIHRoaXMueD10LHRoaXMueT10LHRoaXMuej10LHRoaXMudz10LHRoaXN9c2V0WCh0KXtyZXR1cm4gdGhpcy54PXQsdGhpc31zZXRZKHQpe3JldHVybiB0aGlzLnk9dCx0aGlzfXNldFoodCl7cmV0dXJuIHRoaXMuej10LHRoaXN9c2V0Vyh0KXtyZXR1cm4gdGhpcy53PXQsdGhpc31zZXRDb21wb25lbnQodCxlKXtzd2l0Y2godCl7Y2FzZSAwOnRoaXMueD1lO2JyZWFrO2Nhc2UgMTp0aGlzLnk9ZTticmVhaztjYXNlIDI6dGhpcy56PWU7YnJlYWs7Y2FzZSAzOnRoaXMudz1lO2JyZWFrO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKCJpbmRleCBpcyBvdXQgb2YgcmFuZ2U6ICIrdCl9cmV0dXJuIHRoaXN9Z2V0Q29tcG9uZW50KHQpe3N3aXRjaCh0KXtjYXNlIDA6cmV0dXJuIHRoaXMueDtjYXNlIDE6cmV0dXJuIHRoaXMueTtjYXNlIDI6cmV0dXJuIHRoaXMuejtjYXNlIDM6cmV0dXJuIHRoaXMudztkZWZhdWx0OnRocm93IG5ldyBFcnJvcigiaW5kZXggaXMgb3V0IG9mIHJhbmdlOiAiK3QpfX1jbG9uZSgpe3JldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3Rvcih0aGlzLngsdGhpcy55LHRoaXMueix0aGlzLncpfWNvcHkodCl7cmV0dXJuIHRoaXMueD10LngsdGhpcy55PXQueSx0aGlzLno9dC56LHRoaXMudz12b2lkIDAhPT10Lnc/dC53OjEsdGhpc31hZGQodCxlKXtyZXR1cm4gdm9pZCAwIT09ZT8oY29uc29sZS53YXJuKCJUSFJFRS5WZWN0b3I0OiAuYWRkKCkgbm93IG9ubHkgYWNjZXB0cyBvbmUgYXJndW1lbnQuIFVzZSAuYWRkVmVjdG9ycyggYSwgYiApIGluc3RlYWQuIiksdGhpcy5hZGRWZWN0b3JzKHQsZSkpOih0aGlzLngrPXQueCx0aGlzLnkrPXQueSx0aGlzLnorPXQueix0aGlzLncrPXQudyx0aGlzKX1hZGRTY2FsYXIodCl7cmV0dXJuIHRoaXMueCs9dCx0aGlzLnkrPXQsdGhpcy56Kz10LHRoaXMudys9dCx0aGlzfWFkZFZlY3RvcnModCxlKXtyZXR1cm4gdGhpcy54PXQueCtlLngsdGhpcy55PXQueStlLnksdGhpcy56PXQueitlLnosdGhpcy53PXQudytlLncsdGhpc31hZGRTY2FsZWRWZWN0b3IodCxlKXtyZXR1cm4gdGhpcy54Kz10LngqZSx0aGlzLnkrPXQueSplLHRoaXMueis9dC56KmUsdGhpcy53Kz10LncqZSx0aGlzfXN1Yih0LGUpe3JldHVybiB2b2lkIDAhPT1lPyhjb25zb2xlLndhcm4oIlRIUkVFLlZlY3RvcjQ6IC5zdWIoKSBub3cgb25seSBhY2NlcHRzIG9uZSBhcmd1bWVudC4gVXNlIC5zdWJWZWN0b3JzKCBhLCBiICkgaW5zdGVhZC4iKSx0aGlzLnN1YlZlY3RvcnModCxlKSk6KHRoaXMueC09dC54LHRoaXMueS09dC55LHRoaXMuei09dC56LHRoaXMudy09dC53LHRoaXMpfXN1YlNjYWxhcih0KXtyZXR1cm4gdGhpcy54LT10LHRoaXMueS09dCx0aGlzLnotPXQsdGhpcy53LT10LHRoaXN9c3ViVmVjdG9ycyh0LGUpe3JldHVybiB0aGlzLng9dC54LWUueCx0aGlzLnk9dC55LWUueSx0aGlzLno9dC56LWUueix0aGlzLnc9dC53LWUudyx0aGlzfW11bHRpcGx5KHQpe3JldHVybiB0aGlzLngqPXQueCx0aGlzLnkqPXQueSx0aGlzLnoqPXQueix0aGlzLncqPXQudyx0aGlzfW11bHRpcGx5U2NhbGFyKHQpe3JldHVybiB0aGlzLngqPXQsdGhpcy55Kj10LHRoaXMueio9dCx0aGlzLncqPXQsdGhpc31hcHBseU1hdHJpeDQodCl7Y29uc3QgZT10aGlzLngsbj10aGlzLnksaT10aGlzLnoscj10aGlzLncscz10LmVsZW1lbnRzO3JldHVybiB0aGlzLng9c1swXSplK3NbNF0qbitzWzhdKmkrc1sxMl0qcix0aGlzLnk9c1sxXSplK3NbNV0qbitzWzldKmkrc1sxM10qcix0aGlzLno9c1syXSplK3NbNl0qbitzWzEwXSppK3NbMTRdKnIsdGhpcy53PXNbM10qZStzWzddKm4rc1sxMV0qaStzWzE1XSpyLHRoaXN9ZGl2aWRlU2NhbGFyKHQpe3JldHVybiB0aGlzLm11bHRpcGx5U2NhbGFyKDEvdCl9c2V0QXhpc0FuZ2xlRnJvbVF1YXRlcm5pb24odCl7dGhpcy53PTIqTWF0aC5hY29zKHQudyk7Y29uc3QgZT1NYXRoLnNxcnQoMS10LncqdC53KTtyZXR1cm4gZTwxZS00Pyh0aGlzLng9MSx0aGlzLnk9MCx0aGlzLno9MCk6KHRoaXMueD10LngvZSx0aGlzLnk9dC55L2UsdGhpcy56PXQuei9lKSx0aGlzfXNldEF4aXNBbmdsZUZyb21Sb3RhdGlvbk1hdHJpeCh0KXtsZXQgZSxuLGkscjtjb25zdCBzPS4wMSxhPS4xLG89dC5lbGVtZW50cyxsPW9bMF0sYz1vWzRdLGg9b1s4XSx1PW9bMV0sZD1vWzVdLHA9b1s5XSxtPW9bMl0sZj1vWzZdLGc9b1sxMF07aWYoTWF0aC5hYnMoYy11KTxzJiZNYXRoLmFicyhoLW0pPHMmJk1hdGguYWJzKHAtZik8cyl7aWYoTWF0aC5hYnMoYyt1KTxhJiZNYXRoLmFicyhoK20pPGEmJk1hdGguYWJzKHArZik8YSYmTWF0aC5hYnMobCtkK2ctMyk8YSlyZXR1cm4gdGhpcy5zZXQoMSwwLDAsMCksdGhpcztlPU1hdGguUEk7Y29uc3QgdD0obCsxKS8yLG89KGQrMSkvMix2PShnKzEpLzIseT0oYyt1KS80LHg9KGgrbSkvNCxfPShwK2YpLzQ7cmV0dXJuIHQ+byYmdD52P3Q8cz8obj0wLGk9LjcwNzEwNjc4MSxyPS43MDcxMDY3ODEpOihuPU1hdGguc3FydCh0KSxpPXkvbixyPXgvbik6bz52P288cz8obj0uNzA3MTA2NzgxLGk9MCxyPS43MDcxMDY3ODEpOihpPU1hdGguc3FydChvKSxuPXkvaSxyPV8vaSk6djxzPyhuPS43MDcxMDY3ODEsaT0uNzA3MTA2NzgxLHI9MCk6KHI9TWF0aC5zcXJ0KHYpLG49eC9yLGk9Xy9yKSx0aGlzLnNldChuLGkscixlKSx0aGlzfWxldCB2PU1hdGguc3FydCgoZi1wKSooZi1wKSsoaC1tKSooaC1tKSsodS1jKSoodS1jKSk7cmV0dXJuIE1hdGguYWJzKHYpPC4wMDEmJih2PTEpLHRoaXMueD0oZi1wKS92LHRoaXMueT0oaC1tKS92LHRoaXMuej0odS1jKS92LHRoaXMudz1NYXRoLmFjb3MoKGwrZCtnLTEpLzIpLHRoaXN9bWluKHQpe3JldHVybiB0aGlzLng9TWF0aC5taW4odGhpcy54LHQueCksdGhpcy55PU1hdGgubWluKHRoaXMueSx0LnkpLHRoaXMuej1NYXRoLm1pbih0aGlzLnosdC56KSx0aGlzLnc9TWF0aC5taW4odGhpcy53LHQudyksdGhpc31tYXgodCl7cmV0dXJuIHRoaXMueD1NYXRoLm1heCh0aGlzLngsdC54KSx0aGlzLnk9TWF0aC5tYXgodGhpcy55LHQueSksdGhpcy56PU1hdGgubWF4KHRoaXMueix0LnopLHRoaXMudz1NYXRoLm1heCh0aGlzLncsdC53KSx0aGlzfWNsYW1wKHQsZSl7cmV0dXJuIHRoaXMueD1NYXRoLm1heCh0LngsTWF0aC5taW4oZS54LHRoaXMueCkpLHRoaXMueT1NYXRoLm1heCh0LnksTWF0aC5taW4oZS55LHRoaXMueSkpLHRoaXMuej1NYXRoLm1heCh0LnosTWF0aC5taW4oZS56LHRoaXMueikpLHRoaXMudz1NYXRoLm1heCh0LncsTWF0aC5taW4oZS53LHRoaXMudykpLHRoaXN9Y2xhbXBTY2FsYXIodCxlKXtyZXR1cm4gdGhpcy54PU1hdGgubWF4KHQsTWF0aC5taW4oZSx0aGlzLngpKSx0aGlzLnk9TWF0aC5tYXgodCxNYXRoLm1pbihlLHRoaXMueSkpLHRoaXMuej1NYXRoLm1heCh0LE1hdGgubWluKGUsdGhpcy56KSksdGhpcy53PU1hdGgubWF4KHQsTWF0aC5taW4oZSx0aGlzLncpKSx0aGlzfWNsYW1wTGVuZ3RoKHQsZSl7Y29uc3Qgbj10aGlzLmxlbmd0aCgpO3JldHVybiB0aGlzLmRpdmlkZVNjYWxhcihufHwxKS5tdWx0aXBseVNjYWxhcihNYXRoLm1heCh0LE1hdGgubWluKGUsbikpKX1mbG9vcigpe3JldHVybiB0aGlzLng9TWF0aC5mbG9vcih0aGlzLngpLHRoaXMueT1NYXRoLmZsb29yKHRoaXMueSksdGhpcy56PU1hdGguZmxvb3IodGhpcy56KSx0aGlzLnc9TWF0aC5mbG9vcih0aGlzLncpLHRoaXN9Y2VpbCgpe3JldHVybiB0aGlzLng9TWF0aC5jZWlsKHRoaXMueCksdGhpcy55PU1hdGguY2VpbCh0aGlzLnkpLHRoaXMuej1NYXRoLmNlaWwodGhpcy56KSx0aGlzLnc9TWF0aC5jZWlsKHRoaXMudyksdGhpc31yb3VuZCgpe3JldHVybiB0aGlzLng9TWF0aC5yb3VuZCh0aGlzLngpLHRoaXMueT1NYXRoLnJvdW5kKHRoaXMueSksdGhpcy56PU1hdGgucm91bmQodGhpcy56KSx0aGlzLnc9TWF0aC5yb3VuZCh0aGlzLncpLHRoaXN9cm91bmRUb1plcm8oKXtyZXR1cm4gdGhpcy54PXRoaXMueDwwP01hdGguY2VpbCh0aGlzLngpOk1hdGguZmxvb3IodGhpcy54KSx0aGlzLnk9dGhpcy55PDA/TWF0aC5jZWlsKHRoaXMueSk6TWF0aC5mbG9vcih0aGlzLnkpLHRoaXMuej10aGlzLno8MD9NYXRoLmNlaWwodGhpcy56KTpNYXRoLmZsb29yKHRoaXMueiksdGhpcy53PXRoaXMudzwwP01hdGguY2VpbCh0aGlzLncpOk1hdGguZmxvb3IodGhpcy53KSx0aGlzfW5lZ2F0ZSgpe3JldHVybiB0aGlzLng9LXRoaXMueCx0aGlzLnk9LXRoaXMueSx0aGlzLno9LXRoaXMueix0aGlzLnc9LXRoaXMudyx0aGlzfWRvdCh0KXtyZXR1cm4gdGhpcy54KnQueCt0aGlzLnkqdC55K3RoaXMueip0LnordGhpcy53KnQud31sZW5ndGhTcSgpe3JldHVybiB0aGlzLngqdGhpcy54K3RoaXMueSp0aGlzLnkrdGhpcy56KnRoaXMueit0aGlzLncqdGhpcy53fWxlbmd0aCgpe3JldHVybiBNYXRoLnNxcnQodGhpcy54KnRoaXMueCt0aGlzLnkqdGhpcy55K3RoaXMueip0aGlzLnordGhpcy53KnRoaXMudyl9bWFuaGF0dGFuTGVuZ3RoKCl7cmV0dXJuIE1hdGguYWJzKHRoaXMueCkrTWF0aC5hYnModGhpcy55KStNYXRoLmFicyh0aGlzLnopK01hdGguYWJzKHRoaXMudyl9bm9ybWFsaXplKCl7cmV0dXJuIHRoaXMuZGl2aWRlU2NhbGFyKHRoaXMubGVuZ3RoKCl8fDEpfXNldExlbmd0aCh0KXtyZXR1cm4gdGhpcy5ub3JtYWxpemUoKS5tdWx0aXBseVNjYWxhcih0KX1sZXJwKHQsZSl7cmV0dXJuIHRoaXMueCs9KHQueC10aGlzLngpKmUsdGhpcy55Kz0odC55LXRoaXMueSkqZSx0aGlzLnorPSh0LnotdGhpcy56KSplLHRoaXMudys9KHQudy10aGlzLncpKmUsdGhpc31sZXJwVmVjdG9ycyh0LGUsbil7cmV0dXJuIHRoaXMueD10LngrKGUueC10LngpKm4sdGhpcy55PXQueSsoZS55LXQueSkqbix0aGlzLno9dC56KyhlLnotdC56KSpuLHRoaXMudz10LncrKGUudy10LncpKm4sdGhpc31lcXVhbHModCl7cmV0dXJuIHQueD09PXRoaXMueCYmdC55PT09dGhpcy55JiZ0Lno9PT10aGlzLnomJnQudz09PXRoaXMud31mcm9tQXJyYXkodCxlPTApe3JldHVybiB0aGlzLng9dFtlXSx0aGlzLnk9dFtlKzFdLHRoaXMuej10W2UrMl0sdGhpcy53PXRbZSszXSx0aGlzfXRvQXJyYXkodD1bXSxlPTApe3JldHVybiB0W2VdPXRoaXMueCx0W2UrMV09dGhpcy55LHRbZSsyXT10aGlzLnosdFtlKzNdPXRoaXMudyx0fWZyb21CdWZmZXJBdHRyaWJ1dGUodCxlLG4pe3JldHVybiB2b2lkIDAhPT1uJiZjb25zb2xlLndhcm4oIlRIUkVFLlZlY3RvcjQ6IG9mZnNldCBoYXMgYmVlbiByZW1vdmVkIGZyb20gLmZyb21CdWZmZXJBdHRyaWJ1dGUoKS4iKSx0aGlzLng9dC5nZXRYKGUpLHRoaXMueT10LmdldFkoZSksdGhpcy56PXQuZ2V0WihlKSx0aGlzLnc9dC5nZXRXKGUpLHRoaXN9cmFuZG9tKCl7cmV0dXJuIHRoaXMueD1NYXRoLnJhbmRvbSgpLHRoaXMueT1NYXRoLnJhbmRvbSgpLHRoaXMuej1NYXRoLnJhbmRvbSgpLHRoaXMudz1NYXRoLnJhbmRvbSgpLHRoaXN9fVN0LnByb3RvdHlwZS5pc1ZlY3RvcjQ9ITA7Y2xhc3MgVHQgZXh0ZW5kcyBydHtjb25zdHJ1Y3Rvcih0LGUsbil7c3VwZXIoKSx0aGlzLndpZHRoPXQsdGhpcy5oZWlnaHQ9ZSx0aGlzLmRlcHRoPTEsdGhpcy5zY2lzc29yPW5ldyBTdCgwLDAsdCxlKSx0aGlzLnNjaXNzb3JUZXN0PSExLHRoaXMudmlld3BvcnQ9bmV3IFN0KDAsMCx0LGUpLG49bnx8e30sdGhpcy50ZXh0dXJlPW5ldyBidCh2b2lkIDAsbi5tYXBwaW5nLG4ud3JhcFMsbi53cmFwVCxuLm1hZ0ZpbHRlcixuLm1pbkZpbHRlcixuLmZvcm1hdCxuLnR5cGUsbi5hbmlzb3Ryb3B5LG4uZW5jb2RpbmcpLHRoaXMudGV4dHVyZS5pbWFnZT17fSx0aGlzLnRleHR1cmUuaW1hZ2Uud2lkdGg9dCx0aGlzLnRleHR1cmUuaW1hZ2UuaGVpZ2h0PWUsdGhpcy50ZXh0dXJlLmltYWdlLmRlcHRoPTEsdGhpcy50ZXh0dXJlLmdlbmVyYXRlTWlwbWFwcz12b2lkIDAhPT1uLmdlbmVyYXRlTWlwbWFwcyYmbi5nZW5lcmF0ZU1pcG1hcHMsdGhpcy50ZXh0dXJlLm1pbkZpbHRlcj12b2lkIDAhPT1uLm1pbkZpbHRlcj9uLm1pbkZpbHRlcjpnLHRoaXMuZGVwdGhCdWZmZXI9dm9pZCAwPT09bi5kZXB0aEJ1ZmZlcnx8bi5kZXB0aEJ1ZmZlcix0aGlzLnN0ZW5jaWxCdWZmZXI9dm9pZCAwIT09bi5zdGVuY2lsQnVmZmVyJiZuLnN0ZW5jaWxCdWZmZXIsdGhpcy5kZXB0aFRleHR1cmU9dm9pZCAwIT09bi5kZXB0aFRleHR1cmU/bi5kZXB0aFRleHR1cmU6bnVsbH1zZXRUZXh0dXJlKHQpe3QuaW1hZ2U9e3dpZHRoOnRoaXMud2lkdGgsaGVpZ2h0OnRoaXMuaGVpZ2h0LGRlcHRoOnRoaXMuZGVwdGh9LHRoaXMudGV4dHVyZT10fXNldFNpemUodCxlLG49MSl7dGhpcy53aWR0aD09PXQmJnRoaXMuaGVpZ2h0PT09ZSYmdGhpcy5kZXB0aD09PW58fCh0aGlzLndpZHRoPXQsdGhpcy5oZWlnaHQ9ZSx0aGlzLmRlcHRoPW4sdGhpcy50ZXh0dXJlLmltYWdlLndpZHRoPXQsdGhpcy50ZXh0dXJlLmltYWdlLmhlaWdodD1lLHRoaXMudGV4dHVyZS5pbWFnZS5kZXB0aD1uLHRoaXMuZGlzcG9zZSgpKSx0aGlzLnZpZXdwb3J0LnNldCgwLDAsdCxlKSx0aGlzLnNjaXNzb3Iuc2V0KDAsMCx0LGUpfWNsb25lKCl7cmV0dXJuKG5ldyB0aGlzLmNvbnN0cnVjdG9yKS5jb3B5KHRoaXMpfWNvcHkodCl7cmV0dXJuIHRoaXMud2lkdGg9dC53aWR0aCx0aGlzLmhlaWdodD10LmhlaWdodCx0aGlzLmRlcHRoPXQuZGVwdGgsdGhpcy52aWV3cG9ydC5jb3B5KHQudmlld3BvcnQpLHRoaXMudGV4dHVyZT10LnRleHR1cmUuY2xvbmUoKSx0aGlzLmRlcHRoQnVmZmVyPXQuZGVwdGhCdWZmZXIsdGhpcy5zdGVuY2lsQnVmZmVyPXQuc3RlbmNpbEJ1ZmZlcix0aGlzLmRlcHRoVGV4dHVyZT10LmRlcHRoVGV4dHVyZSx0aGlzfWRpc3Bvc2UoKXt0aGlzLmRpc3BhdGNoRXZlbnQoe3R5cGU6ImRpc3Bvc2UifSl9fVR0LnByb3RvdHlwZS5pc1dlYkdMUmVuZGVyVGFyZ2V0PSEwO2NsYXNzIEV0IGV4dGVuZHMgVHR7Y29uc3RydWN0b3IodCxlLG4pe3N1cGVyKHQsZSxuKSx0aGlzLnNhbXBsZXM9NH1jb3B5KHQpe3JldHVybiBzdXBlci5jb3B5LmNhbGwodGhpcyx0KSx0aGlzLnNhbXBsZXM9dC5zYW1wbGVzLHRoaXN9fUV0LnByb3RvdHlwZS5pc1dlYkdMTXVsdGlzYW1wbGVSZW5kZXJUYXJnZXQ9ITA7Y2xhc3MgQXR7Y29uc3RydWN0b3IodD0wLGU9MCxuPTAsaT0xKXt0aGlzLl94PXQsdGhpcy5feT1lLHRoaXMuX3o9bix0aGlzLl93PWl9c3RhdGljIHNsZXJwKHQsZSxuLGkpe3JldHVybiBjb25zb2xlLndhcm4oIlRIUkVFLlF1YXRlcm5pb246IFN0YXRpYyAuc2xlcnAoKSBoYXMgYmVlbiBkZXByZWNhdGVkLiBVc2UgcW0uc2xlcnBRdWF0ZXJuaW9ucyggcWEsIHFiLCB0ICkgaW5zdGVhZC4iKSxuLnNsZXJwUXVhdGVybmlvbnModCxlLGkpfXN0YXRpYyBzbGVycEZsYXQodCxlLG4saSxyLHMsYSl7bGV0IG89bltpKzBdLGw9bltpKzFdLGM9bltpKzJdLGg9bltpKzNdO2NvbnN0IHU9cltzKzBdLGQ9cltzKzFdLHA9cltzKzJdLG09cltzKzNdO2lmKDA9PT1hKXJldHVybiB0W2UrMF09byx0W2UrMV09bCx0W2UrMl09Yyx2b2lkKHRbZSszXT1oKTtpZigxPT09YSlyZXR1cm4gdFtlKzBdPXUsdFtlKzFdPWQsdFtlKzJdPXAsdm9pZCh0W2UrM109bSk7aWYoaCE9PW18fG8hPT11fHxsIT09ZHx8YyE9PXApe2xldCB0PTEtYTtjb25zdCBlPW8qdStsKmQrYypwK2gqbSxuPWU+PTA/MTotMSxpPTEtZSplO2lmKGk+TnVtYmVyLkVQU0lMT04pe2NvbnN0IHI9TWF0aC5zcXJ0KGkpLHM9TWF0aC5hdGFuMihyLGUqbik7dD1NYXRoLnNpbih0KnMpL3IsYT1NYXRoLnNpbihhKnMpL3J9Y29uc3Qgcj1hKm47aWYobz1vKnQrdSpyLGw9bCp0K2QqcixjPWMqdCtwKnIsaD1oKnQrbSpyLHQ9PT0xLWEpe2NvbnN0IHQ9MS9NYXRoLnNxcnQobypvK2wqbCtjKmMraCpoKTtvKj10LGwqPXQsYyo9dCxoKj10fX10W2VdPW8sdFtlKzFdPWwsdFtlKzJdPWMsdFtlKzNdPWh9c3RhdGljIG11bHRpcGx5UXVhdGVybmlvbnNGbGF0KHQsZSxuLGkscixzKXtjb25zdCBhPW5baV0sbz1uW2krMV0sbD1uW2krMl0sYz1uW2krM10saD1yW3NdLHU9cltzKzFdLGQ9cltzKzJdLHA9cltzKzNdO3JldHVybiB0W2VdPWEqcCtjKmgrbypkLWwqdSx0W2UrMV09bypwK2MqdStsKmgtYSpkLHRbZSsyXT1sKnArYypkK2EqdS1vKmgsdFtlKzNdPWMqcC1hKmgtbyp1LWwqZCx0fWdldCB4KCl7cmV0dXJuIHRoaXMuX3h9c2V0IHgodCl7dGhpcy5feD10LHRoaXMuX29uQ2hhbmdlQ2FsbGJhY2soKX1nZXQgeSgpe3JldHVybiB0aGlzLl95fXNldCB5KHQpe3RoaXMuX3k9dCx0aGlzLl9vbkNoYW5nZUNhbGxiYWNrKCl9Z2V0IHooKXtyZXR1cm4gdGhpcy5fen1zZXQgeih0KXt0aGlzLl96PXQsdGhpcy5fb25DaGFuZ2VDYWxsYmFjaygpfWdldCB3KCl7cmV0dXJuIHRoaXMuX3d9c2V0IHcodCl7dGhpcy5fdz10LHRoaXMuX29uQ2hhbmdlQ2FsbGJhY2soKX1zZXQodCxlLG4saSl7cmV0dXJuIHRoaXMuX3g9dCx0aGlzLl95PWUsdGhpcy5fej1uLHRoaXMuX3c9aSx0aGlzLl9vbkNoYW5nZUNhbGxiYWNrKCksdGhpc31jbG9uZSgpe3JldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3Rvcih0aGlzLl94LHRoaXMuX3ksdGhpcy5feix0aGlzLl93KX1jb3B5KHQpe3JldHVybiB0aGlzLl94PXQueCx0aGlzLl95PXQueSx0aGlzLl96PXQueix0aGlzLl93PXQudyx0aGlzLl9vbkNoYW5nZUNhbGxiYWNrKCksdGhpc31zZXRGcm9tRXVsZXIodCxlKXtpZighdHx8IXQuaXNFdWxlcil0aHJvdyBuZXcgRXJyb3IoIlRIUkVFLlF1YXRlcm5pb246IC5zZXRGcm9tRXVsZXIoKSBub3cgZXhwZWN0cyBhbiBFdWxlciByb3RhdGlvbiByYXRoZXIgdGhhbiBhIFZlY3RvcjMgYW5kIG9yZGVyLiIpO2NvbnN0IG49dC5feCxpPXQuX3kscj10Ll96LHM9dC5fb3JkZXIsYT1NYXRoLmNvcyxvPU1hdGguc2luLGw9YShuLzIpLGM9YShpLzIpLGg9YShyLzIpLHU9byhuLzIpLGQ9byhpLzIpLHA9byhyLzIpO3N3aXRjaChzKXtjYXNlIlhZWiI6dGhpcy5feD11KmMqaCtsKmQqcCx0aGlzLl95PWwqZCpoLXUqYypwLHRoaXMuX3o9bCpjKnArdSpkKmgsdGhpcy5fdz1sKmMqaC11KmQqcDticmVhaztjYXNlIllYWiI6dGhpcy5feD11KmMqaCtsKmQqcCx0aGlzLl95PWwqZCpoLXUqYypwLHRoaXMuX3o9bCpjKnAtdSpkKmgsdGhpcy5fdz1sKmMqaCt1KmQqcDticmVhaztjYXNlIlpYWSI6dGhpcy5feD11KmMqaC1sKmQqcCx0aGlzLl95PWwqZCpoK3UqYypwLHRoaXMuX3o9bCpjKnArdSpkKmgsdGhpcy5fdz1sKmMqaC11KmQqcDticmVhaztjYXNlIlpZWCI6dGhpcy5feD11KmMqaC1sKmQqcCx0aGlzLl95PWwqZCpoK3UqYypwLHRoaXMuX3o9bCpjKnAtdSpkKmgsdGhpcy5fdz1sKmMqaCt1KmQqcDticmVhaztjYXNlIllaWCI6dGhpcy5feD11KmMqaCtsKmQqcCx0aGlzLl95PWwqZCpoK3UqYypwLHRoaXMuX3o9bCpjKnAtdSpkKmgsdGhpcy5fdz1sKmMqaC11KmQqcDticmVhaztjYXNlIlhaWSI6dGhpcy5feD11KmMqaC1sKmQqcCx0aGlzLl95PWwqZCpoLXUqYypwLHRoaXMuX3o9bCpjKnArdSpkKmgsdGhpcy5fdz1sKmMqaCt1KmQqcDticmVhaztkZWZhdWx0OmNvbnNvbGUud2FybigiVEhSRUUuUXVhdGVybmlvbjogLnNldEZyb21FdWxlcigpIGVuY291bnRlcmVkIGFuIHVua25vd24gb3JkZXI6ICIrcyl9cmV0dXJuITEhPT1lJiZ0aGlzLl9vbkNoYW5nZUNhbGxiYWNrKCksdGhpc31zZXRGcm9tQXhpc0FuZ2xlKHQsZSl7Y29uc3Qgbj1lLzIsaT1NYXRoLnNpbihuKTtyZXR1cm4gdGhpcy5feD10LngqaSx0aGlzLl95PXQueSppLHRoaXMuX3o9dC56KmksdGhpcy5fdz1NYXRoLmNvcyhuKSx0aGlzLl9vbkNoYW5nZUNhbGxiYWNrKCksdGhpc31zZXRGcm9tUm90YXRpb25NYXRyaXgodCl7Y29uc3QgZT10LmVsZW1lbnRzLG49ZVswXSxpPWVbNF0scj1lWzhdLHM9ZVsxXSxhPWVbNV0sbz1lWzldLGw9ZVsyXSxjPWVbNl0saD1lWzEwXSx1PW4rYStoO2lmKHU+MCl7Y29uc3QgdD0uNS9NYXRoLnNxcnQodSsxKTt0aGlzLl93PS4yNS90LHRoaXMuX3g9KGMtbykqdCx0aGlzLl95PShyLWwpKnQsdGhpcy5fej0ocy1pKSp0fWVsc2UgaWYobj5hJiZuPmgpe2NvbnN0IHQ9MipNYXRoLnNxcnQoMStuLWEtaCk7dGhpcy5fdz0oYy1vKS90LHRoaXMuX3g9LjI1KnQsdGhpcy5feT0oaStzKS90LHRoaXMuX3o9KHIrbCkvdH1lbHNlIGlmKGE+aCl7Y29uc3QgdD0yKk1hdGguc3FydCgxK2Etbi1oKTt0aGlzLl93PShyLWwpL3QsdGhpcy5feD0oaStzKS90LHRoaXMuX3k9LjI1KnQsdGhpcy5fej0obytjKS90fWVsc2V7Y29uc3QgdD0yKk1hdGguc3FydCgxK2gtbi1hKTt0aGlzLl93PShzLWkpL3QsdGhpcy5feD0ocitsKS90LHRoaXMuX3k9KG8rYykvdCx0aGlzLl96PS4yNSp0fXJldHVybiB0aGlzLl9vbkNoYW5nZUNhbGxiYWNrKCksdGhpc31zZXRGcm9tVW5pdFZlY3RvcnModCxlKXtsZXQgbj10LmRvdChlKSsxO3JldHVybiBuPE51bWJlci5FUFNJTE9OPyhuPTAsTWF0aC5hYnModC54KT5NYXRoLmFicyh0LnopPyh0aGlzLl94PS10LnksdGhpcy5feT10LngsdGhpcy5fej0wLHRoaXMuX3c9bik6KHRoaXMuX3g9MCx0aGlzLl95PS10LnosdGhpcy5fej10LnksdGhpcy5fdz1uKSk6KHRoaXMuX3g9dC55KmUuei10LnoqZS55LHRoaXMuX3k9dC56KmUueC10LngqZS56LHRoaXMuX3o9dC54KmUueS10LnkqZS54LHRoaXMuX3c9biksdGhpcy5ub3JtYWxpemUoKX1hbmdsZVRvKHQpe3JldHVybiAyKk1hdGguYWNvcyhNYXRoLmFicyhodCh0aGlzLmRvdCh0KSwtMSwxKSkpfXJvdGF0ZVRvd2FyZHModCxlKXtjb25zdCBuPXRoaXMuYW5nbGVUbyh0KTtpZigwPT09bilyZXR1cm4gdGhpcztjb25zdCBpPU1hdGgubWluKDEsZS9uKTtyZXR1cm4gdGhpcy5zbGVycCh0LGkpLHRoaXN9aWRlbnRpdHkoKXtyZXR1cm4gdGhpcy5zZXQoMCwwLDAsMSl9aW52ZXJ0KCl7cmV0dXJuIHRoaXMuY29uanVnYXRlKCl9Y29uanVnYXRlKCl7cmV0dXJuIHRoaXMuX3gqPS0xLHRoaXMuX3kqPS0xLHRoaXMuX3oqPS0xLHRoaXMuX29uQ2hhbmdlQ2FsbGJhY2soKSx0aGlzfWRvdCh0KXtyZXR1cm4gdGhpcy5feCp0Ll94K3RoaXMuX3kqdC5feSt0aGlzLl96KnQuX3ordGhpcy5fdyp0Ll93fWxlbmd0aFNxKCl7cmV0dXJuIHRoaXMuX3gqdGhpcy5feCt0aGlzLl95KnRoaXMuX3krdGhpcy5feip0aGlzLl96K3RoaXMuX3cqdGhpcy5fd31sZW5ndGgoKXtyZXR1cm4gTWF0aC5zcXJ0KHRoaXMuX3gqdGhpcy5feCt0aGlzLl95KnRoaXMuX3krdGhpcy5feip0aGlzLl96K3RoaXMuX3cqdGhpcy5fdyl9bm9ybWFsaXplKCl7bGV0IHQ9dGhpcy5sZW5ndGgoKTtyZXR1cm4gMD09PXQ/KHRoaXMuX3g9MCx0aGlzLl95PTAsdGhpcy5fej0wLHRoaXMuX3c9MSk6KHQ9MS90LHRoaXMuX3g9dGhpcy5feCp0LHRoaXMuX3k9dGhpcy5feSp0LHRoaXMuX3o9dGhpcy5feip0LHRoaXMuX3c9dGhpcy5fdyp0KSx0aGlzLl9vbkNoYW5nZUNhbGxiYWNrKCksdGhpc31tdWx0aXBseSh0LGUpe3JldHVybiB2b2lkIDAhPT1lPyhjb25zb2xlLndhcm4oIlRIUkVFLlF1YXRlcm5pb246IC5tdWx0aXBseSgpIG5vdyBvbmx5IGFjY2VwdHMgb25lIGFyZ3VtZW50LiBVc2UgLm11bHRpcGx5UXVhdGVybmlvbnMoIGEsIGIgKSBpbnN0ZWFkLiIpLHRoaXMubXVsdGlwbHlRdWF0ZXJuaW9ucyh0LGUpKTp0aGlzLm11bHRpcGx5UXVhdGVybmlvbnModGhpcyx0KX1wcmVtdWx0aXBseSh0KXtyZXR1cm4gdGhpcy5tdWx0aXBseVF1YXRlcm5pb25zKHQsdGhpcyl9bXVsdGlwbHlRdWF0ZXJuaW9ucyh0LGUpe2NvbnN0IG49dC5feCxpPXQuX3kscj10Ll96LHM9dC5fdyxhPWUuX3gsbz1lLl95LGw9ZS5feixjPWUuX3c7cmV0dXJuIHRoaXMuX3g9bipjK3MqYStpKmwtcipvLHRoaXMuX3k9aSpjK3MqbytyKmEtbipsLHRoaXMuX3o9cipjK3MqbCtuKm8taSphLHRoaXMuX3c9cypjLW4qYS1pKm8tcipsLHRoaXMuX29uQ2hhbmdlQ2FsbGJhY2soKSx0aGlzfXNsZXJwKHQsZSl7aWYoMD09PWUpcmV0dXJuIHRoaXM7aWYoMT09PWUpcmV0dXJuIHRoaXMuY29weSh0KTtjb25zdCBuPXRoaXMuX3gsaT10aGlzLl95LHI9dGhpcy5feixzPXRoaXMuX3c7bGV0IGE9cyp0Ll93K24qdC5feCtpKnQuX3krcip0Ll96O2lmKGE8MD8odGhpcy5fdz0tdC5fdyx0aGlzLl94PS10Ll94LHRoaXMuX3k9LXQuX3ksdGhpcy5fej0tdC5feixhPS1hKTp0aGlzLmNvcHkodCksYT49MSlyZXR1cm4gdGhpcy5fdz1zLHRoaXMuX3g9bix0aGlzLl95PWksdGhpcy5fej1yLHRoaXM7Y29uc3Qgbz0xLWEqYTtpZihvPD1OdW1iZXIuRVBTSUxPTil7Y29uc3QgdD0xLWU7cmV0dXJuIHRoaXMuX3c9dCpzK2UqdGhpcy5fdyx0aGlzLl94PXQqbitlKnRoaXMuX3gsdGhpcy5feT10KmkrZSp0aGlzLl95LHRoaXMuX3o9dCpyK2UqdGhpcy5feix0aGlzLm5vcm1hbGl6ZSgpLHRoaXMuX29uQ2hhbmdlQ2FsbGJhY2soKSx0aGlzfWNvbnN0IGw9TWF0aC5zcXJ0KG8pLGM9TWF0aC5hdGFuMihsLGEpLGg9TWF0aC5zaW4oKDEtZSkqYykvbCx1PU1hdGguc2luKGUqYykvbDtyZXR1cm4gdGhpcy5fdz1zKmgrdGhpcy5fdyp1LHRoaXMuX3g9bipoK3RoaXMuX3gqdSx0aGlzLl95PWkqaCt0aGlzLl95KnUsdGhpcy5fej1yKmgrdGhpcy5feip1LHRoaXMuX29uQ2hhbmdlQ2FsbGJhY2soKSx0aGlzfXNsZXJwUXVhdGVybmlvbnModCxlLG4pe3RoaXMuY29weSh0KS5zbGVycChlLG4pfWVxdWFscyh0KXtyZXR1cm4gdC5feD09PXRoaXMuX3gmJnQuX3k9PT10aGlzLl95JiZ0Ll96PT09dGhpcy5feiYmdC5fdz09PXRoaXMuX3d9ZnJvbUFycmF5KHQsZT0wKXtyZXR1cm4gdGhpcy5feD10W2VdLHRoaXMuX3k9dFtlKzFdLHRoaXMuX3o9dFtlKzJdLHRoaXMuX3c9dFtlKzNdLHRoaXMuX29uQ2hhbmdlQ2FsbGJhY2soKSx0aGlzfXRvQXJyYXkodD1bXSxlPTApe3JldHVybiB0W2VdPXRoaXMuX3gsdFtlKzFdPXRoaXMuX3ksdFtlKzJdPXRoaXMuX3osdFtlKzNdPXRoaXMuX3csdH1mcm9tQnVmZmVyQXR0cmlidXRlKHQsZSl7cmV0dXJuIHRoaXMuX3g9dC5nZXRYKGUpLHRoaXMuX3k9dC5nZXRZKGUpLHRoaXMuX3o9dC5nZXRaKGUpLHRoaXMuX3c9dC5nZXRXKGUpLHRoaXN9X29uQ2hhbmdlKHQpe3JldHVybiB0aGlzLl9vbkNoYW5nZUNhbGxiYWNrPXQsdGhpc31fb25DaGFuZ2VDYWxsYmFjaygpe319QXQucHJvdG90eXBlLmlzUXVhdGVybmlvbj0hMDtjbGFzcyBMdHtjb25zdHJ1Y3Rvcih0PTAsZT0wLG49MCl7dGhpcy54PXQsdGhpcy55PWUsdGhpcy56PW59c2V0KHQsZSxuKXtyZXR1cm4gdm9pZCAwPT09biYmKG49dGhpcy56KSx0aGlzLng9dCx0aGlzLnk9ZSx0aGlzLno9bix0aGlzfXNldFNjYWxhcih0KXtyZXR1cm4gdGhpcy54PXQsdGhpcy55PXQsdGhpcy56PXQsdGhpc31zZXRYKHQpe3JldHVybiB0aGlzLng9dCx0aGlzfXNldFkodCl7cmV0dXJuIHRoaXMueT10LHRoaXN9c2V0Wih0KXtyZXR1cm4gdGhpcy56PXQsdGhpc31zZXRDb21wb25lbnQodCxlKXtzd2l0Y2godCl7Y2FzZSAwOnRoaXMueD1lO2JyZWFrO2Nhc2UgMTp0aGlzLnk9ZTticmVhaztjYXNlIDI6dGhpcy56PWU7YnJlYWs7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoImluZGV4IGlzIG91dCBvZiByYW5nZTogIit0KX1yZXR1cm4gdGhpc31nZXRDb21wb25lbnQodCl7c3dpdGNoKHQpe2Nhc2UgMDpyZXR1cm4gdGhpcy54O2Nhc2UgMTpyZXR1cm4gdGhpcy55O2Nhc2UgMjpyZXR1cm4gdGhpcy56O2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKCJpbmRleCBpcyBvdXQgb2YgcmFuZ2U6ICIrdCl9fWNsb25lKCl7cmV0dXJuIG5ldyB0aGlzLmNvbnN0cnVjdG9yKHRoaXMueCx0aGlzLnksdGhpcy56KX1jb3B5KHQpe3JldHVybiB0aGlzLng9dC54LHRoaXMueT10LnksdGhpcy56PXQueix0aGlzfWFkZCh0LGUpe3JldHVybiB2b2lkIDAhPT1lPyhjb25zb2xlLndhcm4oIlRIUkVFLlZlY3RvcjM6IC5hZGQoKSBub3cgb25seSBhY2NlcHRzIG9uZSBhcmd1bWVudC4gVXNlIC5hZGRWZWN0b3JzKCBhLCBiICkgaW5zdGVhZC4iKSx0aGlzLmFkZFZlY3RvcnModCxlKSk6KHRoaXMueCs9dC54LHRoaXMueSs9dC55LHRoaXMueis9dC56LHRoaXMpfWFkZFNjYWxhcih0KXtyZXR1cm4gdGhpcy54Kz10LHRoaXMueSs9dCx0aGlzLnorPXQsdGhpc31hZGRWZWN0b3JzKHQsZSl7cmV0dXJuIHRoaXMueD10LngrZS54LHRoaXMueT10LnkrZS55LHRoaXMuej10LnorZS56LHRoaXN9YWRkU2NhbGVkVmVjdG9yKHQsZSl7cmV0dXJuIHRoaXMueCs9dC54KmUsdGhpcy55Kz10LnkqZSx0aGlzLnorPXQueiplLHRoaXN9c3ViKHQsZSl7cmV0dXJuIHZvaWQgMCE9PWU/KGNvbnNvbGUud2FybigiVEhSRUUuVmVjdG9yMzogLnN1YigpIG5vdyBvbmx5IGFjY2VwdHMgb25lIGFyZ3VtZW50LiBVc2UgLnN1YlZlY3RvcnMoIGEsIGIgKSBpbnN0ZWFkLiIpLHRoaXMuc3ViVmVjdG9ycyh0LGUpKToodGhpcy54LT10LngsdGhpcy55LT10LnksdGhpcy56LT10LnosdGhpcyl9c3ViU2NhbGFyKHQpe3JldHVybiB0aGlzLngtPXQsdGhpcy55LT10LHRoaXMuei09dCx0aGlzfXN1YlZlY3RvcnModCxlKXtyZXR1cm4gdGhpcy54PXQueC1lLngsdGhpcy55PXQueS1lLnksdGhpcy56PXQuei1lLnosdGhpc31tdWx0aXBseSh0LGUpe3JldHVybiB2b2lkIDAhPT1lPyhjb25zb2xlLndhcm4oIlRIUkVFLlZlY3RvcjM6IC5tdWx0aXBseSgpIG5vdyBvbmx5IGFjY2VwdHMgb25lIGFyZ3VtZW50LiBVc2UgLm11bHRpcGx5VmVjdG9ycyggYSwgYiApIGluc3RlYWQuIiksdGhpcy5tdWx0aXBseVZlY3RvcnModCxlKSk6KHRoaXMueCo9dC54LHRoaXMueSo9dC55LHRoaXMueio9dC56LHRoaXMpfW11bHRpcGx5U2NhbGFyKHQpe3JldHVybiB0aGlzLngqPXQsdGhpcy55Kj10LHRoaXMueio9dCx0aGlzfW11bHRpcGx5VmVjdG9ycyh0LGUpe3JldHVybiB0aGlzLng9dC54KmUueCx0aGlzLnk9dC55KmUueSx0aGlzLno9dC56KmUueix0aGlzfWFwcGx5RXVsZXIodCl7cmV0dXJuIHQmJnQuaXNFdWxlcnx8Y29uc29sZS5lcnJvcigiVEhSRUUuVmVjdG9yMzogLmFwcGx5RXVsZXIoKSBub3cgZXhwZWN0cyBhbiBFdWxlciByb3RhdGlvbiByYXRoZXIgdGhhbiBhIFZlY3RvcjMgYW5kIG9yZGVyLiIpLHRoaXMuYXBwbHlRdWF0ZXJuaW9uKEN0LnNldEZyb21FdWxlcih0KSl9YXBwbHlBeGlzQW5nbGUodCxlKXtyZXR1cm4gdGhpcy5hcHBseVF1YXRlcm5pb24oQ3Quc2V0RnJvbUF4aXNBbmdsZSh0LGUpKX1hcHBseU1hdHJpeDModCl7Y29uc3QgZT10aGlzLngsbj10aGlzLnksaT10aGlzLnoscj10LmVsZW1lbnRzO3JldHVybiB0aGlzLng9clswXSplK3JbM10qbityWzZdKmksdGhpcy55PXJbMV0qZStyWzRdKm4rcls3XSppLHRoaXMuej1yWzJdKmUrcls1XSpuK3JbOF0qaSx0aGlzfWFwcGx5Tm9ybWFsTWF0cml4KHQpe3JldHVybiB0aGlzLmFwcGx5TWF0cml4Myh0KS5ub3JtYWxpemUoKX1hcHBseU1hdHJpeDQodCl7Y29uc3QgZT10aGlzLngsbj10aGlzLnksaT10aGlzLnoscj10LmVsZW1lbnRzLHM9MS8oclszXSplK3JbN10qbityWzExXSppK3JbMTVdKTtyZXR1cm4gdGhpcy54PShyWzBdKmUrcls0XSpuK3JbOF0qaStyWzEyXSkqcyx0aGlzLnk9KHJbMV0qZStyWzVdKm4rcls5XSppK3JbMTNdKSpzLHRoaXMuej0oclsyXSplK3JbNl0qbityWzEwXSppK3JbMTRdKSpzLHRoaXN9YXBwbHlRdWF0ZXJuaW9uKHQpe2NvbnN0IGU9dGhpcy54LG49dGhpcy55LGk9dGhpcy56LHI9dC54LHM9dC55LGE9dC56LG89dC53LGw9byplK3MqaS1hKm4sYz1vKm4rYSplLXIqaSxoPW8qaStyKm4tcyplLHU9LXIqZS1zKm4tYSppO3JldHVybiB0aGlzLng9bCpvK3UqLXIrYyotYS1oKi1zLHRoaXMueT1jKm8rdSotcytoKi1yLWwqLWEsdGhpcy56PWgqbyt1Ki1hK2wqLXMtYyotcix0aGlzfXByb2plY3QodCl7cmV0dXJuIHRoaXMuYXBwbHlNYXRyaXg0KHQubWF0cml4V29ybGRJbnZlcnNlKS5hcHBseU1hdHJpeDQodC5wcm9qZWN0aW9uTWF0cml4KX11bnByb2plY3QodCl7cmV0dXJuIHRoaXMuYXBwbHlNYXRyaXg0KHQucHJvamVjdGlvbk1hdHJpeEludmVyc2UpLmFwcGx5TWF0cml4NCh0Lm1hdHJpeFdvcmxkKX10cmFuc2Zvcm1EaXJlY3Rpb24odCl7Y29uc3QgZT10aGlzLngsbj10aGlzLnksaT10aGlzLnoscj10LmVsZW1lbnRzO3JldHVybiB0aGlzLng9clswXSplK3JbNF0qbityWzhdKmksdGhpcy55PXJbMV0qZStyWzVdKm4rcls5XSppLHRoaXMuej1yWzJdKmUrcls2XSpuK3JbMTBdKmksdGhpcy5ub3JtYWxpemUoKX1kaXZpZGUodCl7cmV0dXJuIHRoaXMueC89dC54LHRoaXMueS89dC55LHRoaXMuei89dC56LHRoaXN9ZGl2aWRlU2NhbGFyKHQpe3JldHVybiB0aGlzLm11bHRpcGx5U2NhbGFyKDEvdCl9bWluKHQpe3JldHVybiB0aGlzLng9TWF0aC5taW4odGhpcy54LHQueCksdGhpcy55PU1hdGgubWluKHRoaXMueSx0LnkpLHRoaXMuej1NYXRoLm1pbih0aGlzLnosdC56KSx0aGlzfW1heCh0KXtyZXR1cm4gdGhpcy54PU1hdGgubWF4KHRoaXMueCx0LngpLHRoaXMueT1NYXRoLm1heCh0aGlzLnksdC55KSx0aGlzLno9TWF0aC5tYXgodGhpcy56LHQueiksdGhpc31jbGFtcCh0LGUpe3JldHVybiB0aGlzLng9TWF0aC5tYXgodC54LE1hdGgubWluKGUueCx0aGlzLngpKSx0aGlzLnk9TWF0aC5tYXgodC55LE1hdGgubWluKGUueSx0aGlzLnkpKSx0aGlzLno9TWF0aC5tYXgodC56LE1hdGgubWluKGUueix0aGlzLnopKSx0aGlzfWNsYW1wU2NhbGFyKHQsZSl7cmV0dXJuIHRoaXMueD1NYXRoLm1heCh0LE1hdGgubWluKGUsdGhpcy54KSksdGhpcy55PU1hdGgubWF4KHQsTWF0aC5taW4oZSx0aGlzLnkpKSx0aGlzLno9TWF0aC5tYXgodCxNYXRoLm1pbihlLHRoaXMueikpLHRoaXN9Y2xhbXBMZW5ndGgodCxlKXtjb25zdCBuPXRoaXMubGVuZ3RoKCk7cmV0dXJuIHRoaXMuZGl2aWRlU2NhbGFyKG58fDEpLm11bHRpcGx5U2NhbGFyKE1hdGgubWF4KHQsTWF0aC5taW4oZSxuKSkpfWZsb29yKCl7cmV0dXJuIHRoaXMueD1NYXRoLmZsb29yKHRoaXMueCksdGhpcy55PU1hdGguZmxvb3IodGhpcy55KSx0aGlzLno9TWF0aC5mbG9vcih0aGlzLnopLHRoaXN9Y2VpbCgpe3JldHVybiB0aGlzLng9TWF0aC5jZWlsKHRoaXMueCksdGhpcy55PU1hdGguY2VpbCh0aGlzLnkpLHRoaXMuej1NYXRoLmNlaWwodGhpcy56KSx0aGlzfXJvdW5kKCl7cmV0dXJuIHRoaXMueD1NYXRoLnJvdW5kKHRoaXMueCksdGhpcy55PU1hdGgucm91bmQodGhpcy55KSx0aGlzLno9TWF0aC5yb3VuZCh0aGlzLnopLHRoaXN9cm91bmRUb1plcm8oKXtyZXR1cm4gdGhpcy54PXRoaXMueDwwP01hdGguY2VpbCh0aGlzLngpOk1hdGguZmxvb3IodGhpcy54KSx0aGlzLnk9dGhpcy55PDA/TWF0aC5jZWlsKHRoaXMueSk6TWF0aC5mbG9vcih0aGlzLnkpLHRoaXMuej10aGlzLno8MD9NYXRoLmNlaWwodGhpcy56KTpNYXRoLmZsb29yKHRoaXMueiksdGhpc31uZWdhdGUoKXtyZXR1cm4gdGhpcy54PS10aGlzLngsdGhpcy55PS10aGlzLnksdGhpcy56PS10aGlzLnosdGhpc31kb3QodCl7cmV0dXJuIHRoaXMueCp0LngrdGhpcy55KnQueSt0aGlzLnoqdC56fWxlbmd0aFNxKCl7cmV0dXJuIHRoaXMueCp0aGlzLngrdGhpcy55KnRoaXMueSt0aGlzLnoqdGhpcy56fWxlbmd0aCgpe3JldHVybiBNYXRoLnNxcnQodGhpcy54KnRoaXMueCt0aGlzLnkqdGhpcy55K3RoaXMueip0aGlzLnopfW1hbmhhdHRhbkxlbmd0aCgpe3JldHVybiBNYXRoLmFicyh0aGlzLngpK01hdGguYWJzKHRoaXMueSkrTWF0aC5hYnModGhpcy56KX1ub3JtYWxpemUoKXtyZXR1cm4gdGhpcy5kaXZpZGVTY2FsYXIodGhpcy5sZW5ndGgoKXx8MSl9c2V0TGVuZ3RoKHQpe3JldHVybiB0aGlzLm5vcm1hbGl6ZSgpLm11bHRpcGx5U2NhbGFyKHQpfWxlcnAodCxlKXtyZXR1cm4gdGhpcy54Kz0odC54LXRoaXMueCkqZSx0aGlzLnkrPSh0LnktdGhpcy55KSplLHRoaXMueis9KHQuei10aGlzLnopKmUsdGhpc31sZXJwVmVjdG9ycyh0LGUsbil7cmV0dXJuIHRoaXMueD10LngrKGUueC10LngpKm4sdGhpcy55PXQueSsoZS55LXQueSkqbix0aGlzLno9dC56KyhlLnotdC56KSpuLHRoaXN9Y3Jvc3ModCxlKXtyZXR1cm4gdm9pZCAwIT09ZT8oY29uc29sZS53YXJuKCJUSFJFRS5WZWN0b3IzOiAuY3Jvc3MoKSBub3cgb25seSBhY2NlcHRzIG9uZSBhcmd1bWVudC4gVXNlIC5jcm9zc1ZlY3RvcnMoIGEsIGIgKSBpbnN0ZWFkLiIpLHRoaXMuY3Jvc3NWZWN0b3JzKHQsZSkpOnRoaXMuY3Jvc3NWZWN0b3JzKHRoaXMsdCl9Y3Jvc3NWZWN0b3JzKHQsZSl7Y29uc3Qgbj10LngsaT10Lnkscj10Lnoscz1lLngsYT1lLnksbz1lLno7cmV0dXJuIHRoaXMueD1pKm8tciphLHRoaXMueT1yKnMtbipvLHRoaXMuej1uKmEtaSpzLHRoaXN9cHJvamVjdE9uVmVjdG9yKHQpe2NvbnN0IGU9dC5sZW5ndGhTcSgpO2lmKDA9PT1lKXJldHVybiB0aGlzLnNldCgwLDAsMCk7Y29uc3Qgbj10LmRvdCh0aGlzKS9lO3JldHVybiB0aGlzLmNvcHkodCkubXVsdGlwbHlTY2FsYXIobil9cHJvamVjdE9uUGxhbmUodCl7cmV0dXJuIFJ0LmNvcHkodGhpcykucHJvamVjdE9uVmVjdG9yKHQpLHRoaXMuc3ViKFJ0KX1yZWZsZWN0KHQpe3JldHVybiB0aGlzLnN1YihSdC5jb3B5KHQpLm11bHRpcGx5U2NhbGFyKDIqdGhpcy5kb3QodCkpKX1hbmdsZVRvKHQpe2NvbnN0IGU9TWF0aC5zcXJ0KHRoaXMubGVuZ3RoU3EoKSp0Lmxlbmd0aFNxKCkpO2lmKDA9PT1lKXJldHVybiBNYXRoLlBJLzI7Y29uc3Qgbj10aGlzLmRvdCh0KS9lO3JldHVybiBNYXRoLmFjb3MoaHQobiwtMSwxKSl9ZGlzdGFuY2VUbyh0KXtyZXR1cm4gTWF0aC5zcXJ0KHRoaXMuZGlzdGFuY2VUb1NxdWFyZWQodCkpfWRpc3RhbmNlVG9TcXVhcmVkKHQpe2NvbnN0IGU9dGhpcy54LXQueCxuPXRoaXMueS10LnksaT10aGlzLnotdC56O3JldHVybiBlKmUrbipuK2kqaX1tYW5oYXR0YW5EaXN0YW5jZVRvKHQpe3JldHVybiBNYXRoLmFicyh0aGlzLngtdC54KStNYXRoLmFicyh0aGlzLnktdC55KStNYXRoLmFicyh0aGlzLnotdC56KX1zZXRGcm9tU3BoZXJpY2FsKHQpe3JldHVybiB0aGlzLnNldEZyb21TcGhlcmljYWxDb29yZHModC5yYWRpdXMsdC5waGksdC50aGV0YSl9c2V0RnJvbVNwaGVyaWNhbENvb3Jkcyh0LGUsbil7Y29uc3QgaT1NYXRoLnNpbihlKSp0O3JldHVybiB0aGlzLng9aSpNYXRoLnNpbihuKSx0aGlzLnk9TWF0aC5jb3MoZSkqdCx0aGlzLno9aSpNYXRoLmNvcyhuKSx0aGlzfXNldEZyb21DeWxpbmRyaWNhbCh0KXtyZXR1cm4gdGhpcy5zZXRGcm9tQ3lsaW5kcmljYWxDb29yZHModC5yYWRpdXMsdC50aGV0YSx0LnkpfXNldEZyb21DeWxpbmRyaWNhbENvb3Jkcyh0LGUsbil7cmV0dXJuIHRoaXMueD10Kk1hdGguc2luKGUpLHRoaXMueT1uLHRoaXMuej10Kk1hdGguY29zKGUpLHRoaXN9c2V0RnJvbU1hdHJpeFBvc2l0aW9uKHQpe2NvbnN0IGU9dC5lbGVtZW50cztyZXR1cm4gdGhpcy54PWVbMTJdLHRoaXMueT1lWzEzXSx0aGlzLno9ZVsxNF0sdGhpc31zZXRGcm9tTWF0cml4U2NhbGUodCl7Y29uc3QgZT10aGlzLnNldEZyb21NYXRyaXhDb2x1bW4odCwwKS5sZW5ndGgoKSxuPXRoaXMuc2V0RnJvbU1hdHJpeENvbHVtbih0LDEpLmxlbmd0aCgpLGk9dGhpcy5zZXRGcm9tTWF0cml4Q29sdW1uKHQsMikubGVuZ3RoKCk7cmV0dXJuIHRoaXMueD1lLHRoaXMueT1uLHRoaXMuej1pLHRoaXN9c2V0RnJvbU1hdHJpeENvbHVtbih0LGUpe3JldHVybiB0aGlzLmZyb21BcnJheSh0LmVsZW1lbnRzLDQqZSl9c2V0RnJvbU1hdHJpeDNDb2x1bW4odCxlKXtyZXR1cm4gdGhpcy5mcm9tQXJyYXkodC5lbGVtZW50cywzKmUpfWVxdWFscyh0KXtyZXR1cm4gdC54PT09dGhpcy54JiZ0Lnk9PT10aGlzLnkmJnQuej09PXRoaXMuen1mcm9tQXJyYXkodCxlPTApe3JldHVybiB0aGlzLng9dFtlXSx0aGlzLnk9dFtlKzFdLHRoaXMuej10W2UrMl0sdGhpc310b0FycmF5KHQ9W10sZT0wKXtyZXR1cm4gdFtlXT10aGlzLngsdFtlKzFdPXRoaXMueSx0W2UrMl09dGhpcy56LHR9ZnJvbUJ1ZmZlckF0dHJpYnV0ZSh0LGUsbil7cmV0dXJuIHZvaWQgMCE9PW4mJmNvbnNvbGUud2FybigiVEhSRUUuVmVjdG9yMzogb2Zmc2V0IGhhcyBiZWVuIHJlbW92ZWQgZnJvbSAuZnJvbUJ1ZmZlckF0dHJpYnV0ZSgpLiIpLHRoaXMueD10LmdldFgoZSksdGhpcy55PXQuZ2V0WShlKSx0aGlzLno9dC5nZXRaKGUpLHRoaXN9cmFuZG9tKCl7cmV0dXJuIHRoaXMueD1NYXRoLnJhbmRvbSgpLHRoaXMueT1NYXRoLnJhbmRvbSgpLHRoaXMuej1NYXRoLnJhbmRvbSgpLHRoaXN9fUx0LnByb3RvdHlwZS5pc1ZlY3RvcjM9ITA7Y29uc3QgUnQ9bmV3IEx0LEN0PW5ldyBBdDtjbGFzcyBQdHtjb25zdHJ1Y3Rvcih0PW5ldyBMdCgxLzAsMS8wLDEvMCksZT1uZXcgTHQoLTEvMCwtMS8wLC0xLzApKXt0aGlzLm1pbj10LHRoaXMubWF4PWV9c2V0KHQsZSl7cmV0dXJuIHRoaXMubWluLmNvcHkodCksdGhpcy5tYXguY29weShlKSx0aGlzfXNldEZyb21BcnJheSh0KXtsZXQgZT0xLzAsbj0xLzAsaT0xLzAscj0tMS8wLHM9LTEvMCxhPS0xLzA7Zm9yKGxldCBvPTAsbD10Lmxlbmd0aDtvPGw7bys9Myl7Y29uc3QgbD10W29dLGM9dFtvKzFdLGg9dFtvKzJdO2w8ZSYmKGU9bCksYzxuJiYobj1jKSxoPGkmJihpPWgpLGw+ciYmKHI9bCksYz5zJiYocz1jKSxoPmEmJihhPWgpfXJldHVybiB0aGlzLm1pbi5zZXQoZSxuLGkpLHRoaXMubWF4LnNldChyLHMsYSksdGhpc31zZXRGcm9tQnVmZmVyQXR0cmlidXRlKHQpe2xldCBlPTEvMCxuPTEvMCxpPTEvMCxyPS0xLzAscz0tMS8wLGE9LTEvMDtmb3IobGV0IG89MCxsPXQuY291bnQ7bzxsO28rKyl7Y29uc3QgbD10LmdldFgobyksYz10LmdldFkobyksaD10LmdldFoobyk7bDxlJiYoZT1sKSxjPG4mJihuPWMpLGg8aSYmKGk9aCksbD5yJiYocj1sKSxjPnMmJihzPWMpLGg+YSYmKGE9aCl9cmV0dXJuIHRoaXMubWluLnNldChlLG4saSksdGhpcy5tYXguc2V0KHIscyxhKSx0aGlzfXNldEZyb21Qb2ludHModCl7dGhpcy5tYWtlRW1wdHkoKTtmb3IobGV0IGU9MCxuPXQubGVuZ3RoO2U8bjtlKyspdGhpcy5leHBhbmRCeVBvaW50KHRbZV0pO3JldHVybiB0aGlzfXNldEZyb21DZW50ZXJBbmRTaXplKHQsZSl7Y29uc3Qgbj1JdC5jb3B5KGUpLm11bHRpcGx5U2NhbGFyKC41KTtyZXR1cm4gdGhpcy5taW4uY29weSh0KS5zdWIobiksdGhpcy5tYXguY29weSh0KS5hZGQobiksdGhpc31zZXRGcm9tT2JqZWN0KHQpe3JldHVybiB0aGlzLm1ha2VFbXB0eSgpLHRoaXMuZXhwYW5kQnlPYmplY3QodCl9Y2xvbmUoKXtyZXR1cm4obmV3IHRoaXMuY29uc3RydWN0b3IpLmNvcHkodGhpcyl9Y29weSh0KXtyZXR1cm4gdGhpcy5taW4uY29weSh0Lm1pbiksdGhpcy5tYXguY29weSh0Lm1heCksdGhpc31tYWtlRW1wdHkoKXtyZXR1cm4gdGhpcy5taW4ueD10aGlzLm1pbi55PXRoaXMubWluLno9MS8wLHRoaXMubWF4Lng9dGhpcy5tYXgueT10aGlzLm1heC56PS0xLzAsdGhpc31pc0VtcHR5KCl7cmV0dXJuIHRoaXMubWF4Lng8dGhpcy5taW4ueHx8dGhpcy5tYXgueTx0aGlzLm1pbi55fHx0aGlzLm1heC56PHRoaXMubWluLnp9Z2V0Q2VudGVyKHQpe3JldHVybiB2b2lkIDA9PT10JiYoY29uc29sZS53YXJuKCJUSFJFRS5Cb3gzOiAuZ2V0Q2VudGVyKCkgdGFyZ2V0IGlzIG5vdyByZXF1aXJlZCIpLHQ9bmV3IEx0KSx0aGlzLmlzRW1wdHkoKT90LnNldCgwLDAsMCk6dC5hZGRWZWN0b3JzKHRoaXMubWluLHRoaXMubWF4KS5tdWx0aXBseVNjYWxhciguNSl9Z2V0U2l6ZSh0KXtyZXR1cm4gdm9pZCAwPT09dCYmKGNvbnNvbGUud2FybigiVEhSRUUuQm94MzogLmdldFNpemUoKSB0YXJnZXQgaXMgbm93IHJlcXVpcmVkIiksdD1uZXcgTHQpLHRoaXMuaXNFbXB0eSgpP3Quc2V0KDAsMCwwKTp0LnN1YlZlY3RvcnModGhpcy5tYXgsdGhpcy5taW4pfWV4cGFuZEJ5UG9pbnQodCl7cmV0dXJuIHRoaXMubWluLm1pbih0KSx0aGlzLm1heC5tYXgodCksdGhpc31leHBhbmRCeVZlY3Rvcih0KXtyZXR1cm4gdGhpcy5taW4uc3ViKHQpLHRoaXMubWF4LmFkZCh0KSx0aGlzfWV4cGFuZEJ5U2NhbGFyKHQpe3JldHVybiB0aGlzLm1pbi5hZGRTY2FsYXIoLXQpLHRoaXMubWF4LmFkZFNjYWxhcih0KSx0aGlzfWV4cGFuZEJ5T2JqZWN0KHQpe3QudXBkYXRlV29ybGRNYXRyaXgoITEsITEpO2NvbnN0IGU9dC5nZW9tZXRyeTt2b2lkIDAhPT1lJiYobnVsbD09PWUuYm91bmRpbmdCb3gmJmUuY29tcHV0ZUJvdW5kaW5nQm94KCksTnQuY29weShlLmJvdW5kaW5nQm94KSxOdC5hcHBseU1hdHJpeDQodC5tYXRyaXhXb3JsZCksdGhpcy51bmlvbihOdCkpO2NvbnN0IG49dC5jaGlsZHJlbjtmb3IobGV0IHQ9MCxlPW4ubGVuZ3RoO3Q8ZTt0KyspdGhpcy5leHBhbmRCeU9iamVjdChuW3RdKTtyZXR1cm4gdGhpc31jb250YWluc1BvaW50KHQpe3JldHVybiEodC54PHRoaXMubWluLnh8fHQueD50aGlzLm1heC54fHx0Lnk8dGhpcy5taW4ueXx8dC55PnRoaXMubWF4Lnl8fHQuejx0aGlzLm1pbi56fHx0Lno+dGhpcy5tYXgueil9Y29udGFpbnNCb3godCl7cmV0dXJuIHRoaXMubWluLng8PXQubWluLngmJnQubWF4Lng8PXRoaXMubWF4LngmJnRoaXMubWluLnk8PXQubWluLnkmJnQubWF4Lnk8PXRoaXMubWF4LnkmJnRoaXMubWluLno8PXQubWluLnomJnQubWF4Lno8PXRoaXMubWF4Lnp9Z2V0UGFyYW1ldGVyKHQsZSl7cmV0dXJuIHZvaWQgMD09PWUmJihjb25zb2xlLndhcm4oIlRIUkVFLkJveDM6IC5nZXRQYXJhbWV0ZXIoKSB0YXJnZXQgaXMgbm93IHJlcXVpcmVkIiksZT1uZXcgTHQpLGUuc2V0KCh0LngtdGhpcy5taW4ueCkvKHRoaXMubWF4LngtdGhpcy5taW4ueCksKHQueS10aGlzLm1pbi55KS8odGhpcy5tYXgueS10aGlzLm1pbi55KSwodC56LXRoaXMubWluLnopLyh0aGlzLm1heC56LXRoaXMubWluLnopKX1pbnRlcnNlY3RzQm94KHQpe3JldHVybiEodC5tYXgueDx0aGlzLm1pbi54fHx0Lm1pbi54PnRoaXMubWF4Lnh8fHQubWF4Lnk8dGhpcy5taW4ueXx8dC5taW4ueT50aGlzLm1heC55fHx0Lm1heC56PHRoaXMubWluLnp8fHQubWluLno+dGhpcy5tYXgueil9aW50ZXJzZWN0c1NwaGVyZSh0KXtyZXR1cm4gdGhpcy5jbGFtcFBvaW50KHQuY2VudGVyLEl0KSxJdC5kaXN0YW5jZVRvU3F1YXJlZCh0LmNlbnRlcik8PXQucmFkaXVzKnQucmFkaXVzfWludGVyc2VjdHNQbGFuZSh0KXtsZXQgZSxuO3JldHVybiB0Lm5vcm1hbC54PjA/KGU9dC5ub3JtYWwueCp0aGlzLm1pbi54LG49dC5ub3JtYWwueCp0aGlzLm1heC54KTooZT10Lm5vcm1hbC54KnRoaXMubWF4Lngsbj10Lm5vcm1hbC54KnRoaXMubWluLngpLHQubm9ybWFsLnk+MD8oZSs9dC5ub3JtYWwueSp0aGlzLm1pbi55LG4rPXQubm9ybWFsLnkqdGhpcy5tYXgueSk6KGUrPXQubm9ybWFsLnkqdGhpcy5tYXgueSxuKz10Lm5vcm1hbC55KnRoaXMubWluLnkpLHQubm9ybWFsLno+MD8oZSs9dC5ub3JtYWwueip0aGlzLm1pbi56LG4rPXQubm9ybWFsLnoqdGhpcy5tYXgueik6KGUrPXQubm9ybWFsLnoqdGhpcy5tYXgueixuKz10Lm5vcm1hbC56KnRoaXMubWluLnopLGU8PS10LmNvbnN0YW50JiZuPj0tdC5jb25zdGFudH1pbnRlcnNlY3RzVHJpYW5nbGUodCl7aWYodGhpcy5pc0VtcHR5KCkpcmV0dXJuITE7dGhpcy5nZXRDZW50ZXIoVXQpLGt0LnN1YlZlY3RvcnModGhpcy5tYXgsVXQpLEJ0LnN1YlZlY3RvcnModC5hLFV0KSx6dC5zdWJWZWN0b3JzKHQuYixVdCksRnQuc3ViVmVjdG9ycyh0LmMsVXQpLE90LnN1YlZlY3RvcnMoenQsQnQpLEh0LnN1YlZlY3RvcnMoRnQsenQpLEd0LnN1YlZlY3RvcnMoQnQsRnQpO2xldCBlPVswLC1PdC56LE90LnksMCwtSHQueixIdC55LDAsLUd0LnosR3QueSxPdC56LDAsLU90LngsSHQueiwwLC1IdC54LEd0LnosMCwtR3QueCwtT3QueSxPdC54LDAsLUh0LnksSHQueCwwLC1HdC55LEd0LngsMF07cmV0dXJuISFqdChlLEJ0LHp0LEZ0LGt0KSYmKGU9WzEsMCwwLDAsMSwwLDAsMCwxXSwhIWp0KGUsQnQsenQsRnQsa3QpJiYoVnQuY3Jvc3NWZWN0b3JzKE90LEh0KSxlPVtWdC54LFZ0LnksVnQuel0sanQoZSxCdCx6dCxGdCxrdCkpKX1jbGFtcFBvaW50KHQsZSl7cmV0dXJuIHZvaWQgMD09PWUmJihjb25zb2xlLndhcm4oIlRIUkVFLkJveDM6IC5jbGFtcFBvaW50KCkgdGFyZ2V0IGlzIG5vdyByZXF1aXJlZCIpLGU9bmV3IEx0KSxlLmNvcHkodCkuY2xhbXAodGhpcy5taW4sdGhpcy5tYXgpfWRpc3RhbmNlVG9Qb2ludCh0KXtyZXR1cm4gSXQuY29weSh0KS5jbGFtcCh0aGlzLm1pbix0aGlzLm1heCkuc3ViKHQpLmxlbmd0aCgpfWdldEJvdW5kaW5nU3BoZXJlKHQpe3JldHVybiB2b2lkIDA9PT10JiZjb25zb2xlLmVycm9yKCJUSFJFRS5Cb3gzOiAuZ2V0Qm91bmRpbmdTcGhlcmUoKSB0YXJnZXQgaXMgbm93IHJlcXVpcmVkIiksdGhpcy5nZXRDZW50ZXIodC5jZW50ZXIpLHQucmFkaXVzPS41KnRoaXMuZ2V0U2l6ZShJdCkubGVuZ3RoKCksdH1pbnRlcnNlY3QodCl7cmV0dXJuIHRoaXMubWluLm1heCh0Lm1pbiksdGhpcy5tYXgubWluKHQubWF4KSx0aGlzLmlzRW1wdHkoKSYmdGhpcy5tYWtlRW1wdHkoKSx0aGlzfXVuaW9uKHQpe3JldHVybiB0aGlzLm1pbi5taW4odC5taW4pLHRoaXMubWF4Lm1heCh0Lm1heCksdGhpc31hcHBseU1hdHJpeDQodCl7cmV0dXJuIHRoaXMuaXNFbXB0eSgpfHwoRHRbMF0uc2V0KHRoaXMubWluLngsdGhpcy5taW4ueSx0aGlzLm1pbi56KS5hcHBseU1hdHJpeDQodCksRHRbMV0uc2V0KHRoaXMubWluLngsdGhpcy5taW4ueSx0aGlzLm1heC56KS5hcHBseU1hdHJpeDQodCksRHRbMl0uc2V0KHRoaXMubWluLngsdGhpcy5tYXgueSx0aGlzLm1pbi56KS5hcHBseU1hdHJpeDQodCksRHRbM10uc2V0KHRoaXMubWluLngsdGhpcy5tYXgueSx0aGlzLm1heC56KS5hcHBseU1hdHJpeDQodCksRHRbNF0uc2V0KHRoaXMubWF4LngsdGhpcy5taW4ueSx0aGlzLm1pbi56KS5hcHBseU1hdHJpeDQodCksRHRbNV0uc2V0KHRoaXMubWF4LngsdGhpcy5taW4ueSx0aGlzLm1heC56KS5hcHBseU1hdHJpeDQodCksRHRbNl0uc2V0KHRoaXMubWF4LngsdGhpcy5tYXgueSx0aGlzLm1pbi56KS5hcHBseU1hdHJpeDQodCksRHRbN10uc2V0KHRoaXMubWF4LngsdGhpcy5tYXgueSx0aGlzLm1heC56KS5hcHBseU1hdHJpeDQodCksdGhpcy5zZXRGcm9tUG9pbnRzKER0KSksdGhpc310cmFuc2xhdGUodCl7cmV0dXJuIHRoaXMubWluLmFkZCh0KSx0aGlzLm1heC5hZGQodCksdGhpc31lcXVhbHModCl7cmV0dXJuIHQubWluLmVxdWFscyh0aGlzLm1pbikmJnQubWF4LmVxdWFscyh0aGlzLm1heCl9fVB0LnByb3RvdHlwZS5pc0JveDM9ITA7Y29uc3QgRHQ9W25ldyBMdCxuZXcgTHQsbmV3IEx0LG5ldyBMdCxuZXcgTHQsbmV3IEx0LG5ldyBMdCxuZXcgTHRdLEl0PW5ldyBMdCxOdD1uZXcgUHQsQnQ9bmV3IEx0LHp0PW5ldyBMdCxGdD1uZXcgTHQsT3Q9bmV3IEx0LEh0PW5ldyBMdCxHdD1uZXcgTHQsVXQ9bmV3IEx0LGt0PW5ldyBMdCxWdD1uZXcgTHQsV3Q9bmV3IEx0O2Z1bmN0aW9uIGp0KHQsZSxuLGkscil7Zm9yKGxldCBzPTAsYT10Lmxlbmd0aC0zO3M8PWE7cys9Myl7V3QuZnJvbUFycmF5KHQscyk7Y29uc3QgYT1yLngqTWF0aC5hYnMoV3QueCkrci55Kk1hdGguYWJzKFd0LnkpK3IueipNYXRoLmFicyhXdC56KSxvPWUuZG90KFd0KSxsPW4uZG90KFd0KSxjPWkuZG90KFd0KTtpZihNYXRoLm1heCgtTWF0aC5tYXgobyxsLGMpLE1hdGgubWluKG8sbCxjKSk+YSlyZXR1cm4hMX1yZXR1cm4hMH1jb25zdCBxdD1uZXcgUHQsWHQ9bmV3IEx0LFl0PW5ldyBMdCxadD1uZXcgTHQ7Y2xhc3MgSnR7Y29uc3RydWN0b3IodD1uZXcgTHQsZT0tMSl7dGhpcy5jZW50ZXI9dCx0aGlzLnJhZGl1cz1lfXNldCh0LGUpe3JldHVybiB0aGlzLmNlbnRlci5jb3B5KHQpLHRoaXMucmFkaXVzPWUsdGhpc31zZXRGcm9tUG9pbnRzKHQsZSl7Y29uc3Qgbj10aGlzLmNlbnRlcjt2b2lkIDAhPT1lP24uY29weShlKTpxdC5zZXRGcm9tUG9pbnRzKHQpLmdldENlbnRlcihuKTtsZXQgaT0wO2ZvcihsZXQgZT0wLHI9dC5sZW5ndGg7ZTxyO2UrKylpPU1hdGgubWF4KGksbi5kaXN0YW5jZVRvU3F1YXJlZCh0W2VdKSk7cmV0dXJuIHRoaXMucmFkaXVzPU1hdGguc3FydChpKSx0aGlzfWNvcHkodCl7cmV0dXJuIHRoaXMuY2VudGVyLmNvcHkodC5jZW50ZXIpLHRoaXMucmFkaXVzPXQucmFkaXVzLHRoaXN9aXNFbXB0eSgpe3JldHVybiB0aGlzLnJhZGl1czwwfW1ha2VFbXB0eSgpe3JldHVybiB0aGlzLmNlbnRlci5zZXQoMCwwLDApLHRoaXMucmFkaXVzPS0xLHRoaXN9Y29udGFpbnNQb2ludCh0KXtyZXR1cm4gdC5kaXN0YW5jZVRvU3F1YXJlZCh0aGlzLmNlbnRlcik8PXRoaXMucmFkaXVzKnRoaXMucmFkaXVzfWRpc3RhbmNlVG9Qb2ludCh0KXtyZXR1cm4gdC5kaXN0YW5jZVRvKHRoaXMuY2VudGVyKS10aGlzLnJhZGl1c31pbnRlcnNlY3RzU3BoZXJlKHQpe2NvbnN0IGU9dGhpcy5yYWRpdXMrdC5yYWRpdXM7cmV0dXJuIHQuY2VudGVyLmRpc3RhbmNlVG9TcXVhcmVkKHRoaXMuY2VudGVyKTw9ZSplfWludGVyc2VjdHNCb3godCl7cmV0dXJuIHQuaW50ZXJzZWN0c1NwaGVyZSh0aGlzKX1pbnRlcnNlY3RzUGxhbmUodCl7cmV0dXJuIE1hdGguYWJzKHQuZGlzdGFuY2VUb1BvaW50KHRoaXMuY2VudGVyKSk8PXRoaXMucmFkaXVzfWNsYW1wUG9pbnQodCxlKXtjb25zdCBuPXRoaXMuY2VudGVyLmRpc3RhbmNlVG9TcXVhcmVkKHQpO3JldHVybiB2b2lkIDA9PT1lJiYoY29uc29sZS53YXJuKCJUSFJFRS5TcGhlcmU6IC5jbGFtcFBvaW50KCkgdGFyZ2V0IGlzIG5vdyByZXF1aXJlZCIpLGU9bmV3IEx0KSxlLmNvcHkodCksbj50aGlzLnJhZGl1cyp0aGlzLnJhZGl1cyYmKGUuc3ViKHRoaXMuY2VudGVyKS5ub3JtYWxpemUoKSxlLm11bHRpcGx5U2NhbGFyKHRoaXMucmFkaXVzKS5hZGQodGhpcy5jZW50ZXIpKSxlfWdldEJvdW5kaW5nQm94KHQpe3JldHVybiB2b2lkIDA9PT10JiYoY29uc29sZS53YXJuKCJUSFJFRS5TcGhlcmU6IC5nZXRCb3VuZGluZ0JveCgpIHRhcmdldCBpcyBub3cgcmVxdWlyZWQiKSx0PW5ldyBQdCksdGhpcy5pc0VtcHR5KCk/KHQubWFrZUVtcHR5KCksdCk6KHQuc2V0KHRoaXMuY2VudGVyLHRoaXMuY2VudGVyKSx0LmV4cGFuZEJ5U2NhbGFyKHRoaXMucmFkaXVzKSx0KX1hcHBseU1hdHJpeDQodCl7cmV0dXJuIHRoaXMuY2VudGVyLmFwcGx5TWF0cml4NCh0KSx0aGlzLnJhZGl1cz10aGlzLnJhZGl1cyp0LmdldE1heFNjYWxlT25BeGlzKCksdGhpc310cmFuc2xhdGUodCl7cmV0dXJuIHRoaXMuY2VudGVyLmFkZCh0KSx0aGlzfWV4cGFuZEJ5UG9pbnQodCl7WnQuc3ViVmVjdG9ycyh0LHRoaXMuY2VudGVyKTtjb25zdCBlPVp0Lmxlbmd0aFNxKCk7aWYoZT50aGlzLnJhZGl1cyp0aGlzLnJhZGl1cyl7Y29uc3QgdD1NYXRoLnNxcnQoZSksbj0uNSoodC10aGlzLnJhZGl1cyk7dGhpcy5jZW50ZXIuYWRkKFp0Lm11bHRpcGx5U2NhbGFyKG4vdCkpLHRoaXMucmFkaXVzKz1ufXJldHVybiB0aGlzfXVuaW9uKHQpe3JldHVybiBZdC5zdWJWZWN0b3JzKHQuY2VudGVyLHRoaXMuY2VudGVyKS5ub3JtYWxpemUoKS5tdWx0aXBseVNjYWxhcih0LnJhZGl1cyksdGhpcy5leHBhbmRCeVBvaW50KFh0LmNvcHkodC5jZW50ZXIpLmFkZChZdCkpLHRoaXMuZXhwYW5kQnlQb2ludChYdC5jb3B5KHQuY2VudGVyKS5zdWIoWXQpKSx0aGlzfWVxdWFscyh0KXtyZXR1cm4gdC5jZW50ZXIuZXF1YWxzKHRoaXMuY2VudGVyKSYmdC5yYWRpdXM9PT10aGlzLnJhZGl1c31jbG9uZSgpe3JldHVybihuZXcgdGhpcy5jb25zdHJ1Y3RvcikuY29weSh0aGlzKX19Y29uc3QgUXQ9bmV3IEx0LEt0PW5ldyBMdCwkdD1uZXcgTHQsdGU9bmV3IEx0LGVlPW5ldyBMdCxuZT1uZXcgTHQsaWU9bmV3IEx0O2NsYXNzIHJle2NvbnN0cnVjdG9yKHQ9bmV3IEx0LGU9bmV3IEx0KDAsMCwtMSkpe3RoaXMub3JpZ2luPXQsdGhpcy5kaXJlY3Rpb249ZX1zZXQodCxlKXtyZXR1cm4gdGhpcy5vcmlnaW4uY29weSh0KSx0aGlzLmRpcmVjdGlvbi5jb3B5KGUpLHRoaXN9Y29weSh0KXtyZXR1cm4gdGhpcy5vcmlnaW4uY29weSh0Lm9yaWdpbiksdGhpcy5kaXJlY3Rpb24uY29weSh0LmRpcmVjdGlvbiksdGhpc31hdCh0LGUpe3JldHVybiB2b2lkIDA9PT1lJiYoY29uc29sZS53YXJuKCJUSFJFRS5SYXk6IC5hdCgpIHRhcmdldCBpcyBub3cgcmVxdWlyZWQiKSxlPW5ldyBMdCksZS5jb3B5KHRoaXMuZGlyZWN0aW9uKS5tdWx0aXBseVNjYWxhcih0KS5hZGQodGhpcy5vcmlnaW4pfWxvb2tBdCh0KXtyZXR1cm4gdGhpcy5kaXJlY3Rpb24uY29weSh0KS5zdWIodGhpcy5vcmlnaW4pLm5vcm1hbGl6ZSgpLHRoaXN9cmVjYXN0KHQpe3JldHVybiB0aGlzLm9yaWdpbi5jb3B5KHRoaXMuYXQodCxRdCkpLHRoaXN9Y2xvc2VzdFBvaW50VG9Qb2ludCh0LGUpe3ZvaWQgMD09PWUmJihjb25zb2xlLndhcm4oIlRIUkVFLlJheTogLmNsb3Nlc3RQb2ludFRvUG9pbnQoKSB0YXJnZXQgaXMgbm93IHJlcXVpcmVkIiksZT1uZXcgTHQpLGUuc3ViVmVjdG9ycyh0LHRoaXMub3JpZ2luKTtjb25zdCBuPWUuZG90KHRoaXMuZGlyZWN0aW9uKTtyZXR1cm4gbjwwP2UuY29weSh0aGlzLm9yaWdpbik6ZS5jb3B5KHRoaXMuZGlyZWN0aW9uKS5tdWx0aXBseVNjYWxhcihuKS5hZGQodGhpcy5vcmlnaW4pfWRpc3RhbmNlVG9Qb2ludCh0KXtyZXR1cm4gTWF0aC5zcXJ0KHRoaXMuZGlzdGFuY2VTcVRvUG9pbnQodCkpfWRpc3RhbmNlU3FUb1BvaW50KHQpe2NvbnN0IGU9UXQuc3ViVmVjdG9ycyh0LHRoaXMub3JpZ2luKS5kb3QodGhpcy5kaXJlY3Rpb24pO3JldHVybiBlPDA/dGhpcy5vcmlnaW4uZGlzdGFuY2VUb1NxdWFyZWQodCk6KFF0LmNvcHkodGhpcy5kaXJlY3Rpb24pLm11bHRpcGx5U2NhbGFyKGUpLmFkZCh0aGlzLm9yaWdpbiksUXQuZGlzdGFuY2VUb1NxdWFyZWQodCkpfWRpc3RhbmNlU3FUb1NlZ21lbnQodCxlLG4saSl7S3QuY29weSh0KS5hZGQoZSkubXVsdGlwbHlTY2FsYXIoLjUpLCR0LmNvcHkoZSkuc3ViKHQpLm5vcm1hbGl6ZSgpLHRlLmNvcHkodGhpcy5vcmlnaW4pLnN1YihLdCk7Y29uc3Qgcj0uNSp0LmRpc3RhbmNlVG8oZSkscz0tdGhpcy5kaXJlY3Rpb24uZG90KCR0KSxhPXRlLmRvdCh0aGlzLmRpcmVjdGlvbiksbz0tdGUuZG90KCR0KSxsPXRlLmxlbmd0aFNxKCksYz1NYXRoLmFicygxLXMqcyk7bGV0IGgsdSxkLHA7aWYoYz4wKWlmKGg9cypvLWEsdT1zKmEtbyxwPXIqYyxoPj0wKWlmKHU+PS1wKWlmKHU8PXApe2NvbnN0IHQ9MS9jO2gqPXQsdSo9dCxkPWgqKGgrcyp1KzIqYSkrdSoocypoK3UrMipvKStsfWVsc2UgdT1yLGg9TWF0aC5tYXgoMCwtKHMqdSthKSksZD0taCpoK3UqKHUrMipvKStsO2Vsc2UgdT0tcixoPU1hdGgubWF4KDAsLShzKnUrYSkpLGQ9LWgqaCt1Kih1KzIqbykrbDtlbHNlIHU8PS1wPyhoPU1hdGgubWF4KDAsLSgtcypyK2EpKSx1PWg+MD8tcjpNYXRoLm1pbihNYXRoLm1heCgtciwtbyksciksZD0taCpoK3UqKHUrMipvKStsKTp1PD1wPyhoPTAsdT1NYXRoLm1pbihNYXRoLm1heCgtciwtbyksciksZD11Kih1KzIqbykrbCk6KGg9TWF0aC5tYXgoMCwtKHMqcithKSksdT1oPjA/cjpNYXRoLm1pbihNYXRoLm1heCgtciwtbyksciksZD0taCpoK3UqKHUrMipvKStsKTtlbHNlIHU9cz4wPy1yOnIsaD1NYXRoLm1heCgwLC0ocyp1K2EpKSxkPS1oKmgrdSoodSsyKm8pK2w7cmV0dXJuIG4mJm4uY29weSh0aGlzLmRpcmVjdGlvbikubXVsdGlwbHlTY2FsYXIoaCkuYWRkKHRoaXMub3JpZ2luKSxpJiZpLmNvcHkoJHQpLm11bHRpcGx5U2NhbGFyKHUpLmFkZChLdCksZH1pbnRlcnNlY3RTcGhlcmUodCxlKXtRdC5zdWJWZWN0b3JzKHQuY2VudGVyLHRoaXMub3JpZ2luKTtjb25zdCBuPVF0LmRvdCh0aGlzLmRpcmVjdGlvbiksaT1RdC5kb3QoUXQpLW4qbixyPXQucmFkaXVzKnQucmFkaXVzO2lmKGk+cilyZXR1cm4gbnVsbDtjb25zdCBzPU1hdGguc3FydChyLWkpLGE9bi1zLG89bitzO3JldHVybiBhPDAmJm88MD9udWxsOmE8MD90aGlzLmF0KG8sZSk6dGhpcy5hdChhLGUpfWludGVyc2VjdHNTcGhlcmUodCl7cmV0dXJuIHRoaXMuZGlzdGFuY2VTcVRvUG9pbnQodC5jZW50ZXIpPD10LnJhZGl1cyp0LnJhZGl1c31kaXN0YW5jZVRvUGxhbmUodCl7Y29uc3QgZT10Lm5vcm1hbC5kb3QodGhpcy5kaXJlY3Rpb24pO2lmKDA9PT1lKXJldHVybiAwPT09dC5kaXN0YW5jZVRvUG9pbnQodGhpcy5vcmlnaW4pPzA6bnVsbDtjb25zdCBuPS0odGhpcy5vcmlnaW4uZG90KHQubm9ybWFsKSt0LmNvbnN0YW50KS9lO3JldHVybiBuPj0wP246bnVsbH1pbnRlcnNlY3RQbGFuZSh0LGUpe2NvbnN0IG49dGhpcy5kaXN0YW5jZVRvUGxhbmUodCk7cmV0dXJuIG51bGw9PT1uP251bGw6dGhpcy5hdChuLGUpfWludGVyc2VjdHNQbGFuZSh0KXtjb25zdCBlPXQuZGlzdGFuY2VUb1BvaW50KHRoaXMub3JpZ2luKTtpZigwPT09ZSlyZXR1cm4hMDtyZXR1cm4gdC5ub3JtYWwuZG90KHRoaXMuZGlyZWN0aW9uKSplPDB9aW50ZXJzZWN0Qm94KHQsZSl7bGV0IG4saSxyLHMsYSxvO2NvbnN0IGw9MS90aGlzLmRpcmVjdGlvbi54LGM9MS90aGlzLmRpcmVjdGlvbi55LGg9MS90aGlzLmRpcmVjdGlvbi56LHU9dGhpcy5vcmlnaW47cmV0dXJuIGw+PTA/KG49KHQubWluLngtdS54KSpsLGk9KHQubWF4LngtdS54KSpsKToobj0odC5tYXgueC11LngpKmwsaT0odC5taW4ueC11LngpKmwpLGM+PTA/KHI9KHQubWluLnktdS55KSpjLHM9KHQubWF4LnktdS55KSpjKToocj0odC5tYXgueS11LnkpKmMscz0odC5taW4ueS11LnkpKmMpLG4+c3x8cj5pP251bGw6KChyPm58fG4hPW4pJiYobj1yKSwoczxpfHxpIT1pKSYmKGk9cyksaD49MD8oYT0odC5taW4uei11LnopKmgsbz0odC5tYXguei11LnopKmgpOihhPSh0Lm1heC56LXUueikqaCxvPSh0Lm1pbi56LXUueikqaCksbj5vfHxhPmk/bnVsbDooKGE+bnx8biE9bikmJihuPWEpLChvPGl8fGkhPWkpJiYoaT1vKSxpPDA/bnVsbDp0aGlzLmF0KG4+PTA/bjppLGUpKSl9aW50ZXJzZWN0c0JveCh0KXtyZXR1cm4gbnVsbCE9PXRoaXMuaW50ZXJzZWN0Qm94KHQsUXQpfWludGVyc2VjdFRyaWFuZ2xlKHQsZSxuLGkscil7ZWUuc3ViVmVjdG9ycyhlLHQpLG5lLnN1YlZlY3RvcnMobix0KSxpZS5jcm9zc1ZlY3RvcnMoZWUsbmUpO2xldCBzLGE9dGhpcy5kaXJlY3Rpb24uZG90KGllKTtpZihhPjApe2lmKGkpcmV0dXJuIG51bGw7cz0xfWVsc2V7aWYoIShhPDApKXJldHVybiBudWxsO3M9LTEsYT0tYX10ZS5zdWJWZWN0b3JzKHRoaXMub3JpZ2luLHQpO2NvbnN0IG89cyp0aGlzLmRpcmVjdGlvbi5kb3QobmUuY3Jvc3NWZWN0b3JzKHRlLG5lKSk7aWYobzwwKXJldHVybiBudWxsO2NvbnN0IGw9cyp0aGlzLmRpcmVjdGlvbi5kb3QoZWUuY3Jvc3ModGUpKTtpZihsPDApcmV0dXJuIG51bGw7aWYobytsPmEpcmV0dXJuIG51bGw7Y29uc3QgYz0tcyp0ZS5kb3QoaWUpO3JldHVybiBjPDA/bnVsbDp0aGlzLmF0KGMvYSxyKX1hcHBseU1hdHJpeDQodCl7cmV0dXJuIHRoaXMub3JpZ2luLmFwcGx5TWF0cml4NCh0KSx0aGlzLmRpcmVjdGlvbi50cmFuc2Zvcm1EaXJlY3Rpb24odCksdGhpc31lcXVhbHModCl7cmV0dXJuIHQub3JpZ2luLmVxdWFscyh0aGlzLm9yaWdpbikmJnQuZGlyZWN0aW9uLmVxdWFscyh0aGlzLmRpcmVjdGlvbil9Y2xvbmUoKXtyZXR1cm4obmV3IHRoaXMuY29uc3RydWN0b3IpLmNvcHkodGhpcyl9fWNsYXNzIHNle2NvbnN0cnVjdG9yKCl7dGhpcy5lbGVtZW50cz1bMSwwLDAsMCwwLDEsMCwwLDAsMCwxLDAsMCwwLDAsMV0sYXJndW1lbnRzLmxlbmd0aD4wJiZjb25zb2xlLmVycm9yKCJUSFJFRS5NYXRyaXg0OiB0aGUgY29uc3RydWN0b3Igbm8gbG9uZ2VyIHJlYWRzIGFyZ3VtZW50cy4gdXNlIC5zZXQoKSBpbnN0ZWFkLiIpfXNldCh0LGUsbixpLHIscyxhLG8sbCxjLGgsdSxkLHAsbSxmKXtjb25zdCBnPXRoaXMuZWxlbWVudHM7cmV0dXJuIGdbMF09dCxnWzRdPWUsZ1s4XT1uLGdbMTJdPWksZ1sxXT1yLGdbNV09cyxnWzldPWEsZ1sxM109byxnWzJdPWwsZ1s2XT1jLGdbMTBdPWgsZ1sxNF09dSxnWzNdPWQsZ1s3XT1wLGdbMTFdPW0sZ1sxNV09Zix0aGlzfWlkZW50aXR5KCl7cmV0dXJuIHRoaXMuc2V0KDEsMCwwLDAsMCwxLDAsMCwwLDAsMSwwLDAsMCwwLDEpLHRoaXN9Y2xvbmUoKXtyZXR1cm4obmV3IHNlKS5mcm9tQXJyYXkodGhpcy5lbGVtZW50cyl9Y29weSh0KXtjb25zdCBlPXRoaXMuZWxlbWVudHMsbj10LmVsZW1lbnRzO3JldHVybiBlWzBdPW5bMF0sZVsxXT1uWzFdLGVbMl09blsyXSxlWzNdPW5bM10sZVs0XT1uWzRdLGVbNV09bls1XSxlWzZdPW5bNl0sZVs3XT1uWzddLGVbOF09bls4XSxlWzldPW5bOV0sZVsxMF09blsxMF0sZVsxMV09blsxMV0sZVsxMl09blsxMl0sZVsxM109blsxM10sZVsxNF09blsxNF0sZVsxNV09blsxNV0sdGhpc31jb3B5UG9zaXRpb24odCl7Y29uc3QgZT10aGlzLmVsZW1lbnRzLG49dC5lbGVtZW50cztyZXR1cm4gZVsxMl09blsxMl0sZVsxM109blsxM10sZVsxNF09blsxNF0sdGhpc31zZXRGcm9tTWF0cml4Myh0KXtjb25zdCBlPXQuZWxlbWVudHM7cmV0dXJuIHRoaXMuc2V0KGVbMF0sZVszXSxlWzZdLDAsZVsxXSxlWzRdLGVbN10sMCxlWzJdLGVbNV0sZVs4XSwwLDAsMCwwLDEpLHRoaXN9ZXh0cmFjdEJhc2lzKHQsZSxuKXtyZXR1cm4gdC5zZXRGcm9tTWF0cml4Q29sdW1uKHRoaXMsMCksZS5zZXRGcm9tTWF0cml4Q29sdW1uKHRoaXMsMSksbi5zZXRGcm9tTWF0cml4Q29sdW1uKHRoaXMsMiksdGhpc31tYWtlQmFzaXModCxlLG4pe3JldHVybiB0aGlzLnNldCh0LngsZS54LG4ueCwwLHQueSxlLnksbi55LDAsdC56LGUueixuLnosMCwwLDAsMCwxKSx0aGlzfWV4dHJhY3RSb3RhdGlvbih0KXtjb25zdCBlPXRoaXMuZWxlbWVudHMsbj10LmVsZW1lbnRzLGk9MS9hZS5zZXRGcm9tTWF0cml4Q29sdW1uKHQsMCkubGVuZ3RoKCkscj0xL2FlLnNldEZyb21NYXRyaXhDb2x1bW4odCwxKS5sZW5ndGgoKSxzPTEvYWUuc2V0RnJvbU1hdHJpeENvbHVtbih0LDIpLmxlbmd0aCgpO3JldHVybiBlWzBdPW5bMF0qaSxlWzFdPW5bMV0qaSxlWzJdPW5bMl0qaSxlWzNdPTAsZVs0XT1uWzRdKnIsZVs1XT1uWzVdKnIsZVs2XT1uWzZdKnIsZVs3XT0wLGVbOF09bls4XSpzLGVbOV09bls5XSpzLGVbMTBdPW5bMTBdKnMsZVsxMV09MCxlWzEyXT0wLGVbMTNdPTAsZVsxNF09MCxlWzE1XT0xLHRoaXN9bWFrZVJvdGF0aW9uRnJvbUV1bGVyKHQpe3QmJnQuaXNFdWxlcnx8Y29uc29sZS5lcnJvcigiVEhSRUUuTWF0cml4NDogLm1ha2VSb3RhdGlvbkZyb21FdWxlcigpIG5vdyBleHBlY3RzIGEgRXVsZXIgcm90YXRpb24gcmF0aGVyIHRoYW4gYSBWZWN0b3IzIGFuZCBvcmRlci4iKTtjb25zdCBlPXRoaXMuZWxlbWVudHMsbj10LngsaT10Lnkscj10Lnoscz1NYXRoLmNvcyhuKSxhPU1hdGguc2luKG4pLG89TWF0aC5jb3MoaSksbD1NYXRoLnNpbihpKSxjPU1hdGguY29zKHIpLGg9TWF0aC5zaW4ocik7aWYoIlhZWiI9PT10Lm9yZGVyKXtjb25zdCB0PXMqYyxuPXMqaCxpPWEqYyxyPWEqaDtlWzBdPW8qYyxlWzRdPS1vKmgsZVs4XT1sLGVbMV09bitpKmwsZVs1XT10LXIqbCxlWzldPS1hKm8sZVsyXT1yLXQqbCxlWzZdPWkrbipsLGVbMTBdPXMqb31lbHNlIGlmKCJZWFoiPT09dC5vcmRlcil7Y29uc3QgdD1vKmMsbj1vKmgsaT1sKmMscj1sKmg7ZVswXT10K3IqYSxlWzRdPWkqYS1uLGVbOF09cypsLGVbMV09cypoLGVbNV09cypjLGVbOV09LWEsZVsyXT1uKmEtaSxlWzZdPXIrdCphLGVbMTBdPXMqb31lbHNlIGlmKCJaWFkiPT09dC5vcmRlcil7Y29uc3QgdD1vKmMsbj1vKmgsaT1sKmMscj1sKmg7ZVswXT10LXIqYSxlWzRdPS1zKmgsZVs4XT1pK24qYSxlWzFdPW4raSphLGVbNV09cypjLGVbOV09ci10KmEsZVsyXT0tcypsLGVbNl09YSxlWzEwXT1zKm99ZWxzZSBpZigiWllYIj09PXQub3JkZXIpe2NvbnN0IHQ9cypjLG49cypoLGk9YSpjLHI9YSpoO2VbMF09bypjLGVbNF09aSpsLW4sZVs4XT10KmwrcixlWzFdPW8qaCxlWzVdPXIqbCt0LGVbOV09bipsLWksZVsyXT0tbCxlWzZdPWEqbyxlWzEwXT1zKm99ZWxzZSBpZigiWVpYIj09PXQub3JkZXIpe2NvbnN0IHQ9cypvLG49cypsLGk9YSpvLHI9YSpsO2VbMF09bypjLGVbNF09ci10KmgsZVs4XT1pKmgrbixlWzFdPWgsZVs1XT1zKmMsZVs5XT0tYSpjLGVbMl09LWwqYyxlWzZdPW4qaCtpLGVbMTBdPXQtcipofWVsc2UgaWYoIlhaWSI9PT10Lm9yZGVyKXtjb25zdCB0PXMqbyxuPXMqbCxpPWEqbyxyPWEqbDtlWzBdPW8qYyxlWzRdPS1oLGVbOF09bCpjLGVbMV09dCpoK3IsZVs1XT1zKmMsZVs5XT1uKmgtaSxlWzJdPWkqaC1uLGVbNl09YSpjLGVbMTBdPXIqaCt0fXJldHVybiBlWzNdPTAsZVs3XT0wLGVbMTFdPTAsZVsxMl09MCxlWzEzXT0wLGVbMTRdPTAsZVsxNV09MSx0aGlzfW1ha2VSb3RhdGlvbkZyb21RdWF0ZXJuaW9uKHQpe3JldHVybiB0aGlzLmNvbXBvc2UobGUsdCxjZSl9bG9va0F0KHQsZSxuKXtjb25zdCBpPXRoaXMuZWxlbWVudHM7cmV0dXJuIGRlLnN1YlZlY3RvcnModCxlKSwwPT09ZGUubGVuZ3RoU3EoKSYmKGRlLno9MSksZGUubm9ybWFsaXplKCksaGUuY3Jvc3NWZWN0b3JzKG4sZGUpLDA9PT1oZS5sZW5ndGhTcSgpJiYoMT09PU1hdGguYWJzKG4ueik/ZGUueCs9MWUtNDpkZS56Kz0xZS00LGRlLm5vcm1hbGl6ZSgpLGhlLmNyb3NzVmVjdG9ycyhuLGRlKSksaGUubm9ybWFsaXplKCksdWUuY3Jvc3NWZWN0b3JzKGRlLGhlKSxpWzBdPWhlLngsaVs0XT11ZS54LGlbOF09ZGUueCxpWzFdPWhlLnksaVs1XT11ZS55LGlbOV09ZGUueSxpWzJdPWhlLnosaVs2XT11ZS56LGlbMTBdPWRlLnosdGhpc31tdWx0aXBseSh0LGUpe3JldHVybiB2b2lkIDAhPT1lPyhjb25zb2xlLndhcm4oIlRIUkVFLk1hdHJpeDQ6IC5tdWx0aXBseSgpIG5vdyBvbmx5IGFjY2VwdHMgb25lIGFyZ3VtZW50LiBVc2UgLm11bHRpcGx5TWF0cmljZXMoIGEsIGIgKSBpbnN0ZWFkLiIpLHRoaXMubXVsdGlwbHlNYXRyaWNlcyh0LGUpKTp0aGlzLm11bHRpcGx5TWF0cmljZXModGhpcyx0KX1wcmVtdWx0aXBseSh0KXtyZXR1cm4gdGhpcy5tdWx0aXBseU1hdHJpY2VzKHQsdGhpcyl9bXVsdGlwbHlNYXRyaWNlcyh0LGUpe2NvbnN0IG49dC5lbGVtZW50cyxpPWUuZWxlbWVudHMscj10aGlzLmVsZW1lbnRzLHM9blswXSxhPW5bNF0sbz1uWzhdLGw9blsxMl0sYz1uWzFdLGg9bls1XSx1PW5bOV0sZD1uWzEzXSxwPW5bMl0sbT1uWzZdLGY9blsxMF0sZz1uWzE0XSx2PW5bM10seT1uWzddLHg9blsxMV0sXz1uWzE1XSx3PWlbMF0sYj1pWzRdLE09aVs4XSxTPWlbMTJdLFQ9aVsxXSxFPWlbNV0sQT1pWzldLEw9aVsxM10sUj1pWzJdLEM9aVs2XSxQPWlbMTBdLEQ9aVsxNF0sST1pWzNdLE49aVs3XSxCPWlbMTFdLHo9aVsxNV07cmV0dXJuIHJbMF09cyp3K2EqVCtvKlIrbCpJLHJbNF09cypiK2EqRStvKkMrbCpOLHJbOF09cypNK2EqQStvKlArbCpCLHJbMTJdPXMqUythKkwrbypEK2wqeixyWzFdPWMqdytoKlQrdSpSK2QqSSxyWzVdPWMqYitoKkUrdSpDK2QqTixyWzldPWMqTStoKkErdSpQK2QqQixyWzEzXT1jKlMraCpMK3UqRCtkKnosclsyXT1wKncrbSpUK2YqUitnKkkscls2XT1wKmIrbSpFK2YqQytnKk4sclsxMF09cCpNK20qQStmKlArZypCLHJbMTRdPXAqUyttKkwrZipEK2cqeixyWzNdPXYqdyt5KlQreCpSK18qSSxyWzddPXYqYit5KkUreCpDK18qTixyWzExXT12Kk0reSpBK3gqUCtfKkIsclsxNV09dipTK3kqTCt4KkQrXyp6LHRoaXN9bXVsdGlwbHlTY2FsYXIodCl7Y29uc3QgZT10aGlzLmVsZW1lbnRzO3JldHVybiBlWzBdKj10LGVbNF0qPXQsZVs4XSo9dCxlWzEyXSo9dCxlWzFdKj10LGVbNV0qPXQsZVs5XSo9dCxlWzEzXSo9dCxlWzJdKj10LGVbNl0qPXQsZVsxMF0qPXQsZVsxNF0qPXQsZVszXSo9dCxlWzddKj10LGVbMTFdKj10LGVbMTVdKj10LHRoaXN9ZGV0ZXJtaW5hbnQoKXtjb25zdCB0PXRoaXMuZWxlbWVudHMsZT10WzBdLG49dFs0XSxpPXRbOF0scj10WzEyXSxzPXRbMV0sYT10WzVdLG89dFs5XSxsPXRbMTNdLGM9dFsyXSxoPXRbNl0sdT10WzEwXSxkPXRbMTRdO3JldHVybiB0WzNdKigrcipvKmgtaSpsKmgtciphKnUrbipsKnUraSphKmQtbipvKmQpK3RbN10qKCtlKm8qZC1lKmwqdStyKnMqdS1pKnMqZCtpKmwqYy1yKm8qYykrdFsxMV0qKCtlKmwqaC1lKmEqZC1yKnMqaCtuKnMqZCtyKmEqYy1uKmwqYykrdFsxNV0qKC1pKmEqYy1lKm8qaCtlKmEqdStpKnMqaC1uKnMqdStuKm8qYyl9dHJhbnNwb3NlKCl7Y29uc3QgdD10aGlzLmVsZW1lbnRzO2xldCBlO3JldHVybiBlPXRbMV0sdFsxXT10WzRdLHRbNF09ZSxlPXRbMl0sdFsyXT10WzhdLHRbOF09ZSxlPXRbNl0sdFs2XT10WzldLHRbOV09ZSxlPXRbM10sdFszXT10WzEyXSx0WzEyXT1lLGU9dFs3XSx0WzddPXRbMTNdLHRbMTNdPWUsZT10WzExXSx0WzExXT10WzE0XSx0WzE0XT1lLHRoaXN9c2V0UG9zaXRpb24odCxlLG4pe2NvbnN0IGk9dGhpcy5lbGVtZW50cztyZXR1cm4gdC5pc1ZlY3RvcjM/KGlbMTJdPXQueCxpWzEzXT10LnksaVsxNF09dC56KTooaVsxMl09dCxpWzEzXT1lLGlbMTRdPW4pLHRoaXN9aW52ZXJ0KCl7Y29uc3QgdD10aGlzLmVsZW1lbnRzLGU9dFswXSxuPXRbMV0saT10WzJdLHI9dFszXSxzPXRbNF0sYT10WzVdLG89dFs2XSxsPXRbN10sYz10WzhdLGg9dFs5XSx1PXRbMTBdLGQ9dFsxMV0scD10WzEyXSxtPXRbMTNdLGY9dFsxNF0sZz10WzE1XSx2PWgqZipsLW0qdSpsK20qbypkLWEqZipkLWgqbypnK2EqdSpnLHk9cCp1KmwtYypmKmwtcCpvKmQrcypmKmQrYypvKmctcyp1KmcseD1jKm0qbC1wKmgqbCtwKmEqZC1zKm0qZC1jKmEqZytzKmgqZyxfPXAqaCpvLWMqbSpvLXAqYSp1K3MqbSp1K2MqYSpmLXMqaCpmLHc9ZSp2K24qeStpKngrcipfO2lmKDA9PT13KXJldHVybiB0aGlzLnNldCgwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwKTtjb25zdCBiPTEvdztyZXR1cm4gdFswXT12KmIsdFsxXT0obSp1KnItaCpmKnItbSppKmQrbipmKmQraCppKmctbip1KmcpKmIsdFsyXT0oYSpmKnItbSpvKnIrbSppKmwtbipmKmwtYSppKmcrbipvKmcpKmIsdFszXT0oaCpvKnItYSp1KnItaCppKmwrbip1KmwrYSppKmQtbipvKmQpKmIsdFs0XT15KmIsdFs1XT0oYypmKnItcCp1KnIrcCppKmQtZSpmKmQtYyppKmcrZSp1KmcpKmIsdFs2XT0ocCpvKnItcypmKnItcCppKmwrZSpmKmwrcyppKmctZSpvKmcpKmIsdFs3XT0ocyp1KnItYypvKnIrYyppKmwtZSp1KmwtcyppKmQrZSpvKmQpKmIsdFs4XT14KmIsdFs5XT0ocCpoKnItYyptKnItcCpuKmQrZSptKmQrYypuKmctZSpoKmcpKmIsdFsxMF09KHMqbSpyLXAqYSpyK3AqbipsLWUqbSpsLXMqbipnK2UqYSpnKSpiLHRbMTFdPShjKmEqci1zKmgqci1jKm4qbCtlKmgqbCtzKm4qZC1lKmEqZCkqYix0WzEyXT1fKmIsdFsxM109KGMqbSppLXAqaCppK3Aqbip1LWUqbSp1LWMqbipmK2UqaCpmKSpiLHRbMTRdPShwKmEqaS1zKm0qaS1wKm4qbytlKm0qbytzKm4qZi1lKmEqZikqYix0WzE1XT0ocypoKmktYyphKmkrYypuKm8tZSpoKm8tcypuKnUrZSphKnUpKmIsdGhpc31zY2FsZSh0KXtjb25zdCBlPXRoaXMuZWxlbWVudHMsbj10LngsaT10Lnkscj10Lno7cmV0dXJuIGVbMF0qPW4sZVs0XSo9aSxlWzhdKj1yLGVbMV0qPW4sZVs1XSo9aSxlWzldKj1yLGVbMl0qPW4sZVs2XSo9aSxlWzEwXSo9cixlWzNdKj1uLGVbN10qPWksZVsxMV0qPXIsdGhpc31nZXRNYXhTY2FsZU9uQXhpcygpe2NvbnN0IHQ9dGhpcy5lbGVtZW50cyxlPXRbMF0qdFswXSt0WzFdKnRbMV0rdFsyXSp0WzJdLG49dFs0XSp0WzRdK3RbNV0qdFs1XSt0WzZdKnRbNl0saT10WzhdKnRbOF0rdFs5XSp0WzldK3RbMTBdKnRbMTBdO3JldHVybiBNYXRoLnNxcnQoTWF0aC5tYXgoZSxuLGkpKX1tYWtlVHJhbnNsYXRpb24odCxlLG4pe3JldHVybiB0aGlzLnNldCgxLDAsMCx0LDAsMSwwLGUsMCwwLDEsbiwwLDAsMCwxKSx0aGlzfW1ha2VSb3RhdGlvblgodCl7Y29uc3QgZT1NYXRoLmNvcyh0KSxuPU1hdGguc2luKHQpO3JldHVybiB0aGlzLnNldCgxLDAsMCwwLDAsZSwtbiwwLDAsbixlLDAsMCwwLDAsMSksdGhpc31tYWtlUm90YXRpb25ZKHQpe2NvbnN0IGU9TWF0aC5jb3ModCksbj1NYXRoLnNpbih0KTtyZXR1cm4gdGhpcy5zZXQoZSwwLG4sMCwwLDEsMCwwLC1uLDAsZSwwLDAsMCwwLDEpLHRoaXN9bWFrZVJvdGF0aW9uWih0KXtjb25zdCBlPU1hdGguY29zKHQpLG49TWF0aC5zaW4odCk7cmV0dXJuIHRoaXMuc2V0KGUsLW4sMCwwLG4sZSwwLDAsMCwwLDEsMCwwLDAsMCwxKSx0aGlzfW1ha2VSb3RhdGlvbkF4aXModCxlKXtjb25zdCBuPU1hdGguY29zKGUpLGk9TWF0aC5zaW4oZSkscj0xLW4scz10LngsYT10Lnksbz10LnosbD1yKnMsYz1yKmE7cmV0dXJuIHRoaXMuc2V0KGwqcytuLGwqYS1pKm8sbCpvK2kqYSwwLGwqYStpKm8sYyphK24sYypvLWkqcywwLGwqby1pKmEsYypvK2kqcyxyKm8qbytuLDAsMCwwLDAsMSksdGhpc31tYWtlU2NhbGUodCxlLG4pe3JldHVybiB0aGlzLnNldCh0LDAsMCwwLDAsZSwwLDAsMCwwLG4sMCwwLDAsMCwxKSx0aGlzfW1ha2VTaGVhcih0LGUsbil7cmV0dXJuIHRoaXMuc2V0KDEsZSxuLDAsdCwxLG4sMCx0LGUsMSwwLDAsMCwwLDEpLHRoaXN9Y29tcG9zZSh0LGUsbil7Y29uc3QgaT10aGlzLmVsZW1lbnRzLHI9ZS5feCxzPWUuX3ksYT1lLl96LG89ZS5fdyxsPXIrcixjPXMrcyxoPWErYSx1PXIqbCxkPXIqYyxwPXIqaCxtPXMqYyxmPXMqaCxnPWEqaCx2PW8qbCx5PW8qYyx4PW8qaCxfPW4ueCx3PW4ueSxiPW4uejtyZXR1cm4gaVswXT0oMS0obStnKSkqXyxpWzFdPShkK3gpKl8saVsyXT0ocC15KSpfLGlbM109MCxpWzRdPShkLXgpKncsaVs1XT0oMS0odStnKSkqdyxpWzZdPShmK3YpKncsaVs3XT0wLGlbOF09KHAreSkqYixpWzldPShmLXYpKmIsaVsxMF09KDEtKHUrbSkpKmIsaVsxMV09MCxpWzEyXT10LngsaVsxM109dC55LGlbMTRdPXQueixpWzE1XT0xLHRoaXN9ZGVjb21wb3NlKHQsZSxuKXtjb25zdCBpPXRoaXMuZWxlbWVudHM7bGV0IHI9YWUuc2V0KGlbMF0saVsxXSxpWzJdKS5sZW5ndGgoKTtjb25zdCBzPWFlLnNldChpWzRdLGlbNV0saVs2XSkubGVuZ3RoKCksYT1hZS5zZXQoaVs4XSxpWzldLGlbMTBdKS5sZW5ndGgoKTt0aGlzLmRldGVybWluYW50KCk8MCYmKHI9LXIpLHQueD1pWzEyXSx0Lnk9aVsxM10sdC56PWlbMTRdLG9lLmNvcHkodGhpcyk7Y29uc3Qgbz0xL3IsbD0xL3MsYz0xL2E7cmV0dXJuIG9lLmVsZW1lbnRzWzBdKj1vLG9lLmVsZW1lbnRzWzFdKj1vLG9lLmVsZW1lbnRzWzJdKj1vLG9lLmVsZW1lbnRzWzRdKj1sLG9lLmVsZW1lbnRzWzVdKj1sLG9lLmVsZW1lbnRzWzZdKj1sLG9lLmVsZW1lbnRzWzhdKj1jLG9lLmVsZW1lbnRzWzldKj1jLG9lLmVsZW1lbnRzWzEwXSo9YyxlLnNldEZyb21Sb3RhdGlvbk1hdHJpeChvZSksbi54PXIsbi55PXMsbi56PWEsdGhpc31tYWtlUGVyc3BlY3RpdmUodCxlLG4saSxyLHMpe3ZvaWQgMD09PXMmJmNvbnNvbGUud2FybigiVEhSRUUuTWF0cml4NDogLm1ha2VQZXJzcGVjdGl2ZSgpIGhhcyBiZWVuIHJlZGVmaW5lZCBhbmQgaGFzIGEgbmV3IHNpZ25hdHVyZS4gUGxlYXNlIGNoZWNrIHRoZSBkb2NzLiIpO2NvbnN0IGE9dGhpcy5lbGVtZW50cyxvPTIqci8oZS10KSxsPTIqci8obi1pKSxjPShlK3QpLyhlLXQpLGg9KG4raSkvKG4taSksdT0tKHMrcikvKHMtciksZD0tMipzKnIvKHMtcik7cmV0dXJuIGFbMF09byxhWzRdPTAsYVs4XT1jLGFbMTJdPTAsYVsxXT0wLGFbNV09bCxhWzldPWgsYVsxM109MCxhWzJdPTAsYVs2XT0wLGFbMTBdPXUsYVsxNF09ZCxhWzNdPTAsYVs3XT0wLGFbMTFdPS0xLGFbMTVdPTAsdGhpc31tYWtlT3J0aG9ncmFwaGljKHQsZSxuLGkscixzKXtjb25zdCBhPXRoaXMuZWxlbWVudHMsbz0xLyhlLXQpLGw9MS8obi1pKSxjPTEvKHMtciksaD0oZSt0KSpvLHU9KG4raSkqbCxkPShzK3IpKmM7cmV0dXJuIGFbMF09MipvLGFbNF09MCxhWzhdPTAsYVsxMl09LWgsYVsxXT0wLGFbNV09MipsLGFbOV09MCxhWzEzXT0tdSxhWzJdPTAsYVs2XT0wLGFbMTBdPS0yKmMsYVsxNF09LWQsYVszXT0wLGFbN109MCxhWzExXT0wLGFbMTVdPTEsdGhpc31lcXVhbHModCl7Y29uc3QgZT10aGlzLmVsZW1lbnRzLG49dC5lbGVtZW50cztmb3IobGV0IHQ9MDt0PDE2O3QrKylpZihlW3RdIT09blt0XSlyZXR1cm4hMTtyZXR1cm4hMH1mcm9tQXJyYXkodCxlPTApe2ZvcihsZXQgbj0wO248MTY7bisrKXRoaXMuZWxlbWVudHNbbl09dFtuK2VdO3JldHVybiB0aGlzfXRvQXJyYXkodD1bXSxlPTApe2NvbnN0IG49dGhpcy5lbGVtZW50cztyZXR1cm4gdFtlXT1uWzBdLHRbZSsxXT1uWzFdLHRbZSsyXT1uWzJdLHRbZSszXT1uWzNdLHRbZSs0XT1uWzRdLHRbZSs1XT1uWzVdLHRbZSs2XT1uWzZdLHRbZSs3XT1uWzddLHRbZSs4XT1uWzhdLHRbZSs5XT1uWzldLHRbZSsxMF09blsxMF0sdFtlKzExXT1uWzExXSx0W2UrMTJdPW5bMTJdLHRbZSsxM109blsxM10sdFtlKzE0XT1uWzE0XSx0W2UrMTVdPW5bMTVdLHR9fXNlLnByb3RvdHlwZS5pc01hdHJpeDQ9ITA7Y29uc3QgYWU9bmV3IEx0LG9lPW5ldyBzZSxsZT1uZXcgTHQoMCwwLDApLGNlPW5ldyBMdCgxLDEsMSksaGU9bmV3IEx0LHVlPW5ldyBMdCxkZT1uZXcgTHQscGU9bmV3IHNlLG1lPW5ldyBBdDtjbGFzcyBmZXtjb25zdHJ1Y3Rvcih0PTAsZT0wLG49MCxpPWZlLkRlZmF1bHRPcmRlcil7dGhpcy5feD10LHRoaXMuX3k9ZSx0aGlzLl96PW4sdGhpcy5fb3JkZXI9aX1nZXQgeCgpe3JldHVybiB0aGlzLl94fXNldCB4KHQpe3RoaXMuX3g9dCx0aGlzLl9vbkNoYW5nZUNhbGxiYWNrKCl9Z2V0IHkoKXtyZXR1cm4gdGhpcy5feX1zZXQgeSh0KXt0aGlzLl95PXQsdGhpcy5fb25DaGFuZ2VDYWxsYmFjaygpfWdldCB6KCl7cmV0dXJuIHRoaXMuX3p9c2V0IHoodCl7dGhpcy5fej10LHRoaXMuX29uQ2hhbmdlQ2FsbGJhY2soKX1nZXQgb3JkZXIoKXtyZXR1cm4gdGhpcy5fb3JkZXJ9c2V0IG9yZGVyKHQpe3RoaXMuX29yZGVyPXQsdGhpcy5fb25DaGFuZ2VDYWxsYmFjaygpfXNldCh0LGUsbixpKXtyZXR1cm4gdGhpcy5feD10LHRoaXMuX3k9ZSx0aGlzLl96PW4sdGhpcy5fb3JkZXI9aXx8dGhpcy5fb3JkZXIsdGhpcy5fb25DaGFuZ2VDYWxsYmFjaygpLHRoaXN9Y2xvbmUoKXtyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IodGhpcy5feCx0aGlzLl95LHRoaXMuX3osdGhpcy5fb3JkZXIpfWNvcHkodCl7cmV0dXJuIHRoaXMuX3g9dC5feCx0aGlzLl95PXQuX3ksdGhpcy5fej10Ll96LHRoaXMuX29yZGVyPXQuX29yZGVyLHRoaXMuX29uQ2hhbmdlQ2FsbGJhY2soKSx0aGlzfXNldEZyb21Sb3RhdGlvbk1hdHJpeCh0LGUsbil7Y29uc3QgaT10LmVsZW1lbnRzLHI9aVswXSxzPWlbNF0sYT1pWzhdLG89aVsxXSxsPWlbNV0sYz1pWzldLGg9aVsyXSx1PWlbNl0sZD1pWzEwXTtzd2l0Y2goZT1lfHx0aGlzLl9vcmRlcil7Y2FzZSJYWVoiOnRoaXMuX3k9TWF0aC5hc2luKGh0KGEsLTEsMSkpLE1hdGguYWJzKGEpPC45OTk5OTk5Pyh0aGlzLl94PU1hdGguYXRhbjIoLWMsZCksdGhpcy5fej1NYXRoLmF0YW4yKC1zLHIpKToodGhpcy5feD1NYXRoLmF0YW4yKHUsbCksdGhpcy5fej0wKTticmVhaztjYXNlIllYWiI6dGhpcy5feD1NYXRoLmFzaW4oLWh0KGMsLTEsMSkpLE1hdGguYWJzKGMpPC45OTk5OTk5Pyh0aGlzLl95PU1hdGguYXRhbjIoYSxkKSx0aGlzLl96PU1hdGguYXRhbjIobyxsKSk6KHRoaXMuX3k9TWF0aC5hdGFuMigtaCxyKSx0aGlzLl96PTApO2JyZWFrO2Nhc2UiWlhZIjp0aGlzLl94PU1hdGguYXNpbihodCh1LC0xLDEpKSxNYXRoLmFicyh1KTwuOTk5OTk5OT8odGhpcy5feT1NYXRoLmF0YW4yKC1oLGQpLHRoaXMuX3o9TWF0aC5hdGFuMigtcyxsKSk6KHRoaXMuX3k9MCx0aGlzLl96PU1hdGguYXRhbjIobyxyKSk7YnJlYWs7Y2FzZSJaWVgiOnRoaXMuX3k9TWF0aC5hc2luKC1odChoLC0xLDEpKSxNYXRoLmFicyhoKTwuOTk5OTk5OT8odGhpcy5feD1NYXRoLmF0YW4yKHUsZCksdGhpcy5fej1NYXRoLmF0YW4yKG8scikpOih0aGlzLl94PTAsdGhpcy5fej1NYXRoLmF0YW4yKC1zLGwpKTticmVhaztjYXNlIllaWCI6dGhpcy5fej1NYXRoLmFzaW4oaHQobywtMSwxKSksTWF0aC5hYnMobyk8Ljk5OTk5OTk/KHRoaXMuX3g9TWF0aC5hdGFuMigtYyxsKSx0aGlzLl95PU1hdGguYXRhbjIoLWgscikpOih0aGlzLl94PTAsdGhpcy5feT1NYXRoLmF0YW4yKGEsZCkpO2JyZWFrO2Nhc2UiWFpZIjp0aGlzLl96PU1hdGguYXNpbigtaHQocywtMSwxKSksTWF0aC5hYnMocyk8Ljk5OTk5OTk/KHRoaXMuX3g9TWF0aC5hdGFuMih1LGwpLHRoaXMuX3k9TWF0aC5hdGFuMihhLHIpKToodGhpcy5feD1NYXRoLmF0YW4yKC1jLGQpLHRoaXMuX3k9MCk7YnJlYWs7ZGVmYXVsdDpjb25zb2xlLndhcm4oIlRIUkVFLkV1bGVyOiAuc2V0RnJvbVJvdGF0aW9uTWF0cml4KCkgZW5jb3VudGVyZWQgYW4gdW5rbm93biBvcmRlcjogIitlKX1yZXR1cm4gdGhpcy5fb3JkZXI9ZSwhMSE9PW4mJnRoaXMuX29uQ2hhbmdlQ2FsbGJhY2soKSx0aGlzfXNldEZyb21RdWF0ZXJuaW9uKHQsZSxuKXtyZXR1cm4gcGUubWFrZVJvdGF0aW9uRnJvbVF1YXRlcm5pb24odCksdGhpcy5zZXRGcm9tUm90YXRpb25NYXRyaXgocGUsZSxuKX1zZXRGcm9tVmVjdG9yMyh0LGUpe3JldHVybiB0aGlzLnNldCh0LngsdC55LHQueixlfHx0aGlzLl9vcmRlcil9cmVvcmRlcih0KXtyZXR1cm4gbWUuc2V0RnJvbUV1bGVyKHRoaXMpLHRoaXMuc2V0RnJvbVF1YXRlcm5pb24obWUsdCl9ZXF1YWxzKHQpe3JldHVybiB0Ll94PT09dGhpcy5feCYmdC5feT09PXRoaXMuX3kmJnQuX3o9PT10aGlzLl96JiZ0Ll9vcmRlcj09PXRoaXMuX29yZGVyfWZyb21BcnJheSh0KXtyZXR1cm4gdGhpcy5feD10WzBdLHRoaXMuX3k9dFsxXSx0aGlzLl96PXRbMl0sdm9pZCAwIT09dFszXSYmKHRoaXMuX29yZGVyPXRbM10pLHRoaXMuX29uQ2hhbmdlQ2FsbGJhY2soKSx0aGlzfXRvQXJyYXkodD1bXSxlPTApe3JldHVybiB0W2VdPXRoaXMuX3gsdFtlKzFdPXRoaXMuX3ksdFtlKzJdPXRoaXMuX3osdFtlKzNdPXRoaXMuX29yZGVyLHR9dG9WZWN0b3IzKHQpe3JldHVybiB0P3Quc2V0KHRoaXMuX3gsdGhpcy5feSx0aGlzLl96KTpuZXcgTHQodGhpcy5feCx0aGlzLl95LHRoaXMuX3opfV9vbkNoYW5nZSh0KXtyZXR1cm4gdGhpcy5fb25DaGFuZ2VDYWxsYmFjaz10LHRoaXN9X29uQ2hhbmdlQ2FsbGJhY2soKXt9fWZlLnByb3RvdHlwZS5pc0V1bGVyPSEwLGZlLkRlZmF1bHRPcmRlcj0iWFlaIixmZS5Sb3RhdGlvbk9yZGVycz1bIlhZWiIsIllaWCIsIlpYWSIsIlhaWSIsIllYWiIsIlpZWCJdO2NsYXNzIGdle2NvbnN0cnVjdG9yKCl7dGhpcy5tYXNrPTF9c2V0KHQpe3RoaXMubWFzaz0xPDx0fDB9ZW5hYmxlKHQpe3RoaXMubWFza3w9MTw8dHwwfWVuYWJsZUFsbCgpe3RoaXMubWFzaz0tMX10b2dnbGUodCl7dGhpcy5tYXNrXj0xPDx0fDB9ZGlzYWJsZSh0KXt0aGlzLm1hc2smPX4oMTw8dHwwKX1kaXNhYmxlQWxsKCl7dGhpcy5tYXNrPTB9dGVzdCh0KXtyZXR1cm4gMCE9KHRoaXMubWFzayZ0Lm1hc2spfX1sZXQgdmU9MDtjb25zdCB5ZT1uZXcgTHQseGU9bmV3IEF0LF9lPW5ldyBzZSx3ZT1uZXcgTHQsYmU9bmV3IEx0LE1lPW5ldyBMdCxTZT1uZXcgQXQsVGU9bmV3IEx0KDEsMCwwKSxFZT1uZXcgTHQoMCwxLDApLEFlPW5ldyBMdCgwLDAsMSksTGU9e3R5cGU6ImFkZGVkIn0sUmU9e3R5cGU6InJlbW92ZWQifTtjbGFzcyBDZSBleHRlbmRzIHJ0e2NvbnN0cnVjdG9yKCl7c3VwZXIoKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywiaWQiLHt2YWx1ZTp2ZSsrfSksdGhpcy51dWlkPWN0KCksdGhpcy5uYW1lPSIiLHRoaXMudHlwZT0iT2JqZWN0M0QiLHRoaXMucGFyZW50PW51bGwsdGhpcy5jaGlsZHJlbj1bXSx0aGlzLnVwPUNlLkRlZmF1bHRVcC5jbG9uZSgpO2NvbnN0IHQ9bmV3IEx0LGU9bmV3IGZlLG49bmV3IEF0LGk9bmV3IEx0KDEsMSwxKTtlLl9vbkNoYW5nZSgoZnVuY3Rpb24oKXtuLnNldEZyb21FdWxlcihlLCExKX0pKSxuLl9vbkNoYW5nZSgoZnVuY3Rpb24oKXtlLnNldEZyb21RdWF0ZXJuaW9uKG4sdm9pZCAwLCExKX0pKSxPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0aGlzLHtwb3NpdGlvbjp7Y29uZmlndXJhYmxlOiEwLGVudW1lcmFibGU6ITAsdmFsdWU6dH0scm90YXRpb246e2NvbmZpZ3VyYWJsZTohMCxlbnVtZXJhYmxlOiEwLHZhbHVlOmV9LHF1YXRlcm5pb246e2NvbmZpZ3VyYWJsZTohMCxlbnVtZXJhYmxlOiEwLHZhbHVlOm59LHNjYWxlOntjb25maWd1cmFibGU6ITAsZW51bWVyYWJsZTohMCx2YWx1ZTppfSxtb2RlbFZpZXdNYXRyaXg6e3ZhbHVlOm5ldyBzZX0sbm9ybWFsTWF0cml4Ont2YWx1ZTpuZXcgeXR9fSksdGhpcy5tYXRyaXg9bmV3IHNlLHRoaXMubWF0cml4V29ybGQ9bmV3IHNlLHRoaXMubWF0cml4QXV0b1VwZGF0ZT1DZS5EZWZhdWx0TWF0cml4QXV0b1VwZGF0ZSx0aGlzLm1hdHJpeFdvcmxkTmVlZHNVcGRhdGU9ITEsdGhpcy5sYXllcnM9bmV3IGdlLHRoaXMudmlzaWJsZT0hMCx0aGlzLmNhc3RTaGFkb3c9ITEsdGhpcy5yZWNlaXZlU2hhZG93PSExLHRoaXMuZnJ1c3R1bUN1bGxlZD0hMCx0aGlzLnJlbmRlck9yZGVyPTAsdGhpcy5hbmltYXRpb25zPVtdLHRoaXMudXNlckRhdGE9e319b25CZWZvcmVSZW5kZXIoKXt9b25BZnRlclJlbmRlcigpe31hcHBseU1hdHJpeDQodCl7dGhpcy5tYXRyaXhBdXRvVXBkYXRlJiZ0aGlzLnVwZGF0ZU1hdHJpeCgpLHRoaXMubWF0cml4LnByZW11bHRpcGx5KHQpLHRoaXMubWF0cml4LmRlY29tcG9zZSh0aGlzLnBvc2l0aW9uLHRoaXMucXVhdGVybmlvbix0aGlzLnNjYWxlKX1hcHBseVF1YXRlcm5pb24odCl7cmV0dXJuIHRoaXMucXVhdGVybmlvbi5wcmVtdWx0aXBseSh0KSx0aGlzfXNldFJvdGF0aW9uRnJvbUF4aXNBbmdsZSh0LGUpe3RoaXMucXVhdGVybmlvbi5zZXRGcm9tQXhpc0FuZ2xlKHQsZSl9c2V0Um90YXRpb25Gcm9tRXVsZXIodCl7dGhpcy5xdWF0ZXJuaW9uLnNldEZyb21FdWxlcih0LCEwKX1zZXRSb3RhdGlvbkZyb21NYXRyaXgodCl7dGhpcy5xdWF0ZXJuaW9uLnNldEZyb21Sb3RhdGlvbk1hdHJpeCh0KX1zZXRSb3RhdGlvbkZyb21RdWF0ZXJuaW9uKHQpe3RoaXMucXVhdGVybmlvbi5jb3B5KHQpfXJvdGF0ZU9uQXhpcyh0LGUpe3JldHVybiB4ZS5zZXRGcm9tQXhpc0FuZ2xlKHQsZSksdGhpcy5xdWF0ZXJuaW9uLm11bHRpcGx5KHhlKSx0aGlzfXJvdGF0ZU9uV29ybGRBeGlzKHQsZSl7cmV0dXJuIHhlLnNldEZyb21BeGlzQW5nbGUodCxlKSx0aGlzLnF1YXRlcm5pb24ucHJlbXVsdGlwbHkoeGUpLHRoaXN9cm90YXRlWCh0KXtyZXR1cm4gdGhpcy5yb3RhdGVPbkF4aXMoVGUsdCl9cm90YXRlWSh0KXtyZXR1cm4gdGhpcy5yb3RhdGVPbkF4aXMoRWUsdCl9cm90YXRlWih0KXtyZXR1cm4gdGhpcy5yb3RhdGVPbkF4aXMoQWUsdCl9dHJhbnNsYXRlT25BeGlzKHQsZSl7cmV0dXJuIHllLmNvcHkodCkuYXBwbHlRdWF0ZXJuaW9uKHRoaXMucXVhdGVybmlvbiksdGhpcy5wb3NpdGlvbi5hZGQoeWUubXVsdGlwbHlTY2FsYXIoZSkpLHRoaXN9dHJhbnNsYXRlWCh0KXtyZXR1cm4gdGhpcy50cmFuc2xhdGVPbkF4aXMoVGUsdCl9dHJhbnNsYXRlWSh0KXtyZXR1cm4gdGhpcy50cmFuc2xhdGVPbkF4aXMoRWUsdCl9dHJhbnNsYXRlWih0KXtyZXR1cm4gdGhpcy50cmFuc2xhdGVPbkF4aXMoQWUsdCl9bG9jYWxUb1dvcmxkKHQpe3JldHVybiB0LmFwcGx5TWF0cml4NCh0aGlzLm1hdHJpeFdvcmxkKX13b3JsZFRvTG9jYWwodCl7cmV0dXJuIHQuYXBwbHlNYXRyaXg0KF9lLmNvcHkodGhpcy5tYXRyaXhXb3JsZCkuaW52ZXJ0KCkpfWxvb2tBdCh0LGUsbil7dC5pc1ZlY3RvcjM/d2UuY29weSh0KTp3ZS5zZXQodCxlLG4pO2NvbnN0IGk9dGhpcy5wYXJlbnQ7dGhpcy51cGRhdGVXb3JsZE1hdHJpeCghMCwhMSksYmUuc2V0RnJvbU1hdHJpeFBvc2l0aW9uKHRoaXMubWF0cml4V29ybGQpLHRoaXMuaXNDYW1lcmF8fHRoaXMuaXNMaWdodD9fZS5sb29rQXQoYmUsd2UsdGhpcy51cCk6X2UubG9va0F0KHdlLGJlLHRoaXMudXApLHRoaXMucXVhdGVybmlvbi5zZXRGcm9tUm90YXRpb25NYXRyaXgoX2UpLGkmJihfZS5leHRyYWN0Um90YXRpb24oaS5tYXRyaXhXb3JsZCkseGUuc2V0RnJvbVJvdGF0aW9uTWF0cml4KF9lKSx0aGlzLnF1YXRlcm5pb24ucHJlbXVsdGlwbHkoeGUuaW52ZXJ0KCkpKX1hZGQodCl7aWYoYXJndW1lbnRzLmxlbmd0aD4xKXtmb3IobGV0IHQ9MDt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXRoaXMuYWRkKGFyZ3VtZW50c1t0XSk7cmV0dXJuIHRoaXN9cmV0dXJuIHQ9PT10aGlzPyhjb25zb2xlLmVycm9yKCJUSFJFRS5PYmplY3QzRC5hZGQ6IG9iamVjdCBjYW4ndCBiZSBhZGRlZCBhcyBhIGNoaWxkIG9mIGl0c2VsZi4iLHQpLHRoaXMpOih0JiZ0LmlzT2JqZWN0M0Q/KG51bGwhPT10LnBhcmVudCYmdC5wYXJlbnQucmVtb3ZlKHQpLHQucGFyZW50PXRoaXMsdGhpcy5jaGlsZHJlbi5wdXNoKHQpLHQuZGlzcGF0Y2hFdmVudChMZSkpOmNvbnNvbGUuZXJyb3IoIlRIUkVFLk9iamVjdDNELmFkZDogb2JqZWN0IG5vdCBhbiBpbnN0YW5jZSBvZiBUSFJFRS5PYmplY3QzRC4iLHQpLHRoaXMpfXJlbW92ZSh0KXtpZihhcmd1bWVudHMubGVuZ3RoPjEpe2ZvcihsZXQgdD0wO3Q8YXJndW1lbnRzLmxlbmd0aDt0KyspdGhpcy5yZW1vdmUoYXJndW1lbnRzW3RdKTtyZXR1cm4gdGhpc31jb25zdCBlPXRoaXMuY2hpbGRyZW4uaW5kZXhPZih0KTtyZXR1cm4tMSE9PWUmJih0LnBhcmVudD1udWxsLHRoaXMuY2hpbGRyZW4uc3BsaWNlKGUsMSksdC5kaXNwYXRjaEV2ZW50KFJlKSksdGhpc31jbGVhcigpe2ZvcihsZXQgdD0wO3Q8dGhpcy5jaGlsZHJlbi5sZW5ndGg7dCsrKXtjb25zdCBlPXRoaXMuY2hpbGRyZW5bdF07ZS5wYXJlbnQ9bnVsbCxlLmRpc3BhdGNoRXZlbnQoUmUpfXJldHVybiB0aGlzLmNoaWxkcmVuLmxlbmd0aD0wLHRoaXN9YXR0YWNoKHQpe3JldHVybiB0aGlzLnVwZGF0ZVdvcmxkTWF0cml4KCEwLCExKSxfZS5jb3B5KHRoaXMubWF0cml4V29ybGQpLmludmVydCgpLG51bGwhPT10LnBhcmVudCYmKHQucGFyZW50LnVwZGF0ZVdvcmxkTWF0cml4KCEwLCExKSxfZS5tdWx0aXBseSh0LnBhcmVudC5tYXRyaXhXb3JsZCkpLHQuYXBwbHlNYXRyaXg0KF9lKSx0aGlzLmFkZCh0KSx0LnVwZGF0ZVdvcmxkTWF0cml4KCExLCEwKSx0aGlzfWdldE9iamVjdEJ5SWQodCl7cmV0dXJuIHRoaXMuZ2V0T2JqZWN0QnlQcm9wZXJ0eSgiaWQiLHQpfWdldE9iamVjdEJ5TmFtZSh0KXtyZXR1cm4gdGhpcy5nZXRPYmplY3RCeVByb3BlcnR5KCJuYW1lIix0KX1nZXRPYmplY3RCeVByb3BlcnR5KHQsZSl7aWYodGhpc1t0XT09PWUpcmV0dXJuIHRoaXM7Zm9yKGxldCBuPTAsaT10aGlzLmNoaWxkcmVuLmxlbmd0aDtuPGk7bisrKXtjb25zdCBpPXRoaXMuY2hpbGRyZW5bbl0uZ2V0T2JqZWN0QnlQcm9wZXJ0eSh0LGUpO2lmKHZvaWQgMCE9PWkpcmV0dXJuIGl9fWdldFdvcmxkUG9zaXRpb24odCl7cmV0dXJuIHZvaWQgMD09PXQmJihjb25zb2xlLndhcm4oIlRIUkVFLk9iamVjdDNEOiAuZ2V0V29ybGRQb3NpdGlvbigpIHRhcmdldCBpcyBub3cgcmVxdWlyZWQiKSx0PW5ldyBMdCksdGhpcy51cGRhdGVXb3JsZE1hdHJpeCghMCwhMSksdC5zZXRGcm9tTWF0cml4UG9zaXRpb24odGhpcy5tYXRyaXhXb3JsZCl9Z2V0V29ybGRRdWF0ZXJuaW9uKHQpe3JldHVybiB2b2lkIDA9PT10JiYoY29uc29sZS53YXJuKCJUSFJFRS5PYmplY3QzRDogLmdldFdvcmxkUXVhdGVybmlvbigpIHRhcmdldCBpcyBub3cgcmVxdWlyZWQiKSx0PW5ldyBBdCksdGhpcy51cGRhdGVXb3JsZE1hdHJpeCghMCwhMSksdGhpcy5tYXRyaXhXb3JsZC5kZWNvbXBvc2UoYmUsdCxNZSksdH1nZXRXb3JsZFNjYWxlKHQpe3JldHVybiB2b2lkIDA9PT10JiYoY29uc29sZS53YXJuKCJUSFJFRS5PYmplY3QzRDogLmdldFdvcmxkU2NhbGUoKSB0YXJnZXQgaXMgbm93IHJlcXVpcmVkIiksdD1uZXcgTHQpLHRoaXMudXBkYXRlV29ybGRNYXRyaXgoITAsITEpLHRoaXMubWF0cml4V29ybGQuZGVjb21wb3NlKGJlLFNlLHQpLHR9Z2V0V29ybGREaXJlY3Rpb24odCl7dm9pZCAwPT09dCYmKGNvbnNvbGUud2FybigiVEhSRUUuT2JqZWN0M0Q6IC5nZXRXb3JsZERpcmVjdGlvbigpIHRhcmdldCBpcyBub3cgcmVxdWlyZWQiKSx0PW5ldyBMdCksdGhpcy51cGRhdGVXb3JsZE1hdHJpeCghMCwhMSk7Y29uc3QgZT10aGlzLm1hdHJpeFdvcmxkLmVsZW1lbnRzO3JldHVybiB0LnNldChlWzhdLGVbOV0sZVsxMF0pLm5vcm1hbGl6ZSgpfXJheWNhc3QoKXt9dHJhdmVyc2UodCl7dCh0aGlzKTtjb25zdCBlPXRoaXMuY2hpbGRyZW47Zm9yKGxldCBuPTAsaT1lLmxlbmd0aDtuPGk7bisrKWVbbl0udHJhdmVyc2UodCl9dHJhdmVyc2VWaXNpYmxlKHQpe2lmKCExPT09dGhpcy52aXNpYmxlKXJldHVybjt0KHRoaXMpO2NvbnN0IGU9dGhpcy5jaGlsZHJlbjtmb3IobGV0IG49MCxpPWUubGVuZ3RoO248aTtuKyspZVtuXS50cmF2ZXJzZVZpc2libGUodCl9dHJhdmVyc2VBbmNlc3RvcnModCl7Y29uc3QgZT10aGlzLnBhcmVudDtudWxsIT09ZSYmKHQoZSksZS50cmF2ZXJzZUFuY2VzdG9ycyh0KSl9dXBkYXRlTWF0cml4KCl7dGhpcy5tYXRyaXguY29tcG9zZSh0aGlzLnBvc2l0aW9uLHRoaXMucXVhdGVybmlvbix0aGlzLnNjYWxlKSx0aGlzLm1hdHJpeFdvcmxkTmVlZHNVcGRhdGU9ITB9dXBkYXRlTWF0cml4V29ybGQodCl7dGhpcy5tYXRyaXhBdXRvVXBkYXRlJiZ0aGlzLnVwZGF0ZU1hdHJpeCgpLCh0aGlzLm1hdHJpeFdvcmxkTmVlZHNVcGRhdGV8fHQpJiYobnVsbD09PXRoaXMucGFyZW50P3RoaXMubWF0cml4V29ybGQuY29weSh0aGlzLm1hdHJpeCk6dGhpcy5tYXRyaXhXb3JsZC5tdWx0aXBseU1hdHJpY2VzKHRoaXMucGFyZW50Lm1hdHJpeFdvcmxkLHRoaXMubWF0cml4KSx0aGlzLm1hdHJpeFdvcmxkTmVlZHNVcGRhdGU9ITEsdD0hMCk7Y29uc3QgZT10aGlzLmNoaWxkcmVuO2ZvcihsZXQgbj0wLGk9ZS5sZW5ndGg7bjxpO24rKyllW25dLnVwZGF0ZU1hdHJpeFdvcmxkKHQpfXVwZGF0ZVdvcmxkTWF0cml4KHQsZSl7Y29uc3Qgbj10aGlzLnBhcmVudDtpZighMD09PXQmJm51bGwhPT1uJiZuLnVwZGF0ZVdvcmxkTWF0cml4KCEwLCExKSx0aGlzLm1hdHJpeEF1dG9VcGRhdGUmJnRoaXMudXBkYXRlTWF0cml4KCksbnVsbD09PXRoaXMucGFyZW50P3RoaXMubWF0cml4V29ybGQuY29weSh0aGlzLm1hdHJpeCk6dGhpcy5tYXRyaXhXb3JsZC5tdWx0aXBseU1hdHJpY2VzKHRoaXMucGFyZW50Lm1hdHJpeFdvcmxkLHRoaXMubWF0cml4KSwhMD09PWUpe2NvbnN0IHQ9dGhpcy5jaGlsZHJlbjtmb3IobGV0IGU9MCxuPXQubGVuZ3RoO2U8bjtlKyspdFtlXS51cGRhdGVXb3JsZE1hdHJpeCghMSwhMCl9fXRvSlNPTih0KXtjb25zdCBlPXZvaWQgMD09PXR8fCJzdHJpbmciPT10eXBlb2YgdCxuPXt9O2UmJih0PXtnZW9tZXRyaWVzOnt9LG1hdGVyaWFsczp7fSx0ZXh0dXJlczp7fSxpbWFnZXM6e30sc2hhcGVzOnt9LHNrZWxldG9uczp7fSxhbmltYXRpb25zOnt9fSxuLm1ldGFkYXRhPXt2ZXJzaW9uOjQuNSx0eXBlOiJPYmplY3QiLGdlbmVyYXRvcjoiT2JqZWN0M0QudG9KU09OIn0pO2NvbnN0IGk9e307ZnVuY3Rpb24gcihlLG4pe3JldHVybiB2b2lkIDA9PT1lW24udXVpZF0mJihlW24udXVpZF09bi50b0pTT04odCkpLG4udXVpZH1pZihpLnV1aWQ9dGhpcy51dWlkLGkudHlwZT10aGlzLnR5cGUsIiIhPT10aGlzLm5hbWUmJihpLm5hbWU9dGhpcy5uYW1lKSwhMD09PXRoaXMuY2FzdFNoYWRvdyYmKGkuY2FzdFNoYWRvdz0hMCksITA9PT10aGlzLnJlY2VpdmVTaGFkb3cmJihpLnJlY2VpdmVTaGFkb3c9ITApLCExPT09dGhpcy52aXNpYmxlJiYoaS52aXNpYmxlPSExKSwhMT09PXRoaXMuZnJ1c3R1bUN1bGxlZCYmKGkuZnJ1c3R1bUN1bGxlZD0hMSksMCE9PXRoaXMucmVuZGVyT3JkZXImJihpLnJlbmRlck9yZGVyPXRoaXMucmVuZGVyT3JkZXIpLCJ7fSIhPT1KU09OLnN0cmluZ2lmeSh0aGlzLnVzZXJEYXRhKSYmKGkudXNlckRhdGE9dGhpcy51c2VyRGF0YSksaS5sYXllcnM9dGhpcy5sYXllcnMubWFzayxpLm1hdHJpeD10aGlzLm1hdHJpeC50b0FycmF5KCksITE9PT10aGlzLm1hdHJpeEF1dG9VcGRhdGUmJihpLm1hdHJpeEF1dG9VcGRhdGU9ITEpLHRoaXMuaXNJbnN0YW5jZWRNZXNoJiYoaS50eXBlPSJJbnN0YW5jZWRNZXNoIixpLmNvdW50PXRoaXMuY291bnQsaS5pbnN0YW5jZU1hdHJpeD10aGlzLmluc3RhbmNlTWF0cml4LnRvSlNPTigpLG51bGwhPT10aGlzLmluc3RhbmNlQ29sb3ImJihpLmluc3RhbmNlQ29sb3I9dGhpcy5pbnN0YW5jZUNvbG9yLnRvSlNPTigpKSksdGhpcy5pc01lc2h8fHRoaXMuaXNMaW5lfHx0aGlzLmlzUG9pbnRzKXtpLmdlb21ldHJ5PXIodC5nZW9tZXRyaWVzLHRoaXMuZ2VvbWV0cnkpO2NvbnN0IGU9dGhpcy5nZW9tZXRyeS5wYXJhbWV0ZXJzO2lmKHZvaWQgMCE9PWUmJnZvaWQgMCE9PWUuc2hhcGVzKXtjb25zdCBuPWUuc2hhcGVzO2lmKEFycmF5LmlzQXJyYXkobikpZm9yKGxldCBlPTAsaT1uLmxlbmd0aDtlPGk7ZSsrKXtjb25zdCBpPW5bZV07cih0LnNoYXBlcyxpKX1lbHNlIHIodC5zaGFwZXMsbil9fWlmKHRoaXMuaXNTa2lubmVkTWVzaCYmKGkuYmluZE1vZGU9dGhpcy5iaW5kTW9kZSxpLmJpbmRNYXRyaXg9dGhpcy5iaW5kTWF0cml4LnRvQXJyYXkoKSx2b2lkIDAhPT10aGlzLnNrZWxldG9uJiYocih0LnNrZWxldG9ucyx0aGlzLnNrZWxldG9uKSxpLnNrZWxldG9uPXRoaXMuc2tlbGV0b24udXVpZCkpLHZvaWQgMCE9PXRoaXMubWF0ZXJpYWwpaWYoQXJyYXkuaXNBcnJheSh0aGlzLm1hdGVyaWFsKSl7Y29uc3QgZT1bXTtmb3IobGV0IG49MCxpPXRoaXMubWF0ZXJpYWwubGVuZ3RoO248aTtuKyspZS5wdXNoKHIodC5tYXRlcmlhbHMsdGhpcy5tYXRlcmlhbFtuXSkpO2kubWF0ZXJpYWw9ZX1lbHNlIGkubWF0ZXJpYWw9cih0Lm1hdGVyaWFscyx0aGlzLm1hdGVyaWFsKTtpZih0aGlzLmNoaWxkcmVuLmxlbmd0aD4wKXtpLmNoaWxkcmVuPVtdO2ZvcihsZXQgZT0wO2U8dGhpcy5jaGlsZHJlbi5sZW5ndGg7ZSsrKWkuY2hpbGRyZW4ucHVzaCh0aGlzLmNoaWxkcmVuW2VdLnRvSlNPTih0KS5vYmplY3QpfWlmKHRoaXMuYW5pbWF0aW9ucy5sZW5ndGg+MCl7aS5hbmltYXRpb25zPVtdO2ZvcihsZXQgZT0wO2U8dGhpcy5hbmltYXRpb25zLmxlbmd0aDtlKyspe2NvbnN0IG49dGhpcy5hbmltYXRpb25zW2VdO2kuYW5pbWF0aW9ucy5wdXNoKHIodC5hbmltYXRpb25zLG4pKX19aWYoZSl7Y29uc3QgZT1zKHQuZ2VvbWV0cmllcyksaT1zKHQubWF0ZXJpYWxzKSxyPXModC50ZXh0dXJlcyksYT1zKHQuaW1hZ2VzKSxvPXModC5zaGFwZXMpLGw9cyh0LnNrZWxldG9ucyksYz1zKHQuYW5pbWF0aW9ucyk7ZS5sZW5ndGg+MCYmKG4uZ2VvbWV0cmllcz1lKSxpLmxlbmd0aD4wJiYobi5tYXRlcmlhbHM9aSksci5sZW5ndGg+MCYmKG4udGV4dHVyZXM9ciksYS5sZW5ndGg+MCYmKG4uaW1hZ2VzPWEpLG8ubGVuZ3RoPjAmJihuLnNoYXBlcz1vKSxsLmxlbmd0aD4wJiYobi5za2VsZXRvbnM9bCksYy5sZW5ndGg+MCYmKG4uYW5pbWF0aW9ucz1jKX1yZXR1cm4gbi5vYmplY3Q9aSxuO2Z1bmN0aW9uIHModCl7Y29uc3QgZT1bXTtmb3IoY29uc3QgbiBpbiB0KXtjb25zdCBpPXRbbl07ZGVsZXRlIGkubWV0YWRhdGEsZS5wdXNoKGkpfXJldHVybiBlfX1jbG9uZSh0KXtyZXR1cm4obmV3IHRoaXMuY29uc3RydWN0b3IpLmNvcHkodGhpcyx0KX1jb3B5KHQsZT0hMCl7aWYodGhpcy5uYW1lPXQubmFtZSx0aGlzLnVwLmNvcHkodC51cCksdGhpcy5wb3NpdGlvbi5jb3B5KHQucG9zaXRpb24pLHRoaXMucm90YXRpb24ub3JkZXI9dC5yb3RhdGlvbi5vcmRlcix0aGlzLnF1YXRlcm5pb24uY29weSh0LnF1YXRlcm5pb24pLHRoaXMuc2NhbGUuY29weSh0LnNjYWxlKSx0aGlzLm1hdHJpeC5jb3B5KHQubWF0cml4KSx0aGlzLm1hdHJpeFdvcmxkLmNvcHkodC5tYXRyaXhXb3JsZCksdGhpcy5tYXRyaXhBdXRvVXBkYXRlPXQubWF0cml4QXV0b1VwZGF0ZSx0aGlzLm1hdHJpeFdvcmxkTmVlZHNVcGRhdGU9dC5tYXRyaXhXb3JsZE5lZWRzVXBkYXRlLHRoaXMubGF5ZXJzLm1hc2s9dC5sYXllcnMubWFzayx0aGlzLnZpc2libGU9dC52aXNpYmxlLHRoaXMuY2FzdFNoYWRvdz10LmNhc3RTaGFkb3csdGhpcy5yZWNlaXZlU2hhZG93PXQucmVjZWl2ZVNoYWRvdyx0aGlzLmZydXN0dW1DdWxsZWQ9dC5mcnVzdHVtQ3VsbGVkLHRoaXMucmVuZGVyT3JkZXI9dC5yZW5kZXJPcmRlcix0aGlzLnVzZXJEYXRhPUpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkodC51c2VyRGF0YSkpLCEwPT09ZSlmb3IobGV0IGU9MDtlPHQuY2hpbGRyZW4ubGVuZ3RoO2UrKyl7Y29uc3Qgbj10LmNoaWxkcmVuW2VdO3RoaXMuYWRkKG4uY2xvbmUoKSl9cmV0dXJuIHRoaXN9fUNlLkRlZmF1bHRVcD1uZXcgTHQoMCwxLDApLENlLkRlZmF1bHRNYXRyaXhBdXRvVXBkYXRlPSEwLENlLnByb3RvdHlwZS5pc09iamVjdDNEPSEwO2NvbnN0IFBlPW5ldyBMdCxEZT1uZXcgTHQsSWU9bmV3IHl0O2NsYXNzIE5le2NvbnN0cnVjdG9yKHQ9bmV3IEx0KDEsMCwwKSxlPTApe3RoaXMubm9ybWFsPXQsdGhpcy5jb25zdGFudD1lfXNldCh0LGUpe3JldHVybiB0aGlzLm5vcm1hbC5jb3B5KHQpLHRoaXMuY29uc3RhbnQ9ZSx0aGlzfXNldENvbXBvbmVudHModCxlLG4saSl7cmV0dXJuIHRoaXMubm9ybWFsLnNldCh0LGUsbiksdGhpcy5jb25zdGFudD1pLHRoaXN9c2V0RnJvbU5vcm1hbEFuZENvcGxhbmFyUG9pbnQodCxlKXtyZXR1cm4gdGhpcy5ub3JtYWwuY29weSh0KSx0aGlzLmNvbnN0YW50PS1lLmRvdCh0aGlzLm5vcm1hbCksdGhpc31zZXRGcm9tQ29wbGFuYXJQb2ludHModCxlLG4pe2NvbnN0IGk9UGUuc3ViVmVjdG9ycyhuLGUpLmNyb3NzKERlLnN1YlZlY3RvcnModCxlKSkubm9ybWFsaXplKCk7cmV0dXJuIHRoaXMuc2V0RnJvbU5vcm1hbEFuZENvcGxhbmFyUG9pbnQoaSx0KSx0aGlzfWNvcHkodCl7cmV0dXJuIHRoaXMubm9ybWFsLmNvcHkodC5ub3JtYWwpLHRoaXMuY29uc3RhbnQ9dC5jb25zdGFudCx0aGlzfW5vcm1hbGl6ZSgpe2NvbnN0IHQ9MS90aGlzLm5vcm1hbC5sZW5ndGgoKTtyZXR1cm4gdGhpcy5ub3JtYWwubXVsdGlwbHlTY2FsYXIodCksdGhpcy5jb25zdGFudCo9dCx0aGlzfW5lZ2F0ZSgpe3JldHVybiB0aGlzLmNvbnN0YW50Kj0tMSx0aGlzLm5vcm1hbC5uZWdhdGUoKSx0aGlzfWRpc3RhbmNlVG9Qb2ludCh0KXtyZXR1cm4gdGhpcy5ub3JtYWwuZG90KHQpK3RoaXMuY29uc3RhbnR9ZGlzdGFuY2VUb1NwaGVyZSh0KXtyZXR1cm4gdGhpcy5kaXN0YW5jZVRvUG9pbnQodC5jZW50ZXIpLXQucmFkaXVzfXByb2plY3RQb2ludCh0LGUpe3JldHVybiB2b2lkIDA9PT1lJiYoY29uc29sZS53YXJuKCJUSFJFRS5QbGFuZTogLnByb2plY3RQb2ludCgpIHRhcmdldCBpcyBub3cgcmVxdWlyZWQiKSxlPW5ldyBMdCksZS5jb3B5KHRoaXMubm9ybWFsKS5tdWx0aXBseVNjYWxhcigtdGhpcy5kaXN0YW5jZVRvUG9pbnQodCkpLmFkZCh0KX1pbnRlcnNlY3RMaW5lKHQsZSl7dm9pZCAwPT09ZSYmKGNvbnNvbGUud2FybigiVEhSRUUuUGxhbmU6IC5pbnRlcnNlY3RMaW5lKCkgdGFyZ2V0IGlzIG5vdyByZXF1aXJlZCIpLGU9bmV3IEx0KTtjb25zdCBuPXQuZGVsdGEoUGUpLGk9dGhpcy5ub3JtYWwuZG90KG4pO2lmKDA9PT1pKXJldHVybiAwPT09dGhpcy5kaXN0YW5jZVRvUG9pbnQodC5zdGFydCk/ZS5jb3B5KHQuc3RhcnQpOm51bGw7Y29uc3Qgcj0tKHQuc3RhcnQuZG90KHRoaXMubm9ybWFsKSt0aGlzLmNvbnN0YW50KS9pO3JldHVybiByPDB8fHI+MT9udWxsOmUuY29weShuKS5tdWx0aXBseVNjYWxhcihyKS5hZGQodC5zdGFydCl9aW50ZXJzZWN0c0xpbmUodCl7Y29uc3QgZT10aGlzLmRpc3RhbmNlVG9Qb2ludCh0LnN0YXJ0KSxuPXRoaXMuZGlzdGFuY2VUb1BvaW50KHQuZW5kKTtyZXR1cm4gZTwwJiZuPjB8fG48MCYmZT4wfWludGVyc2VjdHNCb3godCl7cmV0dXJuIHQuaW50ZXJzZWN0c1BsYW5lKHRoaXMpfWludGVyc2VjdHNTcGhlcmUodCl7cmV0dXJuIHQuaW50ZXJzZWN0c1BsYW5lKHRoaXMpfWNvcGxhbmFyUG9pbnQodCl7cmV0dXJuIHZvaWQgMD09PXQmJihjb25zb2xlLndhcm4oIlRIUkVFLlBsYW5lOiAuY29wbGFuYXJQb2ludCgpIHRhcmdldCBpcyBub3cgcmVxdWlyZWQiKSx0PW5ldyBMdCksdC5jb3B5KHRoaXMubm9ybWFsKS5tdWx0aXBseVNjYWxhcigtdGhpcy5jb25zdGFudCl9YXBwbHlNYXRyaXg0KHQsZSl7Y29uc3Qgbj1lfHxJZS5nZXROb3JtYWxNYXRyaXgodCksaT10aGlzLmNvcGxhbmFyUG9pbnQoUGUpLmFwcGx5TWF0cml4NCh0KSxyPXRoaXMubm9ybWFsLmFwcGx5TWF0cml4MyhuKS5ub3JtYWxpemUoKTtyZXR1cm4gdGhpcy5jb25zdGFudD0taS5kb3QociksdGhpc310cmFuc2xhdGUodCl7cmV0dXJuIHRoaXMuY29uc3RhbnQtPXQuZG90KHRoaXMubm9ybWFsKSx0aGlzfWVxdWFscyh0KXtyZXR1cm4gdC5ub3JtYWwuZXF1YWxzKHRoaXMubm9ybWFsKSYmdC5jb25zdGFudD09PXRoaXMuY29uc3RhbnR9Y2xvbmUoKXtyZXR1cm4obmV3IHRoaXMuY29uc3RydWN0b3IpLmNvcHkodGhpcyl9fU5lLnByb3RvdHlwZS5pc1BsYW5lPSEwO2NvbnN0IEJlPW5ldyBMdCx6ZT1uZXcgTHQsRmU9bmV3IEx0LE9lPW5ldyBMdCxIZT1uZXcgTHQsR2U9bmV3IEx0LFVlPW5ldyBMdCxrZT1uZXcgTHQsVmU9bmV3IEx0LFdlPW5ldyBMdDtjbGFzcyBqZXtjb25zdHJ1Y3Rvcih0PW5ldyBMdCxlPW5ldyBMdCxuPW5ldyBMdCl7dGhpcy5hPXQsdGhpcy5iPWUsdGhpcy5jPW59c3RhdGljIGdldE5vcm1hbCh0LGUsbixpKXt2b2lkIDA9PT1pJiYoY29uc29sZS53YXJuKCJUSFJFRS5UcmlhbmdsZTogLmdldE5vcm1hbCgpIHRhcmdldCBpcyBub3cgcmVxdWlyZWQiKSxpPW5ldyBMdCksaS5zdWJWZWN0b3JzKG4sZSksQmUuc3ViVmVjdG9ycyh0LGUpLGkuY3Jvc3MoQmUpO2NvbnN0IHI9aS5sZW5ndGhTcSgpO3JldHVybiByPjA/aS5tdWx0aXBseVNjYWxhcigxL01hdGguc3FydChyKSk6aS5zZXQoMCwwLDApfXN0YXRpYyBnZXRCYXJ5Y29vcmQodCxlLG4saSxyKXtCZS5zdWJWZWN0b3JzKGksZSksemUuc3ViVmVjdG9ycyhuLGUpLEZlLnN1YlZlY3RvcnModCxlKTtjb25zdCBzPUJlLmRvdChCZSksYT1CZS5kb3QoemUpLG89QmUuZG90KEZlKSxsPXplLmRvdCh6ZSksYz16ZS5kb3QoRmUpLGg9cypsLWEqYTtpZih2b2lkIDA9PT1yJiYoY29uc29sZS53YXJuKCJUSFJFRS5UcmlhbmdsZTogLmdldEJhcnljb29yZCgpIHRhcmdldCBpcyBub3cgcmVxdWlyZWQiKSxyPW5ldyBMdCksMD09PWgpcmV0dXJuIHIuc2V0KC0yLC0xLC0xKTtjb25zdCB1PTEvaCxkPShsKm8tYSpjKSp1LHA9KHMqYy1hKm8pKnU7cmV0dXJuIHIuc2V0KDEtZC1wLHAsZCl9c3RhdGljIGNvbnRhaW5zUG9pbnQodCxlLG4saSl7cmV0dXJuIHRoaXMuZ2V0QmFyeWNvb3JkKHQsZSxuLGksT2UpLE9lLng+PTAmJk9lLnk+PTAmJk9lLngrT2UueTw9MX1zdGF0aWMgZ2V0VVYodCxlLG4saSxyLHMsYSxvKXtyZXR1cm4gdGhpcy5nZXRCYXJ5Y29vcmQodCxlLG4saSxPZSksby5zZXQoMCwwKSxvLmFkZFNjYWxlZFZlY3RvcihyLE9lLngpLG8uYWRkU2NhbGVkVmVjdG9yKHMsT2UueSksby5hZGRTY2FsZWRWZWN0b3IoYSxPZS56KSxvfXN0YXRpYyBpc0Zyb250RmFjaW5nKHQsZSxuLGkpe3JldHVybiBCZS5zdWJWZWN0b3JzKG4sZSksemUuc3ViVmVjdG9ycyh0LGUpLEJlLmNyb3NzKHplKS5kb3QoaSk8MH1zZXQodCxlLG4pe3JldHVybiB0aGlzLmEuY29weSh0KSx0aGlzLmIuY29weShlKSx0aGlzLmMuY29weShuKSx0aGlzfXNldEZyb21Qb2ludHNBbmRJbmRpY2VzKHQsZSxuLGkpe3JldHVybiB0aGlzLmEuY29weSh0W2VdKSx0aGlzLmIuY29weSh0W25dKSx0aGlzLmMuY29weSh0W2ldKSx0aGlzfWNsb25lKCl7cmV0dXJuKG5ldyB0aGlzLmNvbnN0cnVjdG9yKS5jb3B5KHRoaXMpfWNvcHkodCl7cmV0dXJuIHRoaXMuYS5jb3B5KHQuYSksdGhpcy5iLmNvcHkodC5iKSx0aGlzLmMuY29weSh0LmMpLHRoaXN9Z2V0QXJlYSgpe3JldHVybiBCZS5zdWJWZWN0b3JzKHRoaXMuYyx0aGlzLmIpLHplLnN1YlZlY3RvcnModGhpcy5hLHRoaXMuYiksLjUqQmUuY3Jvc3MoemUpLmxlbmd0aCgpfWdldE1pZHBvaW50KHQpe3JldHVybiB2b2lkIDA9PT10JiYoY29uc29sZS53YXJuKCJUSFJFRS5UcmlhbmdsZTogLmdldE1pZHBvaW50KCkgdGFyZ2V0IGlzIG5vdyByZXF1aXJlZCIpLHQ9bmV3IEx0KSx0LmFkZFZlY3RvcnModGhpcy5hLHRoaXMuYikuYWRkKHRoaXMuYykubXVsdGlwbHlTY2FsYXIoMS8zKX1nZXROb3JtYWwodCl7cmV0dXJuIGplLmdldE5vcm1hbCh0aGlzLmEsdGhpcy5iLHRoaXMuYyx0KX1nZXRQbGFuZSh0KXtyZXR1cm4gdm9pZCAwPT09dCYmKGNvbnNvbGUud2FybigiVEhSRUUuVHJpYW5nbGU6IC5nZXRQbGFuZSgpIHRhcmdldCBpcyBub3cgcmVxdWlyZWQiKSx0PW5ldyBOZSksdC5zZXRGcm9tQ29wbGFuYXJQb2ludHModGhpcy5hLHRoaXMuYix0aGlzLmMpfWdldEJhcnljb29yZCh0LGUpe3JldHVybiBqZS5nZXRCYXJ5Y29vcmQodCx0aGlzLmEsdGhpcy5iLHRoaXMuYyxlKX1nZXRVVih0LGUsbixpLHIpe3JldHVybiBqZS5nZXRVVih0LHRoaXMuYSx0aGlzLmIsdGhpcy5jLGUsbixpLHIpfWNvbnRhaW5zUG9pbnQodCl7cmV0dXJuIGplLmNvbnRhaW5zUG9pbnQodCx0aGlzLmEsdGhpcy5iLHRoaXMuYyl9aXNGcm9udEZhY2luZyh0KXtyZXR1cm4gamUuaXNGcm9udEZhY2luZyh0aGlzLmEsdGhpcy5iLHRoaXMuYyx0KX1pbnRlcnNlY3RzQm94KHQpe3JldHVybiB0LmludGVyc2VjdHNUcmlhbmdsZSh0aGlzKX1jbG9zZXN0UG9pbnRUb1BvaW50KHQsZSl7dm9pZCAwPT09ZSYmKGNvbnNvbGUud2FybigiVEhSRUUuVHJpYW5nbGU6IC5jbG9zZXN0UG9pbnRUb1BvaW50KCkgdGFyZ2V0IGlzIG5vdyByZXF1aXJlZCIpLGU9bmV3IEx0KTtjb25zdCBuPXRoaXMuYSxpPXRoaXMuYixyPXRoaXMuYztsZXQgcyxhO0hlLnN1YlZlY3RvcnMoaSxuKSxHZS5zdWJWZWN0b3JzKHIsbiksa2Uuc3ViVmVjdG9ycyh0LG4pO2NvbnN0IG89SGUuZG90KGtlKSxsPUdlLmRvdChrZSk7aWYobzw9MCYmbDw9MClyZXR1cm4gZS5jb3B5KG4pO1ZlLnN1YlZlY3RvcnModCxpKTtjb25zdCBjPUhlLmRvdChWZSksaD1HZS5kb3QoVmUpO2lmKGM+PTAmJmg8PWMpcmV0dXJuIGUuY29weShpKTtjb25zdCB1PW8qaC1jKmw7aWYodTw9MCYmbz49MCYmYzw9MClyZXR1cm4gcz1vLyhvLWMpLGUuY29weShuKS5hZGRTY2FsZWRWZWN0b3IoSGUscyk7V2Uuc3ViVmVjdG9ycyh0LHIpO2NvbnN0IGQ9SGUuZG90KFdlKSxwPUdlLmRvdChXZSk7aWYocD49MCYmZDw9cClyZXR1cm4gZS5jb3B5KHIpO2NvbnN0IG09ZCpsLW8qcDtpZihtPD0wJiZsPj0wJiZwPD0wKXJldHVybiBhPWwvKGwtcCksZS5jb3B5KG4pLmFkZFNjYWxlZFZlY3RvcihHZSxhKTtjb25zdCBmPWMqcC1kKmg7aWYoZjw9MCYmaC1jPj0wJiZkLXA+PTApcmV0dXJuIFVlLnN1YlZlY3RvcnMocixpKSxhPShoLWMpLyhoLWMrKGQtcCkpLGUuY29weShpKS5hZGRTY2FsZWRWZWN0b3IoVWUsYSk7Y29uc3QgZz0xLyhmK20rdSk7cmV0dXJuIHM9bSpnLGE9dSpnLGUuY29weShuKS5hZGRTY2FsZWRWZWN0b3IoSGUscykuYWRkU2NhbGVkVmVjdG9yKEdlLGEpfWVxdWFscyh0KXtyZXR1cm4gdC5hLmVxdWFscyh0aGlzLmEpJiZ0LmIuZXF1YWxzKHRoaXMuYikmJnQuYy5lcXVhbHModGhpcy5jKX19bGV0IHFlPTA7ZnVuY3Rpb24gWGUoKXtPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywiaWQiLHt2YWx1ZTpxZSsrfSksdGhpcy51dWlkPWN0KCksdGhpcy5uYW1lPSIiLHRoaXMudHlwZT0iTWF0ZXJpYWwiLHRoaXMuZm9nPSEwLHRoaXMuYmxlbmRpbmc9MSx0aGlzLnNpZGU9MCx0aGlzLnZlcnRleENvbG9ycz0hMSx0aGlzLm9wYWNpdHk9MSx0aGlzLnRyYW5zcGFyZW50PSExLHRoaXMuYmxlbmRTcmM9MjA0LHRoaXMuYmxlbmREc3Q9MjA1LHRoaXMuYmxlbmRFcXVhdGlvbj1uLHRoaXMuYmxlbmRTcmNBbHBoYT1udWxsLHRoaXMuYmxlbmREc3RBbHBoYT1udWxsLHRoaXMuYmxlbmRFcXVhdGlvbkFscGhhPW51bGwsdGhpcy5kZXB0aEZ1bmM9Myx0aGlzLmRlcHRoVGVzdD0hMCx0aGlzLmRlcHRoV3JpdGU9ITAsdGhpcy5zdGVuY2lsV3JpdGVNYXNrPTI1NSx0aGlzLnN0ZW5jaWxGdW5jPTUxOSx0aGlzLnN0ZW5jaWxSZWY9MCx0aGlzLnN0ZW5jaWxGdW5jTWFzaz0yNTUsdGhpcy5zdGVuY2lsRmFpbD10dCx0aGlzLnN0ZW5jaWxaRmFpbD10dCx0aGlzLnN0ZW5jaWxaUGFzcz10dCx0aGlzLnN0ZW5jaWxXcml0ZT0hMSx0aGlzLmNsaXBwaW5nUGxhbmVzPW51bGwsdGhpcy5jbGlwSW50ZXJzZWN0aW9uPSExLHRoaXMuY2xpcFNoYWRvd3M9ITEsdGhpcy5zaGFkb3dTaWRlPW51bGwsdGhpcy5jb2xvcldyaXRlPSEwLHRoaXMucHJlY2lzaW9uPW51bGwsdGhpcy5wb2x5Z29uT2Zmc2V0PSExLHRoaXMucG9seWdvbk9mZnNldEZhY3Rvcj0wLHRoaXMucG9seWdvbk9mZnNldFVuaXRzPTAsdGhpcy5kaXRoZXJpbmc9ITEsdGhpcy5hbHBoYVRlc3Q9MCx0aGlzLmFscGhhVG9Db3ZlcmFnZT0hMSx0aGlzLnByZW11bHRpcGxpZWRBbHBoYT0hMSx0aGlzLnZpc2libGU9ITAsdGhpcy50b25lTWFwcGVkPSEwLHRoaXMudXNlckRhdGE9e30sdGhpcy52ZXJzaW9uPTB9WGUucHJvdG90eXBlPU9iamVjdC5hc3NpZ24oT2JqZWN0LmNyZWF0ZShydC5wcm90b3R5cGUpLHtjb25zdHJ1Y3RvcjpYZSxpc01hdGVyaWFsOiEwLG9uQnVpbGQ6ZnVuY3Rpb24oKXt9LG9uQmVmb3JlQ29tcGlsZTpmdW5jdGlvbigpe30sY3VzdG9tUHJvZ3JhbUNhY2hlS2V5OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMub25CZWZvcmVDb21waWxlLnRvU3RyaW5nKCl9LHNldFZhbHVlczpmdW5jdGlvbih0KXtpZih2b2lkIDAhPT10KWZvcihjb25zdCBlIGluIHQpe2NvbnN0IG49dFtlXTtpZih2b2lkIDA9PT1uKXtjb25zb2xlLndhcm4oIlRIUkVFLk1hdGVyaWFsOiAnIitlKyInIHBhcmFtZXRlciBpcyB1bmRlZmluZWQuIik7Y29udGludWV9aWYoInNoYWRpbmciPT09ZSl7Y29uc29sZS53YXJuKCJUSFJFRS4iK3RoaXMudHlwZSsiOiAuc2hhZGluZyBoYXMgYmVlbiByZW1vdmVkLiBVc2UgdGhlIGJvb2xlYW4gLmZsYXRTaGFkaW5nIGluc3RlYWQuIiksdGhpcy5mbGF0U2hhZGluZz0xPT09bjtjb250aW51ZX1jb25zdCBpPXRoaXNbZV07dm9pZCAwIT09aT9pJiZpLmlzQ29sb3I/aS5zZXQobik6aSYmaS5pc1ZlY3RvcjMmJm4mJm4uaXNWZWN0b3IzP2kuY29weShuKTp0aGlzW2VdPW46Y29uc29sZS53YXJuKCJUSFJFRS4iK3RoaXMudHlwZSsiOiAnIitlKyInIGlzIG5vdCBhIHByb3BlcnR5IG9mIHRoaXMgbWF0ZXJpYWwuIil9fSx0b0pTT046ZnVuY3Rpb24odCl7Y29uc3QgZT12b2lkIDA9PT10fHwic3RyaW5nIj09dHlwZW9mIHQ7ZSYmKHQ9e3RleHR1cmVzOnt9LGltYWdlczp7fX0pO2NvbnN0IG49e21ldGFkYXRhOnt2ZXJzaW9uOjQuNSx0eXBlOiJNYXRlcmlhbCIsZ2VuZXJhdG9yOiJNYXRlcmlhbC50b0pTT04ifX07ZnVuY3Rpb24gaSh0KXtjb25zdCBlPVtdO2Zvcihjb25zdCBuIGluIHQpe2NvbnN0IGk9dFtuXTtkZWxldGUgaS5tZXRhZGF0YSxlLnB1c2goaSl9cmV0dXJuIGV9aWYobi51dWlkPXRoaXMudXVpZCxuLnR5cGU9dGhpcy50eXBlLCIiIT09dGhpcy5uYW1lJiYobi5uYW1lPXRoaXMubmFtZSksdGhpcy5jb2xvciYmdGhpcy5jb2xvci5pc0NvbG9yJiYobi5jb2xvcj10aGlzLmNvbG9yLmdldEhleCgpKSx2b2lkIDAhPT10aGlzLnJvdWdobmVzcyYmKG4ucm91Z2huZXNzPXRoaXMucm91Z2huZXNzKSx2b2lkIDAhPT10aGlzLm1ldGFsbmVzcyYmKG4ubWV0YWxuZXNzPXRoaXMubWV0YWxuZXNzKSx0aGlzLnNoZWVuJiZ0aGlzLnNoZWVuLmlzQ29sb3ImJihuLnNoZWVuPXRoaXMuc2hlZW4uZ2V0SGV4KCkpLHRoaXMuZW1pc3NpdmUmJnRoaXMuZW1pc3NpdmUuaXNDb2xvciYmKG4uZW1pc3NpdmU9dGhpcy5lbWlzc2l2ZS5nZXRIZXgoKSksdGhpcy5lbWlzc2l2ZUludGVuc2l0eSYmMSE9PXRoaXMuZW1pc3NpdmVJbnRlbnNpdHkmJihuLmVtaXNzaXZlSW50ZW5zaXR5PXRoaXMuZW1pc3NpdmVJbnRlbnNpdHkpLHRoaXMuc3BlY3VsYXImJnRoaXMuc3BlY3VsYXIuaXNDb2xvciYmKG4uc3BlY3VsYXI9dGhpcy5zcGVjdWxhci5nZXRIZXgoKSksdm9pZCAwIT09dGhpcy5zaGluaW5lc3MmJihuLnNoaW5pbmVzcz10aGlzLnNoaW5pbmVzcyksdm9pZCAwIT09dGhpcy5jbGVhcmNvYXQmJihuLmNsZWFyY29hdD10aGlzLmNsZWFyY29hdCksdm9pZCAwIT09dGhpcy5jbGVhcmNvYXRSb3VnaG5lc3MmJihuLmNsZWFyY29hdFJvdWdobmVzcz10aGlzLmNsZWFyY29hdFJvdWdobmVzcyksdGhpcy5jbGVhcmNvYXRNYXAmJnRoaXMuY2xlYXJjb2F0TWFwLmlzVGV4dHVyZSYmKG4uY2xlYXJjb2F0TWFwPXRoaXMuY2xlYXJjb2F0TWFwLnRvSlNPTih0KS51dWlkKSx0aGlzLmNsZWFyY29hdFJvdWdobmVzc01hcCYmdGhpcy5jbGVhcmNvYXRSb3VnaG5lc3NNYXAuaXNUZXh0dXJlJiYobi5jbGVhcmNvYXRSb3VnaG5lc3NNYXA9dGhpcy5jbGVhcmNvYXRSb3VnaG5lc3NNYXAudG9KU09OKHQpLnV1aWQpLHRoaXMuY2xlYXJjb2F0Tm9ybWFsTWFwJiZ0aGlzLmNsZWFyY29hdE5vcm1hbE1hcC5pc1RleHR1cmUmJihuLmNsZWFyY29hdE5vcm1hbE1hcD10aGlzLmNsZWFyY29hdE5vcm1hbE1hcC50b0pTT04odCkudXVpZCxuLmNsZWFyY29hdE5vcm1hbFNjYWxlPXRoaXMuY2xlYXJjb2F0Tm9ybWFsU2NhbGUudG9BcnJheSgpKSx0aGlzLm1hcCYmdGhpcy5tYXAuaXNUZXh0dXJlJiYobi5tYXA9dGhpcy5tYXAudG9KU09OKHQpLnV1aWQpLHRoaXMubWF0Y2FwJiZ0aGlzLm1hdGNhcC5pc1RleHR1cmUmJihuLm1hdGNhcD10aGlzLm1hdGNhcC50b0pTT04odCkudXVpZCksdGhpcy5hbHBoYU1hcCYmdGhpcy5hbHBoYU1hcC5pc1RleHR1cmUmJihuLmFscGhhTWFwPXRoaXMuYWxwaGFNYXAudG9KU09OKHQpLnV1aWQpLHRoaXMubGlnaHRNYXAmJnRoaXMubGlnaHRNYXAuaXNUZXh0dXJlJiYobi5saWdodE1hcD10aGlzLmxpZ2h0TWFwLnRvSlNPTih0KS51dWlkLG4ubGlnaHRNYXBJbnRlbnNpdHk9dGhpcy5saWdodE1hcEludGVuc2l0eSksdGhpcy5hb01hcCYmdGhpcy5hb01hcC5pc1RleHR1cmUmJihuLmFvTWFwPXRoaXMuYW9NYXAudG9KU09OKHQpLnV1aWQsbi5hb01hcEludGVuc2l0eT10aGlzLmFvTWFwSW50ZW5zaXR5KSx0aGlzLmJ1bXBNYXAmJnRoaXMuYnVtcE1hcC5pc1RleHR1cmUmJihuLmJ1bXBNYXA9dGhpcy5idW1wTWFwLnRvSlNPTih0KS51dWlkLG4uYnVtcFNjYWxlPXRoaXMuYnVtcFNjYWxlKSx0aGlzLm5vcm1hbE1hcCYmdGhpcy5ub3JtYWxNYXAuaXNUZXh0dXJlJiYobi5ub3JtYWxNYXA9dGhpcy5ub3JtYWxNYXAudG9KU09OKHQpLnV1aWQsbi5ub3JtYWxNYXBUeXBlPXRoaXMubm9ybWFsTWFwVHlwZSxuLm5vcm1hbFNjYWxlPXRoaXMubm9ybWFsU2NhbGUudG9BcnJheSgpKSx0aGlzLmRpc3BsYWNlbWVudE1hcCYmdGhpcy5kaXNwbGFjZW1lbnRNYXAuaXNUZXh0dXJlJiYobi5kaXNwbGFjZW1lbnRNYXA9dGhpcy5kaXNwbGFjZW1lbnRNYXAudG9KU09OKHQpLnV1aWQsbi5kaXNwbGFjZW1lbnRTY2FsZT10aGlzLmRpc3BsYWNlbWVudFNjYWxlLG4uZGlzcGxhY2VtZW50Qmlhcz10aGlzLmRpc3BsYWNlbWVudEJpYXMpLHRoaXMucm91Z2huZXNzTWFwJiZ0aGlzLnJvdWdobmVzc01hcC5pc1RleHR1cmUmJihuLnJvdWdobmVzc01hcD10aGlzLnJvdWdobmVzc01hcC50b0pTT04odCkudXVpZCksdGhpcy5tZXRhbG5lc3NNYXAmJnRoaXMubWV0YWxuZXNzTWFwLmlzVGV4dHVyZSYmKG4ubWV0YWxuZXNzTWFwPXRoaXMubWV0YWxuZXNzTWFwLnRvSlNPTih0KS51dWlkKSx0aGlzLmVtaXNzaXZlTWFwJiZ0aGlzLmVtaXNzaXZlTWFwLmlzVGV4dHVyZSYmKG4uZW1pc3NpdmVNYXA9dGhpcy5lbWlzc2l2ZU1hcC50b0pTT04odCkudXVpZCksdGhpcy5zcGVjdWxhck1hcCYmdGhpcy5zcGVjdWxhck1hcC5pc1RleHR1cmUmJihuLnNwZWN1bGFyTWFwPXRoaXMuc3BlY3VsYXJNYXAudG9KU09OKHQpLnV1aWQpLHRoaXMuZW52TWFwJiZ0aGlzLmVudk1hcC5pc1RleHR1cmUmJihuLmVudk1hcD10aGlzLmVudk1hcC50b0pTT04odCkudXVpZCx2b2lkIDAhPT10aGlzLmNvbWJpbmUmJihuLmNvbWJpbmU9dGhpcy5jb21iaW5lKSksdm9pZCAwIT09dGhpcy5lbnZNYXBJbnRlbnNpdHkmJihuLmVudk1hcEludGVuc2l0eT10aGlzLmVudk1hcEludGVuc2l0eSksdm9pZCAwIT09dGhpcy5yZWZsZWN0aXZpdHkmJihuLnJlZmxlY3Rpdml0eT10aGlzLnJlZmxlY3Rpdml0eSksdm9pZCAwIT09dGhpcy5yZWZyYWN0aW9uUmF0aW8mJihuLnJlZnJhY3Rpb25SYXRpbz10aGlzLnJlZnJhY3Rpb25SYXRpbyksdGhpcy5ncmFkaWVudE1hcCYmdGhpcy5ncmFkaWVudE1hcC5pc1RleHR1cmUmJihuLmdyYWRpZW50TWFwPXRoaXMuZ3JhZGllbnRNYXAudG9KU09OKHQpLnV1aWQpLHZvaWQgMCE9PXRoaXMuc2l6ZSYmKG4uc2l6ZT10aGlzLnNpemUpLG51bGwhPT10aGlzLnNoYWRvd1NpZGUmJihuLnNoYWRvd1NpZGU9dGhpcy5zaGFkb3dTaWRlKSx2b2lkIDAhPT10aGlzLnNpemVBdHRlbnVhdGlvbiYmKG4uc2l6ZUF0dGVudWF0aW9uPXRoaXMuc2l6ZUF0dGVudWF0aW9uKSwxIT09dGhpcy5ibGVuZGluZyYmKG4uYmxlbmRpbmc9dGhpcy5ibGVuZGluZyksMCE9PXRoaXMuc2lkZSYmKG4uc2lkZT10aGlzLnNpZGUpLHRoaXMudmVydGV4Q29sb3JzJiYobi52ZXJ0ZXhDb2xvcnM9ITApLHRoaXMub3BhY2l0eTwxJiYobi5vcGFjaXR5PXRoaXMub3BhY2l0eSksITA9PT10aGlzLnRyYW5zcGFyZW50JiYobi50cmFuc3BhcmVudD10aGlzLnRyYW5zcGFyZW50KSxuLmRlcHRoRnVuYz10aGlzLmRlcHRoRnVuYyxuLmRlcHRoVGVzdD10aGlzLmRlcHRoVGVzdCxuLmRlcHRoV3JpdGU9dGhpcy5kZXB0aFdyaXRlLG4uY29sb3JXcml0ZT10aGlzLmNvbG9yV3JpdGUsbi5zdGVuY2lsV3JpdGU9dGhpcy5zdGVuY2lsV3JpdGUsbi5zdGVuY2lsV3JpdGVNYXNrPXRoaXMuc3RlbmNpbFdyaXRlTWFzayxuLnN0ZW5jaWxGdW5jPXRoaXMuc3RlbmNpbEZ1bmMsbi5zdGVuY2lsUmVmPXRoaXMuc3RlbmNpbFJlZixuLnN0ZW5jaWxGdW5jTWFzaz10aGlzLnN0ZW5jaWxGdW5jTWFzayxuLnN0ZW5jaWxGYWlsPXRoaXMuc3RlbmNpbEZhaWwsbi5zdGVuY2lsWkZhaWw9dGhpcy5zdGVuY2lsWkZhaWwsbi5zdGVuY2lsWlBhc3M9dGhpcy5zdGVuY2lsWlBhc3MsdGhpcy5yb3RhdGlvbiYmMCE9PXRoaXMucm90YXRpb24mJihuLnJvdGF0aW9uPXRoaXMucm90YXRpb24pLCEwPT09dGhpcy5wb2x5Z29uT2Zmc2V0JiYobi5wb2x5Z29uT2Zmc2V0PSEwKSwwIT09dGhpcy5wb2x5Z29uT2Zmc2V0RmFjdG9yJiYobi5wb2x5Z29uT2Zmc2V0RmFjdG9yPXRoaXMucG9seWdvbk9mZnNldEZhY3RvciksMCE9PXRoaXMucG9seWdvbk9mZnNldFVuaXRzJiYobi5wb2x5Z29uT2Zmc2V0VW5pdHM9dGhpcy5wb2x5Z29uT2Zmc2V0VW5pdHMpLHRoaXMubGluZXdpZHRoJiYxIT09dGhpcy5saW5ld2lkdGgmJihuLmxpbmV3aWR0aD10aGlzLmxpbmV3aWR0aCksdm9pZCAwIT09dGhpcy5kYXNoU2l6ZSYmKG4uZGFzaFNpemU9dGhpcy5kYXNoU2l6ZSksdm9pZCAwIT09dGhpcy5nYXBTaXplJiYobi5nYXBTaXplPXRoaXMuZ2FwU2l6ZSksdm9pZCAwIT09dGhpcy5zY2FsZSYmKG4uc2NhbGU9dGhpcy5zY2FsZSksITA9PT10aGlzLmRpdGhlcmluZyYmKG4uZGl0aGVyaW5nPSEwKSx0aGlzLmFscGhhVGVzdD4wJiYobi5hbHBoYVRlc3Q9dGhpcy5hbHBoYVRlc3QpLCEwPT09dGhpcy5hbHBoYVRvQ292ZXJhZ2UmJihuLmFscGhhVG9Db3ZlcmFnZT10aGlzLmFscGhhVG9Db3ZlcmFnZSksITA9PT10aGlzLnByZW11bHRpcGxpZWRBbHBoYSYmKG4ucHJlbXVsdGlwbGllZEFscGhhPXRoaXMucHJlbXVsdGlwbGllZEFscGhhKSwhMD09PXRoaXMud2lyZWZyYW1lJiYobi53aXJlZnJhbWU9dGhpcy53aXJlZnJhbWUpLHRoaXMud2lyZWZyYW1lTGluZXdpZHRoPjEmJihuLndpcmVmcmFtZUxpbmV3aWR0aD10aGlzLndpcmVmcmFtZUxpbmV3aWR0aCksInJvdW5kIiE9PXRoaXMud2lyZWZyYW1lTGluZWNhcCYmKG4ud2lyZWZyYW1lTGluZWNhcD10aGlzLndpcmVmcmFtZUxpbmVjYXApLCJyb3VuZCIhPT10aGlzLndpcmVmcmFtZUxpbmVqb2luJiYobi53aXJlZnJhbWVMaW5lam9pbj10aGlzLndpcmVmcmFtZUxpbmVqb2luKSwhMD09PXRoaXMubW9ycGhUYXJnZXRzJiYobi5tb3JwaFRhcmdldHM9ITApLCEwPT09dGhpcy5tb3JwaE5vcm1hbHMmJihuLm1vcnBoTm9ybWFscz0hMCksITA9PT10aGlzLnNraW5uaW5nJiYobi5za2lubmluZz0hMCksITA9PT10aGlzLmZsYXRTaGFkaW5nJiYobi5mbGF0U2hhZGluZz10aGlzLmZsYXRTaGFkaW5nKSwhMT09PXRoaXMudmlzaWJsZSYmKG4udmlzaWJsZT0hMSksITE9PT10aGlzLnRvbmVNYXBwZWQmJihuLnRvbmVNYXBwZWQ9ITEpLCJ7fSIhPT1KU09OLnN0cmluZ2lmeSh0aGlzLnVzZXJEYXRhKSYmKG4udXNlckRhdGE9dGhpcy51c2VyRGF0YSksZSl7Y29uc3QgZT1pKHQudGV4dHVyZXMpLHI9aSh0LmltYWdlcyk7ZS5sZW5ndGg+MCYmKG4udGV4dHVyZXM9ZSksci5sZW5ndGg+MCYmKG4uaW1hZ2VzPXIpfXJldHVybiBufSxjbG9uZTpmdW5jdGlvbigpe3JldHVybihuZXcgdGhpcy5jb25zdHJ1Y3RvcikuY29weSh0aGlzKX0sY29weTpmdW5jdGlvbih0KXt0aGlzLm5hbWU9dC5uYW1lLHRoaXMuZm9nPXQuZm9nLHRoaXMuYmxlbmRpbmc9dC5ibGVuZGluZyx0aGlzLnNpZGU9dC5zaWRlLHRoaXMudmVydGV4Q29sb3JzPXQudmVydGV4Q29sb3JzLHRoaXMub3BhY2l0eT10Lm9wYWNpdHksdGhpcy50cmFuc3BhcmVudD10LnRyYW5zcGFyZW50LHRoaXMuYmxlbmRTcmM9dC5ibGVuZFNyYyx0aGlzLmJsZW5kRHN0PXQuYmxlbmREc3QsdGhpcy5ibGVuZEVxdWF0aW9uPXQuYmxlbmRFcXVhdGlvbix0aGlzLmJsZW5kU3JjQWxwaGE9dC5ibGVuZFNyY0FscGhhLHRoaXMuYmxlbmREc3RBbHBoYT10LmJsZW5kRHN0QWxwaGEsdGhpcy5ibGVuZEVxdWF0aW9uQWxwaGE9dC5ibGVuZEVxdWF0aW9uQWxwaGEsdGhpcy5kZXB0aEZ1bmM9dC5kZXB0aEZ1bmMsdGhpcy5kZXB0aFRlc3Q9dC5kZXB0aFRlc3QsdGhpcy5kZXB0aFdyaXRlPXQuZGVwdGhXcml0ZSx0aGlzLnN0ZW5jaWxXcml0ZU1hc2s9dC5zdGVuY2lsV3JpdGVNYXNrLHRoaXMuc3RlbmNpbEZ1bmM9dC5zdGVuY2lsRnVuYyx0aGlzLnN0ZW5jaWxSZWY9dC5zdGVuY2lsUmVmLHRoaXMuc3RlbmNpbEZ1bmNNYXNrPXQuc3RlbmNpbEZ1bmNNYXNrLHRoaXMuc3RlbmNpbEZhaWw9dC5zdGVuY2lsRmFpbCx0aGlzLnN0ZW5jaWxaRmFpbD10LnN0ZW5jaWxaRmFpbCx0aGlzLnN0ZW5jaWxaUGFzcz10LnN0ZW5jaWxaUGFzcyx0aGlzLnN0ZW5jaWxXcml0ZT10LnN0ZW5jaWxXcml0ZTtjb25zdCBlPXQuY2xpcHBpbmdQbGFuZXM7bGV0IG49bnVsbDtpZihudWxsIT09ZSl7Y29uc3QgdD1lLmxlbmd0aDtuPW5ldyBBcnJheSh0KTtmb3IobGV0IGk9MDtpIT09dDsrK2kpbltpXT1lW2ldLmNsb25lKCl9cmV0dXJuIHRoaXMuY2xpcHBpbmdQbGFuZXM9bix0aGlzLmNsaXBJbnRlcnNlY3Rpb249dC5jbGlwSW50ZXJzZWN0aW9uLHRoaXMuY2xpcFNoYWRvd3M9dC5jbGlwU2hhZG93cyx0aGlzLnNoYWRvd1NpZGU9dC5zaGFkb3dTaWRlLHRoaXMuY29sb3JXcml0ZT10LmNvbG9yV3JpdGUsdGhpcy5wcmVjaXNpb249dC5wcmVjaXNpb24sdGhpcy5wb2x5Z29uT2Zmc2V0PXQucG9seWdvbk9mZnNldCx0aGlzLnBvbHlnb25PZmZzZXRGYWN0b3I9dC5wb2x5Z29uT2Zmc2V0RmFjdG9yLHRoaXMucG9seWdvbk9mZnNldFVuaXRzPXQucG9seWdvbk9mZnNldFVuaXRzLHRoaXMuZGl0aGVyaW5nPXQuZGl0aGVyaW5nLHRoaXMuYWxwaGFUZXN0PXQuYWxwaGFUZXN0LHRoaXMuYWxwaGFUb0NvdmVyYWdlPXQuYWxwaGFUb0NvdmVyYWdlLHRoaXMucHJlbXVsdGlwbGllZEFscGhhPXQucHJlbXVsdGlwbGllZEFscGhhLHRoaXMudmlzaWJsZT10LnZpc2libGUsdGhpcy50b25lTWFwcGVkPXQudG9uZU1hcHBlZCx0aGlzLnVzZXJEYXRhPUpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkodC51c2VyRGF0YSkpLHRoaXN9LGRpc3Bvc2U6ZnVuY3Rpb24oKXt0aGlzLmRpc3BhdGNoRXZlbnQoe3R5cGU6ImRpc3Bvc2UifSl9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KFhlLnByb3RvdHlwZSwibmVlZHNVcGRhdGUiLHtzZXQ6ZnVuY3Rpb24odCl7ITA9PT10JiZ0aGlzLnZlcnNpb24rK319KTtjb25zdCBZZT17YWxpY2VibHVlOjE1NzkyMzgzLGFudGlxdWV3aGl0ZToxNjQ0NDM3NSxhcXVhOjY1NTM1LGFxdWFtYXJpbmU6ODM4ODU2NCxhenVyZToxNTc5NDE3NSxiZWlnZToxNjExOTI2MCxiaXNxdWU6MTY3NzAyNDQsYmxhY2s6MCxibGFuY2hlZGFsbW9uZDoxNjc3MjA0NSxibHVlOjI1NSxibHVldmlvbGV0OjkwNTUyMDIsYnJvd246MTA4MjQyMzQsYnVybHl3b29kOjE0NTk2MjMxLGNhZGV0Ymx1ZTo2MjY2NTI4LGNoYXJ0cmV1c2U6ODM4ODM1MixjaG9jb2xhdGU6MTM3ODk0NzAsY29yYWw6MTY3NDQyNzIsY29ybmZsb3dlcmJsdWU6NjU5MTk4MSxjb3Juc2lsazoxNjc3NTM4OCxjcmltc29uOjE0NDIzMTAwLGN5YW46NjU1MzUsZGFya2JsdWU6MTM5LGRhcmtjeWFuOjM1NzIzLGRhcmtnb2xkZW5yb2Q6MTIwOTI5MzksZGFya2dyYXk6MTExMTkwMTcsZGFya2dyZWVuOjI1NjAwLGRhcmtncmV5OjExMTE5MDE3LGRhcmtraGFraToxMjQzMzI1OSxkYXJrbWFnZW50YTo5MTA5NjQzLGRhcmtvbGl2ZWdyZWVuOjU1OTc5OTksZGFya29yYW5nZToxNjc0NzUyMCxkYXJrb3JjaGlkOjEwMDQwMDEyLGRhcmtyZWQ6OTEwOTUwNCxkYXJrc2FsbW9uOjE1MzA4NDEwLGRhcmtzZWFncmVlbjo5NDE5OTE5LGRhcmtzbGF0ZWJsdWU6NDczNDM0NyxkYXJrc2xhdGVncmF5OjMxMDA0OTUsZGFya3NsYXRlZ3JleTozMTAwNDk1LGRhcmt0dXJxdW9pc2U6NTI5NDUsZGFya3Zpb2xldDo5Njk5NTM5LGRlZXBwaW5rOjE2NzE2OTQ3LGRlZXBza3libHVlOjQ5MTUxLGRpbWdyYXk6NjkwODI2NSxkaW1ncmV5OjY5MDgyNjUsZG9kZ2VyYmx1ZToyMDAzMTk5LGZpcmVicmljazoxMTY3NDE0NixmbG9yYWx3aGl0ZToxNjc3NTkyMCxmb3Jlc3RncmVlbjoyMjYzODQyLGZ1Y2hzaWE6MTY3MTE5MzUsZ2FpbnNib3JvOjE0NDc0NDYwLGdob3N0d2hpdGU6MTYzMTY2NzEsZ29sZDoxNjc2NjcyMCxnb2xkZW5yb2Q6MTQzMjkxMjAsZ3JheTo4NDIxNTA0LGdyZWVuOjMyNzY4LGdyZWVueWVsbG93OjExNDAzMDU1LGdyZXk6ODQyMTUwNCxob25leWRldzoxNTc5NDE2MCxob3RwaW5rOjE2NzM4NzQwLGluZGlhbnJlZDoxMzQ1ODUyNCxpbmRpZ286NDkxNTMzMCxpdm9yeToxNjc3NzIwMCxraGFraToxNTc4NzY2MCxsYXZlbmRlcjoxNTEzMjQxMCxsYXZlbmRlcmJsdXNoOjE2NzczMzY1LGxhd25ncmVlbjo4MTkwOTc2LGxlbW9uY2hpZmZvbjoxNjc3NTg4NSxsaWdodGJsdWU6MTEzOTMyNTQsbGlnaHRjb3JhbDoxNTc2MTUzNixsaWdodGN5YW46MTQ3NDU1OTksbGlnaHRnb2xkZW5yb2R5ZWxsb3c6MTY0NDgyMTAsbGlnaHRncmF5OjEzODgyMzIzLGxpZ2h0Z3JlZW46OTQ5ODI1NixsaWdodGdyZXk6MTM4ODIzMjMsbGlnaHRwaW5rOjE2NzU4NDY1LGxpZ2h0c2FsbW9uOjE2NzUyNzYyLGxpZ2h0c2VhZ3JlZW46MjE0Mjg5MCxsaWdodHNreWJsdWU6ODkwMDM0NixsaWdodHNsYXRlZ3JheTo3ODMzNzUzLGxpZ2h0c2xhdGVncmV5Ojc4MzM3NTMsbGlnaHRzdGVlbGJsdWU6MTE1ODQ3MzQsbGlnaHR5ZWxsb3c6MTY3NzcxODQsbGltZTo2NTI4MCxsaW1lZ3JlZW46MzMyOTMzMCxsaW5lbjoxNjQ0NTY3MCxtYWdlbnRhOjE2NzExOTM1LG1hcm9vbjo4Mzg4NjA4LG1lZGl1bWFxdWFtYXJpbmU6NjczNzMyMixtZWRpdW1ibHVlOjIwNSxtZWRpdW1vcmNoaWQ6MTIyMTE2NjcsbWVkaXVtcHVycGxlOjk2NjI2ODMsbWVkaXVtc2VhZ3JlZW46Mzk3ODA5NyxtZWRpdW1zbGF0ZWJsdWU6ODA4Nzc5MCxtZWRpdW1zcHJpbmdncmVlbjo2NDE1NCxtZWRpdW10dXJxdW9pc2U6NDc3MjMwMCxtZWRpdW12aW9sZXRyZWQ6MTMwNDcxNzMsbWlkbmlnaHRibHVlOjE2NDQ5MTIsbWludGNyZWFtOjE2MTIxODUwLG1pc3R5cm9zZToxNjc3MDI3Myxtb2NjYXNpbjoxNjc3MDIyOSxuYXZham93aGl0ZToxNjc2ODY4NSxuYXZ5OjEyOCxvbGRsYWNlOjE2NjQzNTU4LG9saXZlOjg0MjEzNzYsb2xpdmVkcmFiOjcwNDg3Mzksb3JhbmdlOjE2NzUzOTIwLG9yYW5nZXJlZDoxNjcyOTM0NCxvcmNoaWQ6MTQzMTU3MzQscGFsZWdvbGRlbnJvZDoxNTY1NzEzMCxwYWxlZ3JlZW46MTAwMjU4ODAscGFsZXR1cnF1b2lzZToxMTUyOTk2NixwYWxldmlvbGV0cmVkOjE0MzgxMjAzLHBhcGF5YXdoaXA6MTY3NzMwNzcscGVhY2hwdWZmOjE2NzY3NjczLHBlcnU6MTM0Njg5OTEscGluazoxNjc2MTAzNSxwbHVtOjE0NTI0NjM3LHBvd2RlcmJsdWU6MTE1OTE5MTAscHVycGxlOjgzODg3MzYscmViZWNjYXB1cnBsZTo2Njk3ODgxLHJlZDoxNjcxMTY4MCxyb3N5YnJvd246MTIzNTc1MTkscm95YWxibHVlOjQyODY5NDUsc2FkZGxlYnJvd246OTEyNzE4NyxzYWxtb246MTY0MTY4ODIsc2FuZHlicm93bjoxNjAzMjg2NCxzZWFncmVlbjozMDUwMzI3LHNlYXNoZWxsOjE2Nzc0NjM4LHNpZW5uYToxMDUwNjc5NyxzaWx2ZXI6MTI2MzIyNTYsc2t5Ymx1ZTo4OTAwMzMxLHNsYXRlYmx1ZTo2OTcwMDYxLHNsYXRlZ3JheTo3MzcyOTQ0LHNsYXRlZ3JleTo3MzcyOTQ0LHNub3c6MTY3NzU5MzAsc3ByaW5nZ3JlZW46NjU0MDcsc3RlZWxibHVlOjQ2MjA5ODAsdGFuOjEzODA4NzgwLHRlYWw6MzI4OTYsdGhpc3RsZToxNDIwNDg4OCx0b21hdG86MTY3MzcwOTUsdHVycXVvaXNlOjQyNTE4NTYsdmlvbGV0OjE1NjMxMDg2LHdoZWF0OjE2MTEzMzMxLHdoaXRlOjE2Nzc3MjE1LHdoaXRlc21va2U6MTYxMTkyODUseWVsbG93OjE2Nzc2OTYwLHllbGxvd2dyZWVuOjEwMTQ1MDc0fSxaZT17aDowLHM6MCxsOjB9LEplPXtoOjAsczowLGw6MH07ZnVuY3Rpb24gUWUodCxlLG4pe3JldHVybiBuPDAmJihuKz0xKSxuPjEmJihuLT0xKSxuPDEvNj90KzYqKGUtdCkqbjpuPC41P2U6bjwyLzM/dCs2KihlLXQpKigyLzMtbik6dH1mdW5jdGlvbiBLZSh0KXtyZXR1cm4gdDwuMDQwNDU/LjA3NzM5OTM4MDgqdDpNYXRoLnBvdyguOTQ3ODY3Mjk4Nip0Ky4wNTIxMzI3MDE0LDIuNCl9ZnVuY3Rpb24gJGUodCl7cmV0dXJuIHQ8LjAwMzEzMDg/MTIuOTIqdDoxLjA1NSpNYXRoLnBvdyh0LC40MTY2NiktLjA1NX1jbGFzcyB0bntjb25zdHJ1Y3Rvcih0LGUsbil7cmV0dXJuIHZvaWQgMD09PWUmJnZvaWQgMD09PW4/dGhpcy5zZXQodCk6dGhpcy5zZXRSR0IodCxlLG4pfXNldCh0KXtyZXR1cm4gdCYmdC5pc0NvbG9yP3RoaXMuY29weSh0KToibnVtYmVyIj09dHlwZW9mIHQ/dGhpcy5zZXRIZXgodCk6InN0cmluZyI9PXR5cGVvZiB0JiZ0aGlzLnNldFN0eWxlKHQpLHRoaXN9c2V0U2NhbGFyKHQpe3JldHVybiB0aGlzLnI9dCx0aGlzLmc9dCx0aGlzLmI9dCx0aGlzfXNldEhleCh0KXtyZXR1cm4gdD1NYXRoLmZsb29yKHQpLHRoaXMucj0odD4+MTYmMjU1KS8yNTUsdGhpcy5nPSh0Pj44JjI1NSkvMjU1LHRoaXMuYj0oMjU1JnQpLzI1NSx0aGlzfXNldFJHQih0LGUsbil7cmV0dXJuIHRoaXMucj10LHRoaXMuZz1lLHRoaXMuYj1uLHRoaXN9c2V0SFNMKHQsZSxuKXtpZih0PXV0KHQsMSksZT1odChlLDAsMSksbj1odChuLDAsMSksMD09PWUpdGhpcy5yPXRoaXMuZz10aGlzLmI9bjtlbHNle2NvbnN0IGk9bjw9LjU/biooMStlKTpuK2UtbiplLHI9MipuLWk7dGhpcy5yPVFlKHIsaSx0KzEvMyksdGhpcy5nPVFlKHIsaSx0KSx0aGlzLmI9UWUocixpLHQtMS8zKX1yZXR1cm4gdGhpc31zZXRTdHlsZSh0KXtmdW5jdGlvbiBlKGUpe3ZvaWQgMCE9PWUmJnBhcnNlRmxvYXQoZSk8MSYmY29uc29sZS53YXJuKCJUSFJFRS5Db2xvcjogQWxwaGEgY29tcG9uZW50IG9mICIrdCsiIHdpbGwgYmUgaWdub3JlZC4iKX1sZXQgbjtpZihuPS9eKCg/OnJnYnxoc2wpYT8pXCgoW15cKV0qKVwpLy5leGVjKHQpKXtsZXQgdDtjb25zdCBpPW5bMV0scj1uWzJdO3N3aXRjaChpKXtjYXNlInJnYiI6Y2FzZSJyZ2JhIjppZih0PS9eXHMqKFxkKylccyosXHMqKFxkKylccyosXHMqKFxkKylccyooPzosXHMqKFxkKlwuP1xkKylccyopPyQvLmV4ZWMocikpcmV0dXJuIHRoaXMucj1NYXRoLm1pbigyNTUscGFyc2VJbnQodFsxXSwxMCkpLzI1NSx0aGlzLmc9TWF0aC5taW4oMjU1LHBhcnNlSW50KHRbMl0sMTApKS8yNTUsdGhpcy5iPU1hdGgubWluKDI1NSxwYXJzZUludCh0WzNdLDEwKSkvMjU1LGUodFs0XSksdGhpcztpZih0PS9eXHMqKFxkKylcJVxzKixccyooXGQrKVwlXHMqLFxzKihcZCspXCVccyooPzosXHMqKFxkKlwuP1xkKylccyopPyQvLmV4ZWMocikpcmV0dXJuIHRoaXMucj1NYXRoLm1pbigxMDAscGFyc2VJbnQodFsxXSwxMCkpLzEwMCx0aGlzLmc9TWF0aC5taW4oMTAwLHBhcnNlSW50KHRbMl0sMTApKS8xMDAsdGhpcy5iPU1hdGgubWluKDEwMCxwYXJzZUludCh0WzNdLDEwKSkvMTAwLGUodFs0XSksdGhpczticmVhaztjYXNlImhzbCI6Y2FzZSJoc2xhIjppZih0PS9eXHMqKFxkKlwuP1xkKylccyosXHMqKFxkKylcJVxzKixccyooXGQrKVwlXHMqKD86LFxzKihcZCpcLj9cZCspXHMqKT8kLy5leGVjKHIpKXtjb25zdCBuPXBhcnNlRmxvYXQodFsxXSkvMzYwLGk9cGFyc2VJbnQodFsyXSwxMCkvMTAwLHI9cGFyc2VJbnQodFszXSwxMCkvMTAwO3JldHVybiBlKHRbNF0pLHRoaXMuc2V0SFNMKG4saSxyKX19fWVsc2UgaWYobj0vXlwjKFtBLUZhLWZcZF0rKSQvLmV4ZWModCkpe2NvbnN0IHQ9blsxXSxlPXQubGVuZ3RoO2lmKDM9PT1lKXJldHVybiB0aGlzLnI9cGFyc2VJbnQodC5jaGFyQXQoMCkrdC5jaGFyQXQoMCksMTYpLzI1NSx0aGlzLmc9cGFyc2VJbnQodC5jaGFyQXQoMSkrdC5jaGFyQXQoMSksMTYpLzI1NSx0aGlzLmI9cGFyc2VJbnQodC5jaGFyQXQoMikrdC5jaGFyQXQoMiksMTYpLzI1NSx0aGlzO2lmKDY9PT1lKXJldHVybiB0aGlzLnI9cGFyc2VJbnQodC5jaGFyQXQoMCkrdC5jaGFyQXQoMSksMTYpLzI1NSx0aGlzLmc9cGFyc2VJbnQodC5jaGFyQXQoMikrdC5jaGFyQXQoMyksMTYpLzI1NSx0aGlzLmI9cGFyc2VJbnQodC5jaGFyQXQoNCkrdC5jaGFyQXQoNSksMTYpLzI1NSx0aGlzfXJldHVybiB0JiZ0Lmxlbmd0aD4wP3RoaXMuc2V0Q29sb3JOYW1lKHQpOnRoaXN9c2V0Q29sb3JOYW1lKHQpe2NvbnN0IGU9WWVbdC50b0xvd2VyQ2FzZSgpXTtyZXR1cm4gdm9pZCAwIT09ZT90aGlzLnNldEhleChlKTpjb25zb2xlLndhcm4oIlRIUkVFLkNvbG9yOiBVbmtub3duIGNvbG9yICIrdCksdGhpc31jbG9uZSgpe3JldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3Rvcih0aGlzLnIsdGhpcy5nLHRoaXMuYil9Y29weSh0KXtyZXR1cm4gdGhpcy5yPXQucix0aGlzLmc9dC5nLHRoaXMuYj10LmIsdGhpc31jb3B5R2FtbWFUb0xpbmVhcih0LGU9Mil7cmV0dXJuIHRoaXMucj1NYXRoLnBvdyh0LnIsZSksdGhpcy5nPU1hdGgucG93KHQuZyxlKSx0aGlzLmI9TWF0aC5wb3codC5iLGUpLHRoaXN9Y29weUxpbmVhclRvR2FtbWEodCxlPTIpe2NvbnN0IG49ZT4wPzEvZToxO3JldHVybiB0aGlzLnI9TWF0aC5wb3codC5yLG4pLHRoaXMuZz1NYXRoLnBvdyh0LmcsbiksdGhpcy5iPU1hdGgucG93KHQuYixuKSx0aGlzfWNvbnZlcnRHYW1tYVRvTGluZWFyKHQpe3JldHVybiB0aGlzLmNvcHlHYW1tYVRvTGluZWFyKHRoaXMsdCksdGhpc31jb252ZXJ0TGluZWFyVG9HYW1tYSh0KXtyZXR1cm4gdGhpcy5jb3B5TGluZWFyVG9HYW1tYSh0aGlzLHQpLHRoaXN9Y29weVNSR0JUb0xpbmVhcih0KXtyZXR1cm4gdGhpcy5yPUtlKHQuciksdGhpcy5nPUtlKHQuZyksdGhpcy5iPUtlKHQuYiksdGhpc31jb3B5TGluZWFyVG9TUkdCKHQpe3JldHVybiB0aGlzLnI9JGUodC5yKSx0aGlzLmc9JGUodC5nKSx0aGlzLmI9JGUodC5iKSx0aGlzfWNvbnZlcnRTUkdCVG9MaW5lYXIoKXtyZXR1cm4gdGhpcy5jb3B5U1JHQlRvTGluZWFyKHRoaXMpLHRoaXN9Y29udmVydExpbmVhclRvU1JHQigpe3JldHVybiB0aGlzLmNvcHlMaW5lYXJUb1NSR0IodGhpcyksdGhpc31nZXRIZXgoKXtyZXR1cm4gMjU1KnRoaXMucjw8MTZeMjU1KnRoaXMuZzw8OF4yNTUqdGhpcy5iPDwwfWdldEhleFN0cmluZygpe3JldHVybigiMDAwMDAwIit0aGlzLmdldEhleCgpLnRvU3RyaW5nKDE2KSkuc2xpY2UoLTYpfWdldEhTTCh0KXt2b2lkIDA9PT10JiYoY29uc29sZS53YXJuKCJUSFJFRS5Db2xvcjogLmdldEhTTCgpIHRhcmdldCBpcyBub3cgcmVxdWlyZWQiKSx0PXtoOjAsczowLGw6MH0pO2NvbnN0IGU9dGhpcy5yLG49dGhpcy5nLGk9dGhpcy5iLHI9TWF0aC5tYXgoZSxuLGkpLHM9TWF0aC5taW4oZSxuLGkpO2xldCBhLG87Y29uc3QgbD0ocytyKS8yO2lmKHM9PT1yKWE9MCxvPTA7ZWxzZXtjb25zdCB0PXItcztzd2l0Y2gobz1sPD0uNT90LyhyK3MpOnQvKDItci1zKSxyKXtjYXNlIGU6YT0obi1pKS90KyhuPGk/NjowKTticmVhaztjYXNlIG46YT0oaS1lKS90KzI7YnJlYWs7Y2FzZSBpOmE9KGUtbikvdCs0fWEvPTZ9cmV0dXJuIHQuaD1hLHQucz1vLHQubD1sLHR9Z2V0U3R5bGUoKXtyZXR1cm4icmdiKCIrKDI1NSp0aGlzLnJ8MCkrIiwiKygyNTUqdGhpcy5nfDApKyIsIisoMjU1KnRoaXMuYnwwKSsiKSJ9b2Zmc2V0SFNMKHQsZSxuKXtyZXR1cm4gdGhpcy5nZXRIU0woWmUpLFplLmgrPXQsWmUucys9ZSxaZS5sKz1uLHRoaXMuc2V0SFNMKFplLmgsWmUucyxaZS5sKSx0aGlzfWFkZCh0KXtyZXR1cm4gdGhpcy5yKz10LnIsdGhpcy5nKz10LmcsdGhpcy5iKz10LmIsdGhpc31hZGRDb2xvcnModCxlKXtyZXR1cm4gdGhpcy5yPXQucitlLnIsdGhpcy5nPXQuZytlLmcsdGhpcy5iPXQuYitlLmIsdGhpc31hZGRTY2FsYXIodCl7cmV0dXJuIHRoaXMucis9dCx0aGlzLmcrPXQsdGhpcy5iKz10LHRoaXN9c3ViKHQpe3JldHVybiB0aGlzLnI9TWF0aC5tYXgoMCx0aGlzLnItdC5yKSx0aGlzLmc9TWF0aC5tYXgoMCx0aGlzLmctdC5nKSx0aGlzLmI9TWF0aC5tYXgoMCx0aGlzLmItdC5iKSx0aGlzfW11bHRpcGx5KHQpe3JldHVybiB0aGlzLnIqPXQucix0aGlzLmcqPXQuZyx0aGlzLmIqPXQuYix0aGlzfW11bHRpcGx5U2NhbGFyKHQpe3JldHVybiB0aGlzLnIqPXQsdGhpcy5nKj10LHRoaXMuYio9dCx0aGlzfWxlcnAodCxlKXtyZXR1cm4gdGhpcy5yKz0odC5yLXRoaXMucikqZSx0aGlzLmcrPSh0LmctdGhpcy5nKSplLHRoaXMuYis9KHQuYi10aGlzLmIpKmUsdGhpc31sZXJwQ29sb3JzKHQsZSxuKXtyZXR1cm4gdGhpcy5yPXQucisoZS5yLXQucikqbix0aGlzLmc9dC5nKyhlLmctdC5nKSpuLHRoaXMuYj10LmIrKGUuYi10LmIpKm4sdGhpc31sZXJwSFNMKHQsZSl7dGhpcy5nZXRIU0woWmUpLHQuZ2V0SFNMKEplKTtjb25zdCBuPWR0KFplLmgsSmUuaCxlKSxpPWR0KFplLnMsSmUucyxlKSxyPWR0KFplLmwsSmUubCxlKTtyZXR1cm4gdGhpcy5zZXRIU0wobixpLHIpLHRoaXN9ZXF1YWxzKHQpe3JldHVybiB0LnI9PT10aGlzLnImJnQuZz09PXRoaXMuZyYmdC5iPT09dGhpcy5ifWZyb21BcnJheSh0LGU9MCl7cmV0dXJuIHRoaXMucj10W2VdLHRoaXMuZz10W2UrMV0sdGhpcy5iPXRbZSsyXSx0aGlzfXRvQXJyYXkodD1bXSxlPTApe3JldHVybiB0W2VdPXRoaXMucix0W2UrMV09dGhpcy5nLHRbZSsyXT10aGlzLmIsdH1mcm9tQnVmZmVyQXR0cmlidXRlKHQsZSl7cmV0dXJuIHRoaXMucj10LmdldFgoZSksdGhpcy5nPXQuZ2V0WShlKSx0aGlzLmI9dC5nZXRaKGUpLCEwPT09dC5ub3JtYWxpemVkJiYodGhpcy5yLz0yNTUsdGhpcy5nLz0yNTUsdGhpcy5iLz0yNTUpLHRoaXN9dG9KU09OKCl7cmV0dXJuIHRoaXMuZ2V0SGV4KCl9fXRuLk5BTUVTPVllLHRuLnByb3RvdHlwZS5pc0NvbG9yPSEwLHRuLnByb3RvdHlwZS5yPTEsdG4ucHJvdG90eXBlLmc9MSx0bi5wcm90b3R5cGUuYj0xO2NsYXNzIGVuIGV4dGVuZHMgWGV7Y29uc3RydWN0b3IodCl7c3VwZXIoKSx0aGlzLnR5cGU9Ik1lc2hCYXNpY01hdGVyaWFsIix0aGlzLmNvbG9yPW5ldyB0bigxNjc3NzIxNSksdGhpcy5tYXA9bnVsbCx0aGlzLmxpZ2h0TWFwPW51bGwsdGhpcy5saWdodE1hcEludGVuc2l0eT0xLHRoaXMuYW9NYXA9bnVsbCx0aGlzLmFvTWFwSW50ZW5zaXR5PTEsdGhpcy5zcGVjdWxhck1hcD1udWxsLHRoaXMuYWxwaGFNYXA9bnVsbCx0aGlzLmVudk1hcD1udWxsLHRoaXMuY29tYmluZT0wLHRoaXMucmVmbGVjdGl2aXR5PTEsdGhpcy5yZWZyYWN0aW9uUmF0aW89Ljk4LHRoaXMud2lyZWZyYW1lPSExLHRoaXMud2lyZWZyYW1lTGluZXdpZHRoPTEsdGhpcy53aXJlZnJhbWVMaW5lY2FwPSJyb3VuZCIsdGhpcy53aXJlZnJhbWVMaW5lam9pbj0icm91bmQiLHRoaXMuc2tpbm5pbmc9ITEsdGhpcy5tb3JwaFRhcmdldHM9ITEsdGhpcy5zZXRWYWx1ZXModCl9Y29weSh0KXtyZXR1cm4gc3VwZXIuY29weSh0KSx0aGlzLmNvbG9yLmNvcHkodC5jb2xvciksdGhpcy5tYXA9dC5tYXAsdGhpcy5saWdodE1hcD10LmxpZ2h0TWFwLHRoaXMubGlnaHRNYXBJbnRlbnNpdHk9dC5saWdodE1hcEludGVuc2l0eSx0aGlzLmFvTWFwPXQuYW9NYXAsdGhpcy5hb01hcEludGVuc2l0eT10LmFvTWFwSW50ZW5zaXR5LHRoaXMuc3BlY3VsYXJNYXA9dC5zcGVjdWxhck1hcCx0aGlzLmFscGhhTWFwPXQuYWxwaGFNYXAsdGhpcy5lbnZNYXA9dC5lbnZNYXAsdGhpcy5jb21iaW5lPXQuY29tYmluZSx0aGlzLnJlZmxlY3Rpdml0eT10LnJlZmxlY3Rpdml0eSx0aGlzLnJlZnJhY3Rpb25SYXRpbz10LnJlZnJhY3Rpb25SYXRpbyx0aGlzLndpcmVmcmFtZT10LndpcmVmcmFtZSx0aGlzLndpcmVmcmFtZUxpbmV3aWR0aD10LndpcmVmcmFtZUxpbmV3aWR0aCx0aGlzLndpcmVmcmFtZUxpbmVjYXA9dC53aXJlZnJhbWVMaW5lY2FwLHRoaXMud2lyZWZyYW1lTGluZWpvaW49dC53aXJlZnJhbWVMaW5lam9pbix0aGlzLnNraW5uaW5nPXQuc2tpbm5pbmcsdGhpcy5tb3JwaFRhcmdldHM9dC5tb3JwaFRhcmdldHMsdGhpc319ZW4ucHJvdG90eXBlLmlzTWVzaEJhc2ljTWF0ZXJpYWw9ITA7Y29uc3Qgbm49bmV3IEx0LHJuPW5ldyB2dDtjbGFzcyBzbntjb25zdHJ1Y3Rvcih0LGUsbil7aWYoQXJyYXkuaXNBcnJheSh0KSl0aHJvdyBuZXcgVHlwZUVycm9yKCJUSFJFRS5CdWZmZXJBdHRyaWJ1dGU6IGFycmF5IHNob3VsZCBiZSBhIFR5cGVkIEFycmF5LiIpO3RoaXMubmFtZT0iIix0aGlzLmFycmF5PXQsdGhpcy5pdGVtU2l6ZT1lLHRoaXMuY291bnQ9dm9pZCAwIT09dD90Lmxlbmd0aC9lOjAsdGhpcy5ub3JtYWxpemVkPSEwPT09bix0aGlzLnVzYWdlPWV0LHRoaXMudXBkYXRlUmFuZ2U9e29mZnNldDowLGNvdW50Oi0xfSx0aGlzLnZlcnNpb249MCx0aGlzLm9uVXBsb2FkQ2FsbGJhY2s9ZnVuY3Rpb24oKXt9fXNldCBuZWVkc1VwZGF0ZSh0KXshMD09PXQmJnRoaXMudmVyc2lvbisrfXNldFVzYWdlKHQpe3JldHVybiB0aGlzLnVzYWdlPXQsdGhpc31jb3B5KHQpe3JldHVybiB0aGlzLm5hbWU9dC5uYW1lLHRoaXMuYXJyYXk9bmV3IHQuYXJyYXkuY29uc3RydWN0b3IodC5hcnJheSksdGhpcy5pdGVtU2l6ZT10Lml0ZW1TaXplLHRoaXMuY291bnQ9dC5jb3VudCx0aGlzLm5vcm1hbGl6ZWQ9dC5ub3JtYWxpemVkLHRoaXMudXNhZ2U9dC51c2FnZSx0aGlzfWNvcHlBdCh0LGUsbil7dCo9dGhpcy5pdGVtU2l6ZSxuKj1lLml0ZW1TaXplO2ZvcihsZXQgaT0wLHI9dGhpcy5pdGVtU2l6ZTtpPHI7aSsrKXRoaXMuYXJyYXlbdCtpXT1lLmFycmF5W24raV07cmV0dXJuIHRoaXN9Y29weUFycmF5KHQpe3JldHVybiB0aGlzLmFycmF5LnNldCh0KSx0aGlzfWNvcHlDb2xvcnNBcnJheSh0KXtjb25zdCBlPXRoaXMuYXJyYXk7bGV0IG49MDtmb3IobGV0IGk9MCxyPXQubGVuZ3RoO2k8cjtpKyspe2xldCByPXRbaV07dm9pZCAwPT09ciYmKGNvbnNvbGUud2FybigiVEhSRUUuQnVmZmVyQXR0cmlidXRlLmNvcHlDb2xvcnNBcnJheSgpOiBjb2xvciBpcyB1bmRlZmluZWQiLGkpLHI9bmV3IHRuKSxlW24rK109ci5yLGVbbisrXT1yLmcsZVtuKytdPXIuYn1yZXR1cm4gdGhpc31jb3B5VmVjdG9yMnNBcnJheSh0KXtjb25zdCBlPXRoaXMuYXJyYXk7bGV0IG49MDtmb3IobGV0IGk9MCxyPXQubGVuZ3RoO2k8cjtpKyspe2xldCByPXRbaV07dm9pZCAwPT09ciYmKGNvbnNvbGUud2FybigiVEhSRUUuQnVmZmVyQXR0cmlidXRlLmNvcHlWZWN0b3Iyc0FycmF5KCk6IHZlY3RvciBpcyB1bmRlZmluZWQiLGkpLHI9bmV3IHZ0KSxlW24rK109ci54LGVbbisrXT1yLnl9cmV0dXJuIHRoaXN9Y29weVZlY3RvcjNzQXJyYXkodCl7Y29uc3QgZT10aGlzLmFycmF5O2xldCBuPTA7Zm9yKGxldCBpPTAscj10Lmxlbmd0aDtpPHI7aSsrKXtsZXQgcj10W2ldO3ZvaWQgMD09PXImJihjb25zb2xlLndhcm4oIlRIUkVFLkJ1ZmZlckF0dHJpYnV0ZS5jb3B5VmVjdG9yM3NBcnJheSgpOiB2ZWN0b3IgaXMgdW5kZWZpbmVkIixpKSxyPW5ldyBMdCksZVtuKytdPXIueCxlW24rK109ci55LGVbbisrXT1yLnp9cmV0dXJuIHRoaXN9Y29weVZlY3RvcjRzQXJyYXkodCl7Y29uc3QgZT10aGlzLmFycmF5O2xldCBuPTA7Zm9yKGxldCBpPTAscj10Lmxlbmd0aDtpPHI7aSsrKXtsZXQgcj10W2ldO3ZvaWQgMD09PXImJihjb25zb2xlLndhcm4oIlRIUkVFLkJ1ZmZlckF0dHJpYnV0ZS5jb3B5VmVjdG9yNHNBcnJheSgpOiB2ZWN0b3IgaXMgdW5kZWZpbmVkIixpKSxyPW5ldyBTdCksZVtuKytdPXIueCxlW24rK109ci55LGVbbisrXT1yLnosZVtuKytdPXIud31yZXR1cm4gdGhpc31hcHBseU1hdHJpeDModCl7aWYoMj09PXRoaXMuaXRlbVNpemUpZm9yKGxldCBlPTAsbj10aGlzLmNvdW50O2U8bjtlKyspcm4uZnJvbUJ1ZmZlckF0dHJpYnV0ZSh0aGlzLGUpLHJuLmFwcGx5TWF0cml4Myh0KSx0aGlzLnNldFhZKGUscm4ueCxybi55KTtlbHNlIGlmKDM9PT10aGlzLml0ZW1TaXplKWZvcihsZXQgZT0wLG49dGhpcy5jb3VudDtlPG47ZSsrKW5uLmZyb21CdWZmZXJBdHRyaWJ1dGUodGhpcyxlKSxubi5hcHBseU1hdHJpeDModCksdGhpcy5zZXRYWVooZSxubi54LG5uLnksbm4ueik7cmV0dXJuIHRoaXN9YXBwbHlNYXRyaXg0KHQpe2ZvcihsZXQgZT0wLG49dGhpcy5jb3VudDtlPG47ZSsrKW5uLng9dGhpcy5nZXRYKGUpLG5uLnk9dGhpcy5nZXRZKGUpLG5uLno9dGhpcy5nZXRaKGUpLG5uLmFwcGx5TWF0cml4NCh0KSx0aGlzLnNldFhZWihlLG5uLngsbm4ueSxubi56KTtyZXR1cm4gdGhpc31hcHBseU5vcm1hbE1hdHJpeCh0KXtmb3IobGV0IGU9MCxuPXRoaXMuY291bnQ7ZTxuO2UrKylubi54PXRoaXMuZ2V0WChlKSxubi55PXRoaXMuZ2V0WShlKSxubi56PXRoaXMuZ2V0WihlKSxubi5hcHBseU5vcm1hbE1hdHJpeCh0KSx0aGlzLnNldFhZWihlLG5uLngsbm4ueSxubi56KTtyZXR1cm4gdGhpc310cmFuc2Zvcm1EaXJlY3Rpb24odCl7Zm9yKGxldCBlPTAsbj10aGlzLmNvdW50O2U8bjtlKyspbm4ueD10aGlzLmdldFgoZSksbm4ueT10aGlzLmdldFkoZSksbm4uej10aGlzLmdldFooZSksbm4udHJhbnNmb3JtRGlyZWN0aW9uKHQpLHRoaXMuc2V0WFlaKGUsbm4ueCxubi55LG5uLnopO3JldHVybiB0aGlzfXNldCh0LGU9MCl7cmV0dXJuIHRoaXMuYXJyYXkuc2V0KHQsZSksdGhpc31nZXRYKHQpe3JldHVybiB0aGlzLmFycmF5W3QqdGhpcy5pdGVtU2l6ZV19c2V0WCh0LGUpe3JldHVybiB0aGlzLmFycmF5W3QqdGhpcy5pdGVtU2l6ZV09ZSx0aGlzfWdldFkodCl7cmV0dXJuIHRoaXMuYXJyYXlbdCp0aGlzLml0ZW1TaXplKzFdfXNldFkodCxlKXtyZXR1cm4gdGhpcy5hcnJheVt0KnRoaXMuaXRlbVNpemUrMV09ZSx0aGlzfWdldFoodCl7cmV0dXJuIHRoaXMuYXJyYXlbdCp0aGlzLml0ZW1TaXplKzJdfXNldFoodCxlKXtyZXR1cm4gdGhpcy5hcnJheVt0KnRoaXMuaXRlbVNpemUrMl09ZSx0aGlzfWdldFcodCl7cmV0dXJuIHRoaXMuYXJyYXlbdCp0aGlzLml0ZW1TaXplKzNdfXNldFcodCxlKXtyZXR1cm4gdGhpcy5hcnJheVt0KnRoaXMuaXRlbVNpemUrM109ZSx0aGlzfXNldFhZKHQsZSxuKXtyZXR1cm4gdCo9dGhpcy5pdGVtU2l6ZSx0aGlzLmFycmF5W3QrMF09ZSx0aGlzLmFycmF5W3QrMV09bix0aGlzfXNldFhZWih0LGUsbixpKXtyZXR1cm4gdCo9dGhpcy5pdGVtU2l6ZSx0aGlzLmFycmF5W3QrMF09ZSx0aGlzLmFycmF5W3QrMV09bix0aGlzLmFycmF5W3QrMl09aSx0aGlzfXNldFhZWlcodCxlLG4saSxyKXtyZXR1cm4gdCo9dGhpcy5pdGVtU2l6ZSx0aGlzLmFycmF5W3QrMF09ZSx0aGlzLmFycmF5W3QrMV09bix0aGlzLmFycmF5W3QrMl09aSx0aGlzLmFycmF5W3QrM109cix0aGlzfW9uVXBsb2FkKHQpe3JldHVybiB0aGlzLm9uVXBsb2FkQ2FsbGJhY2s9dCx0aGlzfWNsb25lKCl7cmV0dXJuIG5ldyB0aGlzLmNvbnN0cnVjdG9yKHRoaXMuYXJyYXksdGhpcy5pdGVtU2l6ZSkuY29weSh0aGlzKX10b0pTT04oKXtjb25zdCB0PXtpdGVtU2l6ZTp0aGlzLml0ZW1TaXplLHR5cGU6dGhpcy5hcnJheS5jb25zdHJ1Y3Rvci5uYW1lLGFycmF5OkFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKHRoaXMuYXJyYXkpLG5vcm1hbGl6ZWQ6dGhpcy5ub3JtYWxpemVkfTtyZXR1cm4iIiE9PXRoaXMubmFtZSYmKHQubmFtZT10aGlzLm5hbWUpLHRoaXMudXNhZ2UhPT1ldCYmKHQudXNhZ2U9dGhpcy51c2FnZSksMD09PXRoaXMudXBkYXRlUmFuZ2Uub2Zmc2V0JiYtMT09PXRoaXMudXBkYXRlUmFuZ2UuY291bnR8fCh0LnVwZGF0ZVJhbmdlPXRoaXMudXBkYXRlUmFuZ2UpLHR9fXNuLnByb3RvdHlwZS5pc0J1ZmZlckF0dHJpYnV0ZT0hMDtjbGFzcyBhbiBleHRlbmRzIHNue2NvbnN0cnVjdG9yKHQsZSxuKXtzdXBlcihuZXcgSW50OEFycmF5KHQpLGUsbil9fWNsYXNzIG9uIGV4dGVuZHMgc257Y29uc3RydWN0b3IodCxlLG4pe3N1cGVyKG5ldyBVaW50OEFycmF5KHQpLGUsbil9fWNsYXNzIGxuIGV4dGVuZHMgc257Y29uc3RydWN0b3IodCxlLG4pe3N1cGVyKG5ldyBVaW50OENsYW1wZWRBcnJheSh0KSxlLG4pfX1jbGFzcyBjbiBleHRlbmRzIHNue2NvbnN0cnVjdG9yKHQsZSxuKXtzdXBlcihuZXcgSW50MTZBcnJheSh0KSxlLG4pfX1jbGFzcyBobiBleHRlbmRzIHNue2NvbnN0cnVjdG9yKHQsZSxuKXtzdXBlcihuZXcgVWludDE2QXJyYXkodCksZSxuKX19Y2xhc3MgdW4gZXh0ZW5kcyBzbntjb25zdHJ1Y3Rvcih0LGUsbil7c3VwZXIobmV3IEludDMyQXJyYXkodCksZSxuKX19Y2xhc3MgZG4gZXh0ZW5kcyBzbntjb25zdHJ1Y3Rvcih0LGUsbil7c3VwZXIobmV3IFVpbnQzMkFycmF5KHQpLGUsbil9fWNsYXNzIHBuIGV4dGVuZHMgc257Y29uc3RydWN0b3IodCxlLG4pe3N1cGVyKG5ldyBVaW50MTZBcnJheSh0KSxlLG4pfX1wbi5wcm90b3R5cGUuaXNGbG9hdDE2QnVmZmVyQXR0cmlidXRlPSEwO2NsYXNzIG1uIGV4dGVuZHMgc257Y29uc3RydWN0b3IodCxlLG4pe3N1cGVyKG5ldyBGbG9hdDMyQXJyYXkodCksZSxuKX19Y2xhc3MgZm4gZXh0ZW5kcyBzbntjb25zdHJ1Y3Rvcih0LGUsbil7c3VwZXIobmV3IEZsb2F0NjRBcnJheSh0KSxlLG4pfX1mdW5jdGlvbiBnbih0KXtpZigwPT09dC5sZW5ndGgpcmV0dXJuLTEvMDtsZXQgZT10WzBdO2ZvcihsZXQgbj0xLGk9dC5sZW5ndGg7bjxpOysrbil0W25dPmUmJihlPXRbbl0pO3JldHVybiBlfWNvbnN0IHZuPXtJbnQ4QXJyYXk6SW50OEFycmF5LFVpbnQ4QXJyYXk6VWludDhBcnJheSxVaW50OENsYW1wZWRBcnJheTpVaW50OENsYW1wZWRBcnJheSxJbnQxNkFycmF5OkludDE2QXJyYXksVWludDE2QXJyYXk6VWludDE2QXJyYXksSW50MzJBcnJheTpJbnQzMkFycmF5LFVpbnQzMkFycmF5OlVpbnQzMkFycmF5LEZsb2F0MzJBcnJheTpGbG9hdDMyQXJyYXksRmxvYXQ2NEFycmF5OkZsb2F0NjRBcnJheX07ZnVuY3Rpb24geW4odCxlKXtyZXR1cm4gbmV3IHZuW3RdKGUpfWxldCB4bj0wO2NvbnN0IF9uPW5ldyBzZSx3bj1uZXcgQ2UsYm49bmV3IEx0LE1uPW5ldyBQdCxTbj1uZXcgUHQsVG49bmV3IEx0O2NsYXNzIEVuIGV4dGVuZHMgcnR7Y29uc3RydWN0b3IoKXtzdXBlcigpLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCJpZCIse3ZhbHVlOnhuKyt9KSx0aGlzLnV1aWQ9Y3QoKSx0aGlzLm5hbWU9IiIsdGhpcy50eXBlPSJCdWZmZXJHZW9tZXRyeSIsdGhpcy5pbmRleD1udWxsLHRoaXMuYXR0cmlidXRlcz17fSx0aGlzLm1vcnBoQXR0cmlidXRlcz17fSx0aGlzLm1vcnBoVGFyZ2V0c1JlbGF0aXZlPSExLHRoaXMuZ3JvdXBzPVtdLHRoaXMuYm91bmRpbmdCb3g9bnVsbCx0aGlzLmJvdW5kaW5nU3BoZXJlPW51bGwsdGhpcy5kcmF3UmFuZ2U9e3N0YXJ0OjAsY291bnQ6MS8wfSx0aGlzLnVzZXJEYXRhPXt9fWdldEluZGV4KCl7cmV0dXJuIHRoaXMuaW5kZXh9c2V0SW5kZXgodCl7cmV0dXJuIEFycmF5LmlzQXJyYXkodCk/dGhpcy5pbmRleD1uZXcoZ24odCk+NjU1MzU/ZG46aG4pKHQsMSk6dGhpcy5pbmRleD10LHRoaXN9Z2V0QXR0cmlidXRlKHQpe3JldHVybiB0aGlzLmF0dHJpYnV0ZXNbdF19c2V0QXR0cmlidXRlKHQsZSl7cmV0dXJuIHRoaXMuYXR0cmlidXRlc1t0XT1lLHRoaXN9ZGVsZXRlQXR0cmlidXRlKHQpe3JldHVybiBkZWxldGUgdGhpcy5hdHRyaWJ1dGVzW3RdLHRoaXN9aGFzQXR0cmlidXRlKHQpe3JldHVybiB2b2lkIDAhPT10aGlzLmF0dHJpYnV0ZXNbdF19YWRkR3JvdXAodCxlLG49MCl7dGhpcy5ncm91cHMucHVzaCh7c3RhcnQ6dCxjb3VudDplLG1hdGVyaWFsSW5kZXg6bn0pfWNsZWFyR3JvdXBzKCl7dGhpcy5ncm91cHM9W119c2V0RHJhd1JhbmdlKHQsZSl7dGhpcy5kcmF3UmFuZ2Uuc3RhcnQ9dCx0aGlzLmRyYXdSYW5nZS5jb3VudD1lfWFwcGx5TWF0cml4NCh0KXtjb25zdCBlPXRoaXMuYXR0cmlidXRlcy5wb3NpdGlvbjt2b2lkIDAhPT1lJiYoZS5hcHBseU1hdHJpeDQodCksZS5uZWVkc1VwZGF0ZT0hMCk7Y29uc3Qgbj10aGlzLmF0dHJpYnV0ZXMubm9ybWFsO2lmKHZvaWQgMCE9PW4pe2NvbnN0IGU9KG5ldyB5dCkuZ2V0Tm9ybWFsTWF0cml4KHQpO24uYXBwbHlOb3JtYWxNYXRyaXgoZSksbi5uZWVkc1VwZGF0ZT0hMH1jb25zdCBpPXRoaXMuYXR0cmlidXRlcy50YW5nZW50O3JldHVybiB2b2lkIDAhPT1pJiYoaS50cmFuc2Zvcm1EaXJlY3Rpb24odCksaS5uZWVkc1VwZGF0ZT0hMCksbnVsbCE9PXRoaXMuYm91bmRpbmdCb3gmJnRoaXMuY29tcHV0ZUJvdW5kaW5nQm94KCksbnVsbCE9PXRoaXMuYm91bmRpbmdTcGhlcmUmJnRoaXMuY29tcHV0ZUJvdW5kaW5nU3BoZXJlKCksdGhpc31yb3RhdGVYKHQpe3JldHVybiBfbi5tYWtlUm90YXRpb25YKHQpLHRoaXMuYXBwbHlNYXRyaXg0KF9uKSx0aGlzfXJvdGF0ZVkodCl7cmV0dXJuIF9uLm1ha2VSb3RhdGlvblkodCksdGhpcy5hcHBseU1hdHJpeDQoX24pLHRoaXN9cm90YXRlWih0KXtyZXR1cm4gX24ubWFrZVJvdGF0aW9uWih0KSx0aGlzLmFwcGx5TWF0cml4NChfbiksdGhpc310cmFuc2xhdGUodCxlLG4pe3JldHVybiBfbi5tYWtlVHJhbnNsYXRpb24odCxlLG4pLHRoaXMuYXBwbHlNYXRyaXg0KF9uKSx0aGlzfXNjYWxlKHQsZSxuKXtyZXR1cm4gX24ubWFrZVNjYWxlKHQsZSxuKSx0aGlzLmFwcGx5TWF0cml4NChfbiksdGhpc31sb29rQXQodCl7cmV0dXJuIHduLmxvb2tBdCh0KSx3bi51cGRhdGVNYXRyaXgoKSx0aGlzLmFwcGx5TWF0cml4NCh3bi5tYXRyaXgpLHRoaXN9Y2VudGVyKCl7cmV0dXJuIHRoaXMuY29tcHV0ZUJvdW5kaW5nQm94KCksdGhpcy5ib3VuZGluZ0JveC5nZXRDZW50ZXIoYm4pLm5lZ2F0ZSgpLHRoaXMudHJhbnNsYXRlKGJuLngsYm4ueSxibi56KSx0aGlzfXNldEZyb21Qb2ludHModCl7Y29uc3QgZT1bXTtmb3IobGV0IG49MCxpPXQubGVuZ3RoO248aTtuKyspe2NvbnN0IGk9dFtuXTtlLnB1c2goaS54LGkueSxpLnp8fDApfXJldHVybiB0aGlzLnNldEF0dHJpYnV0ZSgicG9zaXRpb24iLG5ldyBtbihlLDMpKSx0aGlzfWNvbXB1dGVCb3VuZGluZ0JveCgpe251bGw9PT10aGlzLmJvdW5kaW5nQm94JiYodGhpcy5ib3VuZGluZ0JveD1uZXcgUHQpO2NvbnN0IHQ9dGhpcy5hdHRyaWJ1dGVzLnBvc2l0aW9uLGU9dGhpcy5tb3JwaEF0dHJpYnV0ZXMucG9zaXRpb247aWYodCYmdC5pc0dMQnVmZmVyQXR0cmlidXRlKXJldHVybiBjb25zb2xlLmVycm9yKCdUSFJFRS5CdWZmZXJHZW9tZXRyeS5jb21wdXRlQm91bmRpbmdCb3goKTogR0xCdWZmZXJBdHRyaWJ1dGUgcmVxdWlyZXMgYSBtYW51YWwgYm91bmRpbmcgYm94LiBBbHRlcm5hdGl2ZWx5IHNldCAibWVzaC5mcnVzdHVtQ3VsbGVkIiB0byAiZmFsc2UiLicsdGhpcyksdm9pZCB0aGlzLmJvdW5kaW5nQm94LnNldChuZXcgTHQoLTEvMCwtMS8wLC0xLzApLG5ldyBMdCgxLzAsMS8wLDEvMCkpO2lmKHZvaWQgMCE9PXQpe2lmKHRoaXMuYm91bmRpbmdCb3guc2V0RnJvbUJ1ZmZlckF0dHJpYnV0ZSh0KSxlKWZvcihsZXQgdD0wLG49ZS5sZW5ndGg7dDxuO3QrKyl7Y29uc3Qgbj1lW3RdO01uLnNldEZyb21CdWZmZXJBdHRyaWJ1dGUobiksdGhpcy5tb3JwaFRhcmdldHNSZWxhdGl2ZT8oVG4uYWRkVmVjdG9ycyh0aGlzLmJvdW5kaW5nQm94Lm1pbixNbi5taW4pLHRoaXMuYm91bmRpbmdCb3guZXhwYW5kQnlQb2ludChUbiksVG4uYWRkVmVjdG9ycyh0aGlzLmJvdW5kaW5nQm94Lm1heCxNbi5tYXgpLHRoaXMuYm91bmRpbmdCb3guZXhwYW5kQnlQb2ludChUbikpOih0aGlzLmJvdW5kaW5nQm94LmV4cGFuZEJ5UG9pbnQoTW4ubWluKSx0aGlzLmJvdW5kaW5nQm94LmV4cGFuZEJ5UG9pbnQoTW4ubWF4KSl9fWVsc2UgdGhpcy5ib3VuZGluZ0JveC5tYWtlRW1wdHkoKTsoaXNOYU4odGhpcy5ib3VuZGluZ0JveC5taW4ueCl8fGlzTmFOKHRoaXMuYm91bmRpbmdCb3gubWluLnkpfHxpc05hTih0aGlzLmJvdW5kaW5nQm94Lm1pbi56KSkmJmNvbnNvbGUuZXJyb3IoJ1RIUkVFLkJ1ZmZlckdlb21ldHJ5LmNvbXB1dGVCb3VuZGluZ0JveCgpOiBDb21wdXRlZCBtaW4vbWF4IGhhdmUgTmFOIHZhbHVlcy4gVGhlICJwb3NpdGlvbiIgYXR0cmlidXRlIGlzIGxpa2VseSB0byBoYXZlIE5hTiB2YWx1ZXMuJyx0aGlzKX1jb21wdXRlQm91bmRpbmdTcGhlcmUoKXtudWxsPT09dGhpcy5ib3VuZGluZ1NwaGVyZSYmKHRoaXMuYm91bmRpbmdTcGhlcmU9bmV3IEp0KTtjb25zdCB0PXRoaXMuYXR0cmlidXRlcy5wb3NpdGlvbixlPXRoaXMubW9ycGhBdHRyaWJ1dGVzLnBvc2l0aW9uO2lmKHQmJnQuaXNHTEJ1ZmZlckF0dHJpYnV0ZSlyZXR1cm4gY29uc29sZS5lcnJvcignVEhSRUUuQnVmZmVyR2VvbWV0cnkuY29tcHV0ZUJvdW5kaW5nU3BoZXJlKCk6IEdMQnVmZmVyQXR0cmlidXRlIHJlcXVpcmVzIGEgbWFudWFsIGJvdW5kaW5nIHNwaGVyZS4gQWx0ZXJuYXRpdmVseSBzZXQgIm1lc2guZnJ1c3R1bUN1bGxlZCIgdG8gImZhbHNlIi4nLHRoaXMpLHZvaWQgdGhpcy5ib3VuZGluZ1NwaGVyZS5zZXQobmV3IEx0LDEvMCk7aWYodCl7Y29uc3Qgbj10aGlzLmJvdW5kaW5nU3BoZXJlLmNlbnRlcjtpZihNbi5zZXRGcm9tQnVmZmVyQXR0cmlidXRlKHQpLGUpZm9yKGxldCB0PTAsbj1lLmxlbmd0aDt0PG47dCsrKXtjb25zdCBuPWVbdF07U24uc2V0RnJvbUJ1ZmZlckF0dHJpYnV0ZShuKSx0aGlzLm1vcnBoVGFyZ2V0c1JlbGF0aXZlPyhUbi5hZGRWZWN0b3JzKE1uLm1pbixTbi5taW4pLE1uLmV4cGFuZEJ5UG9pbnQoVG4pLFRuLmFkZFZlY3RvcnMoTW4ubWF4LFNuLm1heCksTW4uZXhwYW5kQnlQb2ludChUbikpOihNbi5leHBhbmRCeVBvaW50KFNuLm1pbiksTW4uZXhwYW5kQnlQb2ludChTbi5tYXgpKX1Nbi5nZXRDZW50ZXIobik7bGV0IGk9MDtmb3IobGV0IGU9MCxyPXQuY291bnQ7ZTxyO2UrKylUbi5mcm9tQnVmZmVyQXR0cmlidXRlKHQsZSksaT1NYXRoLm1heChpLG4uZGlzdGFuY2VUb1NxdWFyZWQoVG4pKTtpZihlKWZvcihsZXQgcj0wLHM9ZS5sZW5ndGg7cjxzO3IrKyl7Y29uc3Qgcz1lW3JdLGE9dGhpcy5tb3JwaFRhcmdldHNSZWxhdGl2ZTtmb3IobGV0IGU9MCxyPXMuY291bnQ7ZTxyO2UrKylUbi5mcm9tQnVmZmVyQXR0cmlidXRlKHMsZSksYSYmKGJuLmZyb21CdWZmZXJBdHRyaWJ1dGUodCxlKSxUbi5hZGQoYm4pKSxpPU1hdGgubWF4KGksbi5kaXN0YW5jZVRvU3F1YXJlZChUbikpfXRoaXMuYm91bmRpbmdTcGhlcmUucmFkaXVzPU1hdGguc3FydChpKSxpc05hTih0aGlzLmJvdW5kaW5nU3BoZXJlLnJhZGl1cykmJmNvbnNvbGUuZXJyb3IoJ1RIUkVFLkJ1ZmZlckdlb21ldHJ5LmNvbXB1dGVCb3VuZGluZ1NwaGVyZSgpOiBDb21wdXRlZCByYWRpdXMgaXMgTmFOLiBUaGUgInBvc2l0aW9uIiBhdHRyaWJ1dGUgaXMgbGlrZWx5IHRvIGhhdmUgTmFOIHZhbHVlcy4nLHRoaXMpfX1jb21wdXRlRmFjZU5vcm1hbHMoKXt9Y29tcHV0ZVRhbmdlbnRzKCl7Y29uc3QgdD10aGlzLmluZGV4LGU9dGhpcy5hdHRyaWJ1dGVzO2lmKG51bGw9PT10fHx2b2lkIDA9PT1lLnBvc2l0aW9ufHx2b2lkIDA9PT1lLm5vcm1hbHx8dm9pZCAwPT09ZS51dilyZXR1cm4gdm9pZCBjb25zb2xlLmVycm9yKCJUSFJFRS5CdWZmZXJHZW9tZXRyeTogLmNvbXB1dGVUYW5nZW50cygpIGZhaWxlZC4gTWlzc2luZyByZXF1aXJlZCBhdHRyaWJ1dGVzIChpbmRleCwgcG9zaXRpb24sIG5vcm1hbCBvciB1dikiKTtjb25zdCBuPXQuYXJyYXksaT1lLnBvc2l0aW9uLmFycmF5LHI9ZS5ub3JtYWwuYXJyYXkscz1lLnV2LmFycmF5LGE9aS5sZW5ndGgvMzt2b2lkIDA9PT1lLnRhbmdlbnQmJnRoaXMuc2V0QXR0cmlidXRlKCJ0YW5nZW50IixuZXcgc24obmV3IEZsb2F0MzJBcnJheSg0KmEpLDQpKTtjb25zdCBvPWUudGFuZ2VudC5hcnJheSxsPVtdLGM9W107Zm9yKGxldCB0PTA7dDxhO3QrKylsW3RdPW5ldyBMdCxjW3RdPW5ldyBMdDtjb25zdCBoPW5ldyBMdCx1PW5ldyBMdCxkPW5ldyBMdCxwPW5ldyB2dCxtPW5ldyB2dCxmPW5ldyB2dCxnPW5ldyBMdCx2PW5ldyBMdDtmdW5jdGlvbiB5KHQsZSxuKXtoLmZyb21BcnJheShpLDMqdCksdS5mcm9tQXJyYXkoaSwzKmUpLGQuZnJvbUFycmF5KGksMypuKSxwLmZyb21BcnJheShzLDIqdCksbS5mcm9tQXJyYXkocywyKmUpLGYuZnJvbUFycmF5KHMsMipuKSx1LnN1YihoKSxkLnN1YihoKSxtLnN1YihwKSxmLnN1YihwKTtjb25zdCByPTEvKG0ueCpmLnktZi54Km0ueSk7aXNGaW5pdGUocikmJihnLmNvcHkodSkubXVsdGlwbHlTY2FsYXIoZi55KS5hZGRTY2FsZWRWZWN0b3IoZCwtbS55KS5tdWx0aXBseVNjYWxhcihyKSx2LmNvcHkoZCkubXVsdGlwbHlTY2FsYXIobS54KS5hZGRTY2FsZWRWZWN0b3IodSwtZi54KS5tdWx0aXBseVNjYWxhcihyKSxsW3RdLmFkZChnKSxsW2VdLmFkZChnKSxsW25dLmFkZChnKSxjW3RdLmFkZCh2KSxjW2VdLmFkZCh2KSxjW25dLmFkZCh2KSl9bGV0IHg9dGhpcy5ncm91cHM7MD09PXgubGVuZ3RoJiYoeD1be3N0YXJ0OjAsY291bnQ6bi5sZW5ndGh9XSk7Zm9yKGxldCB0PTAsZT14Lmxlbmd0aDt0PGU7Kyt0KXtjb25zdCBlPXhbdF0saT1lLnN0YXJ0O2ZvcihsZXQgdD1pLHI9aStlLmNvdW50O3Q8cjt0Kz0zKXkoblt0KzBdLG5bdCsxXSxuW3QrMl0pfWNvbnN0IF89bmV3IEx0LHc9bmV3IEx0LGI9bmV3IEx0LE09bmV3IEx0O2Z1bmN0aW9uIFModCl7Yi5mcm9tQXJyYXkociwzKnQpLE0uY29weShiKTtjb25zdCBlPWxbdF07Xy5jb3B5KGUpLF8uc3ViKGIubXVsdGlwbHlTY2FsYXIoYi5kb3QoZSkpKS5ub3JtYWxpemUoKSx3LmNyb3NzVmVjdG9ycyhNLGUpO2NvbnN0IG49dy5kb3QoY1t0XSk8MD8tMToxO29bNCp0XT1fLngsb1s0KnQrMV09Xy55LG9bNCp0KzJdPV8ueixvWzQqdCszXT1ufWZvcihsZXQgdD0wLGU9eC5sZW5ndGg7dDxlOysrdCl7Y29uc3QgZT14W3RdLGk9ZS5zdGFydDtmb3IobGV0IHQ9aSxyPWkrZS5jb3VudDt0PHI7dCs9MylTKG5bdCswXSksUyhuW3QrMV0pLFMoblt0KzJdKX19Y29tcHV0ZVZlcnRleE5vcm1hbHMoKXtjb25zdCB0PXRoaXMuaW5kZXgsZT10aGlzLmdldEF0dHJpYnV0ZSgicG9zaXRpb24iKTtpZih2b2lkIDAhPT1lKXtsZXQgbj10aGlzLmdldEF0dHJpYnV0ZSgibm9ybWFsIik7aWYodm9pZCAwPT09biluPW5ldyBzbihuZXcgRmxvYXQzMkFycmF5KDMqZS5jb3VudCksMyksdGhpcy5zZXRBdHRyaWJ1dGUoIm5vcm1hbCIsbik7ZWxzZSBmb3IobGV0IHQ9MCxlPW4uY291bnQ7dDxlO3QrKyluLnNldFhZWih0LDAsMCwwKTtjb25zdCBpPW5ldyBMdCxyPW5ldyBMdCxzPW5ldyBMdCxhPW5ldyBMdCxvPW5ldyBMdCxsPW5ldyBMdCxjPW5ldyBMdCxoPW5ldyBMdDtpZih0KWZvcihsZXQgdT0wLGQ9dC5jb3VudDt1PGQ7dSs9Myl7Y29uc3QgZD10LmdldFgodSswKSxwPXQuZ2V0WCh1KzEpLG09dC5nZXRYKHUrMik7aS5mcm9tQnVmZmVyQXR0cmlidXRlKGUsZCksci5mcm9tQnVmZmVyQXR0cmlidXRlKGUscCkscy5mcm9tQnVmZmVyQXR0cmlidXRlKGUsbSksYy5zdWJWZWN0b3JzKHMsciksaC5zdWJWZWN0b3JzKGksciksYy5jcm9zcyhoKSxhLmZyb21CdWZmZXJBdHRyaWJ1dGUobixkKSxvLmZyb21CdWZmZXJBdHRyaWJ1dGUobixwKSxsLmZyb21CdWZmZXJBdHRyaWJ1dGUobixtKSxhLmFkZChjKSxvLmFkZChjKSxsLmFkZChjKSxuLnNldFhZWihkLGEueCxhLnksYS56KSxuLnNldFhZWihwLG8ueCxvLnksby56KSxuLnNldFhZWihtLGwueCxsLnksbC56KX1lbHNlIGZvcihsZXQgdD0wLGE9ZS5jb3VudDt0PGE7dCs9MylpLmZyb21CdWZmZXJBdHRyaWJ1dGUoZSx0KzApLHIuZnJvbUJ1ZmZlckF0dHJpYnV0ZShlLHQrMSkscy5mcm9tQnVmZmVyQXR0cmlidXRlKGUsdCsyKSxjLnN1YlZlY3RvcnMocyxyKSxoLnN1YlZlY3RvcnMoaSxyKSxjLmNyb3NzKGgpLG4uc2V0WFlaKHQrMCxjLngsYy55LGMueiksbi5zZXRYWVoodCsxLGMueCxjLnksYy56KSxuLnNldFhZWih0KzIsYy54LGMueSxjLnopO3RoaXMubm9ybWFsaXplTm9ybWFscygpLG4ubmVlZHNVcGRhdGU9ITB9fW1lcmdlKHQsZSl7aWYoIXR8fCF0LmlzQnVmZmVyR2VvbWV0cnkpcmV0dXJuIHZvaWQgY29uc29sZS5lcnJvcigiVEhSRUUuQnVmZmVyR2VvbWV0cnkubWVyZ2UoKTogZ2VvbWV0cnkgbm90IGFuIGluc3RhbmNlIG9mIFRIUkVFLkJ1ZmZlckdlb21ldHJ5LiIsdCk7dm9pZCAwPT09ZSYmKGU9MCxjb25zb2xlLndhcm4oIlRIUkVFLkJ1ZmZlckdlb21ldHJ5Lm1lcmdlKCk6IE92ZXJ3cml0aW5nIG9yaWdpbmFsIGdlb21ldHJ5LCBzdGFydGluZyBhdCBvZmZzZXQ9MC4gVXNlIEJ1ZmZlckdlb21ldHJ5VXRpbHMubWVyZ2VCdWZmZXJHZW9tZXRyaWVzKCkgZm9yIGxvc3NsZXNzIG1lcmdlLiIpKTtjb25zdCBuPXRoaXMuYXR0cmlidXRlcztmb3IoY29uc3QgaSBpbiBuKXtpZih2b2lkIDA9PT10LmF0dHJpYnV0ZXNbaV0pY29udGludWU7Y29uc3Qgcj1uW2ldLmFycmF5LHM9dC5hdHRyaWJ1dGVzW2ldLGE9cy5hcnJheSxvPXMuaXRlbVNpemUqZSxsPU1hdGgubWluKGEubGVuZ3RoLHIubGVuZ3RoLW8pO2ZvcihsZXQgdD0wLGU9bzt0PGw7dCsrLGUrKylyW2VdPWFbdF19cmV0dXJuIHRoaXN9bm9ybWFsaXplTm9ybWFscygpe2NvbnN0IHQ9dGhpcy5hdHRyaWJ1dGVzLm5vcm1hbDtmb3IobGV0IGU9MCxuPXQuY291bnQ7ZTxuO2UrKylUbi5mcm9tQnVmZmVyQXR0cmlidXRlKHQsZSksVG4ubm9ybWFsaXplKCksdC5zZXRYWVooZSxUbi54LFRuLnksVG4ueil9dG9Ob25JbmRleGVkKCl7ZnVuY3Rpb24gdCh0LGUpe2NvbnN0IG49dC5hcnJheSxpPXQuaXRlbVNpemUscj10Lm5vcm1hbGl6ZWQscz1uZXcgbi5jb25zdHJ1Y3RvcihlLmxlbmd0aCppKTtsZXQgYT0wLG89MDtmb3IobGV0IHQ9MCxyPWUubGVuZ3RoO3Q8cjt0Kyspe2E9ZVt0XSppO2ZvcihsZXQgdD0wO3Q8aTt0Kyspc1tvKytdPW5bYSsrXX1yZXR1cm4gbmV3IHNuKHMsaSxyKX1pZihudWxsPT09dGhpcy5pbmRleClyZXR1cm4gY29uc29sZS53YXJuKCJUSFJFRS5CdWZmZXJHZW9tZXRyeS50b05vbkluZGV4ZWQoKTogQnVmZmVyR2VvbWV0cnkgaXMgYWxyZWFkeSBub24taW5kZXhlZC4iKSx0aGlzO2NvbnN0IGU9bmV3IEVuLG49dGhpcy5pbmRleC5hcnJheSxpPXRoaXMuYXR0cmlidXRlcztmb3IoY29uc3QgciBpbiBpKXtjb25zdCBzPXQoaVtyXSxuKTtlLnNldEF0dHJpYnV0ZShyLHMpfWNvbnN0IHI9dGhpcy5tb3JwaEF0dHJpYnV0ZXM7Zm9yKGNvbnN0IGkgaW4gcil7Y29uc3Qgcz1bXSxhPXJbaV07Zm9yKGxldCBlPTAsaT1hLmxlbmd0aDtlPGk7ZSsrKXtjb25zdCBpPXQoYVtlXSxuKTtzLnB1c2goaSl9ZS5tb3JwaEF0dHJpYnV0ZXNbaV09c31lLm1vcnBoVGFyZ2V0c1JlbGF0aXZlPXRoaXMubW9ycGhUYXJnZXRzUmVsYXRpdmU7Y29uc3Qgcz10aGlzLmdyb3Vwcztmb3IobGV0IHQ9MCxuPXMubGVuZ3RoO3Q8bjt0Kyspe2NvbnN0IG49c1t0XTtlLmFkZEdyb3VwKG4uc3RhcnQsbi5jb3VudCxuLm1hdGVyaWFsSW5kZXgpfXJldHVybiBlfXRvSlNPTigpe2NvbnN0IHQ9e21ldGFkYXRhOnt2ZXJzaW9uOjQuNSx0eXBlOiJCdWZmZXJHZW9tZXRyeSIsZ2VuZXJhdG9yOiJCdWZmZXJHZW9tZXRyeS50b0pTT04ifX07aWYodC51dWlkPXRoaXMudXVpZCx0LnR5cGU9dGhpcy50eXBlLCIiIT09dGhpcy5uYW1lJiYodC5uYW1lPXRoaXMubmFtZSksT2JqZWN0LmtleXModGhpcy51c2VyRGF0YSkubGVuZ3RoPjAmJih0LnVzZXJEYXRhPXRoaXMudXNlckRhdGEpLHZvaWQgMCE9PXRoaXMucGFyYW1ldGVycyl7Y29uc3QgZT10aGlzLnBhcmFtZXRlcnM7Zm9yKGNvbnN0IG4gaW4gZSl2b2lkIDAhPT1lW25dJiYodFtuXT1lW25dKTtyZXR1cm4gdH10LmRhdGE9e2F0dHJpYnV0ZXM6e319O2NvbnN0IGU9dGhpcy5pbmRleDtudWxsIT09ZSYmKHQuZGF0YS5pbmRleD17dHlwZTplLmFycmF5LmNvbnN0cnVjdG9yLm5hbWUsYXJyYXk6QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoZS5hcnJheSl9KTtjb25zdCBuPXRoaXMuYXR0cmlidXRlcztmb3IoY29uc3QgZSBpbiBuKXtjb25zdCBpPW5bZV07dC5kYXRhLmF0dHJpYnV0ZXNbZV09aS50b0pTT04odC5kYXRhKX1jb25zdCBpPXt9O2xldCByPSExO2Zvcihjb25zdCBlIGluIHRoaXMubW9ycGhBdHRyaWJ1dGVzKXtjb25zdCBuPXRoaXMubW9ycGhBdHRyaWJ1dGVzW2VdLHM9W107Zm9yKGxldCBlPTAsaT1uLmxlbmd0aDtlPGk7ZSsrKXtjb25zdCBpPW5bZV07cy5wdXNoKGkudG9KU09OKHQuZGF0YSkpfXMubGVuZ3RoPjAmJihpW2VdPXMscj0hMCl9ciYmKHQuZGF0YS5tb3JwaEF0dHJpYnV0ZXM9aSx0LmRhdGEubW9ycGhUYXJnZXRzUmVsYXRpdmU9dGhpcy5tb3JwaFRhcmdldHNSZWxhdGl2ZSk7Y29uc3Qgcz10aGlzLmdyb3VwcztzLmxlbmd0aD4wJiYodC5kYXRhLmdyb3Vwcz1KU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHMpKSk7Y29uc3QgYT10aGlzLmJvdW5kaW5nU3BoZXJlO3JldHVybiBudWxsIT09YSYmKHQuZGF0YS5ib3VuZGluZ1NwaGVyZT17Y2VudGVyOmEuY2VudGVyLnRvQXJyYXkoKSxyYWRpdXM6YS5yYWRpdXN9KSx0fWNsb25lKCl7cmV0dXJuKG5ldyBFbikuY29weSh0aGlzKX1jb3B5KHQpe3RoaXMuaW5kZXg9bnVsbCx0aGlzLmF0dHJpYnV0ZXM9e30sdGhpcy5tb3JwaEF0dHJpYnV0ZXM9e30sdGhpcy5ncm91cHM9W10sdGhpcy5ib3VuZGluZ0JveD1udWxsLHRoaXMuYm91bmRpbmdTcGhlcmU9bnVsbDtjb25zdCBlPXt9O3RoaXMubmFtZT10Lm5hbWU7Y29uc3Qgbj10LmluZGV4O251bGwhPT1uJiZ0aGlzLnNldEluZGV4KG4uY2xvbmUoZSkpO2NvbnN0IGk9dC5hdHRyaWJ1dGVzO2Zvcihjb25zdCB0IGluIGkpe2NvbnN0IG49aVt0XTt0aGlzLnNldEF0dHJpYnV0ZSh0LG4uY2xvbmUoZSkpfWNvbnN0IHI9dC5tb3JwaEF0dHJpYnV0ZXM7Zm9yKGNvbnN0IHQgaW4gcil7Y29uc3Qgbj1bXSxpPXJbdF07Zm9yKGxldCB0PTAscj1pLmxlbmd0aDt0PHI7dCsrKW4ucHVzaChpW3RdLmNsb25lKGUpKTt0aGlzLm1vcnBoQXR0cmlidXRlc1t0XT1ufXRoaXMubW9ycGhUYXJnZXRzUmVsYXRpdmU9dC5tb3JwaFRhcmdldHNSZWxhdGl2ZTtjb25zdCBzPXQuZ3JvdXBzO2ZvcihsZXQgdD0wLGU9cy5sZW5ndGg7dDxlO3QrKyl7Y29uc3QgZT1zW3RdO3RoaXMuYWRkR3JvdXAoZS5zdGFydCxlLmNvdW50LGUubWF0ZXJpYWxJbmRleCl9Y29uc3QgYT10LmJvdW5kaW5nQm94O251bGwhPT1hJiYodGhpcy5ib3VuZGluZ0JveD1hLmNsb25lKCkpO2NvbnN0IG89dC5ib3VuZGluZ1NwaGVyZTtyZXR1cm4gbnVsbCE9PW8mJih0aGlzLmJvdW5kaW5nU3BoZXJlPW8uY2xvbmUoKSksdGhpcy5kcmF3UmFuZ2Uuc3RhcnQ9dC5kcmF3UmFuZ2Uuc3RhcnQsdGhpcy5kcmF3UmFuZ2UuY291bnQ9dC5kcmF3UmFuZ2UuY291bnQsdGhpcy51c2VyRGF0YT10LnVzZXJEYXRhLHRoaXN9ZGlzcG9zZSgpe3RoaXMuZGlzcGF0Y2hFdmVudCh7dHlwZToiZGlzcG9zZSJ9KX19RW4ucHJvdG90eXBlLmlzQnVmZmVyR2VvbWV0cnk9ITA7Y29uc3QgQW49bmV3IHNlLExuPW5ldyByZSxSbj1uZXcgSnQsQ249bmV3IEx0LFBuPW5ldyBMdCxEbj1uZXcgTHQsSW49bmV3IEx0LE5uPW5ldyBMdCxCbj1uZXcgTHQsem49bmV3IEx0LEZuPW5ldyBMdCxPbj1uZXcgTHQsSG49bmV3IHZ0LEduPW5ldyB2dCxVbj1uZXcgdnQsa249bmV3IEx0LFZuPW5ldyBMdDtjbGFzcyBXbiBleHRlbmRzIENle2NvbnN0cnVjdG9yKHQ9bmV3IEVuLGU9bmV3IGVuKXtzdXBlcigpLHRoaXMudHlwZT0iTWVzaCIsdGhpcy5nZW9tZXRyeT10LHRoaXMubWF0ZXJpYWw9ZSx0aGlzLnVwZGF0ZU1vcnBoVGFyZ2V0cygpfWNvcHkodCl7cmV0dXJuIHN1cGVyLmNvcHkodCksdm9pZCAwIT09dC5tb3JwaFRhcmdldEluZmx1ZW5jZXMmJih0aGlzLm1vcnBoVGFyZ2V0SW5mbHVlbmNlcz10Lm1vcnBoVGFyZ2V0SW5mbHVlbmNlcy5zbGljZSgpKSx2b2lkIDAhPT10Lm1vcnBoVGFyZ2V0RGljdGlvbmFyeSYmKHRoaXMubW9ycGhUYXJnZXREaWN0aW9uYXJ5PU9iamVjdC5hc3NpZ24oe30sdC5tb3JwaFRhcmdldERpY3Rpb25hcnkpKSx0aGlzLm1hdGVyaWFsPXQubWF0ZXJpYWwsdGhpcy5nZW9tZXRyeT10Lmdlb21ldHJ5LHRoaXN9dXBkYXRlTW9ycGhUYXJnZXRzKCl7Y29uc3QgdD10aGlzLmdlb21ldHJ5O2lmKHQuaXNCdWZmZXJHZW9tZXRyeSl7Y29uc3QgZT10Lm1vcnBoQXR0cmlidXRlcyxuPU9iamVjdC5rZXlzKGUpO2lmKG4ubGVuZ3RoPjApe2NvbnN0IHQ9ZVtuWzBdXTtpZih2b2lkIDAhPT10KXt0aGlzLm1vcnBoVGFyZ2V0SW5mbHVlbmNlcz1bXSx0aGlzLm1vcnBoVGFyZ2V0RGljdGlvbmFyeT17fTtmb3IobGV0IGU9MCxuPXQubGVuZ3RoO2U8bjtlKyspe2NvbnN0IG49dFtlXS5uYW1lfHxTdHJpbmcoZSk7dGhpcy5tb3JwaFRhcmdldEluZmx1ZW5jZXMucHVzaCgwKSx0aGlzLm1vcnBoVGFyZ2V0RGljdGlvbmFyeVtuXT1lfX19fWVsc2V7Y29uc3QgZT10Lm1vcnBoVGFyZ2V0czt2b2lkIDAhPT1lJiZlLmxlbmd0aD4wJiZjb25zb2xlLmVycm9yKCJUSFJFRS5NZXNoLnVwZGF0ZU1vcnBoVGFyZ2V0cygpIG5vIGxvbmdlciBzdXBwb3J0cyBUSFJFRS5HZW9tZXRyeS4gVXNlIFRIUkVFLkJ1ZmZlckdlb21ldHJ5IGluc3RlYWQuIil9fXJheWNhc3QodCxlKXtjb25zdCBuPXRoaXMuZ2VvbWV0cnksaT10aGlzLm1hdGVyaWFsLHI9dGhpcy5tYXRyaXhXb3JsZDtpZih2b2lkIDA9PT1pKXJldHVybjtpZihudWxsPT09bi5ib3VuZGluZ1NwaGVyZSYmbi5jb21wdXRlQm91bmRpbmdTcGhlcmUoKSxSbi5jb3B5KG4uYm91bmRpbmdTcGhlcmUpLFJuLmFwcGx5TWF0cml4NChyKSwhMT09PXQucmF5LmludGVyc2VjdHNTcGhlcmUoUm4pKXJldHVybjtpZihBbi5jb3B5KHIpLmludmVydCgpLExuLmNvcHkodC5yYXkpLmFwcGx5TWF0cml4NChBbiksbnVsbCE9PW4uYm91bmRpbmdCb3gmJiExPT09TG4uaW50ZXJzZWN0c0JveChuLmJvdW5kaW5nQm94KSlyZXR1cm47bGV0IHM7aWYobi5pc0J1ZmZlckdlb21ldHJ5KXtjb25zdCByPW4uaW5kZXgsYT1uLmF0dHJpYnV0ZXMucG9zaXRpb24sbz1uLm1vcnBoQXR0cmlidXRlcy5wb3NpdGlvbixsPW4ubW9ycGhUYXJnZXRzUmVsYXRpdmUsYz1uLmF0dHJpYnV0ZXMudXYsaD1uLmF0dHJpYnV0ZXMudXYyLHU9bi5ncm91cHMsZD1uLmRyYXdSYW5nZTtpZihudWxsIT09cilpZihBcnJheS5pc0FycmF5KGkpKWZvcihsZXQgbj0wLHA9dS5sZW5ndGg7bjxwO24rKyl7Y29uc3QgcD11W25dLG09aVtwLm1hdGVyaWFsSW5kZXhdO2ZvcihsZXQgbj1NYXRoLm1heChwLnN0YXJ0LGQuc3RhcnQpLGk9TWF0aC5taW4ocC5zdGFydCtwLmNvdW50LGQuc3RhcnQrZC5jb3VudCk7bjxpO24rPTMpe2NvbnN0IGk9ci5nZXRYKG4pLHU9ci5nZXRYKG4rMSksZD1yLmdldFgobisyKTtzPWpuKHRoaXMsbSx0LExuLGEsbyxsLGMsaCxpLHUsZCkscyYmKHMuZmFjZUluZGV4PU1hdGguZmxvb3Iobi8zKSxzLmZhY2UubWF0ZXJpYWxJbmRleD1wLm1hdGVyaWFsSW5kZXgsZS5wdXNoKHMpKX19ZWxzZXtmb3IobGV0IG49TWF0aC5tYXgoMCxkLnN0YXJ0KSx1PU1hdGgubWluKHIuY291bnQsZC5zdGFydCtkLmNvdW50KTtuPHU7bis9Myl7Y29uc3QgdT1yLmdldFgobiksZD1yLmdldFgobisxKSxwPXIuZ2V0WChuKzIpO3M9am4odGhpcyxpLHQsTG4sYSxvLGwsYyxoLHUsZCxwKSxzJiYocy5mYWNlSW5kZXg9TWF0aC5mbG9vcihuLzMpLGUucHVzaChzKSl9fWVsc2UgaWYodm9pZCAwIT09YSlpZihBcnJheS5pc0FycmF5KGkpKWZvcihsZXQgbj0wLHI9dS5sZW5ndGg7bjxyO24rKyl7Y29uc3Qgcj11W25dLHA9aVtyLm1hdGVyaWFsSW5kZXhdO2ZvcihsZXQgbj1NYXRoLm1heChyLnN0YXJ0LGQuc3RhcnQpLGk9TWF0aC5taW4oci5zdGFydCtyLmNvdW50LGQuc3RhcnQrZC5jb3VudCk7bjxpO24rPTMpe3M9am4odGhpcyxwLHQsTG4sYSxvLGwsYyxoLG4sbisxLG4rMikscyYmKHMuZmFjZUluZGV4PU1hdGguZmxvb3Iobi8zKSxzLmZhY2UubWF0ZXJpYWxJbmRleD1yLm1hdGVyaWFsSW5kZXgsZS5wdXNoKHMpKX19ZWxzZXtmb3IobGV0IG49TWF0aC5tYXgoMCxkLnN0YXJ0KSxyPU1hdGgubWluKGEuY291bnQsZC5zdGFydCtkLmNvdW50KTtuPHI7bis9Myl7cz1qbih0aGlzLGksdCxMbixhLG8sbCxjLGgsbixuKzEsbisyKSxzJiYocy5mYWNlSW5kZXg9TWF0aC5mbG9vcihuLzMpLGUucHVzaChzKSl9fX1lbHNlIG4uaXNHZW9tZXRyeSYmY29uc29sZS5lcnJvcigiVEhSRUUuTWVzaC5yYXljYXN0KCkgbm8gbG9uZ2VyIHN1cHBvcnRzIFRIUkVFLkdlb21ldHJ5LiBVc2UgVEhSRUUuQnVmZmVyR2VvbWV0cnkgaW5zdGVhZC4iKX19ZnVuY3Rpb24gam4odCxlLG4saSxyLHMsYSxvLGwsYyxoLHUpe0NuLmZyb21CdWZmZXJBdHRyaWJ1dGUocixjKSxQbi5mcm9tQnVmZmVyQXR0cmlidXRlKHIsaCksRG4uZnJvbUJ1ZmZlckF0dHJpYnV0ZShyLHUpO2NvbnN0IGQ9dC5tb3JwaFRhcmdldEluZmx1ZW5jZXM7aWYoZS5tb3JwaFRhcmdldHMmJnMmJmQpe3puLnNldCgwLDAsMCksRm4uc2V0KDAsMCwwKSxPbi5zZXQoMCwwLDApO2ZvcihsZXQgdD0wLGU9cy5sZW5ndGg7dDxlO3QrKyl7Y29uc3QgZT1kW3RdLG49c1t0XTswIT09ZSYmKEluLmZyb21CdWZmZXJBdHRyaWJ1dGUobixjKSxObi5mcm9tQnVmZmVyQXR0cmlidXRlKG4saCksQm4uZnJvbUJ1ZmZlckF0dHJpYnV0ZShuLHUpLGE/KHpuLmFkZFNjYWxlZFZlY3RvcihJbixlKSxGbi5hZGRTY2FsZWRWZWN0b3IoTm4sZSksT24uYWRkU2NhbGVkVmVjdG9yKEJuLGUpKTooem4uYWRkU2NhbGVkVmVjdG9yKEluLnN1YihDbiksZSksRm4uYWRkU2NhbGVkVmVjdG9yKE5uLnN1YihQbiksZSksT24uYWRkU2NhbGVkVmVjdG9yKEJuLnN1YihEbiksZSkpKX1Dbi5hZGQoem4pLFBuLmFkZChGbiksRG4uYWRkKE9uKX10LmlzU2tpbm5lZE1lc2gmJmUuc2tpbm5pbmcmJih0LmJvbmVUcmFuc2Zvcm0oYyxDbiksdC5ib25lVHJhbnNmb3JtKGgsUG4pLHQuYm9uZVRyYW5zZm9ybSh1LERuKSk7Y29uc3QgcD1mdW5jdGlvbih0LGUsbixpLHIscyxhLG8pe2xldCBsO2lmKGw9MT09PWUuc2lkZT9pLmludGVyc2VjdFRyaWFuZ2xlKGEscyxyLCEwLG8pOmkuaW50ZXJzZWN0VHJpYW5nbGUocixzLGEsMiE9PWUuc2lkZSxvKSxudWxsPT09bClyZXR1cm4gbnVsbDtWbi5jb3B5KG8pLFZuLmFwcGx5TWF0cml4NCh0Lm1hdHJpeFdvcmxkKTtjb25zdCBjPW4ucmF5Lm9yaWdpbi5kaXN0YW5jZVRvKFZuKTtyZXR1cm4gYzxuLm5lYXJ8fGM+bi5mYXI/bnVsbDp7ZGlzdGFuY2U6Yyxwb2ludDpWbi5jbG9uZSgpLG9iamVjdDp0fX0odCxlLG4saSxDbixQbixEbixrbik7aWYocCl7byYmKEhuLmZyb21CdWZmZXJBdHRyaWJ1dGUobyxjKSxHbi5mcm9tQnVmZmVyQXR0cmlidXRlKG8saCksVW4uZnJvbUJ1ZmZlckF0dHJpYnV0ZShvLHUpLHAudXY9amUuZ2V0VVYoa24sQ24sUG4sRG4sSG4sR24sVW4sbmV3IHZ0KSksbCYmKEhuLmZyb21CdWZmZXJBdHRyaWJ1dGUobCxjKSxHbi5mcm9tQnVmZmVyQXR0cmlidXRlKGwsaCksVW4uZnJvbUJ1ZmZlckF0dHJpYnV0ZShsLHUpLHAudXYyPWplLmdldFVWKGtuLENuLFBuLERuLEhuLEduLFVuLG5ldyB2dCkpO2NvbnN0IHQ9e2E6YyxiOmgsYzp1LG5vcm1hbDpuZXcgTHQsbWF0ZXJpYWxJbmRleDowfTtqZS5nZXROb3JtYWwoQ24sUG4sRG4sdC5ub3JtYWwpLHAuZmFjZT10fXJldHVybiBwfVduLnByb3RvdHlwZS5pc01lc2g9ITA7Y2xhc3MgcW4gZXh0ZW5kcyBFbntjb25zdHJ1Y3Rvcih0PTEsZT0xLG49MSxpPTEscj0xLHM9MSl7c3VwZXIoKSx0aGlzLnR5cGU9IkJveEdlb21ldHJ5Iix0aGlzLnBhcmFtZXRlcnM9e3dpZHRoOnQsaGVpZ2h0OmUsZGVwdGg6bix3aWR0aFNlZ21lbnRzOmksaGVpZ2h0U2VnbWVudHM6cixkZXB0aFNlZ21lbnRzOnN9O2NvbnN0IGE9dGhpcztpPU1hdGguZmxvb3IoaSkscj1NYXRoLmZsb29yKHIpLHM9TWF0aC5mbG9vcihzKTtjb25zdCBvPVtdLGw9W10sYz1bXSxoPVtdO2xldCB1PTAsZD0wO2Z1bmN0aW9uIHAodCxlLG4saSxyLHMscCxtLGYsZyx2KXtjb25zdCB5PXMvZix4PXAvZyxfPXMvMix3PXAvMixiPW0vMixNPWYrMSxTPWcrMTtsZXQgVD0wLEU9MDtjb25zdCBBPW5ldyBMdDtmb3IobGV0IHM9MDtzPFM7cysrKXtjb25zdCBhPXMqeC13O2ZvcihsZXQgbz0wO288TTtvKyspe2NvbnN0IHU9byp5LV87QVt0XT11KmksQVtlXT1hKnIsQVtuXT1iLGwucHVzaChBLngsQS55LEEueiksQVt0XT0wLEFbZV09MCxBW25dPW0+MD8xOi0xLGMucHVzaChBLngsQS55LEEueiksaC5wdXNoKG8vZiksaC5wdXNoKDEtcy9nKSxUKz0xfX1mb3IobGV0IHQ9MDt0PGc7dCsrKWZvcihsZXQgZT0wO2U8ZjtlKyspe2NvbnN0IG49dStlK00qdCxpPXUrZStNKih0KzEpLHI9dSsoZSsxKStNKih0KzEpLHM9dSsoZSsxKStNKnQ7by5wdXNoKG4saSxzKSxvLnB1c2goaSxyLHMpLEUrPTZ9YS5hZGRHcm91cChkLEUsdiksZCs9RSx1Kz1UfXAoInoiLCJ5IiwieCIsLTEsLTEsbixlLHQscyxyLDApLHAoInoiLCJ5IiwieCIsMSwtMSxuLGUsLXQscyxyLDEpLHAoIngiLCJ6IiwieSIsMSwxLHQsbixlLGkscywyKSxwKCJ4IiwieiIsInkiLDEsLTEsdCxuLC1lLGkscywzKSxwKCJ4IiwieSIsInoiLDEsLTEsdCxlLG4saSxyLDQpLHAoIngiLCJ5IiwieiIsLTEsLTEsdCxlLC1uLGksciw1KSx0aGlzLnNldEluZGV4KG8pLHRoaXMuc2V0QXR0cmlidXRlKCJwb3NpdGlvbiIsbmV3IG1uKGwsMykpLHRoaXMuc2V0QXR0cmlidXRlKCJub3JtYWwiLG5ldyBtbihjLDMpKSx0aGlzLnNldEF0dHJpYnV0ZSgidXYiLG5ldyBtbihoLDIpKX19ZnVuY3Rpb24gWG4odCl7Y29uc3QgZT17fTtmb3IoY29uc3QgbiBpbiB0KXtlW25dPXt9O2Zvcihjb25zdCBpIGluIHRbbl0pe2NvbnN0IHI9dFtuXVtpXTtyJiYoci5pc0NvbG9yfHxyLmlzTWF0cml4M3x8ci5pc01hdHJpeDR8fHIuaXNWZWN0b3IyfHxyLmlzVmVjdG9yM3x8ci5pc1ZlY3RvcjR8fHIuaXNUZXh0dXJlfHxyLmlzUXVhdGVybmlvbik/ZVtuXVtpXT1yLmNsb25lKCk6QXJyYXkuaXNBcnJheShyKT9lW25dW2ldPXIuc2xpY2UoKTplW25dW2ldPXJ9fXJldHVybiBlfWZ1bmN0aW9uIFluKHQpe2NvbnN0IGU9e307Zm9yKGxldCBuPTA7bjx0Lmxlbmd0aDtuKyspe2NvbnN0IGk9WG4odFtuXSk7Zm9yKGNvbnN0IHQgaW4gaSllW3RdPWlbdF19cmV0dXJuIGV9Y29uc3QgWm49e2Nsb25lOlhuLG1lcmdlOllufTtjbGFzcyBKbiBleHRlbmRzIFhle2NvbnN0cnVjdG9yKHQpe3N1cGVyKCksdGhpcy50eXBlPSJTaGFkZXJNYXRlcmlhbCIsdGhpcy5kZWZpbmVzPXt9LHRoaXMudW5pZm9ybXM9e30sdGhpcy52ZXJ0ZXhTaGFkZXI9InZvaWQgbWFpbigpIHtcblx0Z2xfUG9zaXRpb24gPSBwcm9qZWN0aW9uTWF0cml4ICogbW9kZWxWaWV3TWF0cml4ICogdmVjNCggcG9zaXRpb24sIDEuMCApO1xufSIsdGhpcy5mcmFnbWVudFNoYWRlcj0idm9pZCBtYWluKCkge1xuXHRnbF9GcmFnQ29sb3IgPSB2ZWM0KCAxLjAsIDAuMCwgMC4wLCAxLjAgKTtcbn0iLHRoaXMubGluZXdpZHRoPTEsdGhpcy53aXJlZnJhbWU9ITEsdGhpcy53aXJlZnJhbWVMaW5ld2lkdGg9MSx0aGlzLmZvZz0hMSx0aGlzLmxpZ2h0cz0hMSx0aGlzLmNsaXBwaW5nPSExLHRoaXMuc2tpbm5pbmc9ITEsdGhpcy5tb3JwaFRhcmdldHM9ITEsdGhpcy5tb3JwaE5vcm1hbHM9ITEsdGhpcy5leHRlbnNpb25zPXtkZXJpdmF0aXZlczohMSxmcmFnRGVwdGg6ITEsZHJhd0J1ZmZlcnM6ITEsc2hhZGVyVGV4dHVyZUxPRDohMX0sdGhpcy5kZWZhdWx0QXR0cmlidXRlVmFsdWVzPXtjb2xvcjpbMSwxLDFdLHV2OlswLDBdLHV2MjpbMCwwXX0sdGhpcy5pbmRleDBBdHRyaWJ1dGVOYW1lPXZvaWQgMCx0aGlzLnVuaWZvcm1zTmVlZFVwZGF0ZT0hMSx0aGlzLmdsc2xWZXJzaW9uPW51bGwsdm9pZCAwIT09dCYmKHZvaWQgMCE9PXQuYXR0cmlidXRlcyYmY29uc29sZS5lcnJvcigiVEhSRUUuU2hhZGVyTWF0ZXJpYWw6IGF0dHJpYnV0ZXMgc2hvdWxkIG5vdyBiZSBkZWZpbmVkIGluIFRIUkVFLkJ1ZmZlckdlb21ldHJ5IGluc3RlYWQuIiksdGhpcy5zZXRWYWx1ZXModCkpfWNvcHkodCl7cmV0dXJuIHN1cGVyLmNvcHkodCksdGhpcy5mcmFnbWVudFNoYWRlcj10LmZyYWdtZW50U2hhZGVyLHRoaXMudmVydGV4U2hhZGVyPXQudmVydGV4U2hhZGVyLHRoaXMudW5pZm9ybXM9WG4odC51bmlmb3JtcyksdGhpcy5kZWZpbmVzPU9iamVjdC5hc3NpZ24oe30sdC5kZWZpbmVzKSx0aGlzLndpcmVmcmFtZT10LndpcmVmcmFtZSx0aGlzLndpcmVmcmFtZUxpbmV3aWR0aD10LndpcmVmcmFtZUxpbmV3aWR0aCx0aGlzLmxpZ2h0cz10LmxpZ2h0cyx0aGlzLmNsaXBwaW5nPXQuY2xpcHBpbmcsdGhpcy5za2lubmluZz10LnNraW5uaW5nLHRoaXMubW9ycGhUYXJnZXRzPXQubW9ycGhUYXJnZXRzLHRoaXMubW9ycGhOb3JtYWxzPXQubW9ycGhOb3JtYWxzLHRoaXMuZXh0ZW5zaW9ucz1PYmplY3QuYXNzaWduKHt9LHQuZXh0ZW5zaW9ucyksdGhpcy5nbHNsVmVyc2lvbj10Lmdsc2xWZXJzaW9uLHRoaXN9dG9KU09OKHQpe2NvbnN0IGU9c3VwZXIudG9KU09OKHQpO2UuZ2xzbFZlcnNpb249dGhpcy5nbHNsVmVyc2lvbixlLnVuaWZvcm1zPXt9O2Zvcihjb25zdCBuIGluIHRoaXMudW5pZm9ybXMpe2NvbnN0IGk9dGhpcy51bmlmb3Jtc1tuXS52YWx1ZTtpJiZpLmlzVGV4dHVyZT9lLnVuaWZvcm1zW25dPXt0eXBlOiJ0Iix2YWx1ZTppLnRvSlNPTih0KS51dWlkfTppJiZpLmlzQ29sb3I/ZS51bmlmb3Jtc1tuXT17dHlwZToiYyIsdmFsdWU6aS5nZXRIZXgoKX06aSYmaS5pc1ZlY3RvcjI/ZS51bmlmb3Jtc1tuXT17dHlwZToidjIiLHZhbHVlOmkudG9BcnJheSgpfTppJiZpLmlzVmVjdG9yMz9lLnVuaWZvcm1zW25dPXt0eXBlOiJ2MyIsdmFsdWU6aS50b0FycmF5KCl9OmkmJmkuaXNWZWN0b3I0P2UudW5pZm9ybXNbbl09e3R5cGU6InY0Iix2YWx1ZTppLnRvQXJyYXkoKX06aSYmaS5pc01hdHJpeDM/ZS51bmlmb3Jtc1tuXT17dHlwZToibTMiLHZhbHVlOmkudG9BcnJheSgpfTppJiZpLmlzTWF0cml4ND9lLnVuaWZvcm1zW25dPXt0eXBlOiJtNCIsdmFsdWU6aS50b0FycmF5KCl9OmUudW5pZm9ybXNbbl09e3ZhbHVlOml9fU9iamVjdC5rZXlzKHRoaXMuZGVmaW5lcykubGVuZ3RoPjAmJihlLmRlZmluZXM9dGhpcy5kZWZpbmVzKSxlLnZlcnRleFNoYWRlcj10aGlzLnZlcnRleFNoYWRlcixlLmZyYWdtZW50U2hhZGVyPXRoaXMuZnJhZ21lbnRTaGFkZXI7Y29uc3Qgbj17fTtmb3IoY29uc3QgdCBpbiB0aGlzLmV4dGVuc2lvbnMpITA9PT10aGlzLmV4dGVuc2lvbnNbdF0mJihuW3RdPSEwKTtyZXR1cm4gT2JqZWN0LmtleXMobikubGVuZ3RoPjAmJihlLmV4dGVuc2lvbnM9biksZX19Sm4ucHJvdG90eXBlLmlzU2hhZGVyTWF0ZXJpYWw9ITA7Y2xhc3MgUW4gZXh0ZW5kcyBDZXtjb25zdHJ1Y3Rvcigpe3N1cGVyKCksdGhpcy50eXBlPSJDYW1lcmEiLHRoaXMubWF0cml4V29ybGRJbnZlcnNlPW5ldyBzZSx0aGlzLnByb2plY3Rpb25NYXRyaXg9bmV3IHNlLHRoaXMucHJvamVjdGlvbk1hdHJpeEludmVyc2U9bmV3IHNlfWNvcHkodCxlKXtyZXR1cm4gc3VwZXIuY29weSh0LGUpLHRoaXMubWF0cml4V29ybGRJbnZlcnNlLmNvcHkodC5tYXRyaXhXb3JsZEludmVyc2UpLHRoaXMucHJvamVjdGlvbk1hdHJpeC5jb3B5KHQucHJvamVjdGlvbk1hdHJpeCksdGhpcy5wcm9qZWN0aW9uTWF0cml4SW52ZXJzZS5jb3B5KHQucHJvamVjdGlvbk1hdHJpeEludmVyc2UpLHRoaXN9Z2V0V29ybGREaXJlY3Rpb24odCl7dm9pZCAwPT09dCYmKGNvbnNvbGUud2FybigiVEhSRUUuQ2FtZXJhOiAuZ2V0V29ybGREaXJlY3Rpb24oKSB0YXJnZXQgaXMgbm93IHJlcXVpcmVkIiksdD1uZXcgTHQpLHRoaXMudXBkYXRlV29ybGRNYXRyaXgoITAsITEpO2NvbnN0IGU9dGhpcy5tYXRyaXhXb3JsZC5lbGVtZW50cztyZXR1cm4gdC5zZXQoLWVbOF0sLWVbOV0sLWVbMTBdKS5ub3JtYWxpemUoKX11cGRhdGVNYXRyaXhXb3JsZCh0KXtzdXBlci51cGRhdGVNYXRyaXhXb3JsZCh0KSx0aGlzLm1hdHJpeFdvcmxkSW52ZXJzZS5jb3B5KHRoaXMubWF0cml4V29ybGQpLmludmVydCgpfXVwZGF0ZVdvcmxkTWF0cml4KHQsZSl7c3VwZXIudXBkYXRlV29ybGRNYXRyaXgodCxlKSx0aGlzLm1hdHJpeFdvcmxkSW52ZXJzZS5jb3B5KHRoaXMubWF0cml4V29ybGQpLmludmVydCgpfWNsb25lKCl7cmV0dXJuKG5ldyB0aGlzLmNvbnN0cnVjdG9yKS5jb3B5KHRoaXMpfX1Rbi5wcm90b3R5cGUuaXNDYW1lcmE9ITA7Y2xhc3MgS24gZXh0ZW5kcyBRbntjb25zdHJ1Y3Rvcih0PTUwLGU9MSxuPS4xLGk9MmUzKXtzdXBlcigpLHRoaXMudHlwZT0iUGVyc3BlY3RpdmVDYW1lcmEiLHRoaXMuZm92PXQsdGhpcy56b29tPTEsdGhpcy5uZWFyPW4sdGhpcy5mYXI9aSx0aGlzLmZvY3VzPTEwLHRoaXMuYXNwZWN0PWUsdGhpcy52aWV3PW51bGwsdGhpcy5maWxtR2F1Z2U9MzUsdGhpcy5maWxtT2Zmc2V0PTAsdGhpcy51cGRhdGVQcm9qZWN0aW9uTWF0cml4KCl9Y29weSh0LGUpe3JldHVybiBzdXBlci5jb3B5KHQsZSksdGhpcy5mb3Y9dC5mb3YsdGhpcy56b29tPXQuem9vbSx0aGlzLm5lYXI9dC5uZWFyLHRoaXMuZmFyPXQuZmFyLHRoaXMuZm9jdXM9dC5mb2N1cyx0aGlzLmFzcGVjdD10LmFzcGVjdCx0aGlzLnZpZXc9bnVsbD09PXQudmlldz9udWxsOk9iamVjdC5hc3NpZ24oe30sdC52aWV3KSx0aGlzLmZpbG1HYXVnZT10LmZpbG1HYXVnZSx0aGlzLmZpbG1PZmZzZXQ9dC5maWxtT2Zmc2V0LHRoaXN9c2V0Rm9jYWxMZW5ndGgodCl7Y29uc3QgZT0uNSp0aGlzLmdldEZpbG1IZWlnaHQoKS90O3RoaXMuZm92PTIqbHQqTWF0aC5hdGFuKGUpLHRoaXMudXBkYXRlUHJvamVjdGlvbk1hdHJpeCgpfWdldEZvY2FsTGVuZ3RoKCl7Y29uc3QgdD1NYXRoLnRhbiguNSpvdCp0aGlzLmZvdik7cmV0dXJuLjUqdGhpcy5nZXRGaWxtSGVpZ2h0KCkvdH1nZXRFZmZlY3RpdmVGT1YoKXtyZXR1cm4gMipsdCpNYXRoLmF0YW4oTWF0aC50YW4oLjUqb3QqdGhpcy5mb3YpL3RoaXMuem9vbSl9Z2V0RmlsbVdpZHRoKCl7cmV0dXJuIHRoaXMuZmlsbUdhdWdlKk1hdGgubWluKHRoaXMuYXNwZWN0LDEpfWdldEZpbG1IZWlnaHQoKXtyZXR1cm4gdGhpcy5maWxtR2F1Z2UvTWF0aC5tYXgodGhpcy5hc3BlY3QsMSl9c2V0Vmlld09mZnNldCh0LGUsbixpLHIscyl7dGhpcy5hc3BlY3Q9dC9lLG51bGw9PT10aGlzLnZpZXcmJih0aGlzLnZpZXc9e2VuYWJsZWQ6ITAsZnVsbFdpZHRoOjEsZnVsbEhlaWdodDoxLG9mZnNldFg6MCxvZmZzZXRZOjAsd2lkdGg6MSxoZWlnaHQ6MX0pLHRoaXMudmlldy5lbmFibGVkPSEwLHRoaXMudmlldy5mdWxsV2lkdGg9dCx0aGlzLnZpZXcuZnVsbEhlaWdodD1lLHRoaXMudmlldy5vZmZzZXRYPW4sdGhpcy52aWV3Lm9mZnNldFk9aSx0aGlzLnZpZXcud2lkdGg9cix0aGlzLnZpZXcuaGVpZ2h0PXMsdGhpcy51cGRhdGVQcm9qZWN0aW9uTWF0cml4KCl9Y2xlYXJWaWV3T2Zmc2V0KCl7bnVsbCE9PXRoaXMudmlldyYmKHRoaXMudmlldy5lbmFibGVkPSExKSx0aGlzLnVwZGF0ZVByb2plY3Rpb25NYXRyaXgoKX11cGRhdGVQcm9qZWN0aW9uTWF0cml4KCl7Y29uc3QgdD10aGlzLm5lYXI7bGV0IGU9dCpNYXRoLnRhbiguNSpvdCp0aGlzLmZvdikvdGhpcy56b29tLG49MiplLGk9dGhpcy5hc3BlY3QqbixyPS0uNSppO2NvbnN0IHM9dGhpcy52aWV3O2lmKG51bGwhPT10aGlzLnZpZXcmJnRoaXMudmlldy5lbmFibGVkKXtjb25zdCB0PXMuZnVsbFdpZHRoLGE9cy5mdWxsSGVpZ2h0O3IrPXMub2Zmc2V0WCppL3QsZS09cy5vZmZzZXRZKm4vYSxpKj1zLndpZHRoL3Qsbio9cy5oZWlnaHQvYX1jb25zdCBhPXRoaXMuZmlsbU9mZnNldDswIT09YSYmKHIrPXQqYS90aGlzLmdldEZpbG1XaWR0aCgpKSx0aGlzLnByb2plY3Rpb25NYXRyaXgubWFrZVBlcnNwZWN0aXZlKHIscitpLGUsZS1uLHQsdGhpcy5mYXIpLHRoaXMucHJvamVjdGlvbk1hdHJpeEludmVyc2UuY29weSh0aGlzLnByb2plY3Rpb25NYXRyaXgpLmludmVydCgpfXRvSlNPTih0KXtjb25zdCBlPXN1cGVyLnRvSlNPTih0KTtyZXR1cm4gZS5vYmplY3QuZm92PXRoaXMuZm92LGUub2JqZWN0Lnpvb209dGhpcy56b29tLGUub2JqZWN0Lm5lYXI9dGhpcy5uZWFyLGUub2JqZWN0LmZhcj10aGlzLmZhcixlLm9iamVjdC5mb2N1cz10aGlzLmZvY3VzLGUub2JqZWN0LmFzcGVjdD10aGlzLmFzcGVjdCxudWxsIT09dGhpcy52aWV3JiYoZS5vYmplY3Qudmlldz1PYmplY3QuYXNzaWduKHt9LHRoaXMudmlldykpLGUub2JqZWN0LmZpbG1HYXVnZT10aGlzLmZpbG1HYXVnZSxlLm9iamVjdC5maWxtT2Zmc2V0PXRoaXMuZmlsbU9mZnNldCxlfX1Lbi5wcm90b3R5cGUuaXNQZXJzcGVjdGl2ZUNhbWVyYT0hMDtjb25zdCAkbj05MDtjbGFzcyB0aSBleHRlbmRzIENle2NvbnN0cnVjdG9yKHQsZSxuKXtpZihzdXBlcigpLHRoaXMudHlwZT0iQ3ViZUNhbWVyYSIsITAhPT1uLmlzV2ViR0xDdWJlUmVuZGVyVGFyZ2V0KXJldHVybiB2b2lkIGNvbnNvbGUuZXJyb3IoIlRIUkVFLkN1YmVDYW1lcmE6IFRoZSBjb25zdHJ1Y3RvciBub3cgZXhwZWN0cyBhbiBpbnN0YW5jZSBvZiBXZWJHTEN1YmVSZW5kZXJUYXJnZXQgYXMgdGhpcmQgcGFyYW1ldGVyLiIpO3RoaXMucmVuZGVyVGFyZ2V0PW47Y29uc3QgaT1uZXcgS24oJG4sMSx0LGUpO2kubGF5ZXJzPXRoaXMubGF5ZXJzLGkudXAuc2V0KDAsLTEsMCksaS5sb29rQXQobmV3IEx0KDEsMCwwKSksdGhpcy5hZGQoaSk7Y29uc3Qgcj1uZXcgS24oJG4sMSx0LGUpO3IubGF5ZXJzPXRoaXMubGF5ZXJzLHIudXAuc2V0KDAsLTEsMCksci5sb29rQXQobmV3IEx0KC0xLDAsMCkpLHRoaXMuYWRkKHIpO2NvbnN0IHM9bmV3IEtuKCRuLDEsdCxlKTtzLmxheWVycz10aGlzLmxheWVycyxzLnVwLnNldCgwLDAsMSkscy5sb29rQXQobmV3IEx0KDAsMSwwKSksdGhpcy5hZGQocyk7Y29uc3QgYT1uZXcgS24oJG4sMSx0LGUpO2EubGF5ZXJzPXRoaXMubGF5ZXJzLGEudXAuc2V0KDAsMCwtMSksYS5sb29rQXQobmV3IEx0KDAsLTEsMCkpLHRoaXMuYWRkKGEpO2NvbnN0IG89bmV3IEtuKCRuLDEsdCxlKTtvLmxheWVycz10aGlzLmxheWVycyxvLnVwLnNldCgwLC0xLDApLG8ubG9va0F0KG5ldyBMdCgwLDAsMSkpLHRoaXMuYWRkKG8pO2NvbnN0IGw9bmV3IEtuKCRuLDEsdCxlKTtsLmxheWVycz10aGlzLmxheWVycyxsLnVwLnNldCgwLC0xLDApLGwubG9va0F0KG5ldyBMdCgwLDAsLTEpKSx0aGlzLmFkZChsKX11cGRhdGUodCxlKXtudWxsPT09dGhpcy5wYXJlbnQmJnRoaXMudXBkYXRlTWF0cml4V29ybGQoKTtjb25zdCBuPXRoaXMucmVuZGVyVGFyZ2V0LFtpLHIscyxhLG8sbF09dGhpcy5jaGlsZHJlbixjPXQueHIuZW5hYmxlZCxoPXQuZ2V0UmVuZGVyVGFyZ2V0KCk7dC54ci5lbmFibGVkPSExO2NvbnN0IHU9bi50ZXh0dXJlLmdlbmVyYXRlTWlwbWFwcztuLnRleHR1cmUuZ2VuZXJhdGVNaXBtYXBzPSExLHQuc2V0UmVuZGVyVGFyZ2V0KG4sMCksdC5yZW5kZXIoZSxpKSx0LnNldFJlbmRlclRhcmdldChuLDEpLHQucmVuZGVyKGUsciksdC5zZXRSZW5kZXJUYXJnZXQobiwyKSx0LnJlbmRlcihlLHMpLHQuc2V0UmVuZGVyVGFyZ2V0KG4sMyksdC5yZW5kZXIoZSxhKSx0LnNldFJlbmRlclRhcmdldChuLDQpLHQucmVuZGVyKGUsbyksbi50ZXh0dXJlLmdlbmVyYXRlTWlwbWFwcz11LHQuc2V0UmVuZGVyVGFyZ2V0KG4sNSksdC5yZW5kZXIoZSxsKSx0LnNldFJlbmRlclRhcmdldChoKSx0LnhyLmVuYWJsZWQ9Y319Y2xhc3MgZWkgZXh0ZW5kcyBidHtjb25zdHJ1Y3Rvcih0LGUsbixpLHMsYSxvLGwsYyxoKXtzdXBlcih0PXZvaWQgMCE9PXQ/dDpbXSxlPXZvaWQgMCE9PWU/ZTpyLG4saSxzLGEsbz12b2lkIDAhPT1vP286VCxsLGMsaCksdGhpcy5fbmVlZHNGbGlwRW52TWFwPSEwLHRoaXMuZmxpcFk9ITF9Z2V0IGltYWdlcygpe3JldHVybiB0aGlzLmltYWdlfXNldCBpbWFnZXModCl7dGhpcy5pbWFnZT10fX1laS5wcm90b3R5cGUuaXNDdWJlVGV4dHVyZT0hMDtjbGFzcyBuaSBleHRlbmRzIFR0e2NvbnN0cnVjdG9yKHQsZSxuKXtOdW1iZXIuaXNJbnRlZ2VyKGUpJiYoY29uc29sZS53YXJuKCJUSFJFRS5XZWJHTEN1YmVSZW5kZXJUYXJnZXQ6IGNvbnN0cnVjdG9yIHNpZ25hdHVyZSBpcyBub3cgV2ViR0xDdWJlUmVuZGVyVGFyZ2V0KCBzaXplLCBvcHRpb25zICkiKSxlPW4pLHN1cGVyKHQsdCxlKSxlPWV8fHt9LHRoaXMudGV4dHVyZT1uZXcgZWkodm9pZCAwLGUubWFwcGluZyxlLndyYXBTLGUud3JhcFQsZS5tYWdGaWx0ZXIsZS5taW5GaWx0ZXIsZS5mb3JtYXQsZS50eXBlLGUuYW5pc290cm9weSxlLmVuY29kaW5nKSx0aGlzLnRleHR1cmUuZ2VuZXJhdGVNaXBtYXBzPXZvaWQgMCE9PWUuZ2VuZXJhdGVNaXBtYXBzJiZlLmdlbmVyYXRlTWlwbWFwcyx0aGlzLnRleHR1cmUubWluRmlsdGVyPXZvaWQgMCE9PWUubWluRmlsdGVyP2UubWluRmlsdGVyOmcsdGhpcy50ZXh0dXJlLl9uZWVkc0ZsaXBFbnZNYXA9ITF9ZnJvbUVxdWlyZWN0YW5ndWxhclRleHR1cmUodCxlKXt0aGlzLnRleHR1cmUudHlwZT1lLnR5cGUsdGhpcy50ZXh0dXJlLmZvcm1hdD1FLHRoaXMudGV4dHVyZS5lbmNvZGluZz1lLmVuY29kaW5nLHRoaXMudGV4dHVyZS5nZW5lcmF0ZU1pcG1hcHM9ZS5nZW5lcmF0ZU1pcG1hcHMsdGhpcy50ZXh0dXJlLm1pbkZpbHRlcj1lLm1pbkZpbHRlcix0aGlzLnRleHR1cmUubWFnRmlsdGVyPWUubWFnRmlsdGVyO2NvbnN0IG49e3VuaWZvcm1zOnt0RXF1aXJlY3Q6e3ZhbHVlOm51bGx9fSx2ZXJ0ZXhTaGFkZXI6IlxuXG5cdFx0XHRcdHZhcnlpbmcgdmVjMyB2V29ybGREaXJlY3Rpb247XG5cblx0XHRcdFx0dmVjMyB0cmFuc2Zvcm1EaXJlY3Rpb24oIGluIHZlYzMgZGlyLCBpbiBtYXQ0IG1hdHJpeCApIHtcblxuXHRcdFx0XHRcdHJldHVybiBub3JtYWxpemUoICggbWF0cml4ICogdmVjNCggZGlyLCAwLjAgKSApLnh5eiApO1xuXG5cdFx0XHRcdH1cblxuXHRcdFx0XHR2b2lkIG1haW4oKSB7XG5cblx0XHRcdFx0XHR2V29ybGREaXJlY3Rpb24gPSB0cmFuc2Zvcm1EaXJlY3Rpb24oIHBvc2l0aW9uLCBtb2RlbE1hdHJpeCApO1xuXG5cdFx0XHRcdFx0I2luY2x1ZGUgPGJlZ2luX3ZlcnRleD5cblx0XHRcdFx0XHQjaW5jbHVkZSA8cHJvamVjdF92ZXJ0ZXg+XG5cblx0XHRcdFx0fVxuXHRcdFx0IixmcmFnbWVudFNoYWRlcjoiXG5cblx0XHRcdFx0dW5pZm9ybSBzYW1wbGVyMkQgdEVxdWlyZWN0O1xuXG5cdFx0XHRcdHZhcnlpbmcgdmVjMyB2V29ybGREaXJlY3Rpb247XG5cblx0XHRcdFx0I2luY2x1ZGUgPGNvbW1vbj5cblxuXHRcdFx0XHR2b2lkIG1haW4oKSB7XG5cblx0XHRcdFx0XHR2ZWMzIGRpcmVjdGlvbiA9IG5vcm1hbGl6ZSggdldvcmxkRGlyZWN0aW9uICk7XG5cblx0XHRcdFx0XHR2ZWMyIHNhbXBsZVVWID0gZXF1aXJlY3RVdiggZGlyZWN0aW9uICk7XG5cblx0XHRcdFx0XHRnbF9GcmFnQ29sb3IgPSB0ZXh0dXJlMkQoIHRFcXVpcmVjdCwgc2FtcGxlVVYgKTtcblxuXHRcdFx0XHR9XG5cdFx0XHQifSxpPW5ldyBxbig1LDUsNSkscj1uZXcgSm4oe25hbWU6IkN1YmVtYXBGcm9tRXF1aXJlY3QiLHVuaWZvcm1zOlhuKG4udW5pZm9ybXMpLHZlcnRleFNoYWRlcjpuLnZlcnRleFNoYWRlcixmcmFnbWVudFNoYWRlcjpuLmZyYWdtZW50U2hhZGVyLHNpZGU6MSxibGVuZGluZzowfSk7ci51bmlmb3Jtcy50RXF1aXJlY3QudmFsdWU9ZTtjb25zdCBzPW5ldyBXbihpLHIpLGE9ZS5taW5GaWx0ZXI7ZS5taW5GaWx0ZXI9PT15JiYoZS5taW5GaWx0ZXI9Zyk7cmV0dXJuIG5ldyB0aSgxLDEwLHRoaXMpLnVwZGF0ZSh0LHMpLGUubWluRmlsdGVyPWEscy5nZW9tZXRyeS5kaXNwb3NlKCkscy5tYXRlcmlhbC5kaXNwb3NlKCksdGhpc31jbGVhcih0LGUsbixpKXtjb25zdCByPXQuZ2V0UmVuZGVyVGFyZ2V0KCk7Zm9yKGxldCByPTA7cjw2O3IrKyl0LnNldFJlbmRlclRhcmdldCh0aGlzLHIpLHQuY2xlYXIoZSxuLGkpO3Quc2V0UmVuZGVyVGFyZ2V0KHIpfX1uaS5wcm90b3R5cGUuaXNXZWJHTEN1YmVSZW5kZXJUYXJnZXQ9ITA7Y2xhc3MgaWkgZXh0ZW5kcyBidHtjb25zdHJ1Y3Rvcih0LGUsbixpLHIscyxhLG8sbCxjLGgsdSl7c3VwZXIobnVsbCxzLGEsbyxsLGMsaSxyLGgsdSksdGhpcy5pbWFnZT17ZGF0YTp0fHxudWxsLHdpZHRoOmV8fDEsaGVpZ2h0Om58fDF9LHRoaXMubWFnRmlsdGVyPXZvaWQgMCE9PWw/bDpwLHRoaXMubWluRmlsdGVyPXZvaWQgMCE9PWM/YzpwLHRoaXMuZ2VuZXJhdGVNaXBtYXBzPSExLHRoaXMuZmxpcFk9ITEsdGhpcy51bnBhY2tBbGlnbm1lbnQ9MSx0aGlzLm5lZWRzVXBkYXRlPSEwfX1paS5wcm90b3R5cGUuaXNEYXRhVGV4dHVyZT0hMDtjb25zdCByaT1uZXcgSnQsc2k9bmV3IEx0O2NsYXNzIGFpe2NvbnN0cnVjdG9yKHQ9bmV3IE5lLGU9bmV3IE5lLG49bmV3IE5lLGk9bmV3IE5lLHI9bmV3IE5lLHM9bmV3IE5lKXt0aGlzLnBsYW5lcz1bdCxlLG4saSxyLHNdfXNldCh0LGUsbixpLHIscyl7Y29uc3QgYT10aGlzLnBsYW5lcztyZXR1cm4gYVswXS5jb3B5KHQpLGFbMV0uY29weShlKSxhWzJdLmNvcHkobiksYVszXS5jb3B5KGkpLGFbNF0uY29weShyKSxhWzVdLmNvcHkocyksdGhpc31jb3B5KHQpe2NvbnN0IGU9dGhpcy5wbGFuZXM7Zm9yKGxldCBuPTA7bjw2O24rKyllW25dLmNvcHkodC5wbGFuZXNbbl0pO3JldHVybiB0aGlzfXNldEZyb21Qcm9qZWN0aW9uTWF0cml4KHQpe2NvbnN0IGU9dGhpcy5wbGFuZXMsbj10LmVsZW1lbnRzLGk9blswXSxyPW5bMV0scz1uWzJdLGE9blszXSxvPW5bNF0sbD1uWzVdLGM9bls2XSxoPW5bN10sdT1uWzhdLGQ9bls5XSxwPW5bMTBdLG09blsxMV0sZj1uWzEyXSxnPW5bMTNdLHY9blsxNF0seT1uWzE1XTtyZXR1cm4gZVswXS5zZXRDb21wb25lbnRzKGEtaSxoLW8sbS11LHktZikubm9ybWFsaXplKCksZVsxXS5zZXRDb21wb25lbnRzKGEraSxoK28sbSt1LHkrZikubm9ybWFsaXplKCksZVsyXS5zZXRDb21wb25lbnRzKGErcixoK2wsbStkLHkrZykubm9ybWFsaXplKCksZVszXS5zZXRDb21wb25lbnRzKGEtcixoLWwsbS1kLHktZykubm9ybWFsaXplKCksZVs0XS5zZXRDb21wb25lbnRzKGEtcyxoLWMsbS1wLHktdikubm9ybWFsaXplKCksZVs1XS5zZXRDb21wb25lbnRzKGErcyxoK2MsbStwLHkrdikubm9ybWFsaXplKCksdGhpc31pbnRlcnNlY3RzT2JqZWN0KHQpe2NvbnN0IGU9dC5nZW9tZXRyeTtyZXR1cm4gbnVsbD09PWUuYm91bmRpbmdTcGhlcmUmJmUuY29tcHV0ZUJvdW5kaW5nU3BoZXJlKCkscmkuY29weShlLmJvdW5kaW5nU3BoZXJlKS5hcHBseU1hdHJpeDQodC5tYXRyaXhXb3JsZCksdGhpcy5pbnRlcnNlY3RzU3BoZXJlKHJpKX1pbnRlcnNlY3RzU3ByaXRlKHQpe3JldHVybiByaS5jZW50ZXIuc2V0KDAsMCwwKSxyaS5yYWRpdXM9LjcwNzEwNjc4MTE4NjU0NzYscmkuYXBwbHlNYXRyaXg0KHQubWF0cml4V29ybGQpLHRoaXMuaW50ZXJzZWN0c1NwaGVyZShyaSl9aW50ZXJzZWN0c1NwaGVyZSh0KXtjb25zdCBlPXRoaXMucGxhbmVzLG49dC5jZW50ZXIsaT0tdC5yYWRpdXM7Zm9yKGxldCB0PTA7dDw2O3QrKyl7aWYoZVt0XS5kaXN0YW5jZVRvUG9pbnQobik8aSlyZXR1cm4hMX1yZXR1cm4hMH1pbnRlcnNlY3RzQm94KHQpe2NvbnN0IGU9dGhpcy5wbGFuZXM7Zm9yKGxldCBuPTA7bjw2O24rKyl7Y29uc3QgaT1lW25dO2lmKHNpLng9aS5ub3JtYWwueD4wP3QubWF4Lng6dC5taW4ueCxzaS55PWkubm9ybWFsLnk+MD90Lm1heC55OnQubWluLnksc2kuej1pLm5vcm1hbC56PjA/dC5tYXguejp0Lm1pbi56LGkuZGlzdGFuY2VUb1BvaW50KHNpKTwwKXJldHVybiExfXJldHVybiEwfWNvbnRhaW5zUG9pbnQodCl7Y29uc3QgZT10aGlzLnBsYW5lcztmb3IobGV0IG49MDtuPDY7bisrKWlmKGVbbl0uZGlzdGFuY2VUb1BvaW50KHQpPDApcmV0dXJuITE7cmV0dXJuITB9Y2xvbmUoKXtyZXR1cm4obmV3IHRoaXMuY29uc3RydWN0b3IpLmNvcHkodGhpcyl9fWZ1bmN0aW9uIG9pKCl7bGV0IHQ9bnVsbCxlPSExLG49bnVsbCxpPW51bGw7ZnVuY3Rpb24gcihlLHMpe24oZSxzKSxpPXQucmVxdWVzdEFuaW1hdGlvbkZyYW1lKHIpfXJldHVybntzdGFydDpmdW5jdGlvbigpeyEwIT09ZSYmbnVsbCE9PW4mJihpPXQucmVxdWVzdEFuaW1hdGlvbkZyYW1lKHIpLGU9ITApfSxzdG9wOmZ1bmN0aW9uKCl7dC5jYW5jZWxBbmltYXRpb25GcmFtZShpKSxlPSExfSxzZXRBbmltYXRpb25Mb29wOmZ1bmN0aW9uKHQpe249dH0sc2V0Q29udGV4dDpmdW5jdGlvbihlKXt0PWV9fX1mdW5jdGlvbiBsaSh0LGUpe2NvbnN0IG49ZS5pc1dlYkdMMixpPW5ldyBXZWFrTWFwO3JldHVybntnZXQ6ZnVuY3Rpb24odCl7cmV0dXJuIHQuaXNJbnRlcmxlYXZlZEJ1ZmZlckF0dHJpYnV0ZSYmKHQ9dC5kYXRhKSxpLmdldCh0KX0scmVtb3ZlOmZ1bmN0aW9uKGUpe2UuaXNJbnRlcmxlYXZlZEJ1ZmZlckF0dHJpYnV0ZSYmKGU9ZS5kYXRhKTtjb25zdCBuPWkuZ2V0KGUpO24mJih0LmRlbGV0ZUJ1ZmZlcihuLmJ1ZmZlciksaS5kZWxldGUoZSkpfSx1cGRhdGU6ZnVuY3Rpb24oZSxyKXtpZihlLmlzR0xCdWZmZXJBdHRyaWJ1dGUpe2NvbnN0IHQ9aS5nZXQoZSk7cmV0dXJuIHZvaWQoKCF0fHx0LnZlcnNpb248ZS52ZXJzaW9uKSYmaS5zZXQoZSx7YnVmZmVyOmUuYnVmZmVyLHR5cGU6ZS50eXBlLGJ5dGVzUGVyRWxlbWVudDplLmVsZW1lbnRTaXplLHZlcnNpb246ZS52ZXJzaW9ufSkpfWUuaXNJbnRlcmxlYXZlZEJ1ZmZlckF0dHJpYnV0ZSYmKGU9ZS5kYXRhKTtjb25zdCBzPWkuZ2V0KGUpO3ZvaWQgMD09PXM/aS5zZXQoZSxmdW5jdGlvbihlLGkpe2NvbnN0IHI9ZS5hcnJheSxzPWUudXNhZ2UsYT10LmNyZWF0ZUJ1ZmZlcigpO3QuYmluZEJ1ZmZlcihpLGEpLHQuYnVmZmVyRGF0YShpLHIscyksZS5vblVwbG9hZENhbGxiYWNrKCk7bGV0IG89NTEyNjtyZXR1cm4gciBpbnN0YW5jZW9mIEZsb2F0MzJBcnJheT9vPTUxMjY6ciBpbnN0YW5jZW9mIEZsb2F0NjRBcnJheT9jb25zb2xlLndhcm4oIlRIUkVFLldlYkdMQXR0cmlidXRlczogVW5zdXBwb3J0ZWQgZGF0YSBidWZmZXIgZm9ybWF0OiBGbG9hdDY0QXJyYXkuIik6ciBpbnN0YW5jZW9mIFVpbnQxNkFycmF5P2UuaXNGbG9hdDE2QnVmZmVyQXR0cmlidXRlP24/bz01MTMxOmNvbnNvbGUud2FybigiVEhSRUUuV2ViR0xBdHRyaWJ1dGVzOiBVc2FnZSBvZiBGbG9hdDE2QnVmZmVyQXR0cmlidXRlIHJlcXVpcmVzIFdlYkdMMi4iKTpvPTUxMjM6ciBpbnN0YW5jZW9mIEludDE2QXJyYXk/bz01MTIyOnIgaW5zdGFuY2VvZiBVaW50MzJBcnJheT9vPTUxMjU6ciBpbnN0YW5jZW9mIEludDMyQXJyYXk/bz01MTI0OnIgaW5zdGFuY2VvZiBJbnQ4QXJyYXk/bz01MTIwOnIgaW5zdGFuY2VvZiBVaW50OEFycmF5JiYobz01MTIxKSx7YnVmZmVyOmEsdHlwZTpvLGJ5dGVzUGVyRWxlbWVudDpyLkJZVEVTX1BFUl9FTEVNRU5ULHZlcnNpb246ZS52ZXJzaW9ufX0oZSxyKSk6cy52ZXJzaW9uPGUudmVyc2lvbiYmKCFmdW5jdGlvbihlLGkscil7Y29uc3Qgcz1pLmFycmF5LGE9aS51cGRhdGVSYW5nZTt0LmJpbmRCdWZmZXIocixlKSwtMT09PWEuY291bnQ/dC5idWZmZXJTdWJEYXRhKHIsMCxzKToobj90LmJ1ZmZlclN1YkRhdGEocixhLm9mZnNldCpzLkJZVEVTX1BFUl9FTEVNRU5ULHMsYS5vZmZzZXQsYS5jb3VudCk6dC5idWZmZXJTdWJEYXRhKHIsYS5vZmZzZXQqcy5CWVRFU19QRVJfRUxFTUVOVCxzLnN1YmFycmF5KGEub2Zmc2V0LGEub2Zmc2V0K2EuY291bnQpKSxhLmNvdW50PS0xKX0ocy5idWZmZXIsZSxyKSxzLnZlcnNpb249ZS52ZXJzaW9uKX19fWNsYXNzIGNpIGV4dGVuZHMgRW57Y29uc3RydWN0b3IodD0xLGU9MSxuPTEsaT0xKXtzdXBlcigpLHRoaXMudHlwZT0iUGxhbmVHZW9tZXRyeSIsdGhpcy5wYXJhbWV0ZXJzPXt3aWR0aDp0LGhlaWdodDplLHdpZHRoU2VnbWVudHM6bixoZWlnaHRTZWdtZW50czppfTtjb25zdCByPXQvMixzPWUvMixhPU1hdGguZmxvb3Iobiksbz1NYXRoLmZsb29yKGkpLGw9YSsxLGM9bysxLGg9dC9hLHU9ZS9vLGQ9W10scD1bXSxtPVtdLGY9W107Zm9yKGxldCB0PTA7dDxjO3QrKyl7Y29uc3QgZT10KnUtcztmb3IobGV0IG49MDtuPGw7bisrKXtjb25zdCBpPW4qaC1yO3AucHVzaChpLC1lLDApLG0ucHVzaCgwLDAsMSksZi5wdXNoKG4vYSksZi5wdXNoKDEtdC9vKX19Zm9yKGxldCB0PTA7dDxvO3QrKylmb3IobGV0IGU9MDtlPGE7ZSsrKXtjb25zdCBuPWUrbCp0LGk9ZStsKih0KzEpLHI9ZSsxK2wqKHQrMSkscz1lKzErbCp0O2QucHVzaChuLGkscyksZC5wdXNoKGkscixzKX10aGlzLnNldEluZGV4KGQpLHRoaXMuc2V0QXR0cmlidXRlKCJwb3NpdGlvbiIsbmV3IG1uKHAsMykpLHRoaXMuc2V0QXR0cmlidXRlKCJub3JtYWwiLG5ldyBtbihtLDMpKSx0aGlzLnNldEF0dHJpYnV0ZSgidXYiLG5ldyBtbihmLDIpKX19Y29uc3QgaGk9e2FscGhhbWFwX2ZyYWdtZW50OiIjaWZkZWYgVVNFX0FMUEhBTUFQXG5cdGRpZmZ1c2VDb2xvci5hICo9IHRleHR1cmUyRCggYWxwaGFNYXAsIHZVdiApLmc7XG4jZW5kaWYiLGFscGhhbWFwX3BhcnNfZnJhZ21lbnQ6IiNpZmRlZiBVU0VfQUxQSEFNQVBcblx0dW5pZm9ybSBzYW1wbGVyMkQgYWxwaGFNYXA7XG4jZW5kaWYiLGFscGhhdGVzdF9mcmFnbWVudDoiI2lmZGVmIEFMUEhBVEVTVFxuXHRpZiAoIGRpZmZ1c2VDb2xvci5hIDwgQUxQSEFURVNUICkgZGlzY2FyZDtcbiNlbmRpZiIsYW9tYXBfZnJhZ21lbnQ6IiNpZmRlZiBVU0VfQU9NQVBcblx0ZmxvYXQgYW1iaWVudE9jY2x1c2lvbiA9ICggdGV4dHVyZTJEKCBhb01hcCwgdlV2MiApLnIgLSAxLjAgKSAqIGFvTWFwSW50ZW5zaXR5ICsgMS4wO1xuXHRyZWZsZWN0ZWRMaWdodC5pbmRpcmVjdERpZmZ1c2UgKj0gYW1iaWVudE9jY2x1c2lvbjtcblx0I2lmIGRlZmluZWQoIFVTRV9FTlZNQVAgKSAmJiBkZWZpbmVkKCBTVEFOREFSRCApXG5cdFx0ZmxvYXQgZG90TlYgPSBzYXR1cmF0ZSggZG90KCBnZW9tZXRyeS5ub3JtYWwsIGdlb21ldHJ5LnZpZXdEaXIgKSApO1xuXHRcdHJlZmxlY3RlZExpZ2h0LmluZGlyZWN0U3BlY3VsYXIgKj0gY29tcHV0ZVNwZWN1bGFyT2NjbHVzaW9uKCBkb3ROViwgYW1iaWVudE9jY2x1c2lvbiwgbWF0ZXJpYWwuc3BlY3VsYXJSb3VnaG5lc3MgKTtcblx0I2VuZGlmXG4jZW5kaWYiLGFvbWFwX3BhcnNfZnJhZ21lbnQ6IiNpZmRlZiBVU0VfQU9NQVBcblx0dW5pZm9ybSBzYW1wbGVyMkQgYW9NYXA7XG5cdHVuaWZvcm0gZmxvYXQgYW9NYXBJbnRlbnNpdHk7XG4jZW5kaWYiLGJlZ2luX3ZlcnRleDoidmVjMyB0cmFuc2Zvcm1lZCA9IHZlYzMoIHBvc2l0aW9uICk7IixiZWdpbm5vcm1hbF92ZXJ0ZXg6InZlYzMgb2JqZWN0Tm9ybWFsID0gdmVjMyggbm9ybWFsICk7XG4jaWZkZWYgVVNFX1RBTkdFTlRcblx0dmVjMyBvYmplY3RUYW5nZW50ID0gdmVjMyggdGFuZ2VudC54eXogKTtcbiNlbmRpZiIsYnNkZnM6InZlYzIgaW50ZWdyYXRlU3BlY3VsYXJCUkRGKCBjb25zdCBpbiBmbG9hdCBkb3ROViwgY29uc3QgaW4gZmxvYXQgcm91Z2huZXNzICkge1xuXHRjb25zdCB2ZWM0IGMwID0gdmVjNCggLSAxLCAtIDAuMDI3NSwgLSAwLjU3MiwgMC4wMjIgKTtcblx0Y29uc3QgdmVjNCBjMSA9IHZlYzQoIDEsIDAuMDQyNSwgMS4wNCwgLSAwLjA0ICk7XG5cdHZlYzQgciA9IHJvdWdobmVzcyAqIGMwICsgYzE7XG5cdGZsb2F0IGEwMDQgPSBtaW4oIHIueCAqIHIueCwgZXhwMiggLSA5LjI4ICogZG90TlYgKSApICogci54ICsgci55O1xuXHRyZXR1cm4gdmVjMiggLTEuMDQsIDEuMDQgKSAqIGEwMDQgKyByLnp3O1xufVxuZmxvYXQgcHVuY3R1YWxMaWdodEludGVuc2l0eVRvSXJyYWRpYW5jZUZhY3RvciggY29uc3QgaW4gZmxvYXQgbGlnaHREaXN0YW5jZSwgY29uc3QgaW4gZmxvYXQgY3V0b2ZmRGlzdGFuY2UsIGNvbnN0IGluIGZsb2F0IGRlY2F5RXhwb25lbnQgKSB7XG4jaWYgZGVmaW5lZCAoIFBIWVNJQ0FMTFlfQ09SUkVDVF9MSUdIVFMgKVxuXHRmbG9hdCBkaXN0YW5jZUZhbGxvZmYgPSAxLjAgLyBtYXgoIHBvdyggbGlnaHREaXN0YW5jZSwgZGVjYXlFeHBvbmVudCApLCAwLjAxICk7XG5cdGlmKCBjdXRvZmZEaXN0YW5jZSA+IDAuMCApIHtcblx0XHRkaXN0YW5jZUZhbGxvZmYgKj0gcG93Miggc2F0dXJhdGUoIDEuMCAtIHBvdzQoIGxpZ2h0RGlzdGFuY2UgLyBjdXRvZmZEaXN0YW5jZSApICkgKTtcblx0fVxuXHRyZXR1cm4gZGlzdGFuY2VGYWxsb2ZmO1xuI2Vsc2Vcblx0aWYoIGN1dG9mZkRpc3RhbmNlID4gMC4wICYmIGRlY2F5RXhwb25lbnQgPiAwLjAgKSB7XG5cdFx0cmV0dXJuIHBvdyggc2F0dXJhdGUoIC1saWdodERpc3RhbmNlIC8gY3V0b2ZmRGlzdGFuY2UgKyAxLjAgKSwgZGVjYXlFeHBvbmVudCApO1xuXHR9XG5cdHJldHVybiAxLjA7XG4jZW5kaWZcbn1cbnZlYzMgQlJERl9EaWZmdXNlX0xhbWJlcnQoIGNvbnN0IGluIHZlYzMgZGlmZnVzZUNvbG9yICkge1xuXHRyZXR1cm4gUkVDSVBST0NBTF9QSSAqIGRpZmZ1c2VDb2xvcjtcbn1cbnZlYzMgRl9TY2hsaWNrKCBjb25zdCBpbiB2ZWMzIHNwZWN1bGFyQ29sb3IsIGNvbnN0IGluIGZsb2F0IGRvdExIICkge1xuXHRmbG9hdCBmcmVzbmVsID0gZXhwMiggKCAtNS41NTQ3MyAqIGRvdExIIC0gNi45ODMxNiApICogZG90TEggKTtcblx0cmV0dXJuICggMS4wIC0gc3BlY3VsYXJDb2xvciApICogZnJlc25lbCArIHNwZWN1bGFyQ29sb3I7XG59XG52ZWMzIEZfU2NobGlja19Sb3VnaG5lc3NEZXBlbmRlbnQoIGNvbnN0IGluIHZlYzMgRjAsIGNvbnN0IGluIGZsb2F0IGRvdE5WLCBjb25zdCBpbiBmbG9hdCByb3VnaG5lc3MgKSB7XG5cdGZsb2F0IGZyZXNuZWwgPSBleHAyKCAoIC01LjU1NDczICogZG90TlYgLSA2Ljk4MzE2ICkgKiBkb3ROViApO1xuXHR2ZWMzIEZyID0gbWF4KCB2ZWMzKCAxLjAgLSByb3VnaG5lc3MgKSwgRjAgKSAtIEYwO1xuXHRyZXR1cm4gRnIgKiBmcmVzbmVsICsgRjA7XG59XG5mbG9hdCBHX0dHWF9TbWl0aCggY29uc3QgaW4gZmxvYXQgYWxwaGEsIGNvbnN0IGluIGZsb2F0IGRvdE5MLCBjb25zdCBpbiBmbG9hdCBkb3ROViApIHtcblx0ZmxvYXQgYTIgPSBwb3cyKCBhbHBoYSApO1xuXHRmbG9hdCBnbCA9IGRvdE5MICsgc3FydCggYTIgKyAoIDEuMCAtIGEyICkgKiBwb3cyKCBkb3ROTCApICk7XG5cdGZsb2F0IGd2ID0gZG90TlYgKyBzcXJ0KCBhMiArICggMS4wIC0gYTIgKSAqIHBvdzIoIGRvdE5WICkgKTtcblx0cmV0dXJuIDEuMCAvICggZ2wgKiBndiApO1xufVxuZmxvYXQgR19HR1hfU21pdGhDb3JyZWxhdGVkKCBjb25zdCBpbiBmbG9hdCBhbHBoYSwgY29uc3QgaW4gZmxvYXQgZG90TkwsIGNvbnN0IGluIGZsb2F0IGRvdE5WICkge1xuXHRmbG9hdCBhMiA9IHBvdzIoIGFscGhhICk7XG5cdGZsb2F0IGd2ID0gZG90TkwgKiBzcXJ0KCBhMiArICggMS4wIC0gYTIgKSAqIHBvdzIoIGRvdE5WICkgKTtcblx0ZmxvYXQgZ2wgPSBkb3ROViAqIHNxcnQoIGEyICsgKCAxLjAgLSBhMiApICogcG93MiggZG90TkwgKSApO1xuXHRyZXR1cm4gMC41IC8gbWF4KCBndiArIGdsLCBFUFNJTE9OICk7XG59XG5mbG9hdCBEX0dHWCggY29uc3QgaW4gZmxvYXQgYWxwaGEsIGNvbnN0IGluIGZsb2F0IGRvdE5IICkge1xuXHRmbG9hdCBhMiA9IHBvdzIoIGFscGhhICk7XG5cdGZsb2F0IGRlbm9tID0gcG93MiggZG90TkggKSAqICggYTIgLSAxLjAgKSArIDEuMDtcblx0cmV0dXJuIFJFQ0lQUk9DQUxfUEkgKiBhMiAvIHBvdzIoIGRlbm9tICk7XG59XG52ZWMzIEJSREZfU3BlY3VsYXJfR0dYKCBjb25zdCBpbiBJbmNpZGVudExpZ2h0IGluY2lkZW50TGlnaHQsIGNvbnN0IGluIHZlYzMgdmlld0RpciwgY29uc3QgaW4gdmVjMyBub3JtYWwsIGNvbnN0IGluIHZlYzMgc3BlY3VsYXJDb2xvciwgY29uc3QgaW4gZmxvYXQgcm91Z2huZXNzICkge1xuXHRmbG9hdCBhbHBoYSA9IHBvdzIoIHJvdWdobmVzcyApO1xuXHR2ZWMzIGhhbGZEaXIgPSBub3JtYWxpemUoIGluY2lkZW50TGlnaHQuZGlyZWN0aW9uICsgdmlld0RpciApO1xuXHRmbG9hdCBkb3ROTCA9IHNhdHVyYXRlKCBkb3QoIG5vcm1hbCwgaW5jaWRlbnRMaWdodC5kaXJlY3Rpb24gKSApO1xuXHRmbG9hdCBkb3ROViA9IHNhdHVyYXRlKCBkb3QoIG5vcm1hbCwgdmlld0RpciApICk7XG5cdGZsb2F0IGRvdE5IID0gc2F0dXJhdGUoIGRvdCggbm9ybWFsLCBoYWxmRGlyICkgKTtcblx0ZmxvYXQgZG90TEggPSBzYXR1cmF0ZSggZG90KCBpbmNpZGVudExpZ2h0LmRpcmVjdGlvbiwgaGFsZkRpciApICk7XG5cdHZlYzMgRiA9IEZfU2NobGljayggc3BlY3VsYXJDb2xvciwgZG90TEggKTtcblx0ZmxvYXQgRyA9IEdfR0dYX1NtaXRoQ29ycmVsYXRlZCggYWxwaGEsIGRvdE5MLCBkb3ROViApO1xuXHRmbG9hdCBEID0gRF9HR1goIGFscGhhLCBkb3ROSCApO1xuXHRyZXR1cm4gRiAqICggRyAqIEQgKTtcbn1cbnZlYzIgTFRDX1V2KCBjb25zdCBpbiB2ZWMzIE4sIGNvbnN0IGluIHZlYzMgViwgY29uc3QgaW4gZmxvYXQgcm91Z2huZXNzICkge1xuXHRjb25zdCBmbG9hdCBMVVRfU0laRSA9IDY0LjA7XG5cdGNvbnN0IGZsb2F0IExVVF9TQ0FMRSA9ICggTFVUX1NJWkUgLSAxLjAgKSAvIExVVF9TSVpFO1xuXHRjb25zdCBmbG9hdCBMVVRfQklBUyA9IDAuNSAvIExVVF9TSVpFO1xuXHRmbG9hdCBkb3ROViA9IHNhdHVyYXRlKCBkb3QoIE4sIFYgKSApO1xuXHR2ZWMyIHV2ID0gdmVjMiggcm91Z2huZXNzLCBzcXJ0KCAxLjAgLSBkb3ROViApICk7XG5cdHV2ID0gdXYgKiBMVVRfU0NBTEUgKyBMVVRfQklBUztcblx0cmV0dXJuIHV2O1xufVxuZmxvYXQgTFRDX0NsaXBwZWRTcGhlcmVGb3JtRmFjdG9yKCBjb25zdCBpbiB2ZWMzIGYgKSB7XG5cdGZsb2F0IGwgPSBsZW5ndGgoIGYgKTtcblx0cmV0dXJuIG1heCggKCBsICogbCArIGYueiApIC8gKCBsICsgMS4wICksIDAuMCApO1xufVxudmVjMyBMVENfRWRnZVZlY3RvckZvcm1GYWN0b3IoIGNvbnN0IGluIHZlYzMgdjEsIGNvbnN0IGluIHZlYzMgdjIgKSB7XG5cdGZsb2F0IHggPSBkb3QoIHYxLCB2MiApO1xuXHRmbG9hdCB5ID0gYWJzKCB4ICk7XG5cdGZsb2F0IGEgPSAwLjg1NDM5ODUgKyAoIDAuNDk2NTE1NSArIDAuMDE0NTIwNiAqIHkgKSAqIHk7XG5cdGZsb2F0IGIgPSAzLjQxNzU5NDAgKyAoIDQuMTYxNjcyNCArIHkgKSAqIHk7XG5cdGZsb2F0IHYgPSBhIC8gYjtcblx0ZmxvYXQgdGhldGFfc2ludGhldGEgPSAoIHggPiAwLjAgKSA/IHYgOiAwLjUgKiBpbnZlcnNlc3FydCggbWF4KCAxLjAgLSB4ICogeCwgMWUtNyApICkgLSB2O1xuXHRyZXR1cm4gY3Jvc3MoIHYxLCB2MiApICogdGhldGFfc2ludGhldGE7XG59XG52ZWMzIExUQ19FdmFsdWF0ZSggY29uc3QgaW4gdmVjMyBOLCBjb25zdCBpbiB2ZWMzIFYsIGNvbnN0IGluIHZlYzMgUCwgY29uc3QgaW4gbWF0MyBtSW52LCBjb25zdCBpbiB2ZWMzIHJlY3RDb29yZHNbIDQgXSApIHtcblx0dmVjMyB2MSA9IHJlY3RDb29yZHNbIDEgXSAtIHJlY3RDb29yZHNbIDAgXTtcblx0dmVjMyB2MiA9IHJlY3RDb29yZHNbIDMgXSAtIHJlY3RDb29yZHNbIDAgXTtcblx0dmVjMyBsaWdodE5vcm1hbCA9IGNyb3NzKCB2MSwgdjIgKTtcblx0aWYoIGRvdCggbGlnaHROb3JtYWwsIFAgLSByZWN0Q29vcmRzWyAwIF0gKSA8IDAuMCApIHJldHVybiB2ZWMzKCAwLjAgKTtcblx0dmVjMyBUMSwgVDI7XG5cdFQxID0gbm9ybWFsaXplKCBWIC0gTiAqIGRvdCggViwgTiApICk7XG5cdFQyID0gLSBjcm9zcyggTiwgVDEgKTtcblx0bWF0MyBtYXQgPSBtSW52ICogdHJhbnNwb3NlTWF0MyggbWF0MyggVDEsIFQyLCBOICkgKTtcblx0dmVjMyBjb29yZHNbIDQgXTtcblx0Y29vcmRzWyAwIF0gPSBtYXQgKiAoIHJlY3RDb29yZHNbIDAgXSAtIFAgKTtcblx0Y29vcmRzWyAxIF0gPSBtYXQgKiAoIHJlY3RDb29yZHNbIDEgXSAtIFAgKTtcblx0Y29vcmRzWyAyIF0gPSBtYXQgKiAoIHJlY3RDb29yZHNbIDIgXSAtIFAgKTtcblx0Y29vcmRzWyAzIF0gPSBtYXQgKiAoIHJlY3RDb29yZHNbIDMgXSAtIFAgKTtcblx0Y29vcmRzWyAwIF0gPSBub3JtYWxpemUoIGNvb3Jkc1sgMCBdICk7XG5cdGNvb3Jkc1sgMSBdID0gbm9ybWFsaXplKCBjb29yZHNbIDEgXSApO1xuXHRjb29yZHNbIDIgXSA9IG5vcm1hbGl6ZSggY29vcmRzWyAyIF0gKTtcblx0Y29vcmRzWyAzIF0gPSBub3JtYWxpemUoIGNvb3Jkc1sgMyBdICk7XG5cdHZlYzMgdmVjdG9yRm9ybUZhY3RvciA9IHZlYzMoIDAuMCApO1xuXHR2ZWN0b3JGb3JtRmFjdG9yICs9IExUQ19FZGdlVmVjdG9yRm9ybUZhY3RvciggY29vcmRzWyAwIF0sIGNvb3Jkc1sgMSBdICk7XG5cdHZlY3RvckZvcm1GYWN0b3IgKz0gTFRDX0VkZ2VWZWN0b3JGb3JtRmFjdG9yKCBjb29yZHNbIDEgXSwgY29vcmRzWyAyIF0gKTtcblx0dmVjdG9yRm9ybUZhY3RvciArPSBMVENfRWRnZVZlY3RvckZvcm1GYWN0b3IoIGNvb3Jkc1sgMiBdLCBjb29yZHNbIDMgXSApO1xuXHR2ZWN0b3JGb3JtRmFjdG9yICs9IExUQ19FZGdlVmVjdG9yRm9ybUZhY3RvciggY29vcmRzWyAzIF0sIGNvb3Jkc1sgMCBdICk7XG5cdGZsb2F0IHJlc3VsdCA9IExUQ19DbGlwcGVkU3BoZXJlRm9ybUZhY3RvciggdmVjdG9yRm9ybUZhY3RvciApO1xuXHRyZXR1cm4gdmVjMyggcmVzdWx0ICk7XG59XG52ZWMzIEJSREZfU3BlY3VsYXJfR0dYX0Vudmlyb25tZW50KCBjb25zdCBpbiB2ZWMzIHZpZXdEaXIsIGNvbnN0IGluIHZlYzMgbm9ybWFsLCBjb25zdCBpbiB2ZWMzIHNwZWN1bGFyQ29sb3IsIGNvbnN0IGluIGZsb2F0IHJvdWdobmVzcyApIHtcblx0ZmxvYXQgZG90TlYgPSBzYXR1cmF0ZSggZG90KCBub3JtYWwsIHZpZXdEaXIgKSApO1xuXHR2ZWMyIGJyZGYgPSBpbnRlZ3JhdGVTcGVjdWxhckJSREYoIGRvdE5WLCByb3VnaG5lc3MgKTtcblx0cmV0dXJuIHNwZWN1bGFyQ29sb3IgKiBicmRmLnggKyBicmRmLnk7XG59XG52b2lkIEJSREZfU3BlY3VsYXJfTXVsdGlzY2F0dGVyaW5nX0Vudmlyb25tZW50KCBjb25zdCBpbiBHZW9tZXRyaWNDb250ZXh0IGdlb21ldHJ5LCBjb25zdCBpbiB2ZWMzIHNwZWN1bGFyQ29sb3IsIGNvbnN0IGluIGZsb2F0IHJvdWdobmVzcywgaW5vdXQgdmVjMyBzaW5nbGVTY2F0dGVyLCBpbm91dCB2ZWMzIG11bHRpU2NhdHRlciApIHtcblx0ZmxvYXQgZG90TlYgPSBzYXR1cmF0ZSggZG90KCBnZW9tZXRyeS5ub3JtYWwsIGdlb21ldHJ5LnZpZXdEaXIgKSApO1xuXHR2ZWMzIEYgPSBGX1NjaGxpY2tfUm91Z2huZXNzRGVwZW5kZW50KCBzcGVjdWxhckNvbG9yLCBkb3ROViwgcm91Z2huZXNzICk7XG5cdHZlYzIgYnJkZiA9IGludGVncmF0ZVNwZWN1bGFyQlJERiggZG90TlYsIHJvdWdobmVzcyApO1xuXHR2ZWMzIEZzc0VzcyA9IEYgKiBicmRmLnggKyBicmRmLnk7XG5cdGZsb2F0IEVzcyA9IGJyZGYueCArIGJyZGYueTtcblx0ZmxvYXQgRW1zID0gMS4wIC0gRXNzO1xuXHR2ZWMzIEZhdmcgPSBzcGVjdWxhckNvbG9yICsgKCAxLjAgLSBzcGVjdWxhckNvbG9yICkgKiAwLjA0NzYxOTtcdHZlYzMgRm1zID0gRnNzRXNzICogRmF2ZyAvICggMS4wIC0gRW1zICogRmF2ZyApO1xuXHRzaW5nbGVTY2F0dGVyICs9IEZzc0Vzcztcblx0bXVsdGlTY2F0dGVyICs9IEZtcyAqIEVtcztcbn1cbmZsb2F0IEdfQmxpbm5QaG9uZ19JbXBsaWNpdCggKSB7XG5cdHJldHVybiAwLjI1O1xufVxuZmxvYXQgRF9CbGlublBob25nKCBjb25zdCBpbiBmbG9hdCBzaGluaW5lc3MsIGNvbnN0IGluIGZsb2F0IGRvdE5IICkge1xuXHRyZXR1cm4gUkVDSVBST0NBTF9QSSAqICggc2hpbmluZXNzICogMC41ICsgMS4wICkgKiBwb3coIGRvdE5ILCBzaGluaW5lc3MgKTtcbn1cbnZlYzMgQlJERl9TcGVjdWxhcl9CbGlublBob25nKCBjb25zdCBpbiBJbmNpZGVudExpZ2h0IGluY2lkZW50TGlnaHQsIGNvbnN0IGluIEdlb21ldHJpY0NvbnRleHQgZ2VvbWV0cnksIGNvbnN0IGluIHZlYzMgc3BlY3VsYXJDb2xvciwgY29uc3QgaW4gZmxvYXQgc2hpbmluZXNzICkge1xuXHR2ZWMzIGhhbGZEaXIgPSBub3JtYWxpemUoIGluY2lkZW50TGlnaHQuZGlyZWN0aW9uICsgZ2VvbWV0cnkudmlld0RpciApO1xuXHRmbG9hdCBkb3ROSCA9IHNhdHVyYXRlKCBkb3QoIGdlb21ldHJ5Lm5vcm1hbCwgaGFsZkRpciApICk7XG5cdGZsb2F0IGRvdExIID0gc2F0dXJhdGUoIGRvdCggaW5jaWRlbnRMaWdodC5kaXJlY3Rpb24sIGhhbGZEaXIgKSApO1xuXHR2ZWMzIEYgPSBGX1NjaGxpY2soIHNwZWN1bGFyQ29sb3IsIGRvdExIICk7XG5cdGZsb2F0IEcgPSBHX0JsaW5uUGhvbmdfSW1wbGljaXQoICk7XG5cdGZsb2F0IEQgPSBEX0JsaW5uUGhvbmcoIHNoaW5pbmVzcywgZG90TkggKTtcblx0cmV0dXJuIEYgKiAoIEcgKiBEICk7XG59XG5mbG9hdCBHR1hSb3VnaG5lc3NUb0JsaW5uRXhwb25lbnQoIGNvbnN0IGluIGZsb2F0IGdneFJvdWdobmVzcyApIHtcblx0cmV0dXJuICggMi4wIC8gcG93MiggZ2d4Um91Z2huZXNzICsgMC4wMDAxICkgLSAyLjAgKTtcbn1cbmZsb2F0IEJsaW5uRXhwb25lbnRUb0dHWFJvdWdobmVzcyggY29uc3QgaW4gZmxvYXQgYmxpbm5FeHBvbmVudCApIHtcblx0cmV0dXJuIHNxcnQoIDIuMCAvICggYmxpbm5FeHBvbmVudCArIDIuMCApICk7XG59XG4jaWYgZGVmaW5lZCggVVNFX1NIRUVOIClcbmZsb2F0IERfQ2hhcmxpZShmbG9hdCByb3VnaG5lc3MsIGZsb2F0IE5vSCkge1xuXHRmbG9hdCBpbnZBbHBoYSA9IDEuMCAvIHJvdWdobmVzcztcblx0ZmxvYXQgY29zMmggPSBOb0ggKiBOb0g7XG5cdGZsb2F0IHNpbjJoID0gbWF4KDEuMCAtIGNvczJoLCAwLjAwNzgxMjUpO1x0cmV0dXJuICgyLjAgKyBpbnZBbHBoYSkgKiBwb3coc2luMmgsIGludkFscGhhICogMC41KSAvICgyLjAgKiBQSSk7XG59XG5mbG9hdCBWX05ldWJlbHQoZmxvYXQgTm9WLCBmbG9hdCBOb0wpIHtcblx0cmV0dXJuIHNhdHVyYXRlKDEuMCAvICg0LjAgKiAoTm9MICsgTm9WIC0gTm9MICogTm9WKSkpO1xufVxudmVjMyBCUkRGX1NwZWN1bGFyX1NoZWVuKCBjb25zdCBpbiBmbG9hdCByb3VnaG5lc3MsIGNvbnN0IGluIHZlYzMgTCwgY29uc3QgaW4gR2VvbWV0cmljQ29udGV4dCBnZW9tZXRyeSwgdmVjMyBzcGVjdWxhckNvbG9yICkge1xuXHR2ZWMzIE4gPSBnZW9tZXRyeS5ub3JtYWw7XG5cdHZlYzMgViA9IGdlb21ldHJ5LnZpZXdEaXI7XG5cdHZlYzMgSCA9IG5vcm1hbGl6ZSggViArIEwgKTtcblx0ZmxvYXQgZG90TkggPSBzYXR1cmF0ZSggZG90KCBOLCBIICkgKTtcblx0cmV0dXJuIHNwZWN1bGFyQ29sb3IgKiBEX0NoYXJsaWUoIHJvdWdobmVzcywgZG90TkggKSAqIFZfTmV1YmVsdCggZG90KE4sIFYpLCBkb3QoTiwgTCkgKTtcbn1cbiNlbmRpZiIsYnVtcG1hcF9wYXJzX2ZyYWdtZW50OiIjaWZkZWYgVVNFX0JVTVBNQVBcblx0dW5pZm9ybSBzYW1wbGVyMkQgYnVtcE1hcDtcblx0dW5pZm9ybSBmbG9hdCBidW1wU2NhbGU7XG5cdHZlYzIgZEhkeHlfZndkKCkge1xuXHRcdHZlYzIgZFNUZHggPSBkRmR4KCB2VXYgKTtcblx0XHR2ZWMyIGRTVGR5ID0gZEZkeSggdlV2ICk7XG5cdFx0ZmxvYXQgSGxsID0gYnVtcFNjYWxlICogdGV4dHVyZTJEKCBidW1wTWFwLCB2VXYgKS54O1xuXHRcdGZsb2F0IGRCeCA9IGJ1bXBTY2FsZSAqIHRleHR1cmUyRCggYnVtcE1hcCwgdlV2ICsgZFNUZHggKS54IC0gSGxsO1xuXHRcdGZsb2F0IGRCeSA9IGJ1bXBTY2FsZSAqIHRleHR1cmUyRCggYnVtcE1hcCwgdlV2ICsgZFNUZHkgKS54IC0gSGxsO1xuXHRcdHJldHVybiB2ZWMyKCBkQngsIGRCeSApO1xuXHR9XG5cdHZlYzMgcGVydHVyYk5vcm1hbEFyYiggdmVjMyBzdXJmX3BvcywgdmVjMyBzdXJmX25vcm0sIHZlYzIgZEhkeHksIGZsb2F0IGZhY2VEaXJlY3Rpb24gKSB7XG5cdFx0dmVjMyB2U2lnbWFYID0gdmVjMyggZEZkeCggc3VyZl9wb3MueCApLCBkRmR4KCBzdXJmX3Bvcy55ICksIGRGZHgoIHN1cmZfcG9zLnogKSApO1xuXHRcdHZlYzMgdlNpZ21hWSA9IHZlYzMoIGRGZHkoIHN1cmZfcG9zLnggKSwgZEZkeSggc3VyZl9wb3MueSApLCBkRmR5KCBzdXJmX3Bvcy56ICkgKTtcblx0XHR2ZWMzIHZOID0gc3VyZl9ub3JtO1xuXHRcdHZlYzMgUjEgPSBjcm9zcyggdlNpZ21hWSwgdk4gKTtcblx0XHR2ZWMzIFIyID0gY3Jvc3MoIHZOLCB2U2lnbWFYICk7XG5cdFx0ZmxvYXQgZkRldCA9IGRvdCggdlNpZ21hWCwgUjEgKSAqIGZhY2VEaXJlY3Rpb247XG5cdFx0dmVjMyB2R3JhZCA9IHNpZ24oIGZEZXQgKSAqICggZEhkeHkueCAqIFIxICsgZEhkeHkueSAqIFIyICk7XG5cdFx0cmV0dXJuIG5vcm1hbGl6ZSggYWJzKCBmRGV0ICkgKiBzdXJmX25vcm0gLSB2R3JhZCApO1xuXHR9XG4jZW5kaWYiLGNsaXBwaW5nX3BsYW5lc19mcmFnbWVudDoiI2lmIE5VTV9DTElQUElOR19QTEFORVMgPiAwXG5cdHZlYzQgcGxhbmU7XG5cdCNwcmFnbWEgdW5yb2xsX2xvb3Bfc3RhcnRcblx0Zm9yICggaW50IGkgPSAwOyBpIDwgVU5JT05fQ0xJUFBJTkdfUExBTkVTOyBpICsrICkge1xuXHRcdHBsYW5lID0gY2xpcHBpbmdQbGFuZXNbIGkgXTtcblx0XHRpZiAoIGRvdCggdkNsaXBQb3NpdGlvbiwgcGxhbmUueHl6ICkgPiBwbGFuZS53ICkgZGlzY2FyZDtcblx0fVxuXHQjcHJhZ21hIHVucm9sbF9sb29wX2VuZFxuXHQjaWYgVU5JT05fQ0xJUFBJTkdfUExBTkVTIDwgTlVNX0NMSVBQSU5HX1BMQU5FU1xuXHRcdGJvb2wgY2xpcHBlZCA9IHRydWU7XG5cdFx0I3ByYWdtYSB1bnJvbGxfbG9vcF9zdGFydFxuXHRcdGZvciAoIGludCBpID0gVU5JT05fQ0xJUFBJTkdfUExBTkVTOyBpIDwgTlVNX0NMSVBQSU5HX1BMQU5FUzsgaSArKyApIHtcblx0XHRcdHBsYW5lID0gY2xpcHBpbmdQbGFuZXNbIGkgXTtcblx0XHRcdGNsaXBwZWQgPSAoIGRvdCggdkNsaXBQb3NpdGlvbiwgcGxhbmUueHl6ICkgPiBwbGFuZS53ICkgJiYgY2xpcHBlZDtcblx0XHR9XG5cdFx0I3ByYWdtYSB1bnJvbGxfbG9vcF9lbmRcblx0XHRpZiAoIGNsaXBwZWQgKSBkaXNjYXJkO1xuXHQjZW5kaWZcbiNlbmRpZiIsY2xpcHBpbmdfcGxhbmVzX3BhcnNfZnJhZ21lbnQ6IiNpZiBOVU1fQ0xJUFBJTkdfUExBTkVTID4gMFxuXHR2YXJ5aW5nIHZlYzMgdkNsaXBQb3NpdGlvbjtcblx0dW5pZm9ybSB2ZWM0IGNsaXBwaW5nUGxhbmVzWyBOVU1fQ0xJUFBJTkdfUExBTkVTIF07XG4jZW5kaWYiLGNsaXBwaW5nX3BsYW5lc19wYXJzX3ZlcnRleDoiI2lmIE5VTV9DTElQUElOR19QTEFORVMgPiAwXG5cdHZhcnlpbmcgdmVjMyB2Q2xpcFBvc2l0aW9uO1xuI2VuZGlmIixjbGlwcGluZ19wbGFuZXNfdmVydGV4OiIjaWYgTlVNX0NMSVBQSU5HX1BMQU5FUyA+IDBcblx0dkNsaXBQb3NpdGlvbiA9IC0gbXZQb3NpdGlvbi54eXo7XG4jZW5kaWYiLGNvbG9yX2ZyYWdtZW50OiIjaWYgZGVmaW5lZCggVVNFX0NPTE9SX0FMUEhBIClcblx0ZGlmZnVzZUNvbG9yICo9IHZDb2xvcjtcbiNlbGlmIGRlZmluZWQoIFVTRV9DT0xPUiApXG5cdGRpZmZ1c2VDb2xvci5yZ2IgKj0gdkNvbG9yO1xuI2VuZGlmIixjb2xvcl9wYXJzX2ZyYWdtZW50OiIjaWYgZGVmaW5lZCggVVNFX0NPTE9SX0FMUEhBIClcblx0dmFyeWluZyB2ZWM0IHZDb2xvcjtcbiNlbGlmIGRlZmluZWQoIFVTRV9DT0xPUiApXG5cdHZhcnlpbmcgdmVjMyB2Q29sb3I7XG4jZW5kaWYiLGNvbG9yX3BhcnNfdmVydGV4OiIjaWYgZGVmaW5lZCggVVNFX0NPTE9SX0FMUEhBIClcblx0dmFyeWluZyB2ZWM0IHZDb2xvcjtcbiNlbGlmIGRlZmluZWQoIFVTRV9DT0xPUiApIHx8IGRlZmluZWQoIFVTRV9JTlNUQU5DSU5HX0NPTE9SIClcblx0dmFyeWluZyB2ZWMzIHZDb2xvcjtcbiNlbmRpZiIsY29sb3JfdmVydGV4OiIjaWYgZGVmaW5lZCggVVNFX0NPTE9SX0FMUEhBIClcblx0dkNvbG9yID0gdmVjNCggMS4wICk7XG4jZWxpZiBkZWZpbmVkKCBVU0VfQ09MT1IgKSB8fCBkZWZpbmVkKCBVU0VfSU5TVEFOQ0lOR19DT0xPUiApXG5cdHZDb2xvciA9IHZlYzMoIDEuMCApO1xuI2VuZGlmXG4jaWZkZWYgVVNFX0NPTE9SXG5cdHZDb2xvciAqPSBjb2xvcjtcbiNlbmRpZlxuI2lmZGVmIFVTRV9JTlNUQU5DSU5HX0NPTE9SXG5cdHZDb2xvci54eXogKj0gaW5zdGFuY2VDb2xvci54eXo7XG4jZW5kaWYiLGNvbW1vbjoiI2RlZmluZSBQSSAzLjE0MTU5MjY1MzU4OTc5M1xuI2RlZmluZSBQSTIgNi4yODMxODUzMDcxNzk1ODZcbiNkZWZpbmUgUElfSEFMRiAxLjU3MDc5NjMyNjc5NDg5NjZcbiNkZWZpbmUgUkVDSVBST0NBTF9QSSAwLjMxODMwOTg4NjE4Mzc5MDdcbiNkZWZpbmUgUkVDSVBST0NBTF9QSTIgMC4xNTkxNTQ5NDMwOTE4OTUzNVxuI2RlZmluZSBFUFNJTE9OIDFlLTZcbiNpZm5kZWYgc2F0dXJhdGVcbiNkZWZpbmUgc2F0dXJhdGUoYSkgY2xhbXAoIGEsIDAuMCwgMS4wIClcbiNlbmRpZlxuI2RlZmluZSB3aGl0ZUNvbXBsZW1lbnQoYSkgKCAxLjAgLSBzYXR1cmF0ZSggYSApIClcbmZsb2F0IHBvdzIoIGNvbnN0IGluIGZsb2F0IHggKSB7IHJldHVybiB4Kng7IH1cbmZsb2F0IHBvdzMoIGNvbnN0IGluIGZsb2F0IHggKSB7IHJldHVybiB4KngqeDsgfVxuZmxvYXQgcG93NCggY29uc3QgaW4gZmxvYXQgeCApIHsgZmxvYXQgeDIgPSB4Kng7IHJldHVybiB4Mip4MjsgfVxuZmxvYXQgYXZlcmFnZSggY29uc3QgaW4gdmVjMyBjb2xvciApIHsgcmV0dXJuIGRvdCggY29sb3IsIHZlYzMoIDAuMzMzMyApICk7IH1cbmhpZ2hwIGZsb2F0IHJhbmQoIGNvbnN0IGluIHZlYzIgdXYgKSB7XG5cdGNvbnN0IGhpZ2hwIGZsb2F0IGEgPSAxMi45ODk4LCBiID0gNzguMjMzLCBjID0gNDM3NTguNTQ1Mztcblx0aGlnaHAgZmxvYXQgZHQgPSBkb3QoIHV2Lnh5LCB2ZWMyKCBhLGIgKSApLCBzbiA9IG1vZCggZHQsIFBJICk7XG5cdHJldHVybiBmcmFjdChzaW4oc24pICogYyk7XG59XG4jaWZkZWYgSElHSF9QUkVDSVNJT05cblx0ZmxvYXQgcHJlY2lzaW9uU2FmZUxlbmd0aCggdmVjMyB2ICkgeyByZXR1cm4gbGVuZ3RoKCB2ICk7IH1cbiNlbHNlXG5cdGZsb2F0IG1heDMoIHZlYzMgdiApIHsgcmV0dXJuIG1heCggbWF4KCB2LngsIHYueSApLCB2LnogKTsgfVxuXHRmbG9hdCBwcmVjaXNpb25TYWZlTGVuZ3RoKCB2ZWMzIHYgKSB7XG5cdFx0ZmxvYXQgbWF4Q29tcG9uZW50ID0gbWF4MyggYWJzKCB2ICkgKTtcblx0XHRyZXR1cm4gbGVuZ3RoKCB2IC8gbWF4Q29tcG9uZW50ICkgKiBtYXhDb21wb25lbnQ7XG5cdH1cbiNlbmRpZlxuc3RydWN0IEluY2lkZW50TGlnaHQge1xuXHR2ZWMzIGNvbG9yO1xuXHR2ZWMzIGRpcmVjdGlvbjtcblx0Ym9vbCB2aXNpYmxlO1xufTtcbnN0cnVjdCBSZWZsZWN0ZWRMaWdodCB7XG5cdHZlYzMgZGlyZWN0RGlmZnVzZTtcblx0dmVjMyBkaXJlY3RTcGVjdWxhcjtcblx0dmVjMyBpbmRpcmVjdERpZmZ1c2U7XG5cdHZlYzMgaW5kaXJlY3RTcGVjdWxhcjtcbn07XG5zdHJ1Y3QgR2VvbWV0cmljQ29udGV4dCB7XG5cdHZlYzMgcG9zaXRpb247XG5cdHZlYzMgbm9ybWFsO1xuXHR2ZWMzIHZpZXdEaXI7XG4jaWZkZWYgQ0xFQVJDT0FUXG5cdHZlYzMgY2xlYXJjb2F0Tm9ybWFsO1xuI2VuZGlmXG59O1xudmVjMyB0cmFuc2Zvcm1EaXJlY3Rpb24oIGluIHZlYzMgZGlyLCBpbiBtYXQ0IG1hdHJpeCApIHtcblx0cmV0dXJuIG5vcm1hbGl6ZSggKCBtYXRyaXggKiB2ZWM0KCBkaXIsIDAuMCApICkueHl6ICk7XG59XG52ZWMzIGludmVyc2VUcmFuc2Zvcm1EaXJlY3Rpb24oIGluIHZlYzMgZGlyLCBpbiBtYXQ0IG1hdHJpeCApIHtcblx0cmV0dXJuIG5vcm1hbGl6ZSggKCB2ZWM0KCBkaXIsIDAuMCApICogbWF0cml4ICkueHl6ICk7XG59XG52ZWMzIHByb2plY3RPblBsYW5lKGluIHZlYzMgcG9pbnQsIGluIHZlYzMgcG9pbnRPblBsYW5lLCBpbiB2ZWMzIHBsYW5lTm9ybWFsICkge1xuXHRmbG9hdCBkaXN0YW5jZSA9IGRvdCggcGxhbmVOb3JtYWwsIHBvaW50IC0gcG9pbnRPblBsYW5lICk7XG5cdHJldHVybiAtIGRpc3RhbmNlICogcGxhbmVOb3JtYWwgKyBwb2ludDtcbn1cbmZsb2F0IHNpZGVPZlBsYW5lKCBpbiB2ZWMzIHBvaW50LCBpbiB2ZWMzIHBvaW50T25QbGFuZSwgaW4gdmVjMyBwbGFuZU5vcm1hbCApIHtcblx0cmV0dXJuIHNpZ24oIGRvdCggcG9pbnQgLSBwb2ludE9uUGxhbmUsIHBsYW5lTm9ybWFsICkgKTtcbn1cbnZlYzMgbGluZVBsYW5lSW50ZXJzZWN0KCBpbiB2ZWMzIHBvaW50T25MaW5lLCBpbiB2ZWMzIGxpbmVEaXJlY3Rpb24sIGluIHZlYzMgcG9pbnRPblBsYW5lLCBpbiB2ZWMzIHBsYW5lTm9ybWFsICkge1xuXHRyZXR1cm4gbGluZURpcmVjdGlvbiAqICggZG90KCBwbGFuZU5vcm1hbCwgcG9pbnRPblBsYW5lIC0gcG9pbnRPbkxpbmUgKSAvIGRvdCggcGxhbmVOb3JtYWwsIGxpbmVEaXJlY3Rpb24gKSApICsgcG9pbnRPbkxpbmU7XG59XG5tYXQzIHRyYW5zcG9zZU1hdDMoIGNvbnN0IGluIG1hdDMgbSApIHtcblx0bWF0MyB0bXA7XG5cdHRtcFsgMCBdID0gdmVjMyggbVsgMCBdLngsIG1bIDEgXS54LCBtWyAyIF0ueCApO1xuXHR0bXBbIDEgXSA9IHZlYzMoIG1bIDAgXS55LCBtWyAxIF0ueSwgbVsgMiBdLnkgKTtcblx0dG1wWyAyIF0gPSB2ZWMzKCBtWyAwIF0ueiwgbVsgMSBdLnosIG1bIDIgXS56ICk7XG5cdHJldHVybiB0bXA7XG59XG5mbG9hdCBsaW5lYXJUb1JlbGF0aXZlTHVtaW5hbmNlKCBjb25zdCBpbiB2ZWMzIGNvbG9yICkge1xuXHR2ZWMzIHdlaWdodHMgPSB2ZWMzKCAwLjIxMjYsIDAuNzE1MiwgMC4wNzIyICk7XG5cdHJldHVybiBkb3QoIHdlaWdodHMsIGNvbG9yLnJnYiApO1xufVxuYm9vbCBpc1BlcnNwZWN0aXZlTWF0cml4KCBtYXQ0IG0gKSB7XG5cdHJldHVybiBtWyAyIF1bIDMgXSA9PSAtIDEuMDtcbn1cbnZlYzIgZXF1aXJlY3RVdiggaW4gdmVjMyBkaXIgKSB7XG5cdGZsb2F0IHUgPSBhdGFuKCBkaXIueiwgZGlyLnggKSAqIFJFQ0lQUk9DQUxfUEkyICsgMC41O1xuXHRmbG9hdCB2ID0gYXNpbiggY2xhbXAoIGRpci55LCAtIDEuMCwgMS4wICkgKSAqIFJFQ0lQUk9DQUxfUEkgKyAwLjU7XG5cdHJldHVybiB2ZWMyKCB1LCB2ICk7XG59IixjdWJlX3V2X3JlZmxlY3Rpb25fZnJhZ21lbnQ6IiNpZmRlZiBFTlZNQVBfVFlQRV9DVUJFX1VWXG5cdCNkZWZpbmUgY3ViZVVWX21heE1pcExldmVsIDguMFxuXHQjZGVmaW5lIGN1YmVVVl9taW5NaXBMZXZlbCA0LjBcblx0I2RlZmluZSBjdWJlVVZfbWF4VGlsZVNpemUgMjU2LjBcblx0I2RlZmluZSBjdWJlVVZfbWluVGlsZVNpemUgMTYuMFxuXHRmbG9hdCBnZXRGYWNlKCB2ZWMzIGRpcmVjdGlvbiApIHtcblx0XHR2ZWMzIGFic0RpcmVjdGlvbiA9IGFicyggZGlyZWN0aW9uICk7XG5cdFx0ZmxvYXQgZmFjZSA9IC0gMS4wO1xuXHRcdGlmICggYWJzRGlyZWN0aW9uLnggPiBhYnNEaXJlY3Rpb24ueiApIHtcblx0XHRcdGlmICggYWJzRGlyZWN0aW9uLnggPiBhYnNEaXJlY3Rpb24ueSApXG5cdFx0XHRcdGZhY2UgPSBkaXJlY3Rpb24ueCA+IDAuMCA/IDAuMCA6IDMuMDtcblx0XHRcdGVsc2Vcblx0XHRcdFx0ZmFjZSA9IGRpcmVjdGlvbi55ID4gMC4wID8gMS4wIDogNC4wO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRpZiAoIGFic0RpcmVjdGlvbi56ID4gYWJzRGlyZWN0aW9uLnkgKVxuXHRcdFx0XHRmYWNlID0gZGlyZWN0aW9uLnogPiAwLjAgPyAyLjAgOiA1LjA7XG5cdFx0XHRlbHNlXG5cdFx0XHRcdGZhY2UgPSBkaXJlY3Rpb24ueSA+IDAuMCA/IDEuMCA6IDQuMDtcblx0XHR9XG5cdFx0cmV0dXJuIGZhY2U7XG5cdH1cblx0dmVjMiBnZXRVViggdmVjMyBkaXJlY3Rpb24sIGZsb2F0IGZhY2UgKSB7XG5cdFx0dmVjMiB1djtcblx0XHRpZiAoIGZhY2UgPT0gMC4wICkge1xuXHRcdFx0dXYgPSB2ZWMyKCBkaXJlY3Rpb24ueiwgZGlyZWN0aW9uLnkgKSAvIGFicyggZGlyZWN0aW9uLnggKTtcblx0XHR9IGVsc2UgaWYgKCBmYWNlID09IDEuMCApIHtcblx0XHRcdHV2ID0gdmVjMiggLSBkaXJlY3Rpb24ueCwgLSBkaXJlY3Rpb24ueiApIC8gYWJzKCBkaXJlY3Rpb24ueSApO1xuXHRcdH0gZWxzZSBpZiAoIGZhY2UgPT0gMi4wICkge1xuXHRcdFx0dXYgPSB2ZWMyKCAtIGRpcmVjdGlvbi54LCBkaXJlY3Rpb24ueSApIC8gYWJzKCBkaXJlY3Rpb24ueiApO1xuXHRcdH0gZWxzZSBpZiAoIGZhY2UgPT0gMy4wICkge1xuXHRcdFx0dXYgPSB2ZWMyKCAtIGRpcmVjdGlvbi56LCBkaXJlY3Rpb24ueSApIC8gYWJzKCBkaXJlY3Rpb24ueCApO1xuXHRcdH0gZWxzZSBpZiAoIGZhY2UgPT0gNC4wICkge1xuXHRcdFx0dXYgPSB2ZWMyKCAtIGRpcmVjdGlvbi54LCBkaXJlY3Rpb24ueiApIC8gYWJzKCBkaXJlY3Rpb24ueSApO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR1diA9IHZlYzIoIGRpcmVjdGlvbi54LCBkaXJlY3Rpb24ueSApIC8gYWJzKCBkaXJlY3Rpb24ueiApO1xuXHRcdH1cblx0XHRyZXR1cm4gMC41ICogKCB1diArIDEuMCApO1xuXHR9XG5cdHZlYzMgYmlsaW5lYXJDdWJlVVYoIHNhbXBsZXIyRCBlbnZNYXAsIHZlYzMgZGlyZWN0aW9uLCBmbG9hdCBtaXBJbnQgKSB7XG5cdFx0ZmxvYXQgZmFjZSA9IGdldEZhY2UoIGRpcmVjdGlvbiApO1xuXHRcdGZsb2F0IGZpbHRlckludCA9IG1heCggY3ViZVVWX21pbk1pcExldmVsIC0gbWlwSW50LCAwLjAgKTtcblx0XHRtaXBJbnQgPSBtYXgoIG1pcEludCwgY3ViZVVWX21pbk1pcExldmVsICk7XG5cdFx0ZmxvYXQgZmFjZVNpemUgPSBleHAyKCBtaXBJbnQgKTtcblx0XHRmbG9hdCB0ZXhlbFNpemUgPSAxLjAgLyAoIDMuMCAqIGN1YmVVVl9tYXhUaWxlU2l6ZSApO1xuXHRcdHZlYzIgdXYgPSBnZXRVViggZGlyZWN0aW9uLCBmYWNlICkgKiAoIGZhY2VTaXplIC0gMS4wICk7XG5cdFx0dmVjMiBmID0gZnJhY3QoIHV2ICk7XG5cdFx0dXYgKz0gMC41IC0gZjtcblx0XHRpZiAoIGZhY2UgPiAyLjAgKSB7XG5cdFx0XHR1di55ICs9IGZhY2VTaXplO1xuXHRcdFx0ZmFjZSAtPSAzLjA7XG5cdFx0fVxuXHRcdHV2LnggKz0gZmFjZSAqIGZhY2VTaXplO1xuXHRcdGlmICggbWlwSW50IDwgY3ViZVVWX21heE1pcExldmVsICkge1xuXHRcdFx0dXYueSArPSAyLjAgKiBjdWJlVVZfbWF4VGlsZVNpemU7XG5cdFx0fVxuXHRcdHV2LnkgKz0gZmlsdGVySW50ICogMi4wICogY3ViZVVWX21pblRpbGVTaXplO1xuXHRcdHV2LnggKz0gMy4wICogbWF4KCAwLjAsIGN1YmVVVl9tYXhUaWxlU2l6ZSAtIDIuMCAqIGZhY2VTaXplICk7XG5cdFx0dXYgKj0gdGV4ZWxTaXplO1xuXHRcdHZlYzMgdGwgPSBlbnZNYXBUZXhlbFRvTGluZWFyKCB0ZXh0dXJlMkQoIGVudk1hcCwgdXYgKSApLnJnYjtcblx0XHR1di54ICs9IHRleGVsU2l6ZTtcblx0XHR2ZWMzIHRyID0gZW52TWFwVGV4ZWxUb0xpbmVhciggdGV4dHVyZTJEKCBlbnZNYXAsIHV2ICkgKS5yZ2I7XG5cdFx0dXYueSArPSB0ZXhlbFNpemU7XG5cdFx0dmVjMyBiciA9IGVudk1hcFRleGVsVG9MaW5lYXIoIHRleHR1cmUyRCggZW52TWFwLCB1diApICkucmdiO1xuXHRcdHV2LnggLT0gdGV4ZWxTaXplO1xuXHRcdHZlYzMgYmwgPSBlbnZNYXBUZXhlbFRvTGluZWFyKCB0ZXh0dXJlMkQoIGVudk1hcCwgdXYgKSApLnJnYjtcblx0XHR2ZWMzIHRtID0gbWl4KCB0bCwgdHIsIGYueCApO1xuXHRcdHZlYzMgYm0gPSBtaXgoIGJsLCBiciwgZi54ICk7XG5cdFx0cmV0dXJuIG1peCggdG0sIGJtLCBmLnkgKTtcblx0fVxuXHQjZGVmaW5lIHIwIDEuMFxuXHQjZGVmaW5lIHYwIDAuMzM5XG5cdCNkZWZpbmUgbTAgLSAyLjBcblx0I2RlZmluZSByMSAwLjhcblx0I2RlZmluZSB2MSAwLjI3NlxuXHQjZGVmaW5lIG0xIC0gMS4wXG5cdCNkZWZpbmUgcjQgMC40XG5cdCNkZWZpbmUgdjQgMC4wNDZcblx0I2RlZmluZSBtNCAyLjBcblx0I2RlZmluZSByNSAwLjMwNVxuXHQjZGVmaW5lIHY1IDAuMDE2XG5cdCNkZWZpbmUgbTUgMy4wXG5cdCNkZWZpbmUgcjYgMC4yMVxuXHQjZGVmaW5lIHY2IDAuMDAzOFxuXHQjZGVmaW5lIG02IDQuMFxuXHRmbG9hdCByb3VnaG5lc3NUb01pcCggZmxvYXQgcm91Z2huZXNzICkge1xuXHRcdGZsb2F0IG1pcCA9IDAuMDtcblx0XHRpZiAoIHJvdWdobmVzcyA+PSByMSApIHtcblx0XHRcdG1pcCA9ICggcjAgLSByb3VnaG5lc3MgKSAqICggbTEgLSBtMCApIC8gKCByMCAtIHIxICkgKyBtMDtcblx0XHR9IGVsc2UgaWYgKCByb3VnaG5lc3MgPj0gcjQgKSB7XG5cdFx0XHRtaXAgPSAoIHIxIC0gcm91Z2huZXNzICkgKiAoIG00IC0gbTEgKSAvICggcjEgLSByNCApICsgbTE7XG5cdFx0fSBlbHNlIGlmICggcm91Z2huZXNzID49IHI1ICkge1xuXHRcdFx0bWlwID0gKCByNCAtIHJvdWdobmVzcyApICogKCBtNSAtIG00ICkgLyAoIHI0IC0gcjUgKSArIG00O1xuXHRcdH0gZWxzZSBpZiAoIHJvdWdobmVzcyA+PSByNiApIHtcblx0XHRcdG1pcCA9ICggcjUgLSByb3VnaG5lc3MgKSAqICggbTYgLSBtNSApIC8gKCByNSAtIHI2ICkgKyBtNTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0bWlwID0gLSAyLjAgKiBsb2cyKCAxLjE2ICogcm91Z2huZXNzICk7XHRcdH1cblx0XHRyZXR1cm4gbWlwO1xuXHR9XG5cdHZlYzQgdGV4dHVyZUN1YmVVViggc2FtcGxlcjJEIGVudk1hcCwgdmVjMyBzYW1wbGVEaXIsIGZsb2F0IHJvdWdobmVzcyApIHtcblx0XHRmbG9hdCBtaXAgPSBjbGFtcCggcm91Z2huZXNzVG9NaXAoIHJvdWdobmVzcyApLCBtMCwgY3ViZVVWX21heE1pcExldmVsICk7XG5cdFx0ZmxvYXQgbWlwRiA9IGZyYWN0KCBtaXAgKTtcblx0XHRmbG9hdCBtaXBJbnQgPSBmbG9vciggbWlwICk7XG5cdFx0dmVjMyBjb2xvcjAgPSBiaWxpbmVhckN1YmVVViggZW52TWFwLCBzYW1wbGVEaXIsIG1pcEludCApO1xuXHRcdGlmICggbWlwRiA9PSAwLjAgKSB7XG5cdFx0XHRyZXR1cm4gdmVjNCggY29sb3IwLCAxLjAgKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dmVjMyBjb2xvcjEgPSBiaWxpbmVhckN1YmVVViggZW52TWFwLCBzYW1wbGVEaXIsIG1pcEludCArIDEuMCApO1xuXHRcdFx0cmV0dXJuIHZlYzQoIG1peCggY29sb3IwLCBjb2xvcjEsIG1pcEYgKSwgMS4wICk7XG5cdFx0fVxuXHR9XG4jZW5kaWYiLGRlZmF1bHRub3JtYWxfdmVydGV4OiJ2ZWMzIHRyYW5zZm9ybWVkTm9ybWFsID0gb2JqZWN0Tm9ybWFsO1xuI2lmZGVmIFVTRV9JTlNUQU5DSU5HXG5cdG1hdDMgbSA9IG1hdDMoIGluc3RhbmNlTWF0cml4ICk7XG5cdHRyYW5zZm9ybWVkTm9ybWFsIC89IHZlYzMoIGRvdCggbVsgMCBdLCBtWyAwIF0gKSwgZG90KCBtWyAxIF0sIG1bIDEgXSApLCBkb3QoIG1bIDIgXSwgbVsgMiBdICkgKTtcblx0dHJhbnNmb3JtZWROb3JtYWwgPSBtICogdHJhbnNmb3JtZWROb3JtYWw7XG4jZW5kaWZcbnRyYW5zZm9ybWVkTm9ybWFsID0gbm9ybWFsTWF0cml4ICogdHJhbnNmb3JtZWROb3JtYWw7XG4jaWZkZWYgRkxJUF9TSURFRFxuXHR0cmFuc2Zvcm1lZE5vcm1hbCA9IC0gdHJhbnNmb3JtZWROb3JtYWw7XG4jZW5kaWZcbiNpZmRlZiBVU0VfVEFOR0VOVFxuXHR2ZWMzIHRyYW5zZm9ybWVkVGFuZ2VudCA9ICggbW9kZWxWaWV3TWF0cml4ICogdmVjNCggb2JqZWN0VGFuZ2VudCwgMC4wICkgKS54eXo7XG5cdCNpZmRlZiBGTElQX1NJREVEXG5cdFx0dHJhbnNmb3JtZWRUYW5nZW50ID0gLSB0cmFuc2Zvcm1lZFRhbmdlbnQ7XG5cdCNlbmRpZlxuI2VuZGlmIixkaXNwbGFjZW1lbnRtYXBfcGFyc192ZXJ0ZXg6IiNpZmRlZiBVU0VfRElTUExBQ0VNRU5UTUFQXG5cdHVuaWZvcm0gc2FtcGxlcjJEIGRpc3BsYWNlbWVudE1hcDtcblx0dW5pZm9ybSBmbG9hdCBkaXNwbGFjZW1lbnRTY2FsZTtcblx0dW5pZm9ybSBmbG9hdCBkaXNwbGFjZW1lbnRCaWFzO1xuI2VuZGlmIixkaXNwbGFjZW1lbnRtYXBfdmVydGV4OiIjaWZkZWYgVVNFX0RJU1BMQUNFTUVOVE1BUFxuXHR0cmFuc2Zvcm1lZCArPSBub3JtYWxpemUoIG9iamVjdE5vcm1hbCApICogKCB0ZXh0dXJlMkQoIGRpc3BsYWNlbWVudE1hcCwgdlV2ICkueCAqIGRpc3BsYWNlbWVudFNjYWxlICsgZGlzcGxhY2VtZW50QmlhcyApO1xuI2VuZGlmIixlbWlzc2l2ZW1hcF9mcmFnbWVudDoiI2lmZGVmIFVTRV9FTUlTU0lWRU1BUFxuXHR2ZWM0IGVtaXNzaXZlQ29sb3IgPSB0ZXh0dXJlMkQoIGVtaXNzaXZlTWFwLCB2VXYgKTtcblx0ZW1pc3NpdmVDb2xvci5yZ2IgPSBlbWlzc2l2ZU1hcFRleGVsVG9MaW5lYXIoIGVtaXNzaXZlQ29sb3IgKS5yZ2I7XG5cdHRvdGFsRW1pc3NpdmVSYWRpYW5jZSAqPSBlbWlzc2l2ZUNvbG9yLnJnYjtcbiNlbmRpZiIsZW1pc3NpdmVtYXBfcGFyc19mcmFnbWVudDoiI2lmZGVmIFVTRV9FTUlTU0lWRU1BUFxuXHR1bmlmb3JtIHNhbXBsZXIyRCBlbWlzc2l2ZU1hcDtcbiNlbmRpZiIsZW5jb2RpbmdzX2ZyYWdtZW50OiJnbF9GcmFnQ29sb3IgPSBsaW5lYXJUb091dHB1dFRleGVsKCBnbF9GcmFnQ29sb3IgKTsiLGVuY29kaW5nc19wYXJzX2ZyYWdtZW50OiJcbnZlYzQgTGluZWFyVG9MaW5lYXIoIGluIHZlYzQgdmFsdWUgKSB7XG5cdHJldHVybiB2YWx1ZTtcbn1cbnZlYzQgR2FtbWFUb0xpbmVhciggaW4gdmVjNCB2YWx1ZSwgaW4gZmxvYXQgZ2FtbWFGYWN0b3IgKSB7XG5cdHJldHVybiB2ZWM0KCBwb3coIHZhbHVlLnJnYiwgdmVjMyggZ2FtbWFGYWN0b3IgKSApLCB2YWx1ZS5hICk7XG59XG52ZWM0IExpbmVhclRvR2FtbWEoIGluIHZlYzQgdmFsdWUsIGluIGZsb2F0IGdhbW1hRmFjdG9yICkge1xuXHRyZXR1cm4gdmVjNCggcG93KCB2YWx1ZS5yZ2IsIHZlYzMoIDEuMCAvIGdhbW1hRmFjdG9yICkgKSwgdmFsdWUuYSApO1xufVxudmVjNCBzUkdCVG9MaW5lYXIoIGluIHZlYzQgdmFsdWUgKSB7XG5cdHJldHVybiB2ZWM0KCBtaXgoIHBvdyggdmFsdWUucmdiICogMC45NDc4NjcyOTg2ICsgdmVjMyggMC4wNTIxMzI3MDE0ICksIHZlYzMoIDIuNCApICksIHZhbHVlLnJnYiAqIDAuMDc3Mzk5MzgwOCwgdmVjMyggbGVzc1RoYW5FcXVhbCggdmFsdWUucmdiLCB2ZWMzKCAwLjA0MDQ1ICkgKSApICksIHZhbHVlLmEgKTtcbn1cbnZlYzQgTGluZWFyVG9zUkdCKCBpbiB2ZWM0IHZhbHVlICkge1xuXHRyZXR1cm4gdmVjNCggbWl4KCBwb3coIHZhbHVlLnJnYiwgdmVjMyggMC40MTY2NiApICkgKiAxLjA1NSAtIHZlYzMoIDAuMDU1ICksIHZhbHVlLnJnYiAqIDEyLjkyLCB2ZWMzKCBsZXNzVGhhbkVxdWFsKCB2YWx1ZS5yZ2IsIHZlYzMoIDAuMDAzMTMwOCApICkgKSApLCB2YWx1ZS5hICk7XG59XG52ZWM0IFJHQkVUb0xpbmVhciggaW4gdmVjNCB2YWx1ZSApIHtcblx0cmV0dXJuIHZlYzQoIHZhbHVlLnJnYiAqIGV4cDIoIHZhbHVlLmEgKiAyNTUuMCAtIDEyOC4wICksIDEuMCApO1xufVxudmVjNCBMaW5lYXJUb1JHQkUoIGluIHZlYzQgdmFsdWUgKSB7XG5cdGZsb2F0IG1heENvbXBvbmVudCA9IG1heCggbWF4KCB2YWx1ZS5yLCB2YWx1ZS5nICksIHZhbHVlLmIgKTtcblx0ZmxvYXQgZkV4cCA9IGNsYW1wKCBjZWlsKCBsb2cyKCBtYXhDb21wb25lbnQgKSApLCAtMTI4LjAsIDEyNy4wICk7XG5cdHJldHVybiB2ZWM0KCB2YWx1ZS5yZ2IgLyBleHAyKCBmRXhwICksICggZkV4cCArIDEyOC4wICkgLyAyNTUuMCApO1xufVxudmVjNCBSR0JNVG9MaW5lYXIoIGluIHZlYzQgdmFsdWUsIGluIGZsb2F0IG1heFJhbmdlICkge1xuXHRyZXR1cm4gdmVjNCggdmFsdWUucmdiICogdmFsdWUuYSAqIG1heFJhbmdlLCAxLjAgKTtcbn1cbnZlYzQgTGluZWFyVG9SR0JNKCBpbiB2ZWM0IHZhbHVlLCBpbiBmbG9hdCBtYXhSYW5nZSApIHtcblx0ZmxvYXQgbWF4UkdCID0gbWF4KCB2YWx1ZS5yLCBtYXgoIHZhbHVlLmcsIHZhbHVlLmIgKSApO1xuXHRmbG9hdCBNID0gY2xhbXAoIG1heFJHQiAvIG1heFJhbmdlLCAwLjAsIDEuMCApO1xuXHRNID0gY2VpbCggTSAqIDI1NS4wICkgLyAyNTUuMDtcblx0cmV0dXJuIHZlYzQoIHZhbHVlLnJnYiAvICggTSAqIG1heFJhbmdlICksIE0gKTtcbn1cbnZlYzQgUkdCRFRvTGluZWFyKCBpbiB2ZWM0IHZhbHVlLCBpbiBmbG9hdCBtYXhSYW5nZSApIHtcblx0cmV0dXJuIHZlYzQoIHZhbHVlLnJnYiAqICggKCBtYXhSYW5nZSAvIDI1NS4wICkgLyB2YWx1ZS5hICksIDEuMCApO1xufVxudmVjNCBMaW5lYXJUb1JHQkQoIGluIHZlYzQgdmFsdWUsIGluIGZsb2F0IG1heFJhbmdlICkge1xuXHRmbG9hdCBtYXhSR0IgPSBtYXgoIHZhbHVlLnIsIG1heCggdmFsdWUuZywgdmFsdWUuYiApICk7XG5cdGZsb2F0IEQgPSBtYXgoIG1heFJhbmdlIC8gbWF4UkdCLCAxLjAgKTtcblx0RCA9IGNsYW1wKCBmbG9vciggRCApIC8gMjU1LjAsIDAuMCwgMS4wICk7XG5cdHJldHVybiB2ZWM0KCB2YWx1ZS5yZ2IgKiAoIEQgKiAoIDI1NS4wIC8gbWF4UmFuZ2UgKSApLCBEICk7XG59XG5jb25zdCBtYXQzIGNMb2dMdXZNID0gbWF0MyggMC4yMjA5LCAwLjMzOTAsIDAuNDE4NCwgMC4xMTM4LCAwLjY3ODAsIDAuNzMxOSwgMC4wMTAyLCAwLjExMzAsIDAuMjk2OSApO1xudmVjNCBMaW5lYXJUb0xvZ0x1diggaW4gdmVjNCB2YWx1ZSApIHtcblx0dmVjMyBYcF9ZX1hZWnAgPSBjTG9nTHV2TSAqIHZhbHVlLnJnYjtcblx0WHBfWV9YWVpwID0gbWF4KCBYcF9ZX1hZWnAsIHZlYzMoIDFlLTYsIDFlLTYsIDFlLTYgKSApO1xuXHR2ZWM0IHZSZXN1bHQ7XG5cdHZSZXN1bHQueHkgPSBYcF9ZX1hZWnAueHkgLyBYcF9ZX1hZWnAuejtcblx0ZmxvYXQgTGUgPSAyLjAgKiBsb2cyKFhwX1lfWFlacC55KSArIDEyNy4wO1xuXHR2UmVzdWx0LncgPSBmcmFjdCggTGUgKTtcblx0dlJlc3VsdC56ID0gKCBMZSAtICggZmxvb3IoIHZSZXN1bHQudyAqIDI1NS4wICkgKSAvIDI1NS4wICkgLyAyNTUuMDtcblx0cmV0dXJuIHZSZXN1bHQ7XG59XG5jb25zdCBtYXQzIGNMb2dMdXZJbnZlcnNlTSA9IG1hdDMoIDYuMDAxNCwgLTIuNzAwOCwgLTEuNzk5NiwgLTEuMzMyMCwgMy4xMDI5LCAtNS43NzIxLCAwLjMwMDgsIC0xLjA4ODIsIDUuNjI2OCApO1xudmVjNCBMb2dMdXZUb0xpbmVhciggaW4gdmVjNCB2YWx1ZSApIHtcblx0ZmxvYXQgTGUgPSB2YWx1ZS56ICogMjU1LjAgKyB2YWx1ZS53O1xuXHR2ZWMzIFhwX1lfWFlacDtcblx0WHBfWV9YWVpwLnkgPSBleHAyKCAoIExlIC0gMTI3LjAgKSAvIDIuMCApO1xuXHRYcF9ZX1hZWnAueiA9IFhwX1lfWFlacC55IC8gdmFsdWUueTtcblx0WHBfWV9YWVpwLnggPSB2YWx1ZS54ICogWHBfWV9YWVpwLno7XG5cdHZlYzMgdlJHQiA9IGNMb2dMdXZJbnZlcnNlTSAqIFhwX1lfWFlacC5yZ2I7XG5cdHJldHVybiB2ZWM0KCBtYXgoIHZSR0IsIDAuMCApLCAxLjAgKTtcbn0iLGVudm1hcF9mcmFnbWVudDoiI2lmZGVmIFVTRV9FTlZNQVBcblx0I2lmZGVmIEVOVl9XT1JMRFBPU1xuXHRcdHZlYzMgY2FtZXJhVG9GcmFnO1xuXHRcdGlmICggaXNPcnRob2dyYXBoaWMgKSB7XG5cdFx0XHRjYW1lcmFUb0ZyYWcgPSBub3JtYWxpemUoIHZlYzMoIC0gdmlld01hdHJpeFsgMCBdWyAyIF0sIC0gdmlld01hdHJpeFsgMSBdWyAyIF0sIC0gdmlld01hdHJpeFsgMiBdWyAyIF0gKSApO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRjYW1lcmFUb0ZyYWcgPSBub3JtYWxpemUoIHZXb3JsZFBvc2l0aW9uIC0gY2FtZXJhUG9zaXRpb24gKTtcblx0XHR9XG5cdFx0dmVjMyB3b3JsZE5vcm1hbCA9IGludmVyc2VUcmFuc2Zvcm1EaXJlY3Rpb24oIG5vcm1hbCwgdmlld01hdHJpeCApO1xuXHRcdCNpZmRlZiBFTlZNQVBfTU9ERV9SRUZMRUNUSU9OXG5cdFx0XHR2ZWMzIHJlZmxlY3RWZWMgPSByZWZsZWN0KCBjYW1lcmFUb0ZyYWcsIHdvcmxkTm9ybWFsICk7XG5cdFx0I2Vsc2Vcblx0XHRcdHZlYzMgcmVmbGVjdFZlYyA9IHJlZnJhY3QoIGNhbWVyYVRvRnJhZywgd29ybGROb3JtYWwsIHJlZnJhY3Rpb25SYXRpbyApO1xuXHRcdCNlbmRpZlxuXHQjZWxzZVxuXHRcdHZlYzMgcmVmbGVjdFZlYyA9IHZSZWZsZWN0O1xuXHQjZW5kaWZcblx0I2lmZGVmIEVOVk1BUF9UWVBFX0NVQkVcblx0XHR2ZWM0IGVudkNvbG9yID0gdGV4dHVyZUN1YmUoIGVudk1hcCwgdmVjMyggZmxpcEVudk1hcCAqIHJlZmxlY3RWZWMueCwgcmVmbGVjdFZlYy55eiApICk7XG5cdCNlbGlmIGRlZmluZWQoIEVOVk1BUF9UWVBFX0NVQkVfVVYgKVxuXHRcdHZlYzQgZW52Q29sb3IgPSB0ZXh0dXJlQ3ViZVVWKCBlbnZNYXAsIHJlZmxlY3RWZWMsIDAuMCApO1xuXHQjZWxzZVxuXHRcdHZlYzQgZW52Q29sb3IgPSB2ZWM0KCAwLjAgKTtcblx0I2VuZGlmXG5cdCNpZm5kZWYgRU5WTUFQX1RZUEVfQ1VCRV9VVlxuXHRcdGVudkNvbG9yID0gZW52TWFwVGV4ZWxUb0xpbmVhciggZW52Q29sb3IgKTtcblx0I2VuZGlmXG5cdCNpZmRlZiBFTlZNQVBfQkxFTkRJTkdfTVVMVElQTFlcblx0XHRvdXRnb2luZ0xpZ2h0ID0gbWl4KCBvdXRnb2luZ0xpZ2h0LCBvdXRnb2luZ0xpZ2h0ICogZW52Q29sb3IueHl6LCBzcGVjdWxhclN0cmVuZ3RoICogcmVmbGVjdGl2aXR5ICk7XG5cdCNlbGlmIGRlZmluZWQoIEVOVk1BUF9CTEVORElOR19NSVggKVxuXHRcdG91dGdvaW5nTGlnaHQgPSBtaXgoIG91dGdvaW5nTGlnaHQsIGVudkNvbG9yLnh5eiwgc3BlY3VsYXJTdHJlbmd0aCAqIHJlZmxlY3Rpdml0eSApO1xuXHQjZWxpZiBkZWZpbmVkKCBFTlZNQVBfQkxFTkRJTkdfQUREIClcblx0XHRvdXRnb2luZ0xpZ2h0ICs9IGVudkNvbG9yLnh5eiAqIHNwZWN1bGFyU3RyZW5ndGggKiByZWZsZWN0aXZpdHk7XG5cdCNlbmRpZlxuI2VuZGlmIixlbnZtYXBfY29tbW9uX3BhcnNfZnJhZ21lbnQ6IiNpZmRlZiBVU0VfRU5WTUFQXG5cdHVuaWZvcm0gZmxvYXQgZW52TWFwSW50ZW5zaXR5O1xuXHR1bmlmb3JtIGZsb2F0IGZsaXBFbnZNYXA7XG5cdHVuaWZvcm0gaW50IG1heE1pcExldmVsO1xuXHQjaWZkZWYgRU5WTUFQX1RZUEVfQ1VCRVxuXHRcdHVuaWZvcm0gc2FtcGxlckN1YmUgZW52TWFwO1xuXHQjZWxzZVxuXHRcdHVuaWZvcm0gc2FtcGxlcjJEIGVudk1hcDtcblx0I2VuZGlmXG5cdFxuI2VuZGlmIixlbnZtYXBfcGFyc19mcmFnbWVudDoiI2lmZGVmIFVTRV9FTlZNQVBcblx0dW5pZm9ybSBmbG9hdCByZWZsZWN0aXZpdHk7XG5cdCNpZiBkZWZpbmVkKCBVU0VfQlVNUE1BUCApIHx8IGRlZmluZWQoIFVTRV9OT1JNQUxNQVAgKSB8fCBkZWZpbmVkKCBQSE9ORyApXG5cdFx0I2RlZmluZSBFTlZfV09STERQT1Ncblx0I2VuZGlmXG5cdCNpZmRlZiBFTlZfV09STERQT1Ncblx0XHR2YXJ5aW5nIHZlYzMgdldvcmxkUG9zaXRpb247XG5cdFx0dW5pZm9ybSBmbG9hdCByZWZyYWN0aW9uUmF0aW87XG5cdCNlbHNlXG5cdFx0dmFyeWluZyB2ZWMzIHZSZWZsZWN0O1xuXHQjZW5kaWZcbiNlbmRpZiIsZW52bWFwX3BhcnNfdmVydGV4OiIjaWZkZWYgVVNFX0VOVk1BUFxuXHQjaWYgZGVmaW5lZCggVVNFX0JVTVBNQVAgKSB8fCBkZWZpbmVkKCBVU0VfTk9STUFMTUFQICkgfHxkZWZpbmVkKCBQSE9ORyApXG5cdFx0I2RlZmluZSBFTlZfV09STERQT1Ncblx0I2VuZGlmXG5cdCNpZmRlZiBFTlZfV09STERQT1Ncblx0XHRcblx0XHR2YXJ5aW5nIHZlYzMgdldvcmxkUG9zaXRpb247XG5cdCNlbHNlXG5cdFx0dmFyeWluZyB2ZWMzIHZSZWZsZWN0O1xuXHRcdHVuaWZvcm0gZmxvYXQgcmVmcmFjdGlvblJhdGlvO1xuXHQjZW5kaWZcbiNlbmRpZiIsZW52bWFwX3BoeXNpY2FsX3BhcnNfZnJhZ21lbnQ6IiNpZiBkZWZpbmVkKCBVU0VfRU5WTUFQIClcblx0I2lmZGVmIEVOVk1BUF9NT0RFX1JFRlJBQ1RJT05cblx0XHR1bmlmb3JtIGZsb2F0IHJlZnJhY3Rpb25SYXRpbztcblx0I2VuZGlmXG5cdHZlYzMgZ2V0TGlnaHRQcm9iZUluZGlyZWN0SXJyYWRpYW5jZSggY29uc3QgaW4gR2VvbWV0cmljQ29udGV4dCBnZW9tZXRyeSwgY29uc3QgaW4gaW50IG1heE1JUExldmVsICkge1xuXHRcdHZlYzMgd29ybGROb3JtYWwgPSBpbnZlcnNlVHJhbnNmb3JtRGlyZWN0aW9uKCBnZW9tZXRyeS5ub3JtYWwsIHZpZXdNYXRyaXggKTtcblx0XHQjaWZkZWYgRU5WTUFQX1RZUEVfQ1VCRVxuXHRcdFx0dmVjMyBxdWVyeVZlYyA9IHZlYzMoIGZsaXBFbnZNYXAgKiB3b3JsZE5vcm1hbC54LCB3b3JsZE5vcm1hbC55eiApO1xuXHRcdFx0I2lmZGVmIFRFWFRVUkVfTE9EX0VYVFxuXHRcdFx0XHR2ZWM0IGVudk1hcENvbG9yID0gdGV4dHVyZUN1YmVMb2RFWFQoIGVudk1hcCwgcXVlcnlWZWMsIGZsb2F0KCBtYXhNSVBMZXZlbCApICk7XG5cdFx0XHQjZWxzZVxuXHRcdFx0XHR2ZWM0IGVudk1hcENvbG9yID0gdGV4dHVyZUN1YmUoIGVudk1hcCwgcXVlcnlWZWMsIGZsb2F0KCBtYXhNSVBMZXZlbCApICk7XG5cdFx0XHQjZW5kaWZcblx0XHRcdGVudk1hcENvbG9yLnJnYiA9IGVudk1hcFRleGVsVG9MaW5lYXIoIGVudk1hcENvbG9yICkucmdiO1xuXHRcdCNlbGlmIGRlZmluZWQoIEVOVk1BUF9UWVBFX0NVQkVfVVYgKVxuXHRcdFx0dmVjNCBlbnZNYXBDb2xvciA9IHRleHR1cmVDdWJlVVYoIGVudk1hcCwgd29ybGROb3JtYWwsIDEuMCApO1xuXHRcdCNlbHNlXG5cdFx0XHR2ZWM0IGVudk1hcENvbG9yID0gdmVjNCggMC4wICk7XG5cdFx0I2VuZGlmXG5cdFx0cmV0dXJuIFBJICogZW52TWFwQ29sb3IucmdiICogZW52TWFwSW50ZW5zaXR5O1xuXHR9XG5cdGZsb2F0IGdldFNwZWN1bGFyTUlQTGV2ZWwoIGNvbnN0IGluIGZsb2F0IHJvdWdobmVzcywgY29uc3QgaW4gaW50IG1heE1JUExldmVsICkge1xuXHRcdGZsb2F0IG1heE1JUExldmVsU2NhbGFyID0gZmxvYXQoIG1heE1JUExldmVsICk7XG5cdFx0ZmxvYXQgc2lnbWEgPSBQSSAqIHJvdWdobmVzcyAqIHJvdWdobmVzcyAvICggMS4wICsgcm91Z2huZXNzICk7XG5cdFx0ZmxvYXQgZGVzaXJlZE1JUExldmVsID0gbWF4TUlQTGV2ZWxTY2FsYXIgKyBsb2cyKCBzaWdtYSApO1xuXHRcdHJldHVybiBjbGFtcCggZGVzaXJlZE1JUExldmVsLCAwLjAsIG1heE1JUExldmVsU2NhbGFyICk7XG5cdH1cblx0dmVjMyBnZXRMaWdodFByb2JlSW5kaXJlY3RSYWRpYW5jZSggY29uc3QgaW4gdmVjMyB2aWV3RGlyLCBjb25zdCBpbiB2ZWMzIG5vcm1hbCwgY29uc3QgaW4gZmxvYXQgcm91Z2huZXNzLCBjb25zdCBpbiBpbnQgbWF4TUlQTGV2ZWwgKSB7XG5cdFx0I2lmZGVmIEVOVk1BUF9NT0RFX1JFRkxFQ1RJT05cblx0XHRcdHZlYzMgcmVmbGVjdFZlYyA9IHJlZmxlY3QoIC12aWV3RGlyLCBub3JtYWwgKTtcblx0XHRcdHJlZmxlY3RWZWMgPSBub3JtYWxpemUoIG1peCggcmVmbGVjdFZlYywgbm9ybWFsLCByb3VnaG5lc3MgKiByb3VnaG5lc3MpICk7XG5cdFx0I2Vsc2Vcblx0XHRcdHZlYzMgcmVmbGVjdFZlYyA9IHJlZnJhY3QoIC12aWV3RGlyLCBub3JtYWwsIHJlZnJhY3Rpb25SYXRpbyApO1xuXHRcdCNlbmRpZlxuXHRcdHJlZmxlY3RWZWMgPSBpbnZlcnNlVHJhbnNmb3JtRGlyZWN0aW9uKCByZWZsZWN0VmVjLCB2aWV3TWF0cml4ICk7XG5cdFx0ZmxvYXQgc3BlY3VsYXJNSVBMZXZlbCA9IGdldFNwZWN1bGFyTUlQTGV2ZWwoIHJvdWdobmVzcywgbWF4TUlQTGV2ZWwgKTtcblx0XHQjaWZkZWYgRU5WTUFQX1RZUEVfQ1VCRVxuXHRcdFx0dmVjMyBxdWVyeVJlZmxlY3RWZWMgPSB2ZWMzKCBmbGlwRW52TWFwICogcmVmbGVjdFZlYy54LCByZWZsZWN0VmVjLnl6ICk7XG5cdFx0XHQjaWZkZWYgVEVYVFVSRV9MT0RfRVhUXG5cdFx0XHRcdHZlYzQgZW52TWFwQ29sb3IgPSB0ZXh0dXJlQ3ViZUxvZEVYVCggZW52TWFwLCBxdWVyeVJlZmxlY3RWZWMsIHNwZWN1bGFyTUlQTGV2ZWwgKTtcblx0XHRcdCNlbHNlXG5cdFx0XHRcdHZlYzQgZW52TWFwQ29sb3IgPSB0ZXh0dXJlQ3ViZSggZW52TWFwLCBxdWVyeVJlZmxlY3RWZWMsIHNwZWN1bGFyTUlQTGV2ZWwgKTtcblx0XHRcdCNlbmRpZlxuXHRcdFx0ZW52TWFwQ29sb3IucmdiID0gZW52TWFwVGV4ZWxUb0xpbmVhciggZW52TWFwQ29sb3IgKS5yZ2I7XG5cdFx0I2VsaWYgZGVmaW5lZCggRU5WTUFQX1RZUEVfQ1VCRV9VViApXG5cdFx0XHR2ZWM0IGVudk1hcENvbG9yID0gdGV4dHVyZUN1YmVVViggZW52TWFwLCByZWZsZWN0VmVjLCByb3VnaG5lc3MgKTtcblx0XHQjZW5kaWZcblx0XHRyZXR1cm4gZW52TWFwQ29sb3IucmdiICogZW52TWFwSW50ZW5zaXR5O1xuXHR9XG4jZW5kaWYiLGVudm1hcF92ZXJ0ZXg6IiNpZmRlZiBVU0VfRU5WTUFQXG5cdCNpZmRlZiBFTlZfV09STERQT1Ncblx0XHR2V29ybGRQb3NpdGlvbiA9IHdvcmxkUG9zaXRpb24ueHl6O1xuXHQjZWxzZVxuXHRcdHZlYzMgY2FtZXJhVG9WZXJ0ZXg7XG5cdFx0aWYgKCBpc09ydGhvZ3JhcGhpYyApIHtcblx0XHRcdGNhbWVyYVRvVmVydGV4ID0gbm9ybWFsaXplKCB2ZWMzKCAtIHZpZXdNYXRyaXhbIDAgXVsgMiBdLCAtIHZpZXdNYXRyaXhbIDEgXVsgMiBdLCAtIHZpZXdNYXRyaXhbIDIgXVsgMiBdICkgKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0Y2FtZXJhVG9WZXJ0ZXggPSBub3JtYWxpemUoIHdvcmxkUG9zaXRpb24ueHl6IC0gY2FtZXJhUG9zaXRpb24gKTtcblx0XHR9XG5cdFx0dmVjMyB3b3JsZE5vcm1hbCA9IGludmVyc2VUcmFuc2Zvcm1EaXJlY3Rpb24oIHRyYW5zZm9ybWVkTm9ybWFsLCB2aWV3TWF0cml4ICk7XG5cdFx0I2lmZGVmIEVOVk1BUF9NT0RFX1JFRkxFQ1RJT05cblx0XHRcdHZSZWZsZWN0ID0gcmVmbGVjdCggY2FtZXJhVG9WZXJ0ZXgsIHdvcmxkTm9ybWFsICk7XG5cdFx0I2Vsc2Vcblx0XHRcdHZSZWZsZWN0ID0gcmVmcmFjdCggY2FtZXJhVG9WZXJ0ZXgsIHdvcmxkTm9ybWFsLCByZWZyYWN0aW9uUmF0aW8gKTtcblx0XHQjZW5kaWZcblx0I2VuZGlmXG4jZW5kaWYiLGZvZ192ZXJ0ZXg6IiNpZmRlZiBVU0VfRk9HXG5cdGZvZ0RlcHRoID0gLSBtdlBvc2l0aW9uLno7XG4jZW5kaWYiLGZvZ19wYXJzX3ZlcnRleDoiI2lmZGVmIFVTRV9GT0dcblx0dmFyeWluZyBmbG9hdCBmb2dEZXB0aDtcbiNlbmRpZiIsZm9nX2ZyYWdtZW50OiIjaWZkZWYgVVNFX0ZPR1xuXHQjaWZkZWYgRk9HX0VYUDJcblx0XHRmbG9hdCBmb2dGYWN0b3IgPSAxLjAgLSBleHAoIC0gZm9nRGVuc2l0eSAqIGZvZ0RlbnNpdHkgKiBmb2dEZXB0aCAqIGZvZ0RlcHRoICk7XG5cdCNlbHNlXG5cdFx0ZmxvYXQgZm9nRmFjdG9yID0gc21vb3Roc3RlcCggZm9nTmVhciwgZm9nRmFyLCBmb2dEZXB0aCApO1xuXHQjZW5kaWZcblx0Z2xfRnJhZ0NvbG9yLnJnYiA9IG1peCggZ2xfRnJhZ0NvbG9yLnJnYiwgZm9nQ29sb3IsIGZvZ0ZhY3RvciApO1xuI2VuZGlmIixmb2dfcGFyc19mcmFnbWVudDoiI2lmZGVmIFVTRV9GT0dcblx0dW5pZm9ybSB2ZWMzIGZvZ0NvbG9yO1xuXHR2YXJ5aW5nIGZsb2F0IGZvZ0RlcHRoO1xuXHQjaWZkZWYgRk9HX0VYUDJcblx0XHR1bmlmb3JtIGZsb2F0IGZvZ0RlbnNpdHk7XG5cdCNlbHNlXG5cdFx0dW5pZm9ybSBmbG9hdCBmb2dOZWFyO1xuXHRcdHVuaWZvcm0gZmxvYXQgZm9nRmFyO1xuXHQjZW5kaWZcbiNlbmRpZiIsZ3JhZGllbnRtYXBfcGFyc19mcmFnbWVudDoiI2lmZGVmIFVTRV9HUkFESUVOVE1BUFxuXHR1bmlmb3JtIHNhbXBsZXIyRCBncmFkaWVudE1hcDtcbiNlbmRpZlxudmVjMyBnZXRHcmFkaWVudElycmFkaWFuY2UoIHZlYzMgbm9ybWFsLCB2ZWMzIGxpZ2h0RGlyZWN0aW9uICkge1xuXHRmbG9hdCBkb3ROTCA9IGRvdCggbm9ybWFsLCBsaWdodERpcmVjdGlvbiApO1xuXHR2ZWMyIGNvb3JkID0gdmVjMiggZG90TkwgKiAwLjUgKyAwLjUsIDAuMCApO1xuXHQjaWZkZWYgVVNFX0dSQURJRU5UTUFQXG5cdFx0cmV0dXJuIHRleHR1cmUyRCggZ3JhZGllbnRNYXAsIGNvb3JkICkucmdiO1xuXHQjZWxzZVxuXHRcdHJldHVybiAoIGNvb3JkLnggPCAwLjcgKSA/IHZlYzMoIDAuNyApIDogdmVjMyggMS4wICk7XG5cdCNlbmRpZlxufSIsbGlnaHRtYXBfZnJhZ21lbnQ6IiNpZmRlZiBVU0VfTElHSFRNQVBcblx0dmVjNCBsaWdodE1hcFRleGVsPSB0ZXh0dXJlMkQoIGxpZ2h0TWFwLCB2VXYyICk7XG5cdHJlZmxlY3RlZExpZ2h0LmluZGlyZWN0RGlmZnVzZSArPSBQSSAqIGxpZ2h0TWFwVGV4ZWxUb0xpbmVhciggbGlnaHRNYXBUZXhlbCApLnJnYiAqIGxpZ2h0TWFwSW50ZW5zaXR5O1xuI2VuZGlmIixsaWdodG1hcF9wYXJzX2ZyYWdtZW50OiIjaWZkZWYgVVNFX0xJR0hUTUFQXG5cdHVuaWZvcm0gc2FtcGxlcjJEIGxpZ2h0TWFwO1xuXHR1bmlmb3JtIGZsb2F0IGxpZ2h0TWFwSW50ZW5zaXR5O1xuI2VuZGlmIixsaWdodHNfbGFtYmVydF92ZXJ0ZXg6InZlYzMgZGlmZnVzZSA9IHZlYzMoIDEuMCApO1xuR2VvbWV0cmljQ29udGV4dCBnZW9tZXRyeTtcbmdlb21ldHJ5LnBvc2l0aW9uID0gbXZQb3NpdGlvbi54eXo7XG5nZW9tZXRyeS5ub3JtYWwgPSBub3JtYWxpemUoIHRyYW5zZm9ybWVkTm9ybWFsICk7XG5nZW9tZXRyeS52aWV3RGlyID0gKCBpc09ydGhvZ3JhcGhpYyApID8gdmVjMyggMCwgMCwgMSApIDogbm9ybWFsaXplKCAtbXZQb3NpdGlvbi54eXogKTtcbkdlb21ldHJpY0NvbnRleHQgYmFja0dlb21ldHJ5O1xuYmFja0dlb21ldHJ5LnBvc2l0aW9uID0gZ2VvbWV0cnkucG9zaXRpb247XG5iYWNrR2VvbWV0cnkubm9ybWFsID0gLWdlb21ldHJ5Lm5vcm1hbDtcbmJhY2tHZW9tZXRyeS52aWV3RGlyID0gZ2VvbWV0cnkudmlld0RpcjtcbnZMaWdodEZyb250ID0gdmVjMyggMC4wICk7XG52SW5kaXJlY3RGcm9udCA9IHZlYzMoIDAuMCApO1xuI2lmZGVmIERPVUJMRV9TSURFRFxuXHR2TGlnaHRCYWNrID0gdmVjMyggMC4wICk7XG5cdHZJbmRpcmVjdEJhY2sgPSB2ZWMzKCAwLjAgKTtcbiNlbmRpZlxuSW5jaWRlbnRMaWdodCBkaXJlY3RMaWdodDtcbmZsb2F0IGRvdE5MO1xudmVjMyBkaXJlY3RMaWdodENvbG9yX0RpZmZ1c2U7XG52SW5kaXJlY3RGcm9udCArPSBnZXRBbWJpZW50TGlnaHRJcnJhZGlhbmNlKCBhbWJpZW50TGlnaHRDb2xvciApO1xudkluZGlyZWN0RnJvbnQgKz0gZ2V0TGlnaHRQcm9iZUlycmFkaWFuY2UoIGxpZ2h0UHJvYmUsIGdlb21ldHJ5ICk7XG4jaWZkZWYgRE9VQkxFX1NJREVEXG5cdHZJbmRpcmVjdEJhY2sgKz0gZ2V0QW1iaWVudExpZ2h0SXJyYWRpYW5jZSggYW1iaWVudExpZ2h0Q29sb3IgKTtcblx0dkluZGlyZWN0QmFjayArPSBnZXRMaWdodFByb2JlSXJyYWRpYW5jZSggbGlnaHRQcm9iZSwgYmFja0dlb21ldHJ5ICk7XG4jZW5kaWZcbiNpZiBOVU1fUE9JTlRfTElHSFRTID4gMFxuXHQjcHJhZ21hIHVucm9sbF9sb29wX3N0YXJ0XG5cdGZvciAoIGludCBpID0gMDsgaSA8IE5VTV9QT0lOVF9MSUdIVFM7IGkgKysgKSB7XG5cdFx0Z2V0UG9pbnREaXJlY3RMaWdodElycmFkaWFuY2UoIHBvaW50TGlnaHRzWyBpIF0sIGdlb21ldHJ5LCBkaXJlY3RMaWdodCApO1xuXHRcdGRvdE5MID0gZG90KCBnZW9tZXRyeS5ub3JtYWwsIGRpcmVjdExpZ2h0LmRpcmVjdGlvbiApO1xuXHRcdGRpcmVjdExpZ2h0Q29sb3JfRGlmZnVzZSA9IFBJICogZGlyZWN0TGlnaHQuY29sb3I7XG5cdFx0dkxpZ2h0RnJvbnQgKz0gc2F0dXJhdGUoIGRvdE5MICkgKiBkaXJlY3RMaWdodENvbG9yX0RpZmZ1c2U7XG5cdFx0I2lmZGVmIERPVUJMRV9TSURFRFxuXHRcdFx0dkxpZ2h0QmFjayArPSBzYXR1cmF0ZSggLWRvdE5MICkgKiBkaXJlY3RMaWdodENvbG9yX0RpZmZ1c2U7XG5cdFx0I2VuZGlmXG5cdH1cblx0I3ByYWdtYSB1bnJvbGxfbG9vcF9lbmRcbiNlbmRpZlxuI2lmIE5VTV9TUE9UX0xJR0hUUyA+IDBcblx0I3ByYWdtYSB1bnJvbGxfbG9vcF9zdGFydFxuXHRmb3IgKCBpbnQgaSA9IDA7IGkgPCBOVU1fU1BPVF9MSUdIVFM7IGkgKysgKSB7XG5cdFx0Z2V0U3BvdERpcmVjdExpZ2h0SXJyYWRpYW5jZSggc3BvdExpZ2h0c1sgaSBdLCBnZW9tZXRyeSwgZGlyZWN0TGlnaHQgKTtcblx0XHRkb3ROTCA9IGRvdCggZ2VvbWV0cnkubm9ybWFsLCBkaXJlY3RMaWdodC5kaXJlY3Rpb24gKTtcblx0XHRkaXJlY3RMaWdodENvbG9yX0RpZmZ1c2UgPSBQSSAqIGRpcmVjdExpZ2h0LmNvbG9yO1xuXHRcdHZMaWdodEZyb250ICs9IHNhdHVyYXRlKCBkb3ROTCApICogZGlyZWN0TGlnaHRDb2xvcl9EaWZmdXNlO1xuXHRcdCNpZmRlZiBET1VCTEVfU0lERURcblx0XHRcdHZMaWdodEJhY2sgKz0gc2F0dXJhdGUoIC1kb3ROTCApICogZGlyZWN0TGlnaHRDb2xvcl9EaWZmdXNlO1xuXHRcdCNlbmRpZlxuXHR9XG5cdCNwcmFnbWEgdW5yb2xsX2xvb3BfZW5kXG4jZW5kaWZcbiNpZiBOVU1fRElSX0xJR0hUUyA+IDBcblx0I3ByYWdtYSB1bnJvbGxfbG9vcF9zdGFydFxuXHRmb3IgKCBpbnQgaSA9IDA7IGkgPCBOVU1fRElSX0xJR0hUUzsgaSArKyApIHtcblx0XHRnZXREaXJlY3Rpb25hbERpcmVjdExpZ2h0SXJyYWRpYW5jZSggZGlyZWN0aW9uYWxMaWdodHNbIGkgXSwgZ2VvbWV0cnksIGRpcmVjdExpZ2h0ICk7XG5cdFx0ZG90TkwgPSBkb3QoIGdlb21ldHJ5Lm5vcm1hbCwgZGlyZWN0TGlnaHQuZGlyZWN0aW9uICk7XG5cdFx0ZGlyZWN0TGlnaHRDb2xvcl9EaWZmdXNlID0gUEkgKiBkaXJlY3RMaWdodC5jb2xvcjtcblx0XHR2TGlnaHRGcm9udCArPSBzYXR1cmF0ZSggZG90TkwgKSAqIGRpcmVjdExpZ2h0Q29sb3JfRGlmZnVzZTtcblx0XHQjaWZkZWYgRE9VQkxFX1NJREVEXG5cdFx0XHR2TGlnaHRCYWNrICs9IHNhdHVyYXRlKCAtZG90TkwgKSAqIGRpcmVjdExpZ2h0Q29sb3JfRGlmZnVzZTtcblx0XHQjZW5kaWZcblx0fVxuXHQjcHJhZ21hIHVucm9sbF9sb29wX2VuZFxuI2VuZGlmXG4jaWYgTlVNX0hFTUlfTElHSFRTID4gMFxuXHQjcHJhZ21hIHVucm9sbF9sb29wX3N0YXJ0XG5cdGZvciAoIGludCBpID0gMDsgaSA8IE5VTV9IRU1JX0xJR0hUUzsgaSArKyApIHtcblx0XHR2SW5kaXJlY3RGcm9udCArPSBnZXRIZW1pc3BoZXJlTGlnaHRJcnJhZGlhbmNlKCBoZW1pc3BoZXJlTGlnaHRzWyBpIF0sIGdlb21ldHJ5ICk7XG5cdFx0I2lmZGVmIERPVUJMRV9TSURFRFxuXHRcdFx0dkluZGlyZWN0QmFjayArPSBnZXRIZW1pc3BoZXJlTGlnaHRJcnJhZGlhbmNlKCBoZW1pc3BoZXJlTGlnaHRzWyBpIF0sIGJhY2tHZW9tZXRyeSApO1xuXHRcdCNlbmRpZlxuXHR9XG5cdCNwcmFnbWEgdW5yb2xsX2xvb3BfZW5kXG4jZW5kaWYiLGxpZ2h0c19wYXJzX2JlZ2luOiJ1bmlmb3JtIGJvb2wgcmVjZWl2ZVNoYWRvdztcbnVuaWZvcm0gdmVjMyBhbWJpZW50TGlnaHRDb2xvcjtcbnVuaWZvcm0gdmVjMyBsaWdodFByb2JlWyA5IF07XG52ZWMzIHNoR2V0SXJyYWRpYW5jZUF0KCBpbiB2ZWMzIG5vcm1hbCwgaW4gdmVjMyBzaENvZWZmaWNpZW50c1sgOSBdICkge1xuXHRmbG9hdCB4ID0gbm9ybWFsLngsIHkgPSBub3JtYWwueSwgeiA9IG5vcm1hbC56O1xuXHR2ZWMzIHJlc3VsdCA9IHNoQ29lZmZpY2llbnRzWyAwIF0gKiAwLjg4NjIyNztcblx0cmVzdWx0ICs9IHNoQ29lZmZpY2llbnRzWyAxIF0gKiAyLjAgKiAwLjUxMTY2NCAqIHk7XG5cdHJlc3VsdCArPSBzaENvZWZmaWNpZW50c1sgMiBdICogMi4wICogMC41MTE2NjQgKiB6O1xuXHRyZXN1bHQgKz0gc2hDb2VmZmljaWVudHNbIDMgXSAqIDIuMCAqIDAuNTExNjY0ICogeDtcblx0cmVzdWx0ICs9IHNoQ29lZmZpY2llbnRzWyA0IF0gKiAyLjAgKiAwLjQyOTA0MyAqIHggKiB5O1xuXHRyZXN1bHQgKz0gc2hDb2VmZmljaWVudHNbIDUgXSAqIDIuMCAqIDAuNDI5MDQzICogeSAqIHo7XG5cdHJlc3VsdCArPSBzaENvZWZmaWNpZW50c1sgNiBdICogKCAwLjc0MzEyNSAqIHogKiB6IC0gMC4yNDc3MDggKTtcblx0cmVzdWx0ICs9IHNoQ29lZmZpY2llbnRzWyA3IF0gKiAyLjAgKiAwLjQyOTA0MyAqIHggKiB6O1xuXHRyZXN1bHQgKz0gc2hDb2VmZmljaWVudHNbIDggXSAqIDAuNDI5MDQzICogKCB4ICogeCAtIHkgKiB5ICk7XG5cdHJldHVybiByZXN1bHQ7XG59XG52ZWMzIGdldExpZ2h0UHJvYmVJcnJhZGlhbmNlKCBjb25zdCBpbiB2ZWMzIGxpZ2h0UHJvYmVbIDkgXSwgY29uc3QgaW4gR2VvbWV0cmljQ29udGV4dCBnZW9tZXRyeSApIHtcblx0dmVjMyB3b3JsZE5vcm1hbCA9IGludmVyc2VUcmFuc2Zvcm1EaXJlY3Rpb24oIGdlb21ldHJ5Lm5vcm1hbCwgdmlld01hdHJpeCApO1xuXHR2ZWMzIGlycmFkaWFuY2UgPSBzaEdldElycmFkaWFuY2VBdCggd29ybGROb3JtYWwsIGxpZ2h0UHJvYmUgKTtcblx0cmV0dXJuIGlycmFkaWFuY2U7XG59XG52ZWMzIGdldEFtYmllbnRMaWdodElycmFkaWFuY2UoIGNvbnN0IGluIHZlYzMgYW1iaWVudExpZ2h0Q29sb3IgKSB7XG5cdHZlYzMgaXJyYWRpYW5jZSA9IGFtYmllbnRMaWdodENvbG9yO1xuXHQjaWZuZGVmIFBIWVNJQ0FMTFlfQ09SUkVDVF9MSUdIVFNcblx0XHRpcnJhZGlhbmNlICo9IFBJO1xuXHQjZW5kaWZcblx0cmV0dXJuIGlycmFkaWFuY2U7XG59XG4jaWYgTlVNX0RJUl9MSUdIVFMgPiAwXG5cdHN0cnVjdCBEaXJlY3Rpb25hbExpZ2h0IHtcblx0XHR2ZWMzIGRpcmVjdGlvbjtcblx0XHR2ZWMzIGNvbG9yO1xuXHR9O1xuXHR1bmlmb3JtIERpcmVjdGlvbmFsTGlnaHQgZGlyZWN0aW9uYWxMaWdodHNbIE5VTV9ESVJfTElHSFRTIF07XG5cdHZvaWQgZ2V0RGlyZWN0aW9uYWxEaXJlY3RMaWdodElycmFkaWFuY2UoIGNvbnN0IGluIERpcmVjdGlvbmFsTGlnaHQgZGlyZWN0aW9uYWxMaWdodCwgY29uc3QgaW4gR2VvbWV0cmljQ29udGV4dCBnZW9tZXRyeSwgb3V0IEluY2lkZW50TGlnaHQgZGlyZWN0TGlnaHQgKSB7XG5cdFx0ZGlyZWN0TGlnaHQuY29sb3IgPSBkaXJlY3Rpb25hbExpZ2h0LmNvbG9yO1xuXHRcdGRpcmVjdExpZ2h0LmRpcmVjdGlvbiA9IGRpcmVjdGlvbmFsTGlnaHQuZGlyZWN0aW9uO1xuXHRcdGRpcmVjdExpZ2h0LnZpc2libGUgPSB0cnVlO1xuXHR9XG4jZW5kaWZcbiNpZiBOVU1fUE9JTlRfTElHSFRTID4gMFxuXHRzdHJ1Y3QgUG9pbnRMaWdodCB7XG5cdFx0dmVjMyBwb3NpdGlvbjtcblx0XHR2ZWMzIGNvbG9yO1xuXHRcdGZsb2F0IGRpc3RhbmNlO1xuXHRcdGZsb2F0IGRlY2F5O1xuXHR9O1xuXHR1bmlmb3JtIFBvaW50TGlnaHQgcG9pbnRMaWdodHNbIE5VTV9QT0lOVF9MSUdIVFMgXTtcblx0dm9pZCBnZXRQb2ludERpcmVjdExpZ2h0SXJyYWRpYW5jZSggY29uc3QgaW4gUG9pbnRMaWdodCBwb2ludExpZ2h0LCBjb25zdCBpbiBHZW9tZXRyaWNDb250ZXh0IGdlb21ldHJ5LCBvdXQgSW5jaWRlbnRMaWdodCBkaXJlY3RMaWdodCApIHtcblx0XHR2ZWMzIGxWZWN0b3IgPSBwb2ludExpZ2h0LnBvc2l0aW9uIC0gZ2VvbWV0cnkucG9zaXRpb247XG5cdFx0ZGlyZWN0TGlnaHQuZGlyZWN0aW9uID0gbm9ybWFsaXplKCBsVmVjdG9yICk7XG5cdFx0ZmxvYXQgbGlnaHREaXN0YW5jZSA9IGxlbmd0aCggbFZlY3RvciApO1xuXHRcdGRpcmVjdExpZ2h0LmNvbG9yID0gcG9pbnRMaWdodC5jb2xvcjtcblx0XHRkaXJlY3RMaWdodC5jb2xvciAqPSBwdW5jdHVhbExpZ2h0SW50ZW5zaXR5VG9JcnJhZGlhbmNlRmFjdG9yKCBsaWdodERpc3RhbmNlLCBwb2ludExpZ2h0LmRpc3RhbmNlLCBwb2ludExpZ2h0LmRlY2F5ICk7XG5cdFx0ZGlyZWN0TGlnaHQudmlzaWJsZSA9ICggZGlyZWN0TGlnaHQuY29sb3IgIT0gdmVjMyggMC4wICkgKTtcblx0fVxuI2VuZGlmXG4jaWYgTlVNX1NQT1RfTElHSFRTID4gMFxuXHRzdHJ1Y3QgU3BvdExpZ2h0IHtcblx0XHR2ZWMzIHBvc2l0aW9uO1xuXHRcdHZlYzMgZGlyZWN0aW9uO1xuXHRcdHZlYzMgY29sb3I7XG5cdFx0ZmxvYXQgZGlzdGFuY2U7XG5cdFx0ZmxvYXQgZGVjYXk7XG5cdFx0ZmxvYXQgY29uZUNvcztcblx0XHRmbG9hdCBwZW51bWJyYUNvcztcblx0fTtcblx0dW5pZm9ybSBTcG90TGlnaHQgc3BvdExpZ2h0c1sgTlVNX1NQT1RfTElHSFRTIF07XG5cdHZvaWQgZ2V0U3BvdERpcmVjdExpZ2h0SXJyYWRpYW5jZSggY29uc3QgaW4gU3BvdExpZ2h0IHNwb3RMaWdodCwgY29uc3QgaW4gR2VvbWV0cmljQ29udGV4dCBnZW9tZXRyeSwgb3V0IEluY2lkZW50TGlnaHQgZGlyZWN0TGlnaHQgKSB7XG5cdFx0dmVjMyBsVmVjdG9yID0gc3BvdExpZ2h0LnBvc2l0aW9uIC0gZ2VvbWV0cnkucG9zaXRpb247XG5cdFx0ZGlyZWN0TGlnaHQuZGlyZWN0aW9uID0gbm9ybWFsaXplKCBsVmVjdG9yICk7XG5cdFx0ZmxvYXQgbGlnaHREaXN0YW5jZSA9IGxlbmd0aCggbFZlY3RvciApO1xuXHRcdGZsb2F0IGFuZ2xlQ29zID0gZG90KCBkaXJlY3RMaWdodC5kaXJlY3Rpb24sIHNwb3RMaWdodC5kaXJlY3Rpb24gKTtcblx0XHRpZiAoIGFuZ2xlQ29zID4gc3BvdExpZ2h0LmNvbmVDb3MgKSB7XG5cdFx0XHRmbG9hdCBzcG90RWZmZWN0ID0gc21vb3Roc3RlcCggc3BvdExpZ2h0LmNvbmVDb3MsIHNwb3RMaWdodC5wZW51bWJyYUNvcywgYW5nbGVDb3MgKTtcblx0XHRcdGRpcmVjdExpZ2h0LmNvbG9yID0gc3BvdExpZ2h0LmNvbG9yO1xuXHRcdFx0ZGlyZWN0TGlnaHQuY29sb3IgKj0gc3BvdEVmZmVjdCAqIHB1bmN0dWFsTGlnaHRJbnRlbnNpdHlUb0lycmFkaWFuY2VGYWN0b3IoIGxpZ2h0RGlzdGFuY2UsIHNwb3RMaWdodC5kaXN0YW5jZSwgc3BvdExpZ2h0LmRlY2F5ICk7XG5cdFx0XHRkaXJlY3RMaWdodC52aXNpYmxlID0gdHJ1ZTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0ZGlyZWN0TGlnaHQuY29sb3IgPSB2ZWMzKCAwLjAgKTtcblx0XHRcdGRpcmVjdExpZ2h0LnZpc2libGUgPSBmYWxzZTtcblx0XHR9XG5cdH1cbiNlbmRpZlxuI2lmIE5VTV9SRUNUX0FSRUFfTElHSFRTID4gMFxuXHRzdHJ1Y3QgUmVjdEFyZWFMaWdodCB7XG5cdFx0dmVjMyBjb2xvcjtcblx0XHR2ZWMzIHBvc2l0aW9uO1xuXHRcdHZlYzMgaGFsZldpZHRoO1xuXHRcdHZlYzMgaGFsZkhlaWdodDtcblx0fTtcblx0dW5pZm9ybSBzYW1wbGVyMkQgbHRjXzE7XHR1bmlmb3JtIHNhbXBsZXIyRCBsdGNfMjtcblx0dW5pZm9ybSBSZWN0QXJlYUxpZ2h0IHJlY3RBcmVhTGlnaHRzWyBOVU1fUkVDVF9BUkVBX0xJR0hUUyBdO1xuI2VuZGlmXG4jaWYgTlVNX0hFTUlfTElHSFRTID4gMFxuXHRzdHJ1Y3QgSGVtaXNwaGVyZUxpZ2h0IHtcblx0XHR2ZWMzIGRpcmVjdGlvbjtcblx0XHR2ZWMzIHNreUNvbG9yO1xuXHRcdHZlYzMgZ3JvdW5kQ29sb3I7XG5cdH07XG5cdHVuaWZvcm0gSGVtaXNwaGVyZUxpZ2h0IGhlbWlzcGhlcmVMaWdodHNbIE5VTV9IRU1JX0xJR0hUUyBdO1xuXHR2ZWMzIGdldEhlbWlzcGhlcmVMaWdodElycmFkaWFuY2UoIGNvbnN0IGluIEhlbWlzcGhlcmVMaWdodCBoZW1pTGlnaHQsIGNvbnN0IGluIEdlb21ldHJpY0NvbnRleHQgZ2VvbWV0cnkgKSB7XG5cdFx0ZmxvYXQgZG90TkwgPSBkb3QoIGdlb21ldHJ5Lm5vcm1hbCwgaGVtaUxpZ2h0LmRpcmVjdGlvbiApO1xuXHRcdGZsb2F0IGhlbWlEaWZmdXNlV2VpZ2h0ID0gMC41ICogZG90TkwgKyAwLjU7XG5cdFx0dmVjMyBpcnJhZGlhbmNlID0gbWl4KCBoZW1pTGlnaHQuZ3JvdW5kQ29sb3IsIGhlbWlMaWdodC5za3lDb2xvciwgaGVtaURpZmZ1c2VXZWlnaHQgKTtcblx0XHQjaWZuZGVmIFBIWVNJQ0FMTFlfQ09SUkVDVF9MSUdIVFNcblx0XHRcdGlycmFkaWFuY2UgKj0gUEk7XG5cdFx0I2VuZGlmXG5cdFx0cmV0dXJuIGlycmFkaWFuY2U7XG5cdH1cbiNlbmRpZiIsbGlnaHRzX3Rvb25fZnJhZ21lbnQ6IlRvb25NYXRlcmlhbCBtYXRlcmlhbDtcbm1hdGVyaWFsLmRpZmZ1c2VDb2xvciA9IGRpZmZ1c2VDb2xvci5yZ2I7IixsaWdodHNfdG9vbl9wYXJzX2ZyYWdtZW50OiJ2YXJ5aW5nIHZlYzMgdlZpZXdQb3NpdGlvbjtcbiNpZm5kZWYgRkxBVF9TSEFERURcblx0dmFyeWluZyB2ZWMzIHZOb3JtYWw7XG4jZW5kaWZcbnN0cnVjdCBUb29uTWF0ZXJpYWwge1xuXHR2ZWMzIGRpZmZ1c2VDb2xvcjtcbn07XG52b2lkIFJFX0RpcmVjdF9Ub29uKCBjb25zdCBpbiBJbmNpZGVudExpZ2h0IGRpcmVjdExpZ2h0LCBjb25zdCBpbiBHZW9tZXRyaWNDb250ZXh0IGdlb21ldHJ5LCBjb25zdCBpbiBUb29uTWF0ZXJpYWwgbWF0ZXJpYWwsIGlub3V0IFJlZmxlY3RlZExpZ2h0IHJlZmxlY3RlZExpZ2h0ICkge1xuXHR2ZWMzIGlycmFkaWFuY2UgPSBnZXRHcmFkaWVudElycmFkaWFuY2UoIGdlb21ldHJ5Lm5vcm1hbCwgZGlyZWN0TGlnaHQuZGlyZWN0aW9uICkgKiBkaXJlY3RMaWdodC5jb2xvcjtcblx0I2lmbmRlZiBQSFlTSUNBTExZX0NPUlJFQ1RfTElHSFRTXG5cdFx0aXJyYWRpYW5jZSAqPSBQSTtcblx0I2VuZGlmXG5cdHJlZmxlY3RlZExpZ2h0LmRpcmVjdERpZmZ1c2UgKz0gaXJyYWRpYW5jZSAqIEJSREZfRGlmZnVzZV9MYW1iZXJ0KCBtYXRlcmlhbC5kaWZmdXNlQ29sb3IgKTtcbn1cbnZvaWQgUkVfSW5kaXJlY3REaWZmdXNlX1Rvb24oIGNvbnN0IGluIHZlYzMgaXJyYWRpYW5jZSwgY29uc3QgaW4gR2VvbWV0cmljQ29udGV4dCBnZW9tZXRyeSwgY29uc3QgaW4gVG9vbk1hdGVyaWFsIG1hdGVyaWFsLCBpbm91dCBSZWZsZWN0ZWRMaWdodCByZWZsZWN0ZWRMaWdodCApIHtcblx0cmVmbGVjdGVkTGlnaHQuaW5kaXJlY3REaWZmdXNlICs9IGlycmFkaWFuY2UgKiBCUkRGX0RpZmZ1c2VfTGFtYmVydCggbWF0ZXJpYWwuZGlmZnVzZUNvbG9yICk7XG59XG4jZGVmaW5lIFJFX0RpcmVjdFx0XHRcdFx0UkVfRGlyZWN0X1Rvb25cbiNkZWZpbmUgUkVfSW5kaXJlY3REaWZmdXNlXHRcdFJFX0luZGlyZWN0RGlmZnVzZV9Ub29uXG4jZGVmaW5lIE1hdGVyaWFsX0xpZ2h0UHJvYmVMT0QoIG1hdGVyaWFsIClcdCgwKSIsbGlnaHRzX3Bob25nX2ZyYWdtZW50OiJCbGlublBob25nTWF0ZXJpYWwgbWF0ZXJpYWw7XG5tYXRlcmlhbC5kaWZmdXNlQ29sb3IgPSBkaWZmdXNlQ29sb3IucmdiO1xubWF0ZXJpYWwuc3BlY3VsYXJDb2xvciA9IHNwZWN1bGFyO1xubWF0ZXJpYWwuc3BlY3VsYXJTaGluaW5lc3MgPSBzaGluaW5lc3M7XG5tYXRlcmlhbC5zcGVjdWxhclN0cmVuZ3RoID0gc3BlY3VsYXJTdHJlbmd0aDsiLGxpZ2h0c19waG9uZ19wYXJzX2ZyYWdtZW50OiJ2YXJ5aW5nIHZlYzMgdlZpZXdQb3NpdGlvbjtcbiNpZm5kZWYgRkxBVF9TSEFERURcblx0dmFyeWluZyB2ZWMzIHZOb3JtYWw7XG4jZW5kaWZcbnN0cnVjdCBCbGlublBob25nTWF0ZXJpYWwge1xuXHR2ZWMzIGRpZmZ1c2VDb2xvcjtcblx0dmVjMyBzcGVjdWxhckNvbG9yO1xuXHRmbG9hdCBzcGVjdWxhclNoaW5pbmVzcztcblx0ZmxvYXQgc3BlY3VsYXJTdHJlbmd0aDtcbn07XG52b2lkIFJFX0RpcmVjdF9CbGlublBob25nKCBjb25zdCBpbiBJbmNpZGVudExpZ2h0IGRpcmVjdExpZ2h0LCBjb25zdCBpbiBHZW9tZXRyaWNDb250ZXh0IGdlb21ldHJ5LCBjb25zdCBpbiBCbGlublBob25nTWF0ZXJpYWwgbWF0ZXJpYWwsIGlub3V0IFJlZmxlY3RlZExpZ2h0IHJlZmxlY3RlZExpZ2h0ICkge1xuXHRmbG9hdCBkb3ROTCA9IHNhdHVyYXRlKCBkb3QoIGdlb21ldHJ5Lm5vcm1hbCwgZGlyZWN0TGlnaHQuZGlyZWN0aW9uICkgKTtcblx0dmVjMyBpcnJhZGlhbmNlID0gZG90TkwgKiBkaXJlY3RMaWdodC5jb2xvcjtcblx0I2lmbmRlZiBQSFlTSUNBTExZX0NPUlJFQ1RfTElHSFRTXG5cdFx0aXJyYWRpYW5jZSAqPSBQSTtcblx0I2VuZGlmXG5cdHJlZmxlY3RlZExpZ2h0LmRpcmVjdERpZmZ1c2UgKz0gaXJyYWRpYW5jZSAqIEJSREZfRGlmZnVzZV9MYW1iZXJ0KCBtYXRlcmlhbC5kaWZmdXNlQ29sb3IgKTtcblx0cmVmbGVjdGVkTGlnaHQuZGlyZWN0U3BlY3VsYXIgKz0gaXJyYWRpYW5jZSAqIEJSREZfU3BlY3VsYXJfQmxpbm5QaG9uZyggZGlyZWN0TGlnaHQsIGdlb21ldHJ5LCBtYXRlcmlhbC5zcGVjdWxhckNvbG9yLCBtYXRlcmlhbC5zcGVjdWxhclNoaW5pbmVzcyApICogbWF0ZXJpYWwuc3BlY3VsYXJTdHJlbmd0aDtcbn1cbnZvaWQgUkVfSW5kaXJlY3REaWZmdXNlX0JsaW5uUGhvbmcoIGNvbnN0IGluIHZlYzMgaXJyYWRpYW5jZSwgY29uc3QgaW4gR2VvbWV0cmljQ29udGV4dCBnZW9tZXRyeSwgY29uc3QgaW4gQmxpbm5QaG9uZ01hdGVyaWFsIG1hdGVyaWFsLCBpbm91dCBSZWZsZWN0ZWRMaWdodCByZWZsZWN0ZWRMaWdodCApIHtcblx0cmVmbGVjdGVkTGlnaHQuaW5kaXJlY3REaWZmdXNlICs9IGlycmFkaWFuY2UgKiBCUkRGX0RpZmZ1c2VfTGFtYmVydCggbWF0ZXJpYWwuZGlmZnVzZUNvbG9yICk7XG59XG4jZGVmaW5lIFJFX0RpcmVjdFx0XHRcdFx0UkVfRGlyZWN0X0JsaW5uUGhvbmdcbiNkZWZpbmUgUkVfSW5kaXJlY3REaWZmdXNlXHRcdFJFX0luZGlyZWN0RGlmZnVzZV9CbGlublBob25nXG4jZGVmaW5lIE1hdGVyaWFsX0xpZ2h0UHJvYmVMT0QoIG1hdGVyaWFsIClcdCgwKSIsbGlnaHRzX3BoeXNpY2FsX2ZyYWdtZW50OiJQaHlzaWNhbE1hdGVyaWFsIG1hdGVyaWFsO1xubWF0ZXJpYWwuZGlmZnVzZUNvbG9yID0gZGlmZnVzZUNvbG9yLnJnYiAqICggMS4wIC0gbWV0YWxuZXNzRmFjdG9yICk7XG52ZWMzIGR4eSA9IG1heCggYWJzKCBkRmR4KCBnZW9tZXRyeU5vcm1hbCApICksIGFicyggZEZkeSggZ2VvbWV0cnlOb3JtYWwgKSApICk7XG5mbG9hdCBnZW9tZXRyeVJvdWdobmVzcyA9IG1heCggbWF4KCBkeHkueCwgZHh5LnkgKSwgZHh5LnogKTtcbm1hdGVyaWFsLnNwZWN1bGFyUm91Z2huZXNzID0gbWF4KCByb3VnaG5lc3NGYWN0b3IsIDAuMDUyNSApO21hdGVyaWFsLnNwZWN1bGFyUm91Z2huZXNzICs9IGdlb21ldHJ5Um91Z2huZXNzO1xubWF0ZXJpYWwuc3BlY3VsYXJSb3VnaG5lc3MgPSBtaW4oIG1hdGVyaWFsLnNwZWN1bGFyUm91Z2huZXNzLCAxLjAgKTtcbiNpZmRlZiBSRUZMRUNUSVZJVFlcblx0bWF0ZXJpYWwuc3BlY3VsYXJDb2xvciA9IG1peCggdmVjMyggTUFYSU1VTV9TUEVDVUxBUl9DT0VGRklDSUVOVCAqIHBvdzIoIHJlZmxlY3Rpdml0eSApICksIGRpZmZ1c2VDb2xvci5yZ2IsIG1ldGFsbmVzc0ZhY3RvciApO1xuI2Vsc2Vcblx0bWF0ZXJpYWwuc3BlY3VsYXJDb2xvciA9IG1peCggdmVjMyggREVGQVVMVF9TUEVDVUxBUl9DT0VGRklDSUVOVCApLCBkaWZmdXNlQ29sb3IucmdiLCBtZXRhbG5lc3NGYWN0b3IgKTtcbiNlbmRpZlxuI2lmZGVmIENMRUFSQ09BVFxuXHRtYXRlcmlhbC5jbGVhcmNvYXQgPSBjbGVhcmNvYXQ7XG5cdG1hdGVyaWFsLmNsZWFyY29hdFJvdWdobmVzcyA9IGNsZWFyY29hdFJvdWdobmVzcztcblx0I2lmZGVmIFVTRV9DTEVBUkNPQVRNQVBcblx0XHRtYXRlcmlhbC5jbGVhcmNvYXQgKj0gdGV4dHVyZTJEKCBjbGVhcmNvYXRNYXAsIHZVdiApLng7XG5cdCNlbmRpZlxuXHQjaWZkZWYgVVNFX0NMRUFSQ09BVF9ST1VHSE5FU1NNQVBcblx0XHRtYXRlcmlhbC5jbGVhcmNvYXRSb3VnaG5lc3MgKj0gdGV4dHVyZTJEKCBjbGVhcmNvYXRSb3VnaG5lc3NNYXAsIHZVdiApLnk7XG5cdCNlbmRpZlxuXHRtYXRlcmlhbC5jbGVhcmNvYXQgPSBzYXR1cmF0ZSggbWF0ZXJpYWwuY2xlYXJjb2F0ICk7XHRtYXRlcmlhbC5jbGVhcmNvYXRSb3VnaG5lc3MgPSBtYXgoIG1hdGVyaWFsLmNsZWFyY29hdFJvdWdobmVzcywgMC4wNTI1ICk7XG5cdG1hdGVyaWFsLmNsZWFyY29hdFJvdWdobmVzcyArPSBnZW9tZXRyeVJvdWdobmVzcztcblx0bWF0ZXJpYWwuY2xlYXJjb2F0Um91Z2huZXNzID0gbWluKCBtYXRlcmlhbC5jbGVhcmNvYXRSb3VnaG5lc3MsIDEuMCApO1xuI2VuZGlmXG4jaWZkZWYgVVNFX1NIRUVOXG5cdG1hdGVyaWFsLnNoZWVuQ29sb3IgPSBzaGVlbjtcbiNlbmRpZiIsbGlnaHRzX3BoeXNpY2FsX3BhcnNfZnJhZ21lbnQ6InN0cnVjdCBQaHlzaWNhbE1hdGVyaWFsIHtcblx0dmVjMyBkaWZmdXNlQ29sb3I7XG5cdGZsb2F0IHNwZWN1bGFyUm91Z2huZXNzO1xuXHR2ZWMzIHNwZWN1bGFyQ29sb3I7XG4jaWZkZWYgQ0xFQVJDT0FUXG5cdGZsb2F0IGNsZWFyY29hdDtcblx0ZmxvYXQgY2xlYXJjb2F0Um91Z2huZXNzO1xuI2VuZGlmXG4jaWZkZWYgVVNFX1NIRUVOXG5cdHZlYzMgc2hlZW5Db2xvcjtcbiNlbmRpZlxufTtcbiNkZWZpbmUgTUFYSU1VTV9TUEVDVUxBUl9DT0VGRklDSUVOVCAwLjE2XG4jZGVmaW5lIERFRkFVTFRfU1BFQ1VMQVJfQ09FRkZJQ0lFTlQgMC4wNFxuZmxvYXQgY2xlYXJjb2F0REhSQXBwcm94KCBjb25zdCBpbiBmbG9hdCByb3VnaG5lc3MsIGNvbnN0IGluIGZsb2F0IGRvdE5MICkge1xuXHRyZXR1cm4gREVGQVVMVF9TUEVDVUxBUl9DT0VGRklDSUVOVCArICggMS4wIC0gREVGQVVMVF9TUEVDVUxBUl9DT0VGRklDSUVOVCApICogKCBwb3coIDEuMCAtIGRvdE5MLCA1LjAgKSAqIHBvdyggMS4wIC0gcm91Z2huZXNzLCAyLjAgKSApO1xufVxuI2lmIE5VTV9SRUNUX0FSRUFfTElHSFRTID4gMFxuXHR2b2lkIFJFX0RpcmVjdF9SZWN0QXJlYV9QaHlzaWNhbCggY29uc3QgaW4gUmVjdEFyZWFMaWdodCByZWN0QXJlYUxpZ2h0LCBjb25zdCBpbiBHZW9tZXRyaWNDb250ZXh0IGdlb21ldHJ5LCBjb25zdCBpbiBQaHlzaWNhbE1hdGVyaWFsIG1hdGVyaWFsLCBpbm91dCBSZWZsZWN0ZWRMaWdodCByZWZsZWN0ZWRMaWdodCApIHtcblx0XHR2ZWMzIG5vcm1hbCA9IGdlb21ldHJ5Lm5vcm1hbDtcblx0XHR2ZWMzIHZpZXdEaXIgPSBnZW9tZXRyeS52aWV3RGlyO1xuXHRcdHZlYzMgcG9zaXRpb24gPSBnZW9tZXRyeS5wb3NpdGlvbjtcblx0XHR2ZWMzIGxpZ2h0UG9zID0gcmVjdEFyZWFMaWdodC5wb3NpdGlvbjtcblx0XHR2ZWMzIGhhbGZXaWR0aCA9IHJlY3RBcmVhTGlnaHQuaGFsZldpZHRoO1xuXHRcdHZlYzMgaGFsZkhlaWdodCA9IHJlY3RBcmVhTGlnaHQuaGFsZkhlaWdodDtcblx0XHR2ZWMzIGxpZ2h0Q29sb3IgPSByZWN0QXJlYUxpZ2h0LmNvbG9yO1xuXHRcdGZsb2F0IHJvdWdobmVzcyA9IG1hdGVyaWFsLnNwZWN1bGFyUm91Z2huZXNzO1xuXHRcdHZlYzMgcmVjdENvb3Jkc1sgNCBdO1xuXHRcdHJlY3RDb29yZHNbIDAgXSA9IGxpZ2h0UG9zICsgaGFsZldpZHRoIC0gaGFsZkhlaWdodDtcdFx0cmVjdENvb3Jkc1sgMSBdID0gbGlnaHRQb3MgLSBoYWxmV2lkdGggLSBoYWxmSGVpZ2h0O1xuXHRcdHJlY3RDb29yZHNbIDIgXSA9IGxpZ2h0UG9zIC0gaGFsZldpZHRoICsgaGFsZkhlaWdodDtcblx0XHRyZWN0Q29vcmRzWyAzIF0gPSBsaWdodFBvcyArIGhhbGZXaWR0aCArIGhhbGZIZWlnaHQ7XG5cdFx0dmVjMiB1diA9IExUQ19Vdiggbm9ybWFsLCB2aWV3RGlyLCByb3VnaG5lc3MgKTtcblx0XHR2ZWM0IHQxID0gdGV4dHVyZTJEKCBsdGNfMSwgdXYgKTtcblx0XHR2ZWM0IHQyID0gdGV4dHVyZTJEKCBsdGNfMiwgdXYgKTtcblx0XHRtYXQzIG1JbnYgPSBtYXQzKFxuXHRcdFx0dmVjMyggdDEueCwgMCwgdDEueSApLFxuXHRcdFx0dmVjMyhcdFx0MCwgMSxcdFx0MCApLFxuXHRcdFx0dmVjMyggdDEueiwgMCwgdDEudyApXG5cdFx0KTtcblx0XHR2ZWMzIGZyZXNuZWwgPSAoIG1hdGVyaWFsLnNwZWN1bGFyQ29sb3IgKiB0Mi54ICsgKCB2ZWMzKCAxLjAgKSAtIG1hdGVyaWFsLnNwZWN1bGFyQ29sb3IgKSAqIHQyLnkgKTtcblx0XHRyZWZsZWN0ZWRMaWdodC5kaXJlY3RTcGVjdWxhciArPSBsaWdodENvbG9yICogZnJlc25lbCAqIExUQ19FdmFsdWF0ZSggbm9ybWFsLCB2aWV3RGlyLCBwb3NpdGlvbiwgbUludiwgcmVjdENvb3JkcyApO1xuXHRcdHJlZmxlY3RlZExpZ2h0LmRpcmVjdERpZmZ1c2UgKz0gbGlnaHRDb2xvciAqIG1hdGVyaWFsLmRpZmZ1c2VDb2xvciAqIExUQ19FdmFsdWF0ZSggbm9ybWFsLCB2aWV3RGlyLCBwb3NpdGlvbiwgbWF0MyggMS4wICksIHJlY3RDb29yZHMgKTtcblx0fVxuI2VuZGlmXG52b2lkIFJFX0RpcmVjdF9QaHlzaWNhbCggY29uc3QgaW4gSW5jaWRlbnRMaWdodCBkaXJlY3RMaWdodCwgY29uc3QgaW4gR2VvbWV0cmljQ29udGV4dCBnZW9tZXRyeSwgY29uc3QgaW4gUGh5c2ljYWxNYXRlcmlhbCBtYXRlcmlhbCwgaW5vdXQgUmVmbGVjdGVkTGlnaHQgcmVmbGVjdGVkTGlnaHQgKSB7XG5cdGZsb2F0IGRvdE5MID0gc2F0dXJhdGUoIGRvdCggZ2VvbWV0cnkubm9ybWFsLCBkaXJlY3RMaWdodC5kaXJlY3Rpb24gKSApO1xuXHR2ZWMzIGlycmFkaWFuY2UgPSBkb3ROTCAqIGRpcmVjdExpZ2h0LmNvbG9yO1xuXHQjaWZuZGVmIFBIWVNJQ0FMTFlfQ09SUkVDVF9MSUdIVFNcblx0XHRpcnJhZGlhbmNlICo9IFBJO1xuXHQjZW5kaWZcblx0I2lmZGVmIENMRUFSQ09BVFxuXHRcdGZsb2F0IGNjRG90TkwgPSBzYXR1cmF0ZSggZG90KCBnZW9tZXRyeS5jbGVhcmNvYXROb3JtYWwsIGRpcmVjdExpZ2h0LmRpcmVjdGlvbiApICk7XG5cdFx0dmVjMyBjY0lycmFkaWFuY2UgPSBjY0RvdE5MICogZGlyZWN0TGlnaHQuY29sb3I7XG5cdFx0I2lmbmRlZiBQSFlTSUNBTExZX0NPUlJFQ1RfTElHSFRTXG5cdFx0XHRjY0lycmFkaWFuY2UgKj0gUEk7XG5cdFx0I2VuZGlmXG5cdFx0ZmxvYXQgY2xlYXJjb2F0REhSID0gbWF0ZXJpYWwuY2xlYXJjb2F0ICogY2xlYXJjb2F0REhSQXBwcm94KCBtYXRlcmlhbC5jbGVhcmNvYXRSb3VnaG5lc3MsIGNjRG90TkwgKTtcblx0XHRyZWZsZWN0ZWRMaWdodC5kaXJlY3RTcGVjdWxhciArPSBjY0lycmFkaWFuY2UgKiBtYXRlcmlhbC5jbGVhcmNvYXQgKiBCUkRGX1NwZWN1bGFyX0dHWCggZGlyZWN0TGlnaHQsIGdlb21ldHJ5LnZpZXdEaXIsIGdlb21ldHJ5LmNsZWFyY29hdE5vcm1hbCwgdmVjMyggREVGQVVMVF9TUEVDVUxBUl9DT0VGRklDSUVOVCApLCBtYXRlcmlhbC5jbGVhcmNvYXRSb3VnaG5lc3MgKTtcblx0I2Vsc2Vcblx0XHRmbG9hdCBjbGVhcmNvYXRESFIgPSAwLjA7XG5cdCNlbmRpZlxuXHQjaWZkZWYgVVNFX1NIRUVOXG5cdFx0cmVmbGVjdGVkTGlnaHQuZGlyZWN0U3BlY3VsYXIgKz0gKCAxLjAgLSBjbGVhcmNvYXRESFIgKSAqIGlycmFkaWFuY2UgKiBCUkRGX1NwZWN1bGFyX1NoZWVuKFxuXHRcdFx0bWF0ZXJpYWwuc3BlY3VsYXJSb3VnaG5lc3MsXG5cdFx0XHRkaXJlY3RMaWdodC5kaXJlY3Rpb24sXG5cdFx0XHRnZW9tZXRyeSxcblx0XHRcdG1hdGVyaWFsLnNoZWVuQ29sb3Jcblx0XHQpO1xuXHQjZWxzZVxuXHRcdHJlZmxlY3RlZExpZ2h0LmRpcmVjdFNwZWN1bGFyICs9ICggMS4wIC0gY2xlYXJjb2F0REhSICkgKiBpcnJhZGlhbmNlICogQlJERl9TcGVjdWxhcl9HR1goIGRpcmVjdExpZ2h0LCBnZW9tZXRyeS52aWV3RGlyLCBnZW9tZXRyeS5ub3JtYWwsIG1hdGVyaWFsLnNwZWN1bGFyQ29sb3IsIG1hdGVyaWFsLnNwZWN1bGFyUm91Z2huZXNzKTtcblx0I2VuZGlmXG5cdHJlZmxlY3RlZExpZ2h0LmRpcmVjdERpZmZ1c2UgKz0gKCAxLjAgLSBjbGVhcmNvYXRESFIgKSAqIGlycmFkaWFuY2UgKiBCUkRGX0RpZmZ1c2VfTGFtYmVydCggbWF0ZXJpYWwuZGlmZnVzZUNvbG9yICk7XG59XG52b2lkIFJFX0luZGlyZWN0RGlmZnVzZV9QaHlzaWNhbCggY29uc3QgaW4gdmVjMyBpcnJhZGlhbmNlLCBjb25zdCBpbiBHZW9tZXRyaWNDb250ZXh0IGdlb21ldHJ5LCBjb25zdCBpbiBQaHlzaWNhbE1hdGVyaWFsIG1hdGVyaWFsLCBpbm91dCBSZWZsZWN0ZWRMaWdodCByZWZsZWN0ZWRMaWdodCApIHtcblx0cmVmbGVjdGVkTGlnaHQuaW5kaXJlY3REaWZmdXNlICs9IGlycmFkaWFuY2UgKiBCUkRGX0RpZmZ1c2VfTGFtYmVydCggbWF0ZXJpYWwuZGlmZnVzZUNvbG9yICk7XG59XG52b2lkIFJFX0luZGlyZWN0U3BlY3VsYXJfUGh5c2ljYWwoIGNvbnN0IGluIHZlYzMgcmFkaWFuY2UsIGNvbnN0IGluIHZlYzMgaXJyYWRpYW5jZSwgY29uc3QgaW4gdmVjMyBjbGVhcmNvYXRSYWRpYW5jZSwgY29uc3QgaW4gR2VvbWV0cmljQ29udGV4dCBnZW9tZXRyeSwgY29uc3QgaW4gUGh5c2ljYWxNYXRlcmlhbCBtYXRlcmlhbCwgaW5vdXQgUmVmbGVjdGVkTGlnaHQgcmVmbGVjdGVkTGlnaHQpIHtcblx0I2lmZGVmIENMRUFSQ09BVFxuXHRcdGZsb2F0IGNjRG90TlYgPSBzYXR1cmF0ZSggZG90KCBnZW9tZXRyeS5jbGVhcmNvYXROb3JtYWwsIGdlb21ldHJ5LnZpZXdEaXIgKSApO1xuXHRcdHJlZmxlY3RlZExpZ2h0LmluZGlyZWN0U3BlY3VsYXIgKz0gY2xlYXJjb2F0UmFkaWFuY2UgKiBtYXRlcmlhbC5jbGVhcmNvYXQgKiBCUkRGX1NwZWN1bGFyX0dHWF9FbnZpcm9ubWVudCggZ2VvbWV0cnkudmlld0RpciwgZ2VvbWV0cnkuY2xlYXJjb2F0Tm9ybWFsLCB2ZWMzKCBERUZBVUxUX1NQRUNVTEFSX0NPRUZGSUNJRU5UICksIG1hdGVyaWFsLmNsZWFyY29hdFJvdWdobmVzcyApO1xuXHRcdGZsb2F0IGNjRG90TkwgPSBjY0RvdE5WO1xuXHRcdGZsb2F0IGNsZWFyY29hdERIUiA9IG1hdGVyaWFsLmNsZWFyY29hdCAqIGNsZWFyY29hdERIUkFwcHJveCggbWF0ZXJpYWwuY2xlYXJjb2F0Um91Z2huZXNzLCBjY0RvdE5MICk7XG5cdCNlbHNlXG5cdFx0ZmxvYXQgY2xlYXJjb2F0REhSID0gMC4wO1xuXHQjZW5kaWZcblx0ZmxvYXQgY2xlYXJjb2F0SW52ID0gMS4wIC0gY2xlYXJjb2F0REhSO1xuXHR2ZWMzIHNpbmdsZVNjYXR0ZXJpbmcgPSB2ZWMzKCAwLjAgKTtcblx0dmVjMyBtdWx0aVNjYXR0ZXJpbmcgPSB2ZWMzKCAwLjAgKTtcblx0dmVjMyBjb3NpbmVXZWlnaHRlZElycmFkaWFuY2UgPSBpcnJhZGlhbmNlICogUkVDSVBST0NBTF9QSTtcblx0QlJERl9TcGVjdWxhcl9NdWx0aXNjYXR0ZXJpbmdfRW52aXJvbm1lbnQoIGdlb21ldHJ5LCBtYXRlcmlhbC5zcGVjdWxhckNvbG9yLCBtYXRlcmlhbC5zcGVjdWxhclJvdWdobmVzcywgc2luZ2xlU2NhdHRlcmluZywgbXVsdGlTY2F0dGVyaW5nICk7XG5cdHZlYzMgZGlmZnVzZSA9IG1hdGVyaWFsLmRpZmZ1c2VDb2xvciAqICggMS4wIC0gKCBzaW5nbGVTY2F0dGVyaW5nICsgbXVsdGlTY2F0dGVyaW5nICkgKTtcblx0cmVmbGVjdGVkTGlnaHQuaW5kaXJlY3RTcGVjdWxhciArPSBjbGVhcmNvYXRJbnYgKiByYWRpYW5jZSAqIHNpbmdsZVNjYXR0ZXJpbmc7XG5cdHJlZmxlY3RlZExpZ2h0LmluZGlyZWN0U3BlY3VsYXIgKz0gbXVsdGlTY2F0dGVyaW5nICogY29zaW5lV2VpZ2h0ZWRJcnJhZGlhbmNlO1xuXHRyZWZsZWN0ZWRMaWdodC5pbmRpcmVjdERpZmZ1c2UgKz0gZGlmZnVzZSAqIGNvc2luZVdlaWdodGVkSXJyYWRpYW5jZTtcbn1cbiNkZWZpbmUgUkVfRGlyZWN0XHRcdFx0XHRSRV9EaXJlY3RfUGh5c2ljYWxcbiNkZWZpbmUgUkVfRGlyZWN0X1JlY3RBcmVhXHRcdFJFX0RpcmVjdF9SZWN0QXJlYV9QaHlzaWNhbFxuI2RlZmluZSBSRV9JbmRpcmVjdERpZmZ1c2VcdFx0UkVfSW5kaXJlY3REaWZmdXNlX1BoeXNpY2FsXG4jZGVmaW5lIFJFX0luZGlyZWN0U3BlY3VsYXJcdFx0UkVfSW5kaXJlY3RTcGVjdWxhcl9QaHlzaWNhbFxuZmxvYXQgY29tcHV0ZVNwZWN1bGFyT2NjbHVzaW9uKCBjb25zdCBpbiBmbG9hdCBkb3ROViwgY29uc3QgaW4gZmxvYXQgYW1iaWVudE9jY2x1c2lvbiwgY29uc3QgaW4gZmxvYXQgcm91Z2huZXNzICkge1xuXHRyZXR1cm4gc2F0dXJhdGUoIHBvdyggZG90TlYgKyBhbWJpZW50T2NjbHVzaW9uLCBleHAyKCAtIDE2LjAgKiByb3VnaG5lc3MgLSAxLjAgKSApIC0gMS4wICsgYW1iaWVudE9jY2x1c2lvbiApO1xufSIsbGlnaHRzX2ZyYWdtZW50X2JlZ2luOiJcbkdlb21ldHJpY0NvbnRleHQgZ2VvbWV0cnk7XG5nZW9tZXRyeS5wb3NpdGlvbiA9IC0gdlZpZXdQb3NpdGlvbjtcbmdlb21ldHJ5Lm5vcm1hbCA9IG5vcm1hbDtcbmdlb21ldHJ5LnZpZXdEaXIgPSAoIGlzT3J0aG9ncmFwaGljICkgPyB2ZWMzKCAwLCAwLCAxICkgOiBub3JtYWxpemUoIHZWaWV3UG9zaXRpb24gKTtcbiNpZmRlZiBDTEVBUkNPQVRcblx0Z2VvbWV0cnkuY2xlYXJjb2F0Tm9ybWFsID0gY2xlYXJjb2F0Tm9ybWFsO1xuI2VuZGlmXG5JbmNpZGVudExpZ2h0IGRpcmVjdExpZ2h0O1xuI2lmICggTlVNX1BPSU5UX0xJR0hUUyA+IDAgKSAmJiBkZWZpbmVkKCBSRV9EaXJlY3QgKVxuXHRQb2ludExpZ2h0IHBvaW50TGlnaHQ7XG5cdCNpZiBkZWZpbmVkKCBVU0VfU0hBRE9XTUFQICkgJiYgTlVNX1BPSU5UX0xJR0hUX1NIQURPV1MgPiAwXG5cdFBvaW50TGlnaHRTaGFkb3cgcG9pbnRMaWdodFNoYWRvdztcblx0I2VuZGlmXG5cdCNwcmFnbWEgdW5yb2xsX2xvb3Bfc3RhcnRcblx0Zm9yICggaW50IGkgPSAwOyBpIDwgTlVNX1BPSU5UX0xJR0hUUzsgaSArKyApIHtcblx0XHRwb2ludExpZ2h0ID0gcG9pbnRMaWdodHNbIGkgXTtcblx0XHRnZXRQb2ludERpcmVjdExpZ2h0SXJyYWRpYW5jZSggcG9pbnRMaWdodCwgZ2VvbWV0cnksIGRpcmVjdExpZ2h0ICk7XG5cdFx0I2lmIGRlZmluZWQoIFVTRV9TSEFET1dNQVAgKSAmJiAoIFVOUk9MTEVEX0xPT1BfSU5ERVggPCBOVU1fUE9JTlRfTElHSFRfU0hBRE9XUyApXG5cdFx0cG9pbnRMaWdodFNoYWRvdyA9IHBvaW50TGlnaHRTaGFkb3dzWyBpIF07XG5cdFx0ZGlyZWN0TGlnaHQuY29sb3IgKj0gYWxsKCBidmVjMiggZGlyZWN0TGlnaHQudmlzaWJsZSwgcmVjZWl2ZVNoYWRvdyApICkgPyBnZXRQb2ludFNoYWRvdyggcG9pbnRTaGFkb3dNYXBbIGkgXSwgcG9pbnRMaWdodFNoYWRvdy5zaGFkb3dNYXBTaXplLCBwb2ludExpZ2h0U2hhZG93LnNoYWRvd0JpYXMsIHBvaW50TGlnaHRTaGFkb3cuc2hhZG93UmFkaXVzLCB2UG9pbnRTaGFkb3dDb29yZFsgaSBdLCBwb2ludExpZ2h0U2hhZG93LnNoYWRvd0NhbWVyYU5lYXIsIHBvaW50TGlnaHRTaGFkb3cuc2hhZG93Q2FtZXJhRmFyICkgOiAxLjA7XG5cdFx0I2VuZGlmXG5cdFx0UkVfRGlyZWN0KCBkaXJlY3RMaWdodCwgZ2VvbWV0cnksIG1hdGVyaWFsLCByZWZsZWN0ZWRMaWdodCApO1xuXHR9XG5cdCNwcmFnbWEgdW5yb2xsX2xvb3BfZW5kXG4jZW5kaWZcbiNpZiAoIE5VTV9TUE9UX0xJR0hUUyA+IDAgKSAmJiBkZWZpbmVkKCBSRV9EaXJlY3QgKVxuXHRTcG90TGlnaHQgc3BvdExpZ2h0O1xuXHQjaWYgZGVmaW5lZCggVVNFX1NIQURPV01BUCApICYmIE5VTV9TUE9UX0xJR0hUX1NIQURPV1MgPiAwXG5cdFNwb3RMaWdodFNoYWRvdyBzcG90TGlnaHRTaGFkb3c7XG5cdCNlbmRpZlxuXHQjcHJhZ21hIHVucm9sbF9sb29wX3N0YXJ0XG5cdGZvciAoIGludCBpID0gMDsgaSA8IE5VTV9TUE9UX0xJR0hUUzsgaSArKyApIHtcblx0XHRzcG90TGlnaHQgPSBzcG90TGlnaHRzWyBpIF07XG5cdFx0Z2V0U3BvdERpcmVjdExpZ2h0SXJyYWRpYW5jZSggc3BvdExpZ2h0LCBnZW9tZXRyeSwgZGlyZWN0TGlnaHQgKTtcblx0XHQjaWYgZGVmaW5lZCggVVNFX1NIQURPV01BUCApICYmICggVU5ST0xMRURfTE9PUF9JTkRFWCA8IE5VTV9TUE9UX0xJR0hUX1NIQURPV1MgKVxuXHRcdHNwb3RMaWdodFNoYWRvdyA9IHNwb3RMaWdodFNoYWRvd3NbIGkgXTtcblx0XHRkaXJlY3RMaWdodC5jb2xvciAqPSBhbGwoIGJ2ZWMyKCBkaXJlY3RMaWdodC52aXNpYmxlLCByZWNlaXZlU2hhZG93ICkgKSA/IGdldFNoYWRvdyggc3BvdFNoYWRvd01hcFsgaSBdLCBzcG90TGlnaHRTaGFkb3cuc2hhZG93TWFwU2l6ZSwgc3BvdExpZ2h0U2hhZG93LnNoYWRvd0JpYXMsIHNwb3RMaWdodFNoYWRvdy5zaGFkb3dSYWRpdXMsIHZTcG90U2hhZG93Q29vcmRbIGkgXSApIDogMS4wO1xuXHRcdCNlbmRpZlxuXHRcdFJFX0RpcmVjdCggZGlyZWN0TGlnaHQsIGdlb21ldHJ5LCBtYXRlcmlhbCwgcmVmbGVjdGVkTGlnaHQgKTtcblx0fVxuXHQjcHJhZ21hIHVucm9sbF9sb29wX2VuZFxuI2VuZGlmXG4jaWYgKCBOVU1fRElSX0xJR0hUUyA+IDAgKSAmJiBkZWZpbmVkKCBSRV9EaXJlY3QgKVxuXHREaXJlY3Rpb25hbExpZ2h0IGRpcmVjdGlvbmFsTGlnaHQ7XG5cdCNpZiBkZWZpbmVkKCBVU0VfU0hBRE9XTUFQICkgJiYgTlVNX0RJUl9MSUdIVF9TSEFET1dTID4gMFxuXHREaXJlY3Rpb25hbExpZ2h0U2hhZG93IGRpcmVjdGlvbmFsTGlnaHRTaGFkb3c7XG5cdCNlbmRpZlxuXHQjcHJhZ21hIHVucm9sbF9sb29wX3N0YXJ0XG5cdGZvciAoIGludCBpID0gMDsgaSA8IE5VTV9ESVJfTElHSFRTOyBpICsrICkge1xuXHRcdGRpcmVjdGlvbmFsTGlnaHQgPSBkaXJlY3Rpb25hbExpZ2h0c1sgaSBdO1xuXHRcdGdldERpcmVjdGlvbmFsRGlyZWN0TGlnaHRJcnJhZGlhbmNlKCBkaXJlY3Rpb25hbExpZ2h0LCBnZW9tZXRyeSwgZGlyZWN0TGlnaHQgKTtcblx0XHQjaWYgZGVmaW5lZCggVVNFX1NIQURPV01BUCApICYmICggVU5ST0xMRURfTE9PUF9JTkRFWCA8IE5VTV9ESVJfTElHSFRfU0hBRE9XUyApXG5cdFx0ZGlyZWN0aW9uYWxMaWdodFNoYWRvdyA9IGRpcmVjdGlvbmFsTGlnaHRTaGFkb3dzWyBpIF07XG5cdFx0ZGlyZWN0TGlnaHQuY29sb3IgKj0gYWxsKCBidmVjMiggZGlyZWN0TGlnaHQudmlzaWJsZSwgcmVjZWl2ZVNoYWRvdyApICkgPyBnZXRTaGFkb3coIGRpcmVjdGlvbmFsU2hhZG93TWFwWyBpIF0sIGRpcmVjdGlvbmFsTGlnaHRTaGFkb3cuc2hhZG93TWFwU2l6ZSwgZGlyZWN0aW9uYWxMaWdodFNoYWRvdy5zaGFkb3dCaWFzLCBkaXJlY3Rpb25hbExpZ2h0U2hhZG93LnNoYWRvd1JhZGl1cywgdkRpcmVjdGlvbmFsU2hhZG93Q29vcmRbIGkgXSApIDogMS4wO1xuXHRcdCNlbmRpZlxuXHRcdFJFX0RpcmVjdCggZGlyZWN0TGlnaHQsIGdlb21ldHJ5LCBtYXRlcmlhbCwgcmVmbGVjdGVkTGlnaHQgKTtcblx0fVxuXHQjcHJhZ21hIHVucm9sbF9sb29wX2VuZFxuI2VuZGlmXG4jaWYgKCBOVU1fUkVDVF9BUkVBX0xJR0hUUyA+IDAgKSAmJiBkZWZpbmVkKCBSRV9EaXJlY3RfUmVjdEFyZWEgKVxuXHRSZWN0QXJlYUxpZ2h0IHJlY3RBcmVhTGlnaHQ7XG5cdCNwcmFnbWEgdW5yb2xsX2xvb3Bfc3RhcnRcblx0Zm9yICggaW50IGkgPSAwOyBpIDwgTlVNX1JFQ1RfQVJFQV9MSUdIVFM7IGkgKysgKSB7XG5cdFx0cmVjdEFyZWFMaWdodCA9IHJlY3RBcmVhTGlnaHRzWyBpIF07XG5cdFx0UkVfRGlyZWN0X1JlY3RBcmVhKCByZWN0QXJlYUxpZ2h0LCBnZW9tZXRyeSwgbWF0ZXJpYWwsIHJlZmxlY3RlZExpZ2h0ICk7XG5cdH1cblx0I3ByYWdtYSB1bnJvbGxfbG9vcF9lbmRcbiNlbmRpZlxuI2lmIGRlZmluZWQoIFJFX0luZGlyZWN0RGlmZnVzZSApXG5cdHZlYzMgaWJsSXJyYWRpYW5jZSA9IHZlYzMoIDAuMCApO1xuXHR2ZWMzIGlycmFkaWFuY2UgPSBnZXRBbWJpZW50TGlnaHRJcnJhZGlhbmNlKCBhbWJpZW50TGlnaHRDb2xvciApO1xuXHRpcnJhZGlhbmNlICs9IGdldExpZ2h0UHJvYmVJcnJhZGlhbmNlKCBsaWdodFByb2JlLCBnZW9tZXRyeSApO1xuXHQjaWYgKCBOVU1fSEVNSV9MSUdIVFMgPiAwIClcblx0XHQjcHJhZ21hIHVucm9sbF9sb29wX3N0YXJ0XG5cdFx0Zm9yICggaW50IGkgPSAwOyBpIDwgTlVNX0hFTUlfTElHSFRTOyBpICsrICkge1xuXHRcdFx0aXJyYWRpYW5jZSArPSBnZXRIZW1pc3BoZXJlTGlnaHRJcnJhZGlhbmNlKCBoZW1pc3BoZXJlTGlnaHRzWyBpIF0sIGdlb21ldHJ5ICk7XG5cdFx0fVxuXHRcdCNwcmFnbWEgdW5yb2xsX2xvb3BfZW5kXG5cdCNlbmRpZlxuI2VuZGlmXG4jaWYgZGVmaW5lZCggUkVfSW5kaXJlY3RTcGVjdWxhciApXG5cdHZlYzMgcmFkaWFuY2UgPSB2ZWMzKCAwLjAgKTtcblx0dmVjMyBjbGVhcmNvYXRSYWRpYW5jZSA9IHZlYzMoIDAuMCApO1xuI2VuZGlmIixsaWdodHNfZnJhZ21lbnRfbWFwczoiI2lmIGRlZmluZWQoIFJFX0luZGlyZWN0RGlmZnVzZSApXG5cdCNpZmRlZiBVU0VfTElHSFRNQVBcblx0XHR2ZWM0IGxpZ2h0TWFwVGV4ZWw9IHRleHR1cmUyRCggbGlnaHRNYXAsIHZVdjIgKTtcblx0XHR2ZWMzIGxpZ2h0TWFwSXJyYWRpYW5jZSA9IGxpZ2h0TWFwVGV4ZWxUb0xpbmVhciggbGlnaHRNYXBUZXhlbCApLnJnYiAqIGxpZ2h0TWFwSW50ZW5zaXR5O1xuXHRcdCNpZm5kZWYgUEhZU0lDQUxMWV9DT1JSRUNUX0xJR0hUU1xuXHRcdFx0bGlnaHRNYXBJcnJhZGlhbmNlICo9IFBJO1xuXHRcdCNlbmRpZlxuXHRcdGlycmFkaWFuY2UgKz0gbGlnaHRNYXBJcnJhZGlhbmNlO1xuXHQjZW5kaWZcblx0I2lmIGRlZmluZWQoIFVTRV9FTlZNQVAgKSAmJiBkZWZpbmVkKCBTVEFOREFSRCApICYmIGRlZmluZWQoIEVOVk1BUF9UWVBFX0NVQkVfVVYgKVxuXHRcdGlibElycmFkaWFuY2UgKz0gZ2V0TGlnaHRQcm9iZUluZGlyZWN0SXJyYWRpYW5jZSggZ2VvbWV0cnksIG1heE1pcExldmVsICk7XG5cdCNlbmRpZlxuI2VuZGlmXG4jaWYgZGVmaW5lZCggVVNFX0VOVk1BUCApICYmIGRlZmluZWQoIFJFX0luZGlyZWN0U3BlY3VsYXIgKVxuXHRyYWRpYW5jZSArPSBnZXRMaWdodFByb2JlSW5kaXJlY3RSYWRpYW5jZSggZ2VvbWV0cnkudmlld0RpciwgZ2VvbWV0cnkubm9ybWFsLCBtYXRlcmlhbC5zcGVjdWxhclJvdWdobmVzcywgbWF4TWlwTGV2ZWwgKTtcblx0I2lmZGVmIENMRUFSQ09BVFxuXHRcdGNsZWFyY29hdFJhZGlhbmNlICs9IGdldExpZ2h0UHJvYmVJbmRpcmVjdFJhZGlhbmNlKCBnZW9tZXRyeS52aWV3RGlyLCBnZW9tZXRyeS5jbGVhcmNvYXROb3JtYWwsIG1hdGVyaWFsLmNsZWFyY29hdFJvdWdobmVzcywgbWF4TWlwTGV2ZWwgKTtcblx0I2VuZGlmXG4jZW5kaWYiLGxpZ2h0c19mcmFnbWVudF9lbmQ6IiNpZiBkZWZpbmVkKCBSRV9JbmRpcmVjdERpZmZ1c2UgKVxuXHRSRV9JbmRpcmVjdERpZmZ1c2UoIGlycmFkaWFuY2UsIGdlb21ldHJ5LCBtYXRlcmlhbCwgcmVmbGVjdGVkTGlnaHQgKTtcbiNlbmRpZlxuI2lmIGRlZmluZWQoIFJFX0luZGlyZWN0U3BlY3VsYXIgKVxuXHRSRV9JbmRpcmVjdFNwZWN1bGFyKCByYWRpYW5jZSwgaWJsSXJyYWRpYW5jZSwgY2xlYXJjb2F0UmFkaWFuY2UsIGdlb21ldHJ5LCBtYXRlcmlhbCwgcmVmbGVjdGVkTGlnaHQgKTtcbiNlbmRpZiIsbG9nZGVwdGhidWZfZnJhZ21lbnQ6IiNpZiBkZWZpbmVkKCBVU0VfTE9HREVQVEhCVUYgKSAmJiBkZWZpbmVkKCBVU0VfTE9HREVQVEhCVUZfRVhUIClcblx0Z2xfRnJhZ0RlcHRoRVhUID0gdklzUGVyc3BlY3RpdmUgPT0gMC4wID8gZ2xfRnJhZ0Nvb3JkLnogOiBsb2cyKCB2RnJhZ0RlcHRoICkgKiBsb2dEZXB0aEJ1ZkZDICogMC41O1xuI2VuZGlmIixsb2dkZXB0aGJ1Zl9wYXJzX2ZyYWdtZW50OiIjaWYgZGVmaW5lZCggVVNFX0xPR0RFUFRIQlVGICkgJiYgZGVmaW5lZCggVVNFX0xPR0RFUFRIQlVGX0VYVCApXG5cdHVuaWZvcm0gZmxvYXQgbG9nRGVwdGhCdWZGQztcblx0dmFyeWluZyBmbG9hdCB2RnJhZ0RlcHRoO1xuXHR2YXJ5aW5nIGZsb2F0IHZJc1BlcnNwZWN0aXZlO1xuI2VuZGlmIixsb2dkZXB0aGJ1Zl9wYXJzX3ZlcnRleDoiI2lmZGVmIFVTRV9MT0dERVBUSEJVRlxuXHQjaWZkZWYgVVNFX0xPR0RFUFRIQlVGX0VYVFxuXHRcdHZhcnlpbmcgZmxvYXQgdkZyYWdEZXB0aDtcblx0XHR2YXJ5aW5nIGZsb2F0IHZJc1BlcnNwZWN0aXZlO1xuXHQjZWxzZVxuXHRcdHVuaWZvcm0gZmxvYXQgbG9nRGVwdGhCdWZGQztcblx0I2VuZGlmXG4jZW5kaWYiLGxvZ2RlcHRoYnVmX3ZlcnRleDoiI2lmZGVmIFVTRV9MT0dERVBUSEJVRlxuXHQjaWZkZWYgVVNFX0xPR0RFUFRIQlVGX0VYVFxuXHRcdHZGcmFnRGVwdGggPSAxLjAgKyBnbF9Qb3NpdGlvbi53O1xuXHRcdHZJc1BlcnNwZWN0aXZlID0gZmxvYXQoIGlzUGVyc3BlY3RpdmVNYXRyaXgoIHByb2plY3Rpb25NYXRyaXggKSApO1xuXHQjZWxzZVxuXHRcdGlmICggaXNQZXJzcGVjdGl2ZU1hdHJpeCggcHJvamVjdGlvbk1hdHJpeCApICkge1xuXHRcdFx0Z2xfUG9zaXRpb24ueiA9IGxvZzIoIG1heCggRVBTSUxPTiwgZ2xfUG9zaXRpb24udyArIDEuMCApICkgKiBsb2dEZXB0aEJ1ZkZDIC0gMS4wO1xuXHRcdFx0Z2xfUG9zaXRpb24ueiAqPSBnbF9Qb3NpdGlvbi53O1xuXHRcdH1cblx0I2VuZGlmXG4jZW5kaWYiLG1hcF9mcmFnbWVudDoiI2lmZGVmIFVTRV9NQVBcblx0dmVjNCB0ZXhlbENvbG9yID0gdGV4dHVyZTJEKCBtYXAsIHZVdiApO1xuXHR0ZXhlbENvbG9yID0gbWFwVGV4ZWxUb0xpbmVhciggdGV4ZWxDb2xvciApO1xuXHRkaWZmdXNlQ29sb3IgKj0gdGV4ZWxDb2xvcjtcbiNlbmRpZiIsbWFwX3BhcnNfZnJhZ21lbnQ6IiNpZmRlZiBVU0VfTUFQXG5cdHVuaWZvcm0gc2FtcGxlcjJEIG1hcDtcbiNlbmRpZiIsbWFwX3BhcnRpY2xlX2ZyYWdtZW50OiIjaWYgZGVmaW5lZCggVVNFX01BUCApIHx8IGRlZmluZWQoIFVTRV9BTFBIQU1BUCApXG5cdHZlYzIgdXYgPSAoIHV2VHJhbnNmb3JtICogdmVjMyggZ2xfUG9pbnRDb29yZC54LCAxLjAgLSBnbF9Qb2ludENvb3JkLnksIDEgKSApLnh5O1xuI2VuZGlmXG4jaWZkZWYgVVNFX01BUFxuXHR2ZWM0IG1hcFRleGVsID0gdGV4dHVyZTJEKCBtYXAsIHV2ICk7XG5cdGRpZmZ1c2VDb2xvciAqPSBtYXBUZXhlbFRvTGluZWFyKCBtYXBUZXhlbCApO1xuI2VuZGlmXG4jaWZkZWYgVVNFX0FMUEhBTUFQXG5cdGRpZmZ1c2VDb2xvci5hICo9IHRleHR1cmUyRCggYWxwaGFNYXAsIHV2ICkuZztcbiNlbmRpZiIsbWFwX3BhcnRpY2xlX3BhcnNfZnJhZ21lbnQ6IiNpZiBkZWZpbmVkKCBVU0VfTUFQICkgfHwgZGVmaW5lZCggVVNFX0FMUEhBTUFQIClcblx0dW5pZm9ybSBtYXQzIHV2VHJhbnNmb3JtO1xuI2VuZGlmXG4jaWZkZWYgVVNFX01BUFxuXHR1bmlmb3JtIHNhbXBsZXIyRCBtYXA7XG4jZW5kaWZcbiNpZmRlZiBVU0VfQUxQSEFNQVBcblx0dW5pZm9ybSBzYW1wbGVyMkQgYWxwaGFNYXA7XG4jZW5kaWYiLG1ldGFsbmVzc21hcF9mcmFnbWVudDoiZmxvYXQgbWV0YWxuZXNzRmFjdG9yID0gbWV0YWxuZXNzO1xuI2lmZGVmIFVTRV9NRVRBTE5FU1NNQVBcblx0dmVjNCB0ZXhlbE1ldGFsbmVzcyA9IHRleHR1cmUyRCggbWV0YWxuZXNzTWFwLCB2VXYgKTtcblx0bWV0YWxuZXNzRmFjdG9yICo9IHRleGVsTWV0YWxuZXNzLmI7XG4jZW5kaWYiLG1ldGFsbmVzc21hcF9wYXJzX2ZyYWdtZW50OiIjaWZkZWYgVVNFX01FVEFMTkVTU01BUFxuXHR1bmlmb3JtIHNhbXBsZXIyRCBtZXRhbG5lc3NNYXA7XG4jZW5kaWYiLG1vcnBobm9ybWFsX3ZlcnRleDoiI2lmZGVmIFVTRV9NT1JQSE5PUk1BTFNcblx0b2JqZWN0Tm9ybWFsICo9IG1vcnBoVGFyZ2V0QmFzZUluZmx1ZW5jZTtcblx0b2JqZWN0Tm9ybWFsICs9IG1vcnBoTm9ybWFsMCAqIG1vcnBoVGFyZ2V0SW5mbHVlbmNlc1sgMCBdO1xuXHRvYmplY3ROb3JtYWwgKz0gbW9ycGhOb3JtYWwxICogbW9ycGhUYXJnZXRJbmZsdWVuY2VzWyAxIF07XG5cdG9iamVjdE5vcm1hbCArPSBtb3JwaE5vcm1hbDIgKiBtb3JwaFRhcmdldEluZmx1ZW5jZXNbIDIgXTtcblx0b2JqZWN0Tm9ybWFsICs9IG1vcnBoTm9ybWFsMyAqIG1vcnBoVGFyZ2V0SW5mbHVlbmNlc1sgMyBdO1xuI2VuZGlmIixtb3JwaHRhcmdldF9wYXJzX3ZlcnRleDoiI2lmZGVmIFVTRV9NT1JQSFRBUkdFVFNcblx0dW5pZm9ybSBmbG9hdCBtb3JwaFRhcmdldEJhc2VJbmZsdWVuY2U7XG5cdCNpZm5kZWYgVVNFX01PUlBITk9STUFMU1xuXHRcdHVuaWZvcm0gZmxvYXQgbW9ycGhUYXJnZXRJbmZsdWVuY2VzWyA4IF07XG5cdCNlbHNlXG5cdFx0dW5pZm9ybSBmbG9hdCBtb3JwaFRhcmdldEluZmx1ZW5jZXNbIDQgXTtcblx0I2VuZGlmXG4jZW5kaWYiLG1vcnBodGFyZ2V0X3ZlcnRleDoiI2lmZGVmIFVTRV9NT1JQSFRBUkdFVFNcblx0dHJhbnNmb3JtZWQgKj0gbW9ycGhUYXJnZXRCYXNlSW5mbHVlbmNlO1xuXHR0cmFuc2Zvcm1lZCArPSBtb3JwaFRhcmdldDAgKiBtb3JwaFRhcmdldEluZmx1ZW5jZXNbIDAgXTtcblx0dHJhbnNmb3JtZWQgKz0gbW9ycGhUYXJnZXQxICogbW9ycGhUYXJnZXRJbmZsdWVuY2VzWyAxIF07XG5cdHRyYW5zZm9ybWVkICs9IG1vcnBoVGFyZ2V0MiAqIG1vcnBoVGFyZ2V0SW5mbHVlbmNlc1sgMiBdO1xuXHR0cmFuc2Zvcm1lZCArPSBtb3JwaFRhcmdldDMgKiBtb3JwaFRhcmdldEluZmx1ZW5jZXNbIDMgXTtcblx0I2lmbmRlZiBVU0VfTU9SUEhOT1JNQUxTXG5cdFx0dHJhbnNmb3JtZWQgKz0gbW9ycGhUYXJnZXQ0ICogbW9ycGhUYXJnZXRJbmZsdWVuY2VzWyA0IF07XG5cdFx0dHJhbnNmb3JtZWQgKz0gbW9ycGhUYXJnZXQ1ICogbW9ycGhUYXJnZXRJbmZsdWVuY2VzWyA1IF07XG5cdFx0dHJhbnNmb3JtZWQgKz0gbW9ycGhUYXJnZXQ2ICogbW9ycGhUYXJnZXRJbmZsdWVuY2VzWyA2IF07XG5cdFx0dHJhbnNmb3JtZWQgKz0gbW9ycGhUYXJnZXQ3ICogbW9ycGhUYXJnZXRJbmZsdWVuY2VzWyA3IF07XG5cdCNlbmRpZlxuI2VuZGlmIixub3JtYWxfZnJhZ21lbnRfYmVnaW46ImZsb2F0IGZhY2VEaXJlY3Rpb24gPSBnbF9Gcm9udEZhY2luZyA/IDEuMCA6IC0gMS4wO1xuI2lmZGVmIEZMQVRfU0hBREVEXG5cdHZlYzMgZmR4ID0gdmVjMyggZEZkeCggdlZpZXdQb3NpdGlvbi54ICksIGRGZHgoIHZWaWV3UG9zaXRpb24ueSApLCBkRmR4KCB2Vmlld1Bvc2l0aW9uLnogKSApO1xuXHR2ZWMzIGZkeSA9IHZlYzMoIGRGZHkoIHZWaWV3UG9zaXRpb24ueCApLCBkRmR5KCB2Vmlld1Bvc2l0aW9uLnkgKSwgZEZkeSggdlZpZXdQb3NpdGlvbi56ICkgKTtcblx0dmVjMyBub3JtYWwgPSBub3JtYWxpemUoIGNyb3NzKCBmZHgsIGZkeSApICk7XG4jZWxzZVxuXHR2ZWMzIG5vcm1hbCA9IG5vcm1hbGl6ZSggdk5vcm1hbCApO1xuXHQjaWZkZWYgRE9VQkxFX1NJREVEXG5cdFx0bm9ybWFsID0gbm9ybWFsICogZmFjZURpcmVjdGlvbjtcblx0I2VuZGlmXG5cdCNpZmRlZiBVU0VfVEFOR0VOVFxuXHRcdHZlYzMgdGFuZ2VudCA9IG5vcm1hbGl6ZSggdlRhbmdlbnQgKTtcblx0XHR2ZWMzIGJpdGFuZ2VudCA9IG5vcm1hbGl6ZSggdkJpdGFuZ2VudCApO1xuXHRcdCNpZmRlZiBET1VCTEVfU0lERURcblx0XHRcdHRhbmdlbnQgPSB0YW5nZW50ICogZmFjZURpcmVjdGlvbjtcblx0XHRcdGJpdGFuZ2VudCA9IGJpdGFuZ2VudCAqIGZhY2VEaXJlY3Rpb247XG5cdFx0I2VuZGlmXG5cdFx0I2lmIGRlZmluZWQoIFRBTkdFTlRTUEFDRV9OT1JNQUxNQVAgKSB8fCBkZWZpbmVkKCBVU0VfQ0xFQVJDT0FUX05PUk1BTE1BUCApXG5cdFx0XHRtYXQzIHZUQk4gPSBtYXQzKCB0YW5nZW50LCBiaXRhbmdlbnQsIG5vcm1hbCApO1xuXHRcdCNlbmRpZlxuXHQjZW5kaWZcbiNlbmRpZlxudmVjMyBnZW9tZXRyeU5vcm1hbCA9IG5vcm1hbDsiLG5vcm1hbF9mcmFnbWVudF9tYXBzOiIjaWZkZWYgT0JKRUNUU1BBQ0VfTk9STUFMTUFQXG5cdG5vcm1hbCA9IHRleHR1cmUyRCggbm9ybWFsTWFwLCB2VXYgKS54eXogKiAyLjAgLSAxLjA7XG5cdCNpZmRlZiBGTElQX1NJREVEXG5cdFx0bm9ybWFsID0gLSBub3JtYWw7XG5cdCNlbmRpZlxuXHQjaWZkZWYgRE9VQkxFX1NJREVEXG5cdFx0bm9ybWFsID0gbm9ybWFsICogZmFjZURpcmVjdGlvbjtcblx0I2VuZGlmXG5cdG5vcm1hbCA9IG5vcm1hbGl6ZSggbm9ybWFsTWF0cml4ICogbm9ybWFsICk7XG4jZWxpZiBkZWZpbmVkKCBUQU5HRU5UU1BBQ0VfTk9STUFMTUFQIClcblx0dmVjMyBtYXBOID0gdGV4dHVyZTJEKCBub3JtYWxNYXAsIHZVdiApLnh5eiAqIDIuMCAtIDEuMDtcblx0bWFwTi54eSAqPSBub3JtYWxTY2FsZTtcblx0I2lmZGVmIFVTRV9UQU5HRU5UXG5cdFx0bm9ybWFsID0gbm9ybWFsaXplKCB2VEJOICogbWFwTiApO1xuXHQjZWxzZVxuXHRcdG5vcm1hbCA9IHBlcnR1cmJOb3JtYWwyQXJiKCAtdlZpZXdQb3NpdGlvbiwgbm9ybWFsLCBtYXBOLCBmYWNlRGlyZWN0aW9uICk7XG5cdCNlbmRpZlxuI2VsaWYgZGVmaW5lZCggVVNFX0JVTVBNQVAgKVxuXHRub3JtYWwgPSBwZXJ0dXJiTm9ybWFsQXJiKCAtdlZpZXdQb3NpdGlvbiwgbm9ybWFsLCBkSGR4eV9md2QoKSwgZmFjZURpcmVjdGlvbiApO1xuI2VuZGlmIixub3JtYWxtYXBfcGFyc19mcmFnbWVudDoiI2lmZGVmIFVTRV9OT1JNQUxNQVBcblx0dW5pZm9ybSBzYW1wbGVyMkQgbm9ybWFsTWFwO1xuXHR1bmlmb3JtIHZlYzIgbm9ybWFsU2NhbGU7XG4jZW5kaWZcbiNpZmRlZiBPQkpFQ1RTUEFDRV9OT1JNQUxNQVBcblx0dW5pZm9ybSBtYXQzIG5vcm1hbE1hdHJpeDtcbiNlbmRpZlxuI2lmICEgZGVmaW5lZCAoIFVTRV9UQU5HRU5UICkgJiYgKCBkZWZpbmVkICggVEFOR0VOVFNQQUNFX05PUk1BTE1BUCApIHx8IGRlZmluZWQgKCBVU0VfQ0xFQVJDT0FUX05PUk1BTE1BUCApIClcblx0dmVjMyBwZXJ0dXJiTm9ybWFsMkFyYiggdmVjMyBleWVfcG9zLCB2ZWMzIHN1cmZfbm9ybSwgdmVjMyBtYXBOLCBmbG9hdCBmYWNlRGlyZWN0aW9uICkge1xuXHRcdHZlYzMgcTAgPSB2ZWMzKCBkRmR4KCBleWVfcG9zLnggKSwgZEZkeCggZXllX3Bvcy55ICksIGRGZHgoIGV5ZV9wb3MueiApICk7XG5cdFx0dmVjMyBxMSA9IHZlYzMoIGRGZHkoIGV5ZV9wb3MueCApLCBkRmR5KCBleWVfcG9zLnkgKSwgZEZkeSggZXllX3Bvcy56ICkgKTtcblx0XHR2ZWMyIHN0MCA9IGRGZHgoIHZVdi5zdCApO1xuXHRcdHZlYzIgc3QxID0gZEZkeSggdlV2LnN0ICk7XG5cdFx0dmVjMyBOID0gc3VyZl9ub3JtO1xuXHRcdHZlYzMgcTFwZXJwID0gY3Jvc3MoIHExLCBOICk7XG5cdFx0dmVjMyBxMHBlcnAgPSBjcm9zcyggTiwgcTAgKTtcblx0XHR2ZWMzIFQgPSBxMXBlcnAgKiBzdDAueCArIHEwcGVycCAqIHN0MS54O1xuXHRcdHZlYzMgQiA9IHExcGVycCAqIHN0MC55ICsgcTBwZXJwICogc3QxLnk7XG5cdFx0ZmxvYXQgZGV0ID0gbWF4KCBkb3QoIFQsIFQgKSwgZG90KCBCLCBCICkgKTtcblx0XHRmbG9hdCBzY2FsZSA9ICggZGV0ID09IDAuMCApID8gMC4wIDogZmFjZURpcmVjdGlvbiAqIGludmVyc2VzcXJ0KCBkZXQgKTtcblx0XHRyZXR1cm4gbm9ybWFsaXplKCBUICogKCBtYXBOLnggKiBzY2FsZSApICsgQiAqICggbWFwTi55ICogc2NhbGUgKSArIE4gKiBtYXBOLnogKTtcblx0fVxuI2VuZGlmIixjbGVhcmNvYXRfbm9ybWFsX2ZyYWdtZW50X2JlZ2luOiIjaWZkZWYgQ0xFQVJDT0FUXG5cdHZlYzMgY2xlYXJjb2F0Tm9ybWFsID0gZ2VvbWV0cnlOb3JtYWw7XG4jZW5kaWYiLGNsZWFyY29hdF9ub3JtYWxfZnJhZ21lbnRfbWFwczoiI2lmZGVmIFVTRV9DTEVBUkNPQVRfTk9STUFMTUFQXG5cdHZlYzMgY2xlYXJjb2F0TWFwTiA9IHRleHR1cmUyRCggY2xlYXJjb2F0Tm9ybWFsTWFwLCB2VXYgKS54eXogKiAyLjAgLSAxLjA7XG5cdGNsZWFyY29hdE1hcE4ueHkgKj0gY2xlYXJjb2F0Tm9ybWFsU2NhbGU7XG5cdCNpZmRlZiBVU0VfVEFOR0VOVFxuXHRcdGNsZWFyY29hdE5vcm1hbCA9IG5vcm1hbGl6ZSggdlRCTiAqIGNsZWFyY29hdE1hcE4gKTtcblx0I2Vsc2Vcblx0XHRjbGVhcmNvYXROb3JtYWwgPSBwZXJ0dXJiTm9ybWFsMkFyYiggLSB2Vmlld1Bvc2l0aW9uLCBjbGVhcmNvYXROb3JtYWwsIGNsZWFyY29hdE1hcE4sIGZhY2VEaXJlY3Rpb24gKTtcblx0I2VuZGlmXG4jZW5kaWYiLGNsZWFyY29hdF9wYXJzX2ZyYWdtZW50OiIjaWZkZWYgVVNFX0NMRUFSQ09BVE1BUFxuXHR1bmlmb3JtIHNhbXBsZXIyRCBjbGVhcmNvYXRNYXA7XG4jZW5kaWZcbiNpZmRlZiBVU0VfQ0xFQVJDT0FUX1JPVUdITkVTU01BUFxuXHR1bmlmb3JtIHNhbXBsZXIyRCBjbGVhcmNvYXRSb3VnaG5lc3NNYXA7XG4jZW5kaWZcbiNpZmRlZiBVU0VfQ0xFQVJDT0FUX05PUk1BTE1BUFxuXHR1bmlmb3JtIHNhbXBsZXIyRCBjbGVhcmNvYXROb3JtYWxNYXA7XG5cdHVuaWZvcm0gdmVjMiBjbGVhcmNvYXROb3JtYWxTY2FsZTtcbiNlbmRpZiIscGFja2luZzoidmVjMyBwYWNrTm9ybWFsVG9SR0IoIGNvbnN0IGluIHZlYzMgbm9ybWFsICkge1xuXHRyZXR1cm4gbm9ybWFsaXplKCBub3JtYWwgKSAqIDAuNSArIDAuNTtcbn1cbnZlYzMgdW5wYWNrUkdCVG9Ob3JtYWwoIGNvbnN0IGluIHZlYzMgcmdiICkge1xuXHRyZXR1cm4gMi4wICogcmdiLnh5eiAtIDEuMDtcbn1cbmNvbnN0IGZsb2F0IFBhY2tVcHNjYWxlID0gMjU2LiAvIDI1NS47Y29uc3QgZmxvYXQgVW5wYWNrRG93bnNjYWxlID0gMjU1LiAvIDI1Ni47XG5jb25zdCB2ZWMzIFBhY2tGYWN0b3JzID0gdmVjMyggMjU2LiAqIDI1Ni4gKiAyNTYuLCAyNTYuICogMjU2LiwgMjU2LiApO1xuY29uc3QgdmVjNCBVbnBhY2tGYWN0b3JzID0gVW5wYWNrRG93bnNjYWxlIC8gdmVjNCggUGFja0ZhY3RvcnMsIDEuICk7XG5jb25zdCBmbG9hdCBTaGlmdFJpZ2h0OCA9IDEuIC8gMjU2LjtcbnZlYzQgcGFja0RlcHRoVG9SR0JBKCBjb25zdCBpbiBmbG9hdCB2ICkge1xuXHR2ZWM0IHIgPSB2ZWM0KCBmcmFjdCggdiAqIFBhY2tGYWN0b3JzICksIHYgKTtcblx0ci55encgLT0gci54eXogKiBTaGlmdFJpZ2h0ODtcdHJldHVybiByICogUGFja1Vwc2NhbGU7XG59XG5mbG9hdCB1bnBhY2tSR0JBVG9EZXB0aCggY29uc3QgaW4gdmVjNCB2ICkge1xuXHRyZXR1cm4gZG90KCB2LCBVbnBhY2tGYWN0b3JzICk7XG59XG52ZWM0IHBhY2sySGFsZlRvUkdCQSggdmVjMiB2ICkge1xuXHR2ZWM0IHIgPSB2ZWM0KCB2LngsIGZyYWN0KCB2LnggKiAyNTUuMCApLCB2LnksIGZyYWN0KCB2LnkgKiAyNTUuMCApKTtcblx0cmV0dXJuIHZlYzQoIHIueCAtIHIueSAvIDI1NS4wLCByLnksIHIueiAtIHIudyAvIDI1NS4wLCByLncpO1xufVxudmVjMiB1bnBhY2tSR0JBVG8ySGFsZiggdmVjNCB2ICkge1xuXHRyZXR1cm4gdmVjMiggdi54ICsgKCB2LnkgLyAyNTUuMCApLCB2LnogKyAoIHYudyAvIDI1NS4wICkgKTtcbn1cbmZsb2F0IHZpZXdaVG9PcnRob2dyYXBoaWNEZXB0aCggY29uc3QgaW4gZmxvYXQgdmlld1osIGNvbnN0IGluIGZsb2F0IG5lYXIsIGNvbnN0IGluIGZsb2F0IGZhciApIHtcblx0cmV0dXJuICggdmlld1ogKyBuZWFyICkgLyAoIG5lYXIgLSBmYXIgKTtcbn1cbmZsb2F0IG9ydGhvZ3JhcGhpY0RlcHRoVG9WaWV3WiggY29uc3QgaW4gZmxvYXQgbGluZWFyQ2xpcFosIGNvbnN0IGluIGZsb2F0IG5lYXIsIGNvbnN0IGluIGZsb2F0IGZhciApIHtcblx0cmV0dXJuIGxpbmVhckNsaXBaICogKCBuZWFyIC0gZmFyICkgLSBuZWFyO1xufVxuZmxvYXQgdmlld1pUb1BlcnNwZWN0aXZlRGVwdGgoIGNvbnN0IGluIGZsb2F0IHZpZXdaLCBjb25zdCBpbiBmbG9hdCBuZWFyLCBjb25zdCBpbiBmbG9hdCBmYXIgKSB7XG5cdHJldHVybiAoKCBuZWFyICsgdmlld1ogKSAqIGZhciApIC8gKCggZmFyIC0gbmVhciApICogdmlld1ogKTtcbn1cbmZsb2F0IHBlcnNwZWN0aXZlRGVwdGhUb1ZpZXdaKCBjb25zdCBpbiBmbG9hdCBpbnZDbGlwWiwgY29uc3QgaW4gZmxvYXQgbmVhciwgY29uc3QgaW4gZmxvYXQgZmFyICkge1xuXHRyZXR1cm4gKCBuZWFyICogZmFyICkgLyAoICggZmFyIC0gbmVhciApICogaW52Q2xpcFogLSBmYXIgKTtcbn0iLHByZW11bHRpcGxpZWRfYWxwaGFfZnJhZ21lbnQ6IiNpZmRlZiBQUkVNVUxUSVBMSUVEX0FMUEhBXG5cdGdsX0ZyYWdDb2xvci5yZ2IgKj0gZ2xfRnJhZ0NvbG9yLmE7XG4jZW5kaWYiLHByb2plY3RfdmVydGV4OiJ2ZWM0IG12UG9zaXRpb24gPSB2ZWM0KCB0cmFuc2Zvcm1lZCwgMS4wICk7XG4jaWZkZWYgVVNFX0lOU1RBTkNJTkdcblx0bXZQb3NpdGlvbiA9IGluc3RhbmNlTWF0cml4ICogbXZQb3NpdGlvbjtcbiNlbmRpZlxubXZQb3NpdGlvbiA9IG1vZGVsVmlld01hdHJpeCAqIG12UG9zaXRpb247XG5nbF9Qb3NpdGlvbiA9IHByb2plY3Rpb25NYXRyaXggKiBtdlBvc2l0aW9uOyIsZGl0aGVyaW5nX2ZyYWdtZW50OiIjaWZkZWYgRElUSEVSSU5HXG5cdGdsX0ZyYWdDb2xvci5yZ2IgPSBkaXRoZXJpbmcoIGdsX0ZyYWdDb2xvci5yZ2IgKTtcbiNlbmRpZiIsZGl0aGVyaW5nX3BhcnNfZnJhZ21lbnQ6IiNpZmRlZiBESVRIRVJJTkdcblx0dmVjMyBkaXRoZXJpbmcoIHZlYzMgY29sb3IgKSB7XG5cdFx0ZmxvYXQgZ3JpZF9wb3NpdGlvbiA9IHJhbmQoIGdsX0ZyYWdDb29yZC54eSApO1xuXHRcdHZlYzMgZGl0aGVyX3NoaWZ0X1JHQiA9IHZlYzMoIDAuMjUgLyAyNTUuMCwgLTAuMjUgLyAyNTUuMCwgMC4yNSAvIDI1NS4wICk7XG5cdFx0ZGl0aGVyX3NoaWZ0X1JHQiA9IG1peCggMi4wICogZGl0aGVyX3NoaWZ0X1JHQiwgLTIuMCAqIGRpdGhlcl9zaGlmdF9SR0IsIGdyaWRfcG9zaXRpb24gKTtcblx0XHRyZXR1cm4gY29sb3IgKyBkaXRoZXJfc2hpZnRfUkdCO1xuXHR9XG4jZW5kaWYiLHJvdWdobmVzc21hcF9mcmFnbWVudDoiZmxvYXQgcm91Z2huZXNzRmFjdG9yID0gcm91Z2huZXNzO1xuI2lmZGVmIFVTRV9ST1VHSE5FU1NNQVBcblx0dmVjNCB0ZXhlbFJvdWdobmVzcyA9IHRleHR1cmUyRCggcm91Z2huZXNzTWFwLCB2VXYgKTtcblx0cm91Z2huZXNzRmFjdG9yICo9IHRleGVsUm91Z2huZXNzLmc7XG4jZW5kaWYiLHJvdWdobmVzc21hcF9wYXJzX2ZyYWdtZW50OiIjaWZkZWYgVVNFX1JPVUdITkVTU01BUFxuXHR1bmlmb3JtIHNhbXBsZXIyRCByb3VnaG5lc3NNYXA7XG4jZW5kaWYiLHNoYWRvd21hcF9wYXJzX2ZyYWdtZW50OiIjaWZkZWYgVVNFX1NIQURPV01BUFxuXHQjaWYgTlVNX0RJUl9MSUdIVF9TSEFET1dTID4gMFxuXHRcdHVuaWZvcm0gc2FtcGxlcjJEIGRpcmVjdGlvbmFsU2hhZG93TWFwWyBOVU1fRElSX0xJR0hUX1NIQURPV1MgXTtcblx0XHR2YXJ5aW5nIHZlYzQgdkRpcmVjdGlvbmFsU2hhZG93Q29vcmRbIE5VTV9ESVJfTElHSFRfU0hBRE9XUyBdO1xuXHRcdHN0cnVjdCBEaXJlY3Rpb25hbExpZ2h0U2hhZG93IHtcblx0XHRcdGZsb2F0IHNoYWRvd0JpYXM7XG5cdFx0XHRmbG9hdCBzaGFkb3dOb3JtYWxCaWFzO1xuXHRcdFx0ZmxvYXQgc2hhZG93UmFkaXVzO1xuXHRcdFx0dmVjMiBzaGFkb3dNYXBTaXplO1xuXHRcdH07XG5cdFx0dW5pZm9ybSBEaXJlY3Rpb25hbExpZ2h0U2hhZG93IGRpcmVjdGlvbmFsTGlnaHRTaGFkb3dzWyBOVU1fRElSX0xJR0hUX1NIQURPV1MgXTtcblx0I2VuZGlmXG5cdCNpZiBOVU1fU1BPVF9MSUdIVF9TSEFET1dTID4gMFxuXHRcdHVuaWZvcm0gc2FtcGxlcjJEIHNwb3RTaGFkb3dNYXBbIE5VTV9TUE9UX0xJR0hUX1NIQURPV1MgXTtcblx0XHR2YXJ5aW5nIHZlYzQgdlNwb3RTaGFkb3dDb29yZFsgTlVNX1NQT1RfTElHSFRfU0hBRE9XUyBdO1xuXHRcdHN0cnVjdCBTcG90TGlnaHRTaGFkb3cge1xuXHRcdFx0ZmxvYXQgc2hhZG93Qmlhcztcblx0XHRcdGZsb2F0IHNoYWRvd05vcm1hbEJpYXM7XG5cdFx0XHRmbG9hdCBzaGFkb3dSYWRpdXM7XG5cdFx0XHR2ZWMyIHNoYWRvd01hcFNpemU7XG5cdFx0fTtcblx0XHR1bmlmb3JtIFNwb3RMaWdodFNoYWRvdyBzcG90TGlnaHRTaGFkb3dzWyBOVU1fU1BPVF9MSUdIVF9TSEFET1dTIF07XG5cdCNlbmRpZlxuXHQjaWYgTlVNX1BPSU5UX0xJR0hUX1NIQURPV1MgPiAwXG5cdFx0dW5pZm9ybSBzYW1wbGVyMkQgcG9pbnRTaGFkb3dNYXBbIE5VTV9QT0lOVF9MSUdIVF9TSEFET1dTIF07XG5cdFx0dmFyeWluZyB2ZWM0IHZQb2ludFNoYWRvd0Nvb3JkWyBOVU1fUE9JTlRfTElHSFRfU0hBRE9XUyBdO1xuXHRcdHN0cnVjdCBQb2ludExpZ2h0U2hhZG93IHtcblx0XHRcdGZsb2F0IHNoYWRvd0JpYXM7XG5cdFx0XHRmbG9hdCBzaGFkb3dOb3JtYWxCaWFzO1xuXHRcdFx0ZmxvYXQgc2hhZG93UmFkaXVzO1xuXHRcdFx0dmVjMiBzaGFkb3dNYXBTaXplO1xuXHRcdFx0ZmxvYXQgc2hhZG93Q2FtZXJhTmVhcjtcblx0XHRcdGZsb2F0IHNoYWRvd0NhbWVyYUZhcjtcblx0XHR9O1xuXHRcdHVuaWZvcm0gUG9pbnRMaWdodFNoYWRvdyBwb2ludExpZ2h0U2hhZG93c1sgTlVNX1BPSU5UX0xJR0hUX1NIQURPV1MgXTtcblx0I2VuZGlmXG5cdGZsb2F0IHRleHR1cmUyRENvbXBhcmUoIHNhbXBsZXIyRCBkZXB0aHMsIHZlYzIgdXYsIGZsb2F0IGNvbXBhcmUgKSB7XG5cdFx0cmV0dXJuIHN0ZXAoIGNvbXBhcmUsIHVucGFja1JHQkFUb0RlcHRoKCB0ZXh0dXJlMkQoIGRlcHRocywgdXYgKSApICk7XG5cdH1cblx0dmVjMiB0ZXh0dXJlMkREaXN0cmlidXRpb24oIHNhbXBsZXIyRCBzaGFkb3csIHZlYzIgdXYgKSB7XG5cdFx0cmV0dXJuIHVucGFja1JHQkFUbzJIYWxmKCB0ZXh0dXJlMkQoIHNoYWRvdywgdXYgKSApO1xuXHR9XG5cdGZsb2F0IFZTTVNoYWRvdyAoc2FtcGxlcjJEIHNoYWRvdywgdmVjMiB1diwgZmxvYXQgY29tcGFyZSApe1xuXHRcdGZsb2F0IG9jY2x1c2lvbiA9IDEuMDtcblx0XHR2ZWMyIGRpc3RyaWJ1dGlvbiA9IHRleHR1cmUyRERpc3RyaWJ1dGlvbiggc2hhZG93LCB1diApO1xuXHRcdGZsb2F0IGhhcmRfc2hhZG93ID0gc3RlcCggY29tcGFyZSAsIGRpc3RyaWJ1dGlvbi54ICk7XG5cdFx0aWYgKGhhcmRfc2hhZG93ICE9IDEuMCApIHtcblx0XHRcdGZsb2F0IGRpc3RhbmNlID0gY29tcGFyZSAtIGRpc3RyaWJ1dGlvbi54IDtcblx0XHRcdGZsb2F0IHZhcmlhbmNlID0gbWF4KCAwLjAwMDAwLCBkaXN0cmlidXRpb24ueSAqIGRpc3RyaWJ1dGlvbi55ICk7XG5cdFx0XHRmbG9hdCBzb2Z0bmVzc19wcm9iYWJpbGl0eSA9IHZhcmlhbmNlIC8gKHZhcmlhbmNlICsgZGlzdGFuY2UgKiBkaXN0YW5jZSApO1x0XHRcdHNvZnRuZXNzX3Byb2JhYmlsaXR5ID0gY2xhbXAoICggc29mdG5lc3NfcHJvYmFiaWxpdHkgLSAwLjMgKSAvICggMC45NSAtIDAuMyApLCAwLjAsIDEuMCApO1x0XHRcdG9jY2x1c2lvbiA9IGNsYW1wKCBtYXgoIGhhcmRfc2hhZG93LCBzb2Z0bmVzc19wcm9iYWJpbGl0eSApLCAwLjAsIDEuMCApO1xuXHRcdH1cblx0XHRyZXR1cm4gb2NjbHVzaW9uO1xuXHR9XG5cdGZsb2F0IGdldFNoYWRvdyggc2FtcGxlcjJEIHNoYWRvd01hcCwgdmVjMiBzaGFkb3dNYXBTaXplLCBmbG9hdCBzaGFkb3dCaWFzLCBmbG9hdCBzaGFkb3dSYWRpdXMsIHZlYzQgc2hhZG93Q29vcmQgKSB7XG5cdFx0ZmxvYXQgc2hhZG93ID0gMS4wO1xuXHRcdHNoYWRvd0Nvb3JkLnh5eiAvPSBzaGFkb3dDb29yZC53O1xuXHRcdHNoYWRvd0Nvb3JkLnogKz0gc2hhZG93Qmlhcztcblx0XHRidmVjNCBpbkZydXN0dW1WZWMgPSBidmVjNCAoIHNoYWRvd0Nvb3JkLnggPj0gMC4wLCBzaGFkb3dDb29yZC54IDw9IDEuMCwgc2hhZG93Q29vcmQueSA+PSAwLjAsIHNoYWRvd0Nvb3JkLnkgPD0gMS4wICk7XG5cdFx0Ym9vbCBpbkZydXN0dW0gPSBhbGwoIGluRnJ1c3R1bVZlYyApO1xuXHRcdGJ2ZWMyIGZydXN0dW1UZXN0VmVjID0gYnZlYzIoIGluRnJ1c3R1bSwgc2hhZG93Q29vcmQueiA8PSAxLjAgKTtcblx0XHRib29sIGZydXN0dW1UZXN0ID0gYWxsKCBmcnVzdHVtVGVzdFZlYyApO1xuXHRcdGlmICggZnJ1c3R1bVRlc3QgKSB7XG5cdFx0I2lmIGRlZmluZWQoIFNIQURPV01BUF9UWVBFX1BDRiApXG5cdFx0XHR2ZWMyIHRleGVsU2l6ZSA9IHZlYzIoIDEuMCApIC8gc2hhZG93TWFwU2l6ZTtcblx0XHRcdGZsb2F0IGR4MCA9IC0gdGV4ZWxTaXplLnggKiBzaGFkb3dSYWRpdXM7XG5cdFx0XHRmbG9hdCBkeTAgPSAtIHRleGVsU2l6ZS55ICogc2hhZG93UmFkaXVzO1xuXHRcdFx0ZmxvYXQgZHgxID0gKyB0ZXhlbFNpemUueCAqIHNoYWRvd1JhZGl1cztcblx0XHRcdGZsb2F0IGR5MSA9ICsgdGV4ZWxTaXplLnkgKiBzaGFkb3dSYWRpdXM7XG5cdFx0XHRmbG9hdCBkeDIgPSBkeDAgLyAyLjA7XG5cdFx0XHRmbG9hdCBkeTIgPSBkeTAgLyAyLjA7XG5cdFx0XHRmbG9hdCBkeDMgPSBkeDEgLyAyLjA7XG5cdFx0XHRmbG9hdCBkeTMgPSBkeTEgLyAyLjA7XG5cdFx0XHRzaGFkb3cgPSAoXG5cdFx0XHRcdHRleHR1cmUyRENvbXBhcmUoIHNoYWRvd01hcCwgc2hhZG93Q29vcmQueHkgKyB2ZWMyKCBkeDAsIGR5MCApLCBzaGFkb3dDb29yZC56ICkgK1xuXHRcdFx0XHR0ZXh0dXJlMkRDb21wYXJlKCBzaGFkb3dNYXAsIHNoYWRvd0Nvb3JkLnh5ICsgdmVjMiggMC4wLCBkeTAgKSwgc2hhZG93Q29vcmQueiApICtcblx0XHRcdFx0dGV4dHVyZTJEQ29tcGFyZSggc2hhZG93TWFwLCBzaGFkb3dDb29yZC54eSArIHZlYzIoIGR4MSwgZHkwICksIHNoYWRvd0Nvb3JkLnogKSArXG5cdFx0XHRcdHRleHR1cmUyRENvbXBhcmUoIHNoYWRvd01hcCwgc2hhZG93Q29vcmQueHkgKyB2ZWMyKCBkeDIsIGR5MiApLCBzaGFkb3dDb29yZC56ICkgK1xuXHRcdFx0XHR0ZXh0dXJlMkRDb21wYXJlKCBzaGFkb3dNYXAsIHNoYWRvd0Nvb3JkLnh5ICsgdmVjMiggMC4wLCBkeTIgKSwgc2hhZG93Q29vcmQueiApICtcblx0XHRcdFx0dGV4dHVyZTJEQ29tcGFyZSggc2hhZG93TWFwLCBzaGFkb3dDb29yZC54eSArIHZlYzIoIGR4MywgZHkyICksIHNoYWRvd0Nvb3JkLnogKSArXG5cdFx0XHRcdHRleHR1cmUyRENvbXBhcmUoIHNoYWRvd01hcCwgc2hhZG93Q29vcmQueHkgKyB2ZWMyKCBkeDAsIDAuMCApLCBzaGFkb3dDb29yZC56ICkgK1xuXHRcdFx0XHR0ZXh0dXJlMkRDb21wYXJlKCBzaGFkb3dNYXAsIHNoYWRvd0Nvb3JkLnh5ICsgdmVjMiggZHgyLCAwLjAgKSwgc2hhZG93Q29vcmQueiApICtcblx0XHRcdFx0dGV4dHVyZTJEQ29tcGFyZSggc2hhZG93TWFwLCBzaGFkb3dDb29yZC54eSwgc2hhZG93Q29vcmQueiApICtcblx0XHRcdFx0dGV4dHVyZTJEQ29tcGFyZSggc2hhZG93TWFwLCBzaGFkb3dDb29yZC54eSArIHZlYzIoIGR4MywgMC4wICksIHNoYWRvd0Nvb3JkLnogKSArXG5cdFx0XHRcdHRleHR1cmUyRENvbXBhcmUoIHNoYWRvd01hcCwgc2hhZG93Q29vcmQueHkgKyB2ZWMyKCBkeDEsIDAuMCApLCBzaGFkb3dDb29yZC56ICkgK1xuXHRcdFx0XHR0ZXh0dXJlMkRDb21wYXJlKCBzaGFkb3dNYXAsIHNoYWRvd0Nvb3JkLnh5ICsgdmVjMiggZHgyLCBkeTMgKSwgc2hhZG93Q29vcmQueiApICtcblx0XHRcdFx0dGV4dHVyZTJEQ29tcGFyZSggc2hhZG93TWFwLCBzaGFkb3dDb29yZC54eSArIHZlYzIoIDAuMCwgZHkzICksIHNoYWRvd0Nvb3JkLnogKSArXG5cdFx0XHRcdHRleHR1cmUyRENvbXBhcmUoIHNoYWRvd01hcCwgc2hhZG93Q29vcmQueHkgKyB2ZWMyKCBkeDMsIGR5MyApLCBzaGFkb3dDb29yZC56ICkgK1xuXHRcdFx0XHR0ZXh0dXJlMkRDb21wYXJlKCBzaGFkb3dNYXAsIHNoYWRvd0Nvb3JkLnh5ICsgdmVjMiggZHgwLCBkeTEgKSwgc2hhZG93Q29vcmQueiApICtcblx0XHRcdFx0dGV4dHVyZTJEQ29tcGFyZSggc2hhZG93TWFwLCBzaGFkb3dDb29yZC54eSArIHZlYzIoIDAuMCwgZHkxICksIHNoYWRvd0Nvb3JkLnogKSArXG5cdFx0XHRcdHRleHR1cmUyRENvbXBhcmUoIHNoYWRvd01hcCwgc2hhZG93Q29vcmQueHkgKyB2ZWMyKCBkeDEsIGR5MSApLCBzaGFkb3dDb29yZC56IClcblx0XHRcdCkgKiAoIDEuMCAvIDE3LjAgKTtcblx0XHQjZWxpZiBkZWZpbmVkKCBTSEFET1dNQVBfVFlQRV9QQ0ZfU09GVCApXG5cdFx0XHR2ZWMyIHRleGVsU2l6ZSA9IHZlYzIoIDEuMCApIC8gc2hhZG93TWFwU2l6ZTtcblx0XHRcdGZsb2F0IGR4ID0gdGV4ZWxTaXplLng7XG5cdFx0XHRmbG9hdCBkeSA9IHRleGVsU2l6ZS55O1xuXHRcdFx0dmVjMiB1diA9IHNoYWRvd0Nvb3JkLnh5O1xuXHRcdFx0dmVjMiBmID0gZnJhY3QoIHV2ICogc2hhZG93TWFwU2l6ZSArIDAuNSApO1xuXHRcdFx0dXYgLT0gZiAqIHRleGVsU2l6ZTtcblx0XHRcdHNoYWRvdyA9IChcblx0XHRcdFx0dGV4dHVyZTJEQ29tcGFyZSggc2hhZG93TWFwLCB1diwgc2hhZG93Q29vcmQueiApICtcblx0XHRcdFx0dGV4dHVyZTJEQ29tcGFyZSggc2hhZG93TWFwLCB1diArIHZlYzIoIGR4LCAwLjAgKSwgc2hhZG93Q29vcmQueiApICtcblx0XHRcdFx0dGV4dHVyZTJEQ29tcGFyZSggc2hhZG93TWFwLCB1diArIHZlYzIoIDAuMCwgZHkgKSwgc2hhZG93Q29vcmQueiApICtcblx0XHRcdFx0dGV4dHVyZTJEQ29tcGFyZSggc2hhZG93TWFwLCB1diArIHRleGVsU2l6ZSwgc2hhZG93Q29vcmQueiApICtcblx0XHRcdFx0bWl4KCB0ZXh0dXJlMkRDb21wYXJlKCBzaGFkb3dNYXAsIHV2ICsgdmVjMiggLWR4LCAwLjAgKSwgc2hhZG93Q29vcmQueiApLCBcblx0XHRcdFx0XHQgdGV4dHVyZTJEQ29tcGFyZSggc2hhZG93TWFwLCB1diArIHZlYzIoIDIuMCAqIGR4LCAwLjAgKSwgc2hhZG93Q29vcmQueiApLFxuXHRcdFx0XHRcdCBmLnggKSArXG5cdFx0XHRcdG1peCggdGV4dHVyZTJEQ29tcGFyZSggc2hhZG93TWFwLCB1diArIHZlYzIoIC1keCwgZHkgKSwgc2hhZG93Q29vcmQueiApLCBcblx0XHRcdFx0XHQgdGV4dHVyZTJEQ29tcGFyZSggc2hhZG93TWFwLCB1diArIHZlYzIoIDIuMCAqIGR4LCBkeSApLCBzaGFkb3dDb29yZC56ICksXG5cdFx0XHRcdFx0IGYueCApICtcblx0XHRcdFx0bWl4KCB0ZXh0dXJlMkRDb21wYXJlKCBzaGFkb3dNYXAsIHV2ICsgdmVjMiggMC4wLCAtZHkgKSwgc2hhZG93Q29vcmQueiApLCBcblx0XHRcdFx0XHQgdGV4dHVyZTJEQ29tcGFyZSggc2hhZG93TWFwLCB1diArIHZlYzIoIDAuMCwgMi4wICogZHkgKSwgc2hhZG93Q29vcmQueiApLFxuXHRcdFx0XHRcdCBmLnkgKSArXG5cdFx0XHRcdG1peCggdGV4dHVyZTJEQ29tcGFyZSggc2hhZG93TWFwLCB1diArIHZlYzIoIGR4LCAtZHkgKSwgc2hhZG93Q29vcmQueiApLCBcblx0XHRcdFx0XHQgdGV4dHVyZTJEQ29tcGFyZSggc2hhZG93TWFwLCB1diArIHZlYzIoIGR4LCAyLjAgKiBkeSApLCBzaGFkb3dDb29yZC56ICksXG5cdFx0XHRcdFx0IGYueSApICtcblx0XHRcdFx0bWl4KCBtaXgoIHRleHR1cmUyRENvbXBhcmUoIHNoYWRvd01hcCwgdXYgKyB2ZWMyKCAtZHgsIC1keSApLCBzaGFkb3dDb29yZC56ICksIFxuXHRcdFx0XHRcdFx0XHR0ZXh0dXJlMkRDb21wYXJlKCBzaGFkb3dNYXAsIHV2ICsgdmVjMiggMi4wICogZHgsIC1keSApLCBzaGFkb3dDb29yZC56ICksXG5cdFx0XHRcdFx0XHRcdGYueCApLFxuXHRcdFx0XHRcdCBtaXgoIHRleHR1cmUyRENvbXBhcmUoIHNoYWRvd01hcCwgdXYgKyB2ZWMyKCAtZHgsIDIuMCAqIGR5ICksIHNoYWRvd0Nvb3JkLnogKSwgXG5cdFx0XHRcdFx0XHRcdHRleHR1cmUyRENvbXBhcmUoIHNoYWRvd01hcCwgdXYgKyB2ZWMyKCAyLjAgKiBkeCwgMi4wICogZHkgKSwgc2hhZG93Q29vcmQueiApLFxuXHRcdFx0XHRcdFx0XHRmLnggKSxcblx0XHRcdFx0XHQgZi55IClcblx0XHRcdCkgKiAoIDEuMCAvIDkuMCApO1xuXHRcdCNlbGlmIGRlZmluZWQoIFNIQURPV01BUF9UWVBFX1ZTTSApXG5cdFx0XHRzaGFkb3cgPSBWU01TaGFkb3coIHNoYWRvd01hcCwgc2hhZG93Q29vcmQueHksIHNoYWRvd0Nvb3JkLnogKTtcblx0XHQjZWxzZVxuXHRcdFx0c2hhZG93ID0gdGV4dHVyZTJEQ29tcGFyZSggc2hhZG93TWFwLCBzaGFkb3dDb29yZC54eSwgc2hhZG93Q29vcmQueiApO1xuXHRcdCNlbmRpZlxuXHRcdH1cblx0XHRyZXR1cm4gc2hhZG93O1xuXHR9XG5cdHZlYzIgY3ViZVRvVVYoIHZlYzMgdiwgZmxvYXQgdGV4ZWxTaXplWSApIHtcblx0XHR2ZWMzIGFic1YgPSBhYnMoIHYgKTtcblx0XHRmbG9hdCBzY2FsZVRvQ3ViZSA9IDEuMCAvIG1heCggYWJzVi54LCBtYXgoIGFic1YueSwgYWJzVi56ICkgKTtcblx0XHRhYnNWICo9IHNjYWxlVG9DdWJlO1xuXHRcdHYgKj0gc2NhbGVUb0N1YmUgKiAoIDEuMCAtIDIuMCAqIHRleGVsU2l6ZVkgKTtcblx0XHR2ZWMyIHBsYW5hciA9IHYueHk7XG5cdFx0ZmxvYXQgYWxtb3N0QVRleGVsID0gMS41ICogdGV4ZWxTaXplWTtcblx0XHRmbG9hdCBhbG1vc3RPbmUgPSAxLjAgLSBhbG1vc3RBVGV4ZWw7XG5cdFx0aWYgKCBhYnNWLnogPj0gYWxtb3N0T25lICkge1xuXHRcdFx0aWYgKCB2LnogPiAwLjAgKVxuXHRcdFx0XHRwbGFuYXIueCA9IDQuMCAtIHYueDtcblx0XHR9IGVsc2UgaWYgKCBhYnNWLnggPj0gYWxtb3N0T25lICkge1xuXHRcdFx0ZmxvYXQgc2lnblggPSBzaWduKCB2LnggKTtcblx0XHRcdHBsYW5hci54ID0gdi56ICogc2lnblggKyAyLjAgKiBzaWduWDtcblx0XHR9IGVsc2UgaWYgKCBhYnNWLnkgPj0gYWxtb3N0T25lICkge1xuXHRcdFx0ZmxvYXQgc2lnblkgPSBzaWduKCB2LnkgKTtcblx0XHRcdHBsYW5hci54ID0gdi54ICsgMi4wICogc2lnblkgKyAyLjA7XG5cdFx0XHRwbGFuYXIueSA9IHYueiAqIHNpZ25ZIC0gMi4wO1xuXHRcdH1cblx0XHRyZXR1cm4gdmVjMiggMC4xMjUsIDAuMjUgKSAqIHBsYW5hciArIHZlYzIoIDAuMzc1LCAwLjc1ICk7XG5cdH1cblx0ZmxvYXQgZ2V0UG9pbnRTaGFkb3coIHNhbXBsZXIyRCBzaGFkb3dNYXAsIHZlYzIgc2hhZG93TWFwU2l6ZSwgZmxvYXQgc2hhZG93QmlhcywgZmxvYXQgc2hhZG93UmFkaXVzLCB2ZWM0IHNoYWRvd0Nvb3JkLCBmbG9hdCBzaGFkb3dDYW1lcmFOZWFyLCBmbG9hdCBzaGFkb3dDYW1lcmFGYXIgKSB7XG5cdFx0dmVjMiB0ZXhlbFNpemUgPSB2ZWMyKCAxLjAgKSAvICggc2hhZG93TWFwU2l6ZSAqIHZlYzIoIDQuMCwgMi4wICkgKTtcblx0XHR2ZWMzIGxpZ2h0VG9Qb3NpdGlvbiA9IHNoYWRvd0Nvb3JkLnh5ejtcblx0XHRmbG9hdCBkcCA9ICggbGVuZ3RoKCBsaWdodFRvUG9zaXRpb24gKSAtIHNoYWRvd0NhbWVyYU5lYXIgKSAvICggc2hhZG93Q2FtZXJhRmFyIC0gc2hhZG93Q2FtZXJhTmVhciApO1x0XHRkcCArPSBzaGFkb3dCaWFzO1xuXHRcdHZlYzMgYmQzRCA9IG5vcm1hbGl6ZSggbGlnaHRUb1Bvc2l0aW9uICk7XG5cdFx0I2lmIGRlZmluZWQoIFNIQURPV01BUF9UWVBFX1BDRiApIHx8IGRlZmluZWQoIFNIQURPV01BUF9UWVBFX1BDRl9TT0ZUICkgfHwgZGVmaW5lZCggU0hBRE9XTUFQX1RZUEVfVlNNIClcblx0XHRcdHZlYzIgb2Zmc2V0ID0gdmVjMiggLSAxLCAxICkgKiBzaGFkb3dSYWRpdXMgKiB0ZXhlbFNpemUueTtcblx0XHRcdHJldHVybiAoXG5cdFx0XHRcdHRleHR1cmUyRENvbXBhcmUoIHNoYWRvd01hcCwgY3ViZVRvVVYoIGJkM0QgKyBvZmZzZXQueHl5LCB0ZXhlbFNpemUueSApLCBkcCApICtcblx0XHRcdFx0dGV4dHVyZTJEQ29tcGFyZSggc2hhZG93TWFwLCBjdWJlVG9VViggYmQzRCArIG9mZnNldC55eXksIHRleGVsU2l6ZS55ICksIGRwICkgK1xuXHRcdFx0XHR0ZXh0dXJlMkRDb21wYXJlKCBzaGFkb3dNYXAsIGN1YmVUb1VWKCBiZDNEICsgb2Zmc2V0Lnh5eCwgdGV4ZWxTaXplLnkgKSwgZHAgKSArXG5cdFx0XHRcdHRleHR1cmUyRENvbXBhcmUoIHNoYWRvd01hcCwgY3ViZVRvVVYoIGJkM0QgKyBvZmZzZXQueXl4LCB0ZXhlbFNpemUueSApLCBkcCApICtcblx0XHRcdFx0dGV4dHVyZTJEQ29tcGFyZSggc2hhZG93TWFwLCBjdWJlVG9VViggYmQzRCwgdGV4ZWxTaXplLnkgKSwgZHAgKSArXG5cdFx0XHRcdHRleHR1cmUyRENvbXBhcmUoIHNoYWRvd01hcCwgY3ViZVRvVVYoIGJkM0QgKyBvZmZzZXQueHh5LCB0ZXhlbFNpemUueSApLCBkcCApICtcblx0XHRcdFx0dGV4dHVyZTJEQ29tcGFyZSggc2hhZG93TWFwLCBjdWJlVG9VViggYmQzRCArIG9mZnNldC55eHksIHRleGVsU2l6ZS55ICksIGRwICkgK1xuXHRcdFx0XHR0ZXh0dXJlMkRDb21wYXJlKCBzaGFkb3dNYXAsIGN1YmVUb1VWKCBiZDNEICsgb2Zmc2V0Lnh4eCwgdGV4ZWxTaXplLnkgKSwgZHAgKSArXG5cdFx0XHRcdHRleHR1cmUyRENvbXBhcmUoIHNoYWRvd01hcCwgY3ViZVRvVVYoIGJkM0QgKyBvZmZzZXQueXh4LCB0ZXhlbFNpemUueSApLCBkcCApXG5cdFx0XHQpICogKCAxLjAgLyA5LjAgKTtcblx0XHQjZWxzZVxuXHRcdFx0cmV0dXJuIHRleHR1cmUyRENvbXBhcmUoIHNoYWRvd01hcCwgY3ViZVRvVVYoIGJkM0QsIHRleGVsU2l6ZS55ICksIGRwICk7XG5cdFx0I2VuZGlmXG5cdH1cbiNlbmRpZiIsc2hhZG93bWFwX3BhcnNfdmVydGV4OiIjaWZkZWYgVVNFX1NIQURPV01BUFxuXHQjaWYgTlVNX0RJUl9MSUdIVF9TSEFET1dTID4gMFxuXHRcdHVuaWZvcm0gbWF0NCBkaXJlY3Rpb25hbFNoYWRvd01hdHJpeFsgTlVNX0RJUl9MSUdIVF9TSEFET1dTIF07XG5cdFx0dmFyeWluZyB2ZWM0IHZEaXJlY3Rpb25hbFNoYWRvd0Nvb3JkWyBOVU1fRElSX0xJR0hUX1NIQURPV1MgXTtcblx0XHRzdHJ1Y3QgRGlyZWN0aW9uYWxMaWdodFNoYWRvdyB7XG5cdFx0XHRmbG9hdCBzaGFkb3dCaWFzO1xuXHRcdFx0ZmxvYXQgc2hhZG93Tm9ybWFsQmlhcztcblx0XHRcdGZsb2F0IHNoYWRvd1JhZGl1cztcblx0XHRcdHZlYzIgc2hhZG93TWFwU2l6ZTtcblx0XHR9O1xuXHRcdHVuaWZvcm0gRGlyZWN0aW9uYWxMaWdodFNoYWRvdyBkaXJlY3Rpb25hbExpZ2h0U2hhZG93c1sgTlVNX0RJUl9MSUdIVF9TSEFET1dTIF07XG5cdCNlbmRpZlxuXHQjaWYgTlVNX1NQT1RfTElHSFRfU0hBRE9XUyA+IDBcblx0XHR1bmlmb3JtIG1hdDQgc3BvdFNoYWRvd01hdHJpeFsgTlVNX1NQT1RfTElHSFRfU0hBRE9XUyBdO1xuXHRcdHZhcnlpbmcgdmVjNCB2U3BvdFNoYWRvd0Nvb3JkWyBOVU1fU1BPVF9MSUdIVF9TSEFET1dTIF07XG5cdFx0c3RydWN0IFNwb3RMaWdodFNoYWRvdyB7XG5cdFx0XHRmbG9hdCBzaGFkb3dCaWFzO1xuXHRcdFx0ZmxvYXQgc2hhZG93Tm9ybWFsQmlhcztcblx0XHRcdGZsb2F0IHNoYWRvd1JhZGl1cztcblx0XHRcdHZlYzIgc2hhZG93TWFwU2l6ZTtcblx0XHR9O1xuXHRcdHVuaWZvcm0gU3BvdExpZ2h0U2hhZG93IHNwb3RMaWdodFNoYWRvd3NbIE5VTV9TUE9UX0xJR0hUX1NIQURPV1MgXTtcblx0I2VuZGlmXG5cdCNpZiBOVU1fUE9JTlRfTElHSFRfU0hBRE9XUyA+IDBcblx0XHR1bmlmb3JtIG1hdDQgcG9pbnRTaGFkb3dNYXRyaXhbIE5VTV9QT0lOVF9MSUdIVF9TSEFET1dTIF07XG5cdFx0dmFyeWluZyB2ZWM0IHZQb2ludFNoYWRvd0Nvb3JkWyBOVU1fUE9JTlRfTElHSFRfU0hBRE9XUyBdO1xuXHRcdHN0cnVjdCBQb2ludExpZ2h0U2hhZG93IHtcblx0XHRcdGZsb2F0IHNoYWRvd0JpYXM7XG5cdFx0XHRmbG9hdCBzaGFkb3dOb3JtYWxCaWFzO1xuXHRcdFx0ZmxvYXQgc2hhZG93UmFkaXVzO1xuXHRcdFx0dmVjMiBzaGFkb3dNYXBTaXplO1xuXHRcdFx0ZmxvYXQgc2hhZG93Q2FtZXJhTmVhcjtcblx0XHRcdGZsb2F0IHNoYWRvd0NhbWVyYUZhcjtcblx0XHR9O1xuXHRcdHVuaWZvcm0gUG9pbnRMaWdodFNoYWRvdyBwb2ludExpZ2h0U2hhZG93c1sgTlVNX1BPSU5UX0xJR0hUX1NIQURPV1MgXTtcblx0I2VuZGlmXG4jZW5kaWYiLHNoYWRvd21hcF92ZXJ0ZXg6IiNpZmRlZiBVU0VfU0hBRE9XTUFQXG5cdCNpZiBOVU1fRElSX0xJR0hUX1NIQURPV1MgPiAwIHx8IE5VTV9TUE9UX0xJR0hUX1NIQURPV1MgPiAwIHx8IE5VTV9QT0lOVF9MSUdIVF9TSEFET1dTID4gMFxuXHRcdHZlYzMgc2hhZG93V29ybGROb3JtYWwgPSBpbnZlcnNlVHJhbnNmb3JtRGlyZWN0aW9uKCB0cmFuc2Zvcm1lZE5vcm1hbCwgdmlld01hdHJpeCApO1xuXHRcdHZlYzQgc2hhZG93V29ybGRQb3NpdGlvbjtcblx0I2VuZGlmXG5cdCNpZiBOVU1fRElSX0xJR0hUX1NIQURPV1MgPiAwXG5cdCNwcmFnbWEgdW5yb2xsX2xvb3Bfc3RhcnRcblx0Zm9yICggaW50IGkgPSAwOyBpIDwgTlVNX0RJUl9MSUdIVF9TSEFET1dTOyBpICsrICkge1xuXHRcdHNoYWRvd1dvcmxkUG9zaXRpb24gPSB3b3JsZFBvc2l0aW9uICsgdmVjNCggc2hhZG93V29ybGROb3JtYWwgKiBkaXJlY3Rpb25hbExpZ2h0U2hhZG93c1sgaSBdLnNoYWRvd05vcm1hbEJpYXMsIDAgKTtcblx0XHR2RGlyZWN0aW9uYWxTaGFkb3dDb29yZFsgaSBdID0gZGlyZWN0aW9uYWxTaGFkb3dNYXRyaXhbIGkgXSAqIHNoYWRvd1dvcmxkUG9zaXRpb247XG5cdH1cblx0I3ByYWdtYSB1bnJvbGxfbG9vcF9lbmRcblx0I2VuZGlmXG5cdCNpZiBOVU1fU1BPVF9MSUdIVF9TSEFET1dTID4gMFxuXHQjcHJhZ21hIHVucm9sbF9sb29wX3N0YXJ0XG5cdGZvciAoIGludCBpID0gMDsgaSA8IE5VTV9TUE9UX0xJR0hUX1NIQURPV1M7IGkgKysgKSB7XG5cdFx0c2hhZG93V29ybGRQb3NpdGlvbiA9IHdvcmxkUG9zaXRpb24gKyB2ZWM0KCBzaGFkb3dXb3JsZE5vcm1hbCAqIHNwb3RMaWdodFNoYWRvd3NbIGkgXS5zaGFkb3dOb3JtYWxCaWFzLCAwICk7XG5cdFx0dlNwb3RTaGFkb3dDb29yZFsgaSBdID0gc3BvdFNoYWRvd01hdHJpeFsgaSBdICogc2hhZG93V29ybGRQb3NpdGlvbjtcblx0fVxuXHQjcHJhZ21hIHVucm9sbF9sb29wX2VuZFxuXHQjZW5kaWZcblx0I2lmIE5VTV9QT0lOVF9MSUdIVF9TSEFET1dTID4gMFxuXHQjcHJhZ21hIHVucm9sbF9sb29wX3N0YXJ0XG5cdGZvciAoIGludCBpID0gMDsgaSA8IE5VTV9QT0lOVF9MSUdIVF9TSEFET1dTOyBpICsrICkge1xuXHRcdHNoYWRvd1dvcmxkUG9zaXRpb24gPSB3b3JsZFBvc2l0aW9uICsgdmVjNCggc2hhZG93V29ybGROb3JtYWwgKiBwb2ludExpZ2h0U2hhZG93c1sgaSBdLnNoYWRvd05vcm1hbEJpYXMsIDAgKTtcblx0XHR2UG9pbnRTaGFkb3dDb29yZFsgaSBdID0gcG9pbnRTaGFkb3dNYXRyaXhbIGkgXSAqIHNoYWRvd1dvcmxkUG9zaXRpb247XG5cdH1cblx0I3ByYWdtYSB1bnJvbGxfbG9vcF9lbmRcblx0I2VuZGlmXG4jZW5kaWYiLHNoYWRvd21hc2tfcGFyc19mcmFnbWVudDoiZmxvYXQgZ2V0U2hhZG93TWFzaygpIHtcblx0ZmxvYXQgc2hhZG93ID0gMS4wO1xuXHQjaWZkZWYgVVNFX1NIQURPV01BUFxuXHQjaWYgTlVNX0RJUl9MSUdIVF9TSEFET1dTID4gMFxuXHREaXJlY3Rpb25hbExpZ2h0U2hhZG93IGRpcmVjdGlvbmFsTGlnaHQ7XG5cdCNwcmFnbWEgdW5yb2xsX2xvb3Bfc3RhcnRcblx0Zm9yICggaW50IGkgPSAwOyBpIDwgTlVNX0RJUl9MSUdIVF9TSEFET1dTOyBpICsrICkge1xuXHRcdGRpcmVjdGlvbmFsTGlnaHQgPSBkaXJlY3Rpb25hbExpZ2h0U2hhZG93c1sgaSBdO1xuXHRcdHNoYWRvdyAqPSByZWNlaXZlU2hhZG93ID8gZ2V0U2hhZG93KCBkaXJlY3Rpb25hbFNoYWRvd01hcFsgaSBdLCBkaXJlY3Rpb25hbExpZ2h0LnNoYWRvd01hcFNpemUsIGRpcmVjdGlvbmFsTGlnaHQuc2hhZG93QmlhcywgZGlyZWN0aW9uYWxMaWdodC5zaGFkb3dSYWRpdXMsIHZEaXJlY3Rpb25hbFNoYWRvd0Nvb3JkWyBpIF0gKSA6IDEuMDtcblx0fVxuXHQjcHJhZ21hIHVucm9sbF9sb29wX2VuZFxuXHQjZW5kaWZcblx0I2lmIE5VTV9TUE9UX0xJR0hUX1NIQURPV1MgPiAwXG5cdFNwb3RMaWdodFNoYWRvdyBzcG90TGlnaHQ7XG5cdCNwcmFnbWEgdW5yb2xsX2xvb3Bfc3RhcnRcblx0Zm9yICggaW50IGkgPSAwOyBpIDwgTlVNX1NQT1RfTElHSFRfU0hBRE9XUzsgaSArKyApIHtcblx0XHRzcG90TGlnaHQgPSBzcG90TGlnaHRTaGFkb3dzWyBpIF07XG5cdFx0c2hhZG93ICo9IHJlY2VpdmVTaGFkb3cgPyBnZXRTaGFkb3coIHNwb3RTaGFkb3dNYXBbIGkgXSwgc3BvdExpZ2h0LnNoYWRvd01hcFNpemUsIHNwb3RMaWdodC5zaGFkb3dCaWFzLCBzcG90TGlnaHQuc2hhZG93UmFkaXVzLCB2U3BvdFNoYWRvd0Nvb3JkWyBpIF0gKSA6IDEuMDtcblx0fVxuXHQjcHJhZ21hIHVucm9sbF9sb29wX2VuZFxuXHQjZW5kaWZcblx0I2lmIE5VTV9QT0lOVF9MSUdIVF9TSEFET1dTID4gMFxuXHRQb2ludExpZ2h0U2hhZG93IHBvaW50TGlnaHQ7XG5cdCNwcmFnbWEgdW5yb2xsX2xvb3Bfc3RhcnRcblx0Zm9yICggaW50IGkgPSAwOyBpIDwgTlVNX1BPSU5UX0xJR0hUX1NIQURPV1M7IGkgKysgKSB7XG5cdFx0cG9pbnRMaWdodCA9IHBvaW50TGlnaHRTaGFkb3dzWyBpIF07XG5cdFx0c2hhZG93ICo9IHJlY2VpdmVTaGFkb3cgPyBnZXRQb2ludFNoYWRvdyggcG9pbnRTaGFkb3dNYXBbIGkgXSwgcG9pbnRMaWdodC5zaGFkb3dNYXBTaXplLCBwb2ludExpZ2h0LnNoYWRvd0JpYXMsIHBvaW50TGlnaHQuc2hhZG93UmFkaXVzLCB2UG9pbnRTaGFkb3dDb29yZFsgaSBdLCBwb2ludExpZ2h0LnNoYWRvd0NhbWVyYU5lYXIsIHBvaW50TGlnaHQuc2hhZG93Q2FtZXJhRmFyICkgOiAxLjA7XG5cdH1cblx0I3ByYWdtYSB1bnJvbGxfbG9vcF9lbmRcblx0I2VuZGlmXG5cdCNlbmRpZlxuXHRyZXR1cm4gc2hhZG93O1xufSIsc2tpbmJhc2VfdmVydGV4OiIjaWZkZWYgVVNFX1NLSU5OSU5HXG5cdG1hdDQgYm9uZU1hdFggPSBnZXRCb25lTWF0cml4KCBza2luSW5kZXgueCApO1xuXHRtYXQ0IGJvbmVNYXRZID0gZ2V0Qm9uZU1hdHJpeCggc2tpbkluZGV4LnkgKTtcblx0bWF0NCBib25lTWF0WiA9IGdldEJvbmVNYXRyaXgoIHNraW5JbmRleC56ICk7XG5cdG1hdDQgYm9uZU1hdFcgPSBnZXRCb25lTWF0cml4KCBza2luSW5kZXgudyApO1xuI2VuZGlmIixza2lubmluZ19wYXJzX3ZlcnRleDoiI2lmZGVmIFVTRV9TS0lOTklOR1xuXHR1bmlmb3JtIG1hdDQgYmluZE1hdHJpeDtcblx0dW5pZm9ybSBtYXQ0IGJpbmRNYXRyaXhJbnZlcnNlO1xuXHQjaWZkZWYgQk9ORV9URVhUVVJFXG5cdFx0dW5pZm9ybSBoaWdocCBzYW1wbGVyMkQgYm9uZVRleHR1cmU7XG5cdFx0dW5pZm9ybSBpbnQgYm9uZVRleHR1cmVTaXplO1xuXHRcdG1hdDQgZ2V0Qm9uZU1hdHJpeCggY29uc3QgaW4gZmxvYXQgaSApIHtcblx0XHRcdGZsb2F0IGogPSBpICogNC4wO1xuXHRcdFx0ZmxvYXQgeCA9IG1vZCggaiwgZmxvYXQoIGJvbmVUZXh0dXJlU2l6ZSApICk7XG5cdFx0XHRmbG9hdCB5ID0gZmxvb3IoIGogLyBmbG9hdCggYm9uZVRleHR1cmVTaXplICkgKTtcblx0XHRcdGZsb2F0IGR4ID0gMS4wIC8gZmxvYXQoIGJvbmVUZXh0dXJlU2l6ZSApO1xuXHRcdFx0ZmxvYXQgZHkgPSAxLjAgLyBmbG9hdCggYm9uZVRleHR1cmVTaXplICk7XG5cdFx0XHR5ID0gZHkgKiAoIHkgKyAwLjUgKTtcblx0XHRcdHZlYzQgdjEgPSB0ZXh0dXJlMkQoIGJvbmVUZXh0dXJlLCB2ZWMyKCBkeCAqICggeCArIDAuNSApLCB5ICkgKTtcblx0XHRcdHZlYzQgdjIgPSB0ZXh0dXJlMkQoIGJvbmVUZXh0dXJlLCB2ZWMyKCBkeCAqICggeCArIDEuNSApLCB5ICkgKTtcblx0XHRcdHZlYzQgdjMgPSB0ZXh0dXJlMkQoIGJvbmVUZXh0dXJlLCB2ZWMyKCBkeCAqICggeCArIDIuNSApLCB5ICkgKTtcblx0XHRcdHZlYzQgdjQgPSB0ZXh0dXJlMkQoIGJvbmVUZXh0dXJlLCB2ZWMyKCBkeCAqICggeCArIDMuNSApLCB5ICkgKTtcblx0XHRcdG1hdDQgYm9uZSA9IG1hdDQoIHYxLCB2MiwgdjMsIHY0ICk7XG5cdFx0XHRyZXR1cm4gYm9uZTtcblx0XHR9XG5cdCNlbHNlXG5cdFx0dW5pZm9ybSBtYXQ0IGJvbmVNYXRyaWNlc1sgTUFYX0JPTkVTIF07XG5cdFx0bWF0NCBnZXRCb25lTWF0cml4KCBjb25zdCBpbiBmbG9hdCBpICkge1xuXHRcdFx0bWF0NCBib25lID0gYm9uZU1hdHJpY2VzWyBpbnQoaSkgXTtcblx0XHRcdHJldHVybiBib25lO1xuXHRcdH1cblx0I2VuZGlmXG4jZW5kaWYiLHNraW5uaW5nX3ZlcnRleDoiI2lmZGVmIFVTRV9TS0lOTklOR1xuXHR2ZWM0IHNraW5WZXJ0ZXggPSBiaW5kTWF0cml4ICogdmVjNCggdHJhbnNmb3JtZWQsIDEuMCApO1xuXHR2ZWM0IHNraW5uZWQgPSB2ZWM0KCAwLjAgKTtcblx0c2tpbm5lZCArPSBib25lTWF0WCAqIHNraW5WZXJ0ZXggKiBza2luV2VpZ2h0Lng7XG5cdHNraW5uZWQgKz0gYm9uZU1hdFkgKiBza2luVmVydGV4ICogc2tpbldlaWdodC55O1xuXHRza2lubmVkICs9IGJvbmVNYXRaICogc2tpblZlcnRleCAqIHNraW5XZWlnaHQuejtcblx0c2tpbm5lZCArPSBib25lTWF0VyAqIHNraW5WZXJ0ZXggKiBza2luV2VpZ2h0Lnc7XG5cdHRyYW5zZm9ybWVkID0gKCBiaW5kTWF0cml4SW52ZXJzZSAqIHNraW5uZWQgKS54eXo7XG4jZW5kaWYiLHNraW5ub3JtYWxfdmVydGV4OiIjaWZkZWYgVVNFX1NLSU5OSU5HXG5cdG1hdDQgc2tpbk1hdHJpeCA9IG1hdDQoIDAuMCApO1xuXHRza2luTWF0cml4ICs9IHNraW5XZWlnaHQueCAqIGJvbmVNYXRYO1xuXHRza2luTWF0cml4ICs9IHNraW5XZWlnaHQueSAqIGJvbmVNYXRZO1xuXHRza2luTWF0cml4ICs9IHNraW5XZWlnaHQueiAqIGJvbmVNYXRaO1xuXHRza2luTWF0cml4ICs9IHNraW5XZWlnaHQudyAqIGJvbmVNYXRXO1xuXHRza2luTWF0cml4ID0gYmluZE1hdHJpeEludmVyc2UgKiBza2luTWF0cml4ICogYmluZE1hdHJpeDtcblx0b2JqZWN0Tm9ybWFsID0gdmVjNCggc2tpbk1hdHJpeCAqIHZlYzQoIG9iamVjdE5vcm1hbCwgMC4wICkgKS54eXo7XG5cdCNpZmRlZiBVU0VfVEFOR0VOVFxuXHRcdG9iamVjdFRhbmdlbnQgPSB2ZWM0KCBza2luTWF0cml4ICogdmVjNCggb2JqZWN0VGFuZ2VudCwgMC4wICkgKS54eXo7XG5cdCNlbmRpZlxuI2VuZGlmIixzcGVjdWxhcm1hcF9mcmFnbWVudDoiZmxvYXQgc3BlY3VsYXJTdHJlbmd0aDtcbiNpZmRlZiBVU0VfU1BFQ1VMQVJNQVBcblx0dmVjNCB0ZXhlbFNwZWN1bGFyID0gdGV4dHVyZTJEKCBzcGVjdWxhck1hcCwgdlV2ICk7XG5cdHNwZWN1bGFyU3RyZW5ndGggPSB0ZXhlbFNwZWN1bGFyLnI7XG4jZWxzZVxuXHRzcGVjdWxhclN0cmVuZ3RoID0gMS4wO1xuI2VuZGlmIixzcGVjdWxhcm1hcF9wYXJzX2ZyYWdtZW50OiIjaWZkZWYgVVNFX1NQRUNVTEFSTUFQXG5cdHVuaWZvcm0gc2FtcGxlcjJEIHNwZWN1bGFyTWFwO1xuI2VuZGlmIix0b25lbWFwcGluZ19mcmFnbWVudDoiI2lmIGRlZmluZWQoIFRPTkVfTUFQUElORyApXG5cdGdsX0ZyYWdDb2xvci5yZ2IgPSB0b25lTWFwcGluZyggZ2xfRnJhZ0NvbG9yLnJnYiApO1xuI2VuZGlmIix0b25lbWFwcGluZ19wYXJzX2ZyYWdtZW50OiIjaWZuZGVmIHNhdHVyYXRlXG4jZGVmaW5lIHNhdHVyYXRlKGEpIGNsYW1wKCBhLCAwLjAsIDEuMCApXG4jZW5kaWZcbnVuaWZvcm0gZmxvYXQgdG9uZU1hcHBpbmdFeHBvc3VyZTtcbnZlYzMgTGluZWFyVG9uZU1hcHBpbmcoIHZlYzMgY29sb3IgKSB7XG5cdHJldHVybiB0b25lTWFwcGluZ0V4cG9zdXJlICogY29sb3I7XG59XG52ZWMzIFJlaW5oYXJkVG9uZU1hcHBpbmcoIHZlYzMgY29sb3IgKSB7XG5cdGNvbG9yICo9IHRvbmVNYXBwaW5nRXhwb3N1cmU7XG5cdHJldHVybiBzYXR1cmF0ZSggY29sb3IgLyAoIHZlYzMoIDEuMCApICsgY29sb3IgKSApO1xufVxudmVjMyBPcHRpbWl6ZWRDaW5lb25Ub25lTWFwcGluZyggdmVjMyBjb2xvciApIHtcblx0Y29sb3IgKj0gdG9uZU1hcHBpbmdFeHBvc3VyZTtcblx0Y29sb3IgPSBtYXgoIHZlYzMoIDAuMCApLCBjb2xvciAtIDAuMDA0ICk7XG5cdHJldHVybiBwb3coICggY29sb3IgKiAoIDYuMiAqIGNvbG9yICsgMC41ICkgKSAvICggY29sb3IgKiAoIDYuMiAqIGNvbG9yICsgMS43ICkgKyAwLjA2ICksIHZlYzMoIDIuMiApICk7XG59XG52ZWMzIFJSVEFuZE9EVEZpdCggdmVjMyB2ICkge1xuXHR2ZWMzIGEgPSB2ICogKCB2ICsgMC4wMjQ1Nzg2ICkgLSAwLjAwMDA5MDUzNztcblx0dmVjMyBiID0gdiAqICggMC45ODM3MjkgKiB2ICsgMC40MzI5NTEwICkgKyAwLjIzODA4MTtcblx0cmV0dXJuIGEgLyBiO1xufVxudmVjMyBBQ0VTRmlsbWljVG9uZU1hcHBpbmcoIHZlYzMgY29sb3IgKSB7XG5cdGNvbnN0IG1hdDMgQUNFU0lucHV0TWF0ID0gbWF0Myhcblx0XHR2ZWMzKCAwLjU5NzE5LCAwLjA3NjAwLCAwLjAyODQwICksXHRcdHZlYzMoIDAuMzU0NTgsIDAuOTA4MzQsIDAuMTMzODMgKSxcblx0XHR2ZWMzKCAwLjA0ODIzLCAwLjAxNTY2LCAwLjgzNzc3IClcblx0KTtcblx0Y29uc3QgbWF0MyBBQ0VTT3V0cHV0TWF0ID0gbWF0Myhcblx0XHR2ZWMzKFx0MS42MDQ3NSwgLTAuMTAyMDgsIC0wLjAwMzI3ICksXHRcdHZlYzMoIC0wLjUzMTA4LFx0MS4xMDgxMywgLTAuMDcyNzYgKSxcblx0XHR2ZWMzKCAtMC4wNzM2NywgLTAuMDA2MDUsXHQxLjA3NjAyIClcblx0KTtcblx0Y29sb3IgKj0gdG9uZU1hcHBpbmdFeHBvc3VyZSAvIDAuNjtcblx0Y29sb3IgPSBBQ0VTSW5wdXRNYXQgKiBjb2xvcjtcblx0Y29sb3IgPSBSUlRBbmRPRFRGaXQoIGNvbG9yICk7XG5cdGNvbG9yID0gQUNFU091dHB1dE1hdCAqIGNvbG9yO1xuXHRyZXR1cm4gc2F0dXJhdGUoIGNvbG9yICk7XG59XG52ZWMzIEN1c3RvbVRvbmVNYXBwaW5nKCB2ZWMzIGNvbG9yICkgeyByZXR1cm4gY29sb3I7IH0iLHRyYW5zbWlzc2lvbm1hcF9mcmFnbWVudDoiI2lmZGVmIFVTRV9UUkFOU01JU1NJT05NQVBcblx0dG90YWxUcmFuc21pc3Npb24gKj0gdGV4dHVyZTJEKCB0cmFuc21pc3Npb25NYXAsIHZVdiApLnI7XG4jZW5kaWYiLHRyYW5zbWlzc2lvbm1hcF9wYXJzX2ZyYWdtZW50OiIjaWZkZWYgVVNFX1RSQU5TTUlTU0lPTk1BUFxuXHR1bmlmb3JtIHNhbXBsZXIyRCB0cmFuc21pc3Npb25NYXA7XG4jZW5kaWYiLHV2X3BhcnNfZnJhZ21lbnQ6IiNpZiAoIGRlZmluZWQoIFVTRV9VViApICYmICEgZGVmaW5lZCggVVZTX1ZFUlRFWF9PTkxZICkgKVxuXHR2YXJ5aW5nIHZlYzIgdlV2O1xuI2VuZGlmIix1dl9wYXJzX3ZlcnRleDoiI2lmZGVmIFVTRV9VVlxuXHQjaWZkZWYgVVZTX1ZFUlRFWF9PTkxZXG5cdFx0dmVjMiB2VXY7XG5cdCNlbHNlXG5cdFx0dmFyeWluZyB2ZWMyIHZVdjtcblx0I2VuZGlmXG5cdHVuaWZvcm0gbWF0MyB1dlRyYW5zZm9ybTtcbiNlbmRpZiIsdXZfdmVydGV4OiIjaWZkZWYgVVNFX1VWXG5cdHZVdiA9ICggdXZUcmFuc2Zvcm0gKiB2ZWMzKCB1diwgMSApICkueHk7XG4jZW5kaWYiLHV2Ml9wYXJzX2ZyYWdtZW50OiIjaWYgZGVmaW5lZCggVVNFX0xJR0hUTUFQICkgfHwgZGVmaW5lZCggVVNFX0FPTUFQIClcblx0dmFyeWluZyB2ZWMyIHZVdjI7XG4jZW5kaWYiLHV2Ml9wYXJzX3ZlcnRleDoiI2lmIGRlZmluZWQoIFVTRV9MSUdIVE1BUCApIHx8IGRlZmluZWQoIFVTRV9BT01BUCApXG5cdGF0dHJpYnV0ZSB2ZWMyIHV2Mjtcblx0dmFyeWluZyB2ZWMyIHZVdjI7XG5cdHVuaWZvcm0gbWF0MyB1djJUcmFuc2Zvcm07XG4jZW5kaWYiLHV2Ml92ZXJ0ZXg6IiNpZiBkZWZpbmVkKCBVU0VfTElHSFRNQVAgKSB8fCBkZWZpbmVkKCBVU0VfQU9NQVAgKVxuXHR2VXYyID0gKCB1djJUcmFuc2Zvcm0gKiB2ZWMzKCB1djIsIDEgKSApLnh5O1xuI2VuZGlmIix3b3JsZHBvc192ZXJ0ZXg6IiNpZiBkZWZpbmVkKCBVU0VfRU5WTUFQICkgfHwgZGVmaW5lZCggRElTVEFOQ0UgKSB8fCBkZWZpbmVkICggVVNFX1NIQURPV01BUCApXG5cdHZlYzQgd29ybGRQb3NpdGlvbiA9IHZlYzQoIHRyYW5zZm9ybWVkLCAxLjAgKTtcblx0I2lmZGVmIFVTRV9JTlNUQU5DSU5HXG5cdFx0d29ybGRQb3NpdGlvbiA9IGluc3RhbmNlTWF0cml4ICogd29ybGRQb3NpdGlvbjtcblx0I2VuZGlmXG5cdHdvcmxkUG9zaXRpb24gPSBtb2RlbE1hdHJpeCAqIHdvcmxkUG9zaXRpb247XG4jZW5kaWYiLGJhY2tncm91bmRfZnJhZzoidW5pZm9ybSBzYW1wbGVyMkQgdDJEO1xudmFyeWluZyB2ZWMyIHZVdjtcbnZvaWQgbWFpbigpIHtcblx0dmVjNCB0ZXhDb2xvciA9IHRleHR1cmUyRCggdDJELCB2VXYgKTtcblx0Z2xfRnJhZ0NvbG9yID0gbWFwVGV4ZWxUb0xpbmVhciggdGV4Q29sb3IgKTtcblx0I2luY2x1ZGUgPHRvbmVtYXBwaW5nX2ZyYWdtZW50PlxuXHQjaW5jbHVkZSA8ZW5jb2RpbmdzX2ZyYWdtZW50PlxufSIsYmFja2dyb3VuZF92ZXJ0OiJ2YXJ5aW5nIHZlYzIgdlV2O1xudW5pZm9ybSBtYXQzIHV2VHJhbnNmb3JtO1xudm9pZCBtYWluKCkge1xuXHR2VXYgPSAoIHV2VHJhbnNmb3JtICogdmVjMyggdXYsIDEgKSApLnh5O1xuXHRnbF9Qb3NpdGlvbiA9IHZlYzQoIHBvc2l0aW9uLnh5LCAxLjAsIDEuMCApO1xufSIsY3ViZV9mcmFnOiIjaW5jbHVkZSA8ZW52bWFwX2NvbW1vbl9wYXJzX2ZyYWdtZW50PlxudW5pZm9ybSBmbG9hdCBvcGFjaXR5O1xudmFyeWluZyB2ZWMzIHZXb3JsZERpcmVjdGlvbjtcbiNpbmNsdWRlIDxjdWJlX3V2X3JlZmxlY3Rpb25fZnJhZ21lbnQ+XG52b2lkIG1haW4oKSB7XG5cdHZlYzMgdlJlZmxlY3QgPSB2V29ybGREaXJlY3Rpb247XG5cdCNpbmNsdWRlIDxlbnZtYXBfZnJhZ21lbnQ+XG5cdGdsX0ZyYWdDb2xvciA9IGVudkNvbG9yO1xuXHRnbF9GcmFnQ29sb3IuYSAqPSBvcGFjaXR5O1xuXHQjaW5jbHVkZSA8dG9uZW1hcHBpbmdfZnJhZ21lbnQ+XG5cdCNpbmNsdWRlIDxlbmNvZGluZ3NfZnJhZ21lbnQ+XG59IixjdWJlX3ZlcnQ6InZhcnlpbmcgdmVjMyB2V29ybGREaXJlY3Rpb247XG4jaW5jbHVkZSA8Y29tbW9uPlxudm9pZCBtYWluKCkge1xuXHR2V29ybGREaXJlY3Rpb24gPSB0cmFuc2Zvcm1EaXJlY3Rpb24oIHBvc2l0aW9uLCBtb2RlbE1hdHJpeCApO1xuXHQjaW5jbHVkZSA8YmVnaW5fdmVydGV4PlxuXHQjaW5jbHVkZSA8cHJvamVjdF92ZXJ0ZXg+XG5cdGdsX1Bvc2l0aW9uLnogPSBnbF9Qb3NpdGlvbi53O1xufSIsZGVwdGhfZnJhZzoiI2lmIERFUFRIX1BBQ0tJTkcgPT0gMzIwMFxuXHR1bmlmb3JtIGZsb2F0IG9wYWNpdHk7XG4jZW5kaWZcbiNpbmNsdWRlIDxjb21tb24+XG4jaW5jbHVkZSA8cGFja2luZz5cbiNpbmNsdWRlIDx1dl9wYXJzX2ZyYWdtZW50PlxuI2luY2x1ZGUgPG1hcF9wYXJzX2ZyYWdtZW50PlxuI2luY2x1ZGUgPGFscGhhbWFwX3BhcnNfZnJhZ21lbnQ+XG4jaW5jbHVkZSA8bG9nZGVwdGhidWZfcGFyc19mcmFnbWVudD5cbiNpbmNsdWRlIDxjbGlwcGluZ19wbGFuZXNfcGFyc19mcmFnbWVudD5cbnZhcnlpbmcgdmVjMiB2SGlnaFByZWNpc2lvblpXO1xudm9pZCBtYWluKCkge1xuXHQjaW5jbHVkZSA8Y2xpcHBpbmdfcGxhbmVzX2ZyYWdtZW50PlxuXHR2ZWM0IGRpZmZ1c2VDb2xvciA9IHZlYzQoIDEuMCApO1xuXHQjaWYgREVQVEhfUEFDS0lORyA9PSAzMjAwXG5cdFx0ZGlmZnVzZUNvbG9yLmEgPSBvcGFjaXR5O1xuXHQjZW5kaWZcblx0I2luY2x1ZGUgPG1hcF9mcmFnbWVudD5cblx0I2luY2x1ZGUgPGFscGhhbWFwX2ZyYWdtZW50PlxuXHQjaW5jbHVkZSA8YWxwaGF0ZXN0X2ZyYWdtZW50PlxuXHQjaW5jbHVkZSA8bG9nZGVwdGhidWZfZnJhZ21lbnQ+XG5cdGZsb2F0IGZyYWdDb29yZFogPSAwLjUgKiB2SGlnaFByZWNpc2lvblpXWzBdIC8gdkhpZ2hQcmVjaXNpb25aV1sxXSArIDAuNTtcblx0I2lmIERFUFRIX1BBQ0tJTkcgPT0gMzIwMFxuXHRcdGdsX0ZyYWdDb2xvciA9IHZlYzQoIHZlYzMoIDEuMCAtIGZyYWdDb29yZFogKSwgb3BhY2l0eSApO1xuXHQjZWxpZiBERVBUSF9QQUNLSU5HID09IDMyMDFcblx0XHRnbF9GcmFnQ29sb3IgPSBwYWNrRGVwdGhUb1JHQkEoIGZyYWdDb29yZFogKTtcblx0I2VuZGlmXG59IixkZXB0aF92ZXJ0OiIjaW5jbHVkZSA8Y29tbW9uPlxuI2luY2x1ZGUgPHV2X3BhcnNfdmVydGV4PlxuI2luY2x1ZGUgPGRpc3BsYWNlbWVudG1hcF9wYXJzX3ZlcnRleD5cbiNpbmNsdWRlIDxtb3JwaHRhcmdldF9wYXJzX3ZlcnRleD5cbiNpbmNsdWRlIDxza2lubmluZ19wYXJzX3ZlcnRleD5cbiNpbmNsdWRlIDxsb2dkZXB0aGJ1Zl9wYXJzX3ZlcnRleD5cbiNpbmNsdWRlIDxjbGlwcGluZ19wbGFuZXNfcGFyc192ZXJ0ZXg+XG52YXJ5aW5nIHZlYzIgdkhpZ2hQcmVjaXNpb25aVztcbnZvaWQgbWFpbigpIHtcblx0I2luY2x1ZGUgPHV2X3ZlcnRleD5cblx0I2luY2x1ZGUgPHNraW5iYXNlX3ZlcnRleD5cblx0I2lmZGVmIFVTRV9ESVNQTEFDRU1FTlRNQVBcblx0XHQjaW5jbHVkZSA8YmVnaW5ub3JtYWxfdmVydGV4PlxuXHRcdCNpbmNsdWRlIDxtb3JwaG5vcm1hbF92ZXJ0ZXg+XG5cdFx0I2luY2x1ZGUgPHNraW5ub3JtYWxfdmVydGV4PlxuXHQjZW5kaWZcblx0I2luY2x1ZGUgPGJlZ2luX3ZlcnRleD5cblx0I2luY2x1ZGUgPG1vcnBodGFyZ2V0X3ZlcnRleD5cblx0I2luY2x1ZGUgPHNraW5uaW5nX3ZlcnRleD5cblx0I2luY2x1ZGUgPGRpc3BsYWNlbWVudG1hcF92ZXJ0ZXg+XG5cdCNpbmNsdWRlIDxwcm9qZWN0X3ZlcnRleD5cblx0I2luY2x1ZGUgPGxvZ2RlcHRoYnVmX3ZlcnRleD5cblx0I2luY2x1ZGUgPGNsaXBwaW5nX3BsYW5lc192ZXJ0ZXg+XG5cdHZIaWdoUHJlY2lzaW9uWlcgPSBnbF9Qb3NpdGlvbi56dztcbn0iLGRpc3RhbmNlUkdCQV9mcmFnOiIjZGVmaW5lIERJU1RBTkNFXG51bmlmb3JtIHZlYzMgcmVmZXJlbmNlUG9zaXRpb247XG51bmlmb3JtIGZsb2F0IG5lYXJEaXN0YW5jZTtcbnVuaWZvcm0gZmxvYXQgZmFyRGlzdGFuY2U7XG52YXJ5aW5nIHZlYzMgdldvcmxkUG9zaXRpb247XG4jaW5jbHVkZSA8Y29tbW9uPlxuI2luY2x1ZGUgPHBhY2tpbmc+XG4jaW5jbHVkZSA8dXZfcGFyc19mcmFnbWVudD5cbiNpbmNsdWRlIDxtYXBfcGFyc19mcmFnbWVudD5cbiNpbmNsdWRlIDxhbHBoYW1hcF9wYXJzX2ZyYWdtZW50PlxuI2luY2x1ZGUgPGNsaXBwaW5nX3BsYW5lc19wYXJzX2ZyYWdtZW50Plxudm9pZCBtYWluICgpIHtcblx0I2luY2x1ZGUgPGNsaXBwaW5nX3BsYW5lc19mcmFnbWVudD5cblx0dmVjNCBkaWZmdXNlQ29sb3IgPSB2ZWM0KCAxLjAgKTtcblx0I2luY2x1ZGUgPG1hcF9mcmFnbWVudD5cblx0I2luY2x1ZGUgPGFscGhhbWFwX2ZyYWdtZW50PlxuXHQjaW5jbHVkZSA8YWxwaGF0ZXN0X2ZyYWdtZW50PlxuXHRmbG9hdCBkaXN0ID0gbGVuZ3RoKCB2V29ybGRQb3NpdGlvbiAtIHJlZmVyZW5jZVBvc2l0aW9uICk7XG5cdGRpc3QgPSAoIGRpc3QgLSBuZWFyRGlzdGFuY2UgKSAvICggZmFyRGlzdGFuY2UgLSBuZWFyRGlzdGFuY2UgKTtcblx0ZGlzdCA9IHNhdHVyYXRlKCBkaXN0ICk7XG5cdGdsX0ZyYWdDb2xvciA9IHBhY2tEZXB0aFRvUkdCQSggZGlzdCApO1xufSIsZGlzdGFuY2VSR0JBX3ZlcnQ6IiNkZWZpbmUgRElTVEFOQ0VcbnZhcnlpbmcgdmVjMyB2V29ybGRQb3NpdGlvbjtcbiNpbmNsdWRlIDxjb21tb24+XG4jaW5jbHVkZSA8dXZfcGFyc192ZXJ0ZXg+XG4jaW5jbHVkZSA8ZGlzcGxhY2VtZW50bWFwX3BhcnNfdmVydGV4PlxuI2luY2x1ZGUgPG1vcnBodGFyZ2V0X3BhcnNfdmVydGV4PlxuI2luY2x1ZGUgPHNraW5uaW5nX3BhcnNfdmVydGV4PlxuI2luY2x1ZGUgPGNsaXBwaW5nX3BsYW5lc19wYXJzX3ZlcnRleD5cbnZvaWQgbWFpbigpIHtcblx0I2luY2x1ZGUgPHV2X3ZlcnRleD5cblx0I2luY2x1ZGUgPHNraW5iYXNlX3ZlcnRleD5cblx0I2lmZGVmIFVTRV9ESVNQTEFDRU1FTlRNQVBcblx0XHQjaW5jbHVkZSA8YmVnaW5ub3JtYWxfdmVydGV4PlxuXHRcdCNpbmNsdWRlIDxtb3JwaG5vcm1hbF92ZXJ0ZXg+XG5cdFx0I2luY2x1ZGUgPHNraW5ub3JtYWxfdmVydGV4PlxuXHQjZW5kaWZcblx0I2luY2x1ZGUgPGJlZ2luX3ZlcnRleD5cblx0I2luY2x1ZGUgPG1vcnBodGFyZ2V0X3ZlcnRleD5cblx0I2luY2x1ZGUgPHNraW5uaW5nX3ZlcnRleD5cblx0I2luY2x1ZGUgPGRpc3BsYWNlbWVudG1hcF92ZXJ0ZXg+XG5cdCNpbmNsdWRlIDxwcm9qZWN0X3ZlcnRleD5cblx0I2luY2x1ZGUgPHdvcmxkcG9zX3ZlcnRleD5cblx0I2luY2x1ZGUgPGNsaXBwaW5nX3BsYW5lc192ZXJ0ZXg+XG5cdHZXb3JsZFBvc2l0aW9uID0gd29ybGRQb3NpdGlvbi54eXo7XG59IixlcXVpcmVjdF9mcmFnOiJ1bmlmb3JtIHNhbXBsZXIyRCB0RXF1aXJlY3Q7XG52YXJ5aW5nIHZlYzMgdldvcmxkRGlyZWN0aW9uO1xuI2luY2x1ZGUgPGNvbW1vbj5cbnZvaWQgbWFpbigpIHtcblx0dmVjMyBkaXJlY3Rpb24gPSBub3JtYWxpemUoIHZXb3JsZERpcmVjdGlvbiApO1xuXHR2ZWMyIHNhbXBsZVVWID0gZXF1aXJlY3RVdiggZGlyZWN0aW9uICk7XG5cdHZlYzQgdGV4Q29sb3IgPSB0ZXh0dXJlMkQoIHRFcXVpcmVjdCwgc2FtcGxlVVYgKTtcblx0Z2xfRnJhZ0NvbG9yID0gbWFwVGV4ZWxUb0xpbmVhciggdGV4Q29sb3IgKTtcblx0I2luY2x1ZGUgPHRvbmVtYXBwaW5nX2ZyYWdtZW50PlxuXHQjaW5jbHVkZSA8ZW5jb2RpbmdzX2ZyYWdtZW50PlxufSIsZXF1aXJlY3RfdmVydDoidmFyeWluZyB2ZWMzIHZXb3JsZERpcmVjdGlvbjtcbiNpbmNsdWRlIDxjb21tb24+XG52b2lkIG1haW4oKSB7XG5cdHZXb3JsZERpcmVjdGlvbiA9IHRyYW5zZm9ybURpcmVjdGlvbiggcG9zaXRpb24sIG1vZGVsTWF0cml4ICk7XG5cdCNpbmNsdWRlIDxiZWdpbl92ZXJ0ZXg+XG5cdCNpbmNsdWRlIDxwcm9qZWN0X3ZlcnRleD5cbn0iLGxpbmVkYXNoZWRfZnJhZzoidW5pZm9ybSB2ZWMzIGRpZmZ1c2U7XG51bmlmb3JtIGZsb2F0IG9wYWNpdHk7XG51bmlmb3JtIGZsb2F0IGRhc2hTaXplO1xudW5pZm9ybSBmbG9hdCB0b3RhbFNpemU7XG52YXJ5aW5nIGZsb2F0IHZMaW5lRGlzdGFuY2U7XG4jaW5jbHVkZSA8Y29tbW9uPlxuI2luY2x1ZGUgPGNvbG9yX3BhcnNfZnJhZ21lbnQ+XG4jaW5jbHVkZSA8Zm9nX3BhcnNfZnJhZ21lbnQ+XG4jaW5jbHVkZSA8bG9nZGVwdGhidWZfcGFyc19mcmFnbWVudD5cbiNpbmNsdWRlIDxjbGlwcGluZ19wbGFuZXNfcGFyc19mcmFnbWVudD5cbnZvaWQgbWFpbigpIHtcblx0I2luY2x1ZGUgPGNsaXBwaW5nX3BsYW5lc19mcmFnbWVudD5cblx0aWYgKCBtb2QoIHZMaW5lRGlzdGFuY2UsIHRvdGFsU2l6ZSApID4gZGFzaFNpemUgKSB7XG5cdFx0ZGlzY2FyZDtcblx0fVxuXHR2ZWMzIG91dGdvaW5nTGlnaHQgPSB2ZWMzKCAwLjAgKTtcblx0dmVjNCBkaWZmdXNlQ29sb3IgPSB2ZWM0KCBkaWZmdXNlLCBvcGFjaXR5ICk7XG5cdCNpbmNsdWRlIDxsb2dkZXB0aGJ1Zl9mcmFnbWVudD5cblx0I2luY2x1ZGUgPGNvbG9yX2ZyYWdtZW50PlxuXHRvdXRnb2luZ0xpZ2h0ID0gZGlmZnVzZUNvbG9yLnJnYjtcblx0Z2xfRnJhZ0NvbG9yID0gdmVjNCggb3V0Z29pbmdMaWdodCwgZGlmZnVzZUNvbG9yLmEgKTtcblx0I2luY2x1ZGUgPHRvbmVtYXBwaW5nX2ZyYWdtZW50PlxuXHQjaW5jbHVkZSA8ZW5jb2RpbmdzX2ZyYWdtZW50PlxuXHQjaW5jbHVkZSA8Zm9nX2ZyYWdtZW50PlxuXHQjaW5jbHVkZSA8cHJlbXVsdGlwbGllZF9hbHBoYV9mcmFnbWVudD5cbn0iLGxpbmVkYXNoZWRfdmVydDoidW5pZm9ybSBmbG9hdCBzY2FsZTtcbmF0dHJpYnV0ZSBmbG9hdCBsaW5lRGlzdGFuY2U7XG52YXJ5aW5nIGZsb2F0IHZMaW5lRGlzdGFuY2U7XG4jaW5jbHVkZSA8Y29tbW9uPlxuI2luY2x1ZGUgPGNvbG9yX3BhcnNfdmVydGV4PlxuI2luY2x1ZGUgPGZvZ19wYXJzX3ZlcnRleD5cbiNpbmNsdWRlIDxtb3JwaHRhcmdldF9wYXJzX3ZlcnRleD5cbiNpbmNsdWRlIDxsb2dkZXB0aGJ1Zl9wYXJzX3ZlcnRleD5cbiNpbmNsdWRlIDxjbGlwcGluZ19wbGFuZXNfcGFyc192ZXJ0ZXg+XG52b2lkIG1haW4oKSB7XG5cdHZMaW5lRGlzdGFuY2UgPSBzY2FsZSAqIGxpbmVEaXN0YW5jZTtcblx0I2luY2x1ZGUgPGNvbG9yX3ZlcnRleD5cblx0I2luY2x1ZGUgPGJlZ2luX3ZlcnRleD5cblx0I2luY2x1ZGUgPG1vcnBodGFyZ2V0X3ZlcnRleD5cblx0I2luY2x1ZGUgPHByb2plY3RfdmVydGV4PlxuXHQjaW5jbHVkZSA8bG9nZGVwdGhidWZfdmVydGV4PlxuXHQjaW5jbHVkZSA8Y2xpcHBpbmdfcGxhbmVzX3ZlcnRleD5cblx0I2luY2x1ZGUgPGZvZ192ZXJ0ZXg+XG59IixtZXNoYmFzaWNfZnJhZzoidW5pZm9ybSB2ZWMzIGRpZmZ1c2U7XG51bmlmb3JtIGZsb2F0IG9wYWNpdHk7XG4jaWZuZGVmIEZMQVRfU0hBREVEXG5cdHZhcnlpbmcgdmVjMyB2Tm9ybWFsO1xuI2VuZGlmXG4jaW5jbHVkZSA8Y29tbW9uPlxuI2luY2x1ZGUgPGRpdGhlcmluZ19wYXJzX2ZyYWdtZW50PlxuI2luY2x1ZGUgPGNvbG9yX3BhcnNfZnJhZ21lbnQ+XG4jaW5jbHVkZSA8dXZfcGFyc19mcmFnbWVudD5cbiNpbmNsdWRlIDx1djJfcGFyc19mcmFnbWVudD5cbiNpbmNsdWRlIDxtYXBfcGFyc19mcmFnbWVudD5cbiNpbmNsdWRlIDxhbHBoYW1hcF9wYXJzX2ZyYWdtZW50PlxuI2luY2x1ZGUgPGFvbWFwX3BhcnNfZnJhZ21lbnQ+XG4jaW5jbHVkZSA8bGlnaHRtYXBfcGFyc19mcmFnbWVudD5cbiNpbmNsdWRlIDxlbnZtYXBfY29tbW9uX3BhcnNfZnJhZ21lbnQ+XG4jaW5jbHVkZSA8ZW52bWFwX3BhcnNfZnJhZ21lbnQ+XG4jaW5jbHVkZSA8Y3ViZV91dl9yZWZsZWN0aW9uX2ZyYWdtZW50PlxuI2luY2x1ZGUgPGZvZ19wYXJzX2ZyYWdtZW50PlxuI2luY2x1ZGUgPHNwZWN1bGFybWFwX3BhcnNfZnJhZ21lbnQ+XG4jaW5jbHVkZSA8bG9nZGVwdGhidWZfcGFyc19mcmFnbWVudD5cbiNpbmNsdWRlIDxjbGlwcGluZ19wbGFuZXNfcGFyc19mcmFnbWVudD5cbnZvaWQgbWFpbigpIHtcblx0I2luY2x1ZGUgPGNsaXBwaW5nX3BsYW5lc19mcmFnbWVudD5cblx0dmVjNCBkaWZmdXNlQ29sb3IgPSB2ZWM0KCBkaWZmdXNlLCBvcGFjaXR5ICk7XG5cdCNpbmNsdWRlIDxsb2dkZXB0aGJ1Zl9mcmFnbWVudD5cblx0I2luY2x1ZGUgPG1hcF9mcmFnbWVudD5cblx0I2luY2x1ZGUgPGNvbG9yX2ZyYWdtZW50PlxuXHQjaW5jbHVkZSA8YWxwaGFtYXBfZnJhZ21lbnQ+XG5cdCNpbmNsdWRlIDxhbHBoYXRlc3RfZnJhZ21lbnQ+XG5cdCNpbmNsdWRlIDxzcGVjdWxhcm1hcF9mcmFnbWVudD5cblx0UmVmbGVjdGVkTGlnaHQgcmVmbGVjdGVkTGlnaHQgPSBSZWZsZWN0ZWRMaWdodCggdmVjMyggMC4wICksIHZlYzMoIDAuMCApLCB2ZWMzKCAwLjAgKSwgdmVjMyggMC4wICkgKTtcblx0I2lmZGVmIFVTRV9MSUdIVE1BUFxuXHRcblx0XHR2ZWM0IGxpZ2h0TWFwVGV4ZWw9IHRleHR1cmUyRCggbGlnaHRNYXAsIHZVdjIgKTtcblx0XHRyZWZsZWN0ZWRMaWdodC5pbmRpcmVjdERpZmZ1c2UgKz0gbGlnaHRNYXBUZXhlbFRvTGluZWFyKCBsaWdodE1hcFRleGVsICkucmdiICogbGlnaHRNYXBJbnRlbnNpdHk7XG5cdCNlbHNlXG5cdFx0cmVmbGVjdGVkTGlnaHQuaW5kaXJlY3REaWZmdXNlICs9IHZlYzMoIDEuMCApO1xuXHQjZW5kaWZcblx0I2luY2x1ZGUgPGFvbWFwX2ZyYWdtZW50PlxuXHRyZWZsZWN0ZWRMaWdodC5pbmRpcmVjdERpZmZ1c2UgKj0gZGlmZnVzZUNvbG9yLnJnYjtcblx0dmVjMyBvdXRnb2luZ0xpZ2h0ID0gcmVmbGVjdGVkTGlnaHQuaW5kaXJlY3REaWZmdXNlO1xuXHQjaW5jbHVkZSA8ZW52bWFwX2ZyYWdtZW50PlxuXHRnbF9GcmFnQ29sb3IgPSB2ZWM0KCBvdXRnb2luZ0xpZ2h0LCBkaWZmdXNlQ29sb3IuYSApO1xuXHQjaW5jbHVkZSA8dG9uZW1hcHBpbmdfZnJhZ21lbnQ+XG5cdCNpbmNsdWRlIDxlbmNvZGluZ3NfZnJhZ21lbnQ+XG5cdCNpbmNsdWRlIDxmb2dfZnJhZ21lbnQ+XG5cdCNpbmNsdWRlIDxwcmVtdWx0aXBsaWVkX2FscGhhX2ZyYWdtZW50PlxuXHQjaW5jbHVkZSA8ZGl0aGVyaW5nX2ZyYWdtZW50PlxufSIsbWVzaGJhc2ljX3ZlcnQ6IiNpbmNsdWRlIDxjb21tb24+XG4jaW5jbHVkZSA8dXZfcGFyc192ZXJ0ZXg+XG4jaW5jbHVkZSA8dXYyX3BhcnNfdmVydGV4PlxuI2luY2x1ZGUgPGVudm1hcF9wYXJzX3ZlcnRleD5cbiNpbmNsdWRlIDxjb2xvcl9wYXJzX3ZlcnRleD5cbiNpbmNsdWRlIDxmb2dfcGFyc192ZXJ0ZXg+XG4jaW5jbHVkZSA8bW9ycGh0YXJnZXRfcGFyc192ZXJ0ZXg+XG4jaW5jbHVkZSA8c2tpbm5pbmdfcGFyc192ZXJ0ZXg+XG4jaW5jbHVkZSA8bG9nZGVwdGhidWZfcGFyc192ZXJ0ZXg+XG4jaW5jbHVkZSA8Y2xpcHBpbmdfcGxhbmVzX3BhcnNfdmVydGV4Plxudm9pZCBtYWluKCkge1xuXHQjaW5jbHVkZSA8dXZfdmVydGV4PlxuXHQjaW5jbHVkZSA8dXYyX3ZlcnRleD5cblx0I2luY2x1ZGUgPGNvbG9yX3ZlcnRleD5cblx0I2luY2x1ZGUgPHNraW5iYXNlX3ZlcnRleD5cblx0I2lmZGVmIFVTRV9FTlZNQVBcblx0I2luY2x1ZGUgPGJlZ2lubm9ybWFsX3ZlcnRleD5cblx0I2luY2x1ZGUgPG1vcnBobm9ybWFsX3ZlcnRleD5cblx0I2luY2x1ZGUgPHNraW5ub3JtYWxfdmVydGV4PlxuXHQjaW5jbHVkZSA8ZGVmYXVsdG5vcm1hbF92ZXJ0ZXg+XG5cdCNlbmRpZlxuXHQjaW5jbHVkZSA8YmVnaW5fdmVydGV4PlxuXHQjaW5jbHVkZSA8bW9ycGh0YXJnZXRfdmVydGV4PlxuXHQjaW5jbHVkZSA8c2tpbm5pbmdfdmVydGV4PlxuXHQjaW5jbHVkZSA8cHJvamVjdF92ZXJ0ZXg+XG5cdCNpbmNsdWRlIDxsb2dkZXB0aGJ1Zl92ZXJ0ZXg+XG5cdCNpbmNsdWRlIDx3b3JsZHBvc192ZXJ0ZXg+XG5cdCNpbmNsdWRlIDxjbGlwcGluZ19wbGFuZXNfdmVydGV4PlxuXHQjaW5jbHVkZSA8ZW52bWFwX3ZlcnRleD5cblx0I2luY2x1ZGUgPGZvZ192ZXJ0ZXg+XG59IixtZXNobGFtYmVydF9mcmFnOiJ1bmlmb3JtIHZlYzMgZGlmZnVzZTtcbnVuaWZvcm0gdmVjMyBlbWlzc2l2ZTtcbnVuaWZvcm0gZmxvYXQgb3BhY2l0eTtcbnZhcnlpbmcgdmVjMyB2TGlnaHRGcm9udDtcbnZhcnlpbmcgdmVjMyB2SW5kaXJlY3RGcm9udDtcbiNpZmRlZiBET1VCTEVfU0lERURcblx0dmFyeWluZyB2ZWMzIHZMaWdodEJhY2s7XG5cdHZhcnlpbmcgdmVjMyB2SW5kaXJlY3RCYWNrO1xuI2VuZGlmXG4jaW5jbHVkZSA8Y29tbW9uPlxuI2luY2x1ZGUgPHBhY2tpbmc+XG4jaW5jbHVkZSA8ZGl0aGVyaW5nX3BhcnNfZnJhZ21lbnQ+XG4jaW5jbHVkZSA8Y29sb3JfcGFyc19mcmFnbWVudD5cbiNpbmNsdWRlIDx1dl9wYXJzX2ZyYWdtZW50PlxuI2luY2x1ZGUgPHV2Ml9wYXJzX2ZyYWdtZW50PlxuI2luY2x1ZGUgPG1hcF9wYXJzX2ZyYWdtZW50PlxuI2luY2x1ZGUgPGFscGhhbWFwX3BhcnNfZnJhZ21lbnQ+XG4jaW5jbHVkZSA8YW9tYXBfcGFyc19mcmFnbWVudD5cbiNpbmNsdWRlIDxsaWdodG1hcF9wYXJzX2ZyYWdtZW50PlxuI2luY2x1ZGUgPGVtaXNzaXZlbWFwX3BhcnNfZnJhZ21lbnQ+XG4jaW5jbHVkZSA8ZW52bWFwX2NvbW1vbl9wYXJzX2ZyYWdtZW50PlxuI2luY2x1ZGUgPGVudm1hcF9wYXJzX2ZyYWdtZW50PlxuI2luY2x1ZGUgPGN1YmVfdXZfcmVmbGVjdGlvbl9mcmFnbWVudD5cbiNpbmNsdWRlIDxic2Rmcz5cbiNpbmNsdWRlIDxsaWdodHNfcGFyc19iZWdpbj5cbiNpbmNsdWRlIDxmb2dfcGFyc19mcmFnbWVudD5cbiNpbmNsdWRlIDxzaGFkb3dtYXBfcGFyc19mcmFnbWVudD5cbiNpbmNsdWRlIDxzaGFkb3dtYXNrX3BhcnNfZnJhZ21lbnQ+XG4jaW5jbHVkZSA8c3BlY3VsYXJtYXBfcGFyc19mcmFnbWVudD5cbiNpbmNsdWRlIDxsb2dkZXB0aGJ1Zl9wYXJzX2ZyYWdtZW50PlxuI2luY2x1ZGUgPGNsaXBwaW5nX3BsYW5lc19wYXJzX2ZyYWdtZW50Plxudm9pZCBtYWluKCkge1xuXHQjaW5jbHVkZSA8Y2xpcHBpbmdfcGxhbmVzX2ZyYWdtZW50PlxuXHR2ZWM0IGRpZmZ1c2VDb2xvciA9IHZlYzQoIGRpZmZ1c2UsIG9wYWNpdHkgKTtcblx0UmVmbGVjdGVkTGlnaHQgcmVmbGVjdGVkTGlnaHQgPSBSZWZsZWN0ZWRMaWdodCggdmVjMyggMC4wICksIHZlYzMoIDAuMCApLCB2ZWMzKCAwLjAgKSwgdmVjMyggMC4wICkgKTtcblx0dmVjMyB0b3RhbEVtaXNzaXZlUmFkaWFuY2UgPSBlbWlzc2l2ZTtcblx0I2luY2x1ZGUgPGxvZ2RlcHRoYnVmX2ZyYWdtZW50PlxuXHQjaW5jbHVkZSA8bWFwX2ZyYWdtZW50PlxuXHQjaW5jbHVkZSA8Y29sb3JfZnJhZ21lbnQ+XG5cdCNpbmNsdWRlIDxhbHBoYW1hcF9mcmFnbWVudD5cblx0I2luY2x1ZGUgPGFscGhhdGVzdF9mcmFnbWVudD5cblx0I2luY2x1ZGUgPHNwZWN1bGFybWFwX2ZyYWdtZW50PlxuXHQjaW5jbHVkZSA8ZW1pc3NpdmVtYXBfZnJhZ21lbnQ+XG5cdCNpZmRlZiBET1VCTEVfU0lERURcblx0XHRyZWZsZWN0ZWRMaWdodC5pbmRpcmVjdERpZmZ1c2UgKz0gKCBnbF9Gcm9udEZhY2luZyApID8gdkluZGlyZWN0RnJvbnQgOiB2SW5kaXJlY3RCYWNrO1xuXHQjZWxzZVxuXHRcdHJlZmxlY3RlZExpZ2h0LmluZGlyZWN0RGlmZnVzZSArPSB2SW5kaXJlY3RGcm9udDtcblx0I2VuZGlmXG5cdCNpbmNsdWRlIDxsaWdodG1hcF9mcmFnbWVudD5cblx0cmVmbGVjdGVkTGlnaHQuaW5kaXJlY3REaWZmdXNlICo9IEJSREZfRGlmZnVzZV9MYW1iZXJ0KCBkaWZmdXNlQ29sb3IucmdiICk7XG5cdCNpZmRlZiBET1VCTEVfU0lERURcblx0XHRyZWZsZWN0ZWRMaWdodC5kaXJlY3REaWZmdXNlID0gKCBnbF9Gcm9udEZhY2luZyApID8gdkxpZ2h0RnJvbnQgOiB2TGlnaHRCYWNrO1xuXHQjZWxzZVxuXHRcdHJlZmxlY3RlZExpZ2h0LmRpcmVjdERpZmZ1c2UgPSB2TGlnaHRGcm9udDtcblx0I2VuZGlmXG5cdHJlZmxlY3RlZExpZ2h0LmRpcmVjdERpZmZ1c2UgKj0gQlJERl9EaWZmdXNlX0xhbWJlcnQoIGRpZmZ1c2VDb2xvci5yZ2IgKSAqIGdldFNoYWRvd01hc2soKTtcblx0I2luY2x1ZGUgPGFvbWFwX2ZyYWdtZW50PlxuXHR2ZWMzIG91dGdvaW5nTGlnaHQgPSByZWZsZWN0ZWRMaWdodC5kaXJlY3REaWZmdXNlICsgcmVmbGVjdGVkTGlnaHQuaW5kaXJlY3REaWZmdXNlICsgdG90YWxFbWlzc2l2ZVJhZGlhbmNlO1xuXHQjaW5jbHVkZSA8ZW52bWFwX2ZyYWdtZW50PlxuXHRnbF9GcmFnQ29sb3IgPSB2ZWM0KCBvdXRnb2luZ0xpZ2h0LCBkaWZmdXNlQ29sb3IuYSApO1xuXHQjaW5jbHVkZSA8dG9uZW1hcHBpbmdfZnJhZ21lbnQ+XG5cdCNpbmNsdWRlIDxlbmNvZGluZ3NfZnJhZ21lbnQ+XG5cdCNpbmNsdWRlIDxmb2dfZnJhZ21lbnQ+XG5cdCNpbmNsdWRlIDxwcmVtdWx0aXBsaWVkX2FscGhhX2ZyYWdtZW50PlxuXHQjaW5jbHVkZSA8ZGl0aGVyaW5nX2ZyYWdtZW50PlxufSIsbWVzaGxhbWJlcnRfdmVydDoiI2RlZmluZSBMQU1CRVJUXG52YXJ5aW5nIHZlYzMgdkxpZ2h0RnJvbnQ7XG52YXJ5aW5nIHZlYzMgdkluZGlyZWN0RnJvbnQ7XG4jaWZkZWYgRE9VQkxFX1NJREVEXG5cdHZhcnlpbmcgdmVjMyB2TGlnaHRCYWNrO1xuXHR2YXJ5aW5nIHZlYzMgdkluZGlyZWN0QmFjaztcbiNlbmRpZlxuI2luY2x1ZGUgPGNvbW1vbj5cbiNpbmNsdWRlIDx1dl9wYXJzX3ZlcnRleD5cbiNpbmNsdWRlIDx1djJfcGFyc192ZXJ0ZXg+XG4jaW5jbHVkZSA8ZW52bWFwX3BhcnNfdmVydGV4PlxuI2luY2x1ZGUgPGJzZGZzPlxuI2luY2x1ZGUgPGxpZ2h0c19wYXJzX2JlZ2luPlxuI2luY2x1ZGUgPGNvbG9yX3BhcnNfdmVydGV4PlxuI2luY2x1ZGUgPGZvZ19wYXJzX3ZlcnRleD5cbiNpbmNsdWRlIDxtb3JwaHRhcmdldF9wYXJzX3ZlcnRleD5cbiNpbmNsdWRlIDxza2lubmluZ19wYXJzX3ZlcnRleD5cbiNpbmNsdWRlIDxzaGFkb3dtYXBfcGFyc192ZXJ0ZXg+XG4jaW5jbHVkZSA8bG9nZGVwdGhidWZfcGFyc192ZXJ0ZXg+XG4jaW5jbHVkZSA8Y2xpcHBpbmdfcGxhbmVzX3BhcnNfdmVydGV4Plxudm9pZCBtYWluKCkge1xuXHQjaW5jbHVkZSA8dXZfdmVydGV4PlxuXHQjaW5jbHVkZSA8dXYyX3ZlcnRleD5cblx0I2luY2x1ZGUgPGNvbG9yX3ZlcnRleD5cblx0I2luY2x1ZGUgPGJlZ2lubm9ybWFsX3ZlcnRleD5cblx0I2luY2x1ZGUgPG1vcnBobm9ybWFsX3ZlcnRleD5cblx0I2luY2x1ZGUgPHNraW5iYXNlX3ZlcnRleD5cblx0I2luY2x1ZGUgPHNraW5ub3JtYWxfdmVydGV4PlxuXHQjaW5jbHVkZSA8ZGVmYXVsdG5vcm1hbF92ZXJ0ZXg+XG5cdCNpbmNsdWRlIDxiZWdpbl92ZXJ0ZXg+XG5cdCNpbmNsdWRlIDxtb3JwaHRhcmdldF92ZXJ0ZXg+XG5cdCNpbmNsdWRlIDxza2lubmluZ192ZXJ0ZXg+XG5cdCNpbmNsdWRlIDxwcm9qZWN0X3ZlcnRleD5cblx0I2luY2x1ZGUgPGxvZ2RlcHRoYnVmX3ZlcnRleD5cblx0I2luY2x1ZGUgPGNsaXBwaW5nX3BsYW5lc192ZXJ0ZXg+XG5cdCNpbmNsdWRlIDx3b3JsZHBvc192ZXJ0ZXg+XG5cdCNpbmNsdWRlIDxlbnZtYXBfdmVydGV4PlxuXHQjaW5jbHVkZSA8bGlnaHRzX2xhbWJlcnRfdmVydGV4PlxuXHQjaW5jbHVkZSA8c2hhZG93bWFwX3ZlcnRleD5cblx0I2luY2x1ZGUgPGZvZ192ZXJ0ZXg+XG59IixtZXNobWF0Y2FwX2ZyYWc6IiNkZWZpbmUgTUFUQ0FQXG51bmlmb3JtIHZlYzMgZGlmZnVzZTtcbnVuaWZvcm0gZmxvYXQgb3BhY2l0eTtcbnVuaWZvcm0gc2FtcGxlcjJEIG1hdGNhcDtcbnZhcnlpbmcgdmVjMyB2Vmlld1Bvc2l0aW9uO1xuI2lmbmRlZiBGTEFUX1NIQURFRFxuXHR2YXJ5aW5nIHZlYzMgdk5vcm1hbDtcbiNlbmRpZlxuI2luY2x1ZGUgPGNvbW1vbj5cbiNpbmNsdWRlIDxkaXRoZXJpbmdfcGFyc19mcmFnbWVudD5cbiNpbmNsdWRlIDxjb2xvcl9wYXJzX2ZyYWdtZW50PlxuI2luY2x1ZGUgPHV2X3BhcnNfZnJhZ21lbnQ+XG4jaW5jbHVkZSA8bWFwX3BhcnNfZnJhZ21lbnQ+XG4jaW5jbHVkZSA8YWxwaGFtYXBfcGFyc19mcmFnbWVudD5cbiNpbmNsdWRlIDxmb2dfcGFyc19mcmFnbWVudD5cbiNpbmNsdWRlIDxidW1wbWFwX3BhcnNfZnJhZ21lbnQ+XG4jaW5jbHVkZSA8bm9ybWFsbWFwX3BhcnNfZnJhZ21lbnQ+XG4jaW5jbHVkZSA8bG9nZGVwdGhidWZfcGFyc19mcmFnbWVudD5cbiNpbmNsdWRlIDxjbGlwcGluZ19wbGFuZXNfcGFyc19mcmFnbWVudD5cbnZvaWQgbWFpbigpIHtcblx0I2luY2x1ZGUgPGNsaXBwaW5nX3BsYW5lc19mcmFnbWVudD5cblx0dmVjNCBkaWZmdXNlQ29sb3IgPSB2ZWM0KCBkaWZmdXNlLCBvcGFjaXR5ICk7XG5cdCNpbmNsdWRlIDxsb2dkZXB0aGJ1Zl9mcmFnbWVudD5cblx0I2luY2x1ZGUgPG1hcF9mcmFnbWVudD5cblx0I2luY2x1ZGUgPGNvbG9yX2ZyYWdtZW50PlxuXHQjaW5jbHVkZSA8YWxwaGFtYXBfZnJhZ21lbnQ+XG5cdCNpbmNsdWRlIDxhbHBoYXRlc3RfZnJhZ21lbnQ+XG5cdCNpbmNsdWRlIDxub3JtYWxfZnJhZ21lbnRfYmVnaW4+XG5cdCNpbmNsdWRlIDxub3JtYWxfZnJhZ21lbnRfbWFwcz5cblx0dmVjMyB2aWV3RGlyID0gbm9ybWFsaXplKCB2Vmlld1Bvc2l0aW9uICk7XG5cdHZlYzMgeCA9IG5vcm1hbGl6ZSggdmVjMyggdmlld0Rpci56LCAwLjAsIC0gdmlld0Rpci54ICkgKTtcblx0dmVjMyB5ID0gY3Jvc3MoIHZpZXdEaXIsIHggKTtcblx0dmVjMiB1diA9IHZlYzIoIGRvdCggeCwgbm9ybWFsICksIGRvdCggeSwgbm9ybWFsICkgKSAqIDAuNDk1ICsgMC41O1xuXHQjaWZkZWYgVVNFX01BVENBUFxuXHRcdHZlYzQgbWF0Y2FwQ29sb3IgPSB0ZXh0dXJlMkQoIG1hdGNhcCwgdXYgKTtcblx0XHRtYXRjYXBDb2xvciA9IG1hdGNhcFRleGVsVG9MaW5lYXIoIG1hdGNhcENvbG9yICk7XG5cdCNlbHNlXG5cdFx0dmVjNCBtYXRjYXBDb2xvciA9IHZlYzQoIDEuMCApO1xuXHQjZW5kaWZcblx0dmVjMyBvdXRnb2luZ0xpZ2h0ID0gZGlmZnVzZUNvbG9yLnJnYiAqIG1hdGNhcENvbG9yLnJnYjtcblx0Z2xfRnJhZ0NvbG9yID0gdmVjNCggb3V0Z29pbmdMaWdodCwgZGlmZnVzZUNvbG9yLmEgKTtcblx0I2luY2x1ZGUgPHRvbmVtYXBwaW5nX2ZyYWdtZW50PlxuXHQjaW5jbHVkZSA8ZW5jb2RpbmdzX2ZyYWdtZW50PlxuXHQjaW5jbHVkZSA8Zm9nX2ZyYWdtZW50PlxuXHQjaW5jbHVkZSA8cHJlbXVsdGlwbGllZF9hbHBoYV9mcmFnbWVudD5cblx0I2luY2x1ZGUgPGRpdGhlcmluZ19mcmFnbWVudD5cbn0iLG1lc2htYXRjYXBfdmVydDoiI2RlZmluZSBNQVRDQVBcbnZhcnlpbmcgdmVjMyB2Vmlld1Bvc2l0aW9uO1xuI2lmbmRlZiBGTEFUX1NIQURFRFxuXHR2YXJ5aW5nIHZlYzMgdk5vcm1hbDtcbiNlbmRpZlxuI2luY2x1ZGUgPGNvbW1vbj5cbiNpbmNsdWRlIDx1dl9wYXJzX3ZlcnRleD5cbiNpbmNsdWRlIDxjb2xvcl9wYXJzX3ZlcnRleD5cbiNpbmNsdWRlIDxkaXNwbGFjZW1lbnRtYXBfcGFyc192ZXJ0ZXg+XG4jaW5jbHVkZSA8Zm9nX3BhcnNfdmVydGV4PlxuI2luY2x1ZGUgPG1vcnBodGFyZ2V0X3BhcnNfdmVydGV4PlxuI2luY2x1ZGUgPHNraW5uaW5nX3BhcnNfdmVydGV4PlxuI2luY2x1ZGUgPGxvZ2RlcHRoYnVmX3BhcnNfdmVydGV4PlxuI2luY2x1ZGUgPGNsaXBwaW5nX3BsYW5lc19wYXJzX3ZlcnRleD5cbnZvaWQgbWFpbigpIHtcblx0I2luY2x1ZGUgPHV2X3ZlcnRleD5cblx0I2luY2x1ZGUgPGNvbG9yX3ZlcnRleD5cblx0I2luY2x1ZGUgPGJlZ2lubm9ybWFsX3ZlcnRleD5cblx0I2luY2x1ZGUgPG1vcnBobm9ybWFsX3ZlcnRleD5cblx0I2luY2x1ZGUgPHNraW5iYXNlX3ZlcnRleD5cblx0I2luY2x1ZGUgPHNraW5ub3JtYWxfdmVydGV4PlxuXHQjaW5jbHVkZSA8ZGVmYXVsdG5vcm1hbF92ZXJ0ZXg+XG5cdCNpZm5kZWYgRkxBVF9TSEFERURcblx0XHR2Tm9ybWFsID0gbm9ybWFsaXplKCB0cmFuc2Zvcm1lZE5vcm1hbCApO1xuXHQjZW5kaWZcblx0I2luY2x1ZGUgPGJlZ2luX3ZlcnRleD5cblx0I2luY2x1ZGUgPG1vcnBodGFyZ2V0X3ZlcnRleD5cblx0I2luY2x1ZGUgPHNraW5uaW5nX3ZlcnRleD5cblx0I2luY2x1ZGUgPGRpc3BsYWNlbWVudG1hcF92ZXJ0ZXg+XG5cdCNpbmNsdWRlIDxwcm9qZWN0X3ZlcnRleD5cblx0I2luY2x1ZGUgPGxvZ2RlcHRoYnVmX3ZlcnRleD5cblx0I2luY2x1ZGUgPGNsaXBwaW5nX3BsYW5lc192ZXJ0ZXg+XG5cdCNpbmNsdWRlIDxmb2dfdmVydGV4PlxuXHR2Vmlld1Bvc2l0aW9uID0gLSBtdlBvc2l0aW9uLnh5ejtcbn0iLG1lc2h0b29uX2ZyYWc6IiNkZWZpbmUgVE9PTlxudW5pZm9ybSB2ZWMzIGRpZmZ1c2U7XG51bmlmb3JtIHZlYzMgZW1pc3NpdmU7XG51bmlmb3JtIGZsb2F0IG9wYWNpdHk7XG4jaW5jbHVkZSA8Y29tbW9uPlxuI2luY2x1ZGUgPHBhY2tpbmc+XG4jaW5jbHVkZSA8ZGl0aGVyaW5nX3BhcnNfZnJhZ21lbnQ+XG4jaW5jbHVkZSA8Y29sb3JfcGFyc19mcmFnbWVudD5cbiNpbmNsdWRlIDx1dl9wYXJzX2ZyYWdtZW50PlxuI2luY2x1ZGUgPHV2Ml9wYXJzX2ZyYWdtZW50PlxuI2luY2x1ZGUgPG1hcF9wYXJzX2ZyYWdtZW50PlxuI2luY2x1ZGUgPGFscGhhbWFwX3BhcnNfZnJhZ21lbnQ+XG4jaW5jbHVkZSA8YW9tYXBfcGFyc19mcmFnbWVudD5cbiNpbmNsdWRlIDxsaWdodG1hcF9wYXJzX2ZyYWdtZW50PlxuI2luY2x1ZGUgPGVtaXNzaXZlbWFwX3BhcnNfZnJhZ21lbnQ+XG4jaW5jbHVkZSA8Z3JhZGllbnRtYXBfcGFyc19mcmFnbWVudD5cbiNpbmNsdWRlIDxmb2dfcGFyc19mcmFnbWVudD5cbiNpbmNsdWRlIDxic2Rmcz5cbiNpbmNsdWRlIDxsaWdodHNfcGFyc19iZWdpbj5cbiNpbmNsdWRlIDxsaWdodHNfdG9vbl9wYXJzX2ZyYWdtZW50PlxuI2luY2x1ZGUgPHNoYWRvd21hcF9wYXJzX2ZyYWdtZW50PlxuI2luY2x1ZGUgPGJ1bXBtYXBfcGFyc19mcmFnbWVudD5cbiNpbmNsdWRlIDxub3JtYWxtYXBfcGFyc19mcmFnbWVudD5cbiNpbmNsdWRlIDxsb2dkZXB0aGJ1Zl9wYXJzX2ZyYWdtZW50PlxuI2luY2x1ZGUgPGNsaXBwaW5nX3BsYW5lc19wYXJzX2ZyYWdtZW50Plxudm9pZCBtYWluKCkge1xuXHQjaW5jbHVkZSA8Y2xpcHBpbmdfcGxhbmVzX2ZyYWdtZW50PlxuXHR2ZWM0IGRpZmZ1c2VDb2xvciA9IHZlYzQoIGRpZmZ1c2UsIG9wYWNpdHkgKTtcblx0UmVmbGVjdGVkTGlnaHQgcmVmbGVjdGVkTGlnaHQgPSBSZWZsZWN0ZWRMaWdodCggdmVjMyggMC4wICksIHZlYzMoIDAuMCApLCB2ZWMzKCAwLjAgKSwgdmVjMyggMC4wICkgKTtcblx0dmVjMyB0b3RhbEVtaXNzaXZlUmFkaWFuY2UgPSBlbWlzc2l2ZTtcblx0I2luY2x1ZGUgPGxvZ2RlcHRoYnVmX2ZyYWdtZW50PlxuXHQjaW5jbHVkZSA8bWFwX2ZyYWdtZW50PlxuXHQjaW5jbHVkZSA8Y29sb3JfZnJhZ21lbnQ+XG5cdCNpbmNsdWRlIDxhbHBoYW1hcF9mcmFnbWVudD5cblx0I2luY2x1ZGUgPGFscGhhdGVzdF9mcmFnbWVudD5cblx0I2luY2x1ZGUgPG5vcm1hbF9mcmFnbWVudF9iZWdpbj5cblx0I2luY2x1ZGUgPG5vcm1hbF9mcmFnbWVudF9tYXBzPlxuXHQjaW5jbHVkZSA8ZW1pc3NpdmVtYXBfZnJhZ21lbnQ+XG5cdCNpbmNsdWRlIDxsaWdodHNfdG9vbl9mcmFnbWVudD5cblx0I2luY2x1ZGUgPGxpZ2h0c19mcmFnbWVudF9iZWdpbj5cblx0I2luY2x1ZGUgPGxpZ2h0c19mcmFnbWVudF9tYXBzPlxuXHQjaW5jbHVkZSA8bGlnaHRzX2ZyYWdtZW50X2VuZD5cblx0I2luY2x1ZGUgPGFvbWFwX2ZyYWdtZW50PlxuXHR2ZWMzIG91dGdvaW5nTGlnaHQgPSByZWZsZWN0ZWRMaWdodC5kaXJlY3REaWZmdXNlICsgcmVmbGVjdGVkTGlnaHQuaW5kaXJlY3REaWZmdXNlICsgdG90YWxFbWlzc2l2ZVJhZGlhbmNlO1xuXHRnbF9GcmFnQ29sb3IgPSB2ZWM0KCBvdXRnb2luZ0xpZ2h0LCBkaWZmdXNlQ29sb3IuYSApO1xuXHQjaW5jbHVkZSA8dG9uZW1hcHBpbmdfZnJhZ21lbnQ+XG5cdCNpbmNsdWRlIDxlbmNvZGluZ3NfZnJhZ21lbnQ+XG5cdCNpbmNsdWRlIDxmb2dfZnJhZ21lbnQ+XG5cdCNpbmNsdWRlIDxwcmVtdWx0aXBsaWVkX2FscGhhX2ZyYWdtZW50PlxuXHQjaW5jbHVkZSA8ZGl0aGVyaW5nX2ZyYWdtZW50PlxufSIsbWVzaHRvb25fdmVydDoiI2RlZmluZSBUT09OXG52YXJ5aW5nIHZlYzMgdlZpZXdQb3NpdGlvbjtcbiNpZm5kZWYgRkxBVF9TSEFERURcblx0dmFyeWluZyB2ZWMzIHZOb3JtYWw7XG4jZW5kaWZcbiNpbmNsdWRlIDxjb21tb24+XG4jaW5jbHVkZSA8dXZfcGFyc192ZXJ0ZXg+XG4jaW5jbHVkZSA8dXYyX3BhcnNfdmVydGV4PlxuI2luY2x1ZGUgPGRpc3BsYWNlbWVudG1hcF9wYXJzX3ZlcnRleD5cbiNpbmNsdWRlIDxjb2xvcl9wYXJzX3ZlcnRleD5cbiNpbmNsdWRlIDxmb2dfcGFyc192ZXJ0ZXg+XG4jaW5jbHVkZSA8bW9ycGh0YXJnZXRfcGFyc192ZXJ0ZXg+XG4jaW5jbHVkZSA8c2tpbm5pbmdfcGFyc192ZXJ0ZXg+XG4jaW5jbHVkZSA8c2hhZG93bWFwX3BhcnNfdmVydGV4PlxuI2luY2x1ZGUgPGxvZ2RlcHRoYnVmX3BhcnNfdmVydGV4PlxuI2luY2x1ZGUgPGNsaXBwaW5nX3BsYW5lc19wYXJzX3ZlcnRleD5cbnZvaWQgbWFpbigpIHtcblx0I2luY2x1ZGUgPHV2X3ZlcnRleD5cblx0I2luY2x1ZGUgPHV2Ml92ZXJ0ZXg+XG5cdCNpbmNsdWRlIDxjb2xvcl92ZXJ0ZXg+XG5cdCNpbmNsdWRlIDxiZWdpbm5vcm1hbF92ZXJ0ZXg+XG5cdCNpbmNsdWRlIDxtb3JwaG5vcm1hbF92ZXJ0ZXg+XG5cdCNpbmNsdWRlIDxza2luYmFzZV92ZXJ0ZXg+XG5cdCNpbmNsdWRlIDxza2lubm9ybWFsX3ZlcnRleD5cblx0I2luY2x1ZGUgPGRlZmF1bHRub3JtYWxfdmVydGV4PlxuI2lmbmRlZiBGTEFUX1NIQURFRFxuXHR2Tm9ybWFsID0gbm9ybWFsaXplKCB0cmFuc2Zvcm1lZE5vcm1hbCApO1xuI2VuZGlmXG5cdCNpbmNsdWRlIDxiZWdpbl92ZXJ0ZXg+XG5cdCNpbmNsdWRlIDxtb3JwaHRhcmdldF92ZXJ0ZXg+XG5cdCNpbmNsdWRlIDxza2lubmluZ192ZXJ0ZXg+XG5cdCNpbmNsdWRlIDxkaXNwbGFjZW1lbnRtYXBfdmVydGV4PlxuXHQjaW5jbHVkZSA8cHJvamVjdF92ZXJ0ZXg+XG5cdCNpbmNsdWRlIDxsb2dkZXB0aGJ1Zl92ZXJ0ZXg+XG5cdCNpbmNsdWRlIDxjbGlwcGluZ19wbGFuZXNfdmVydGV4PlxuXHR2Vmlld1Bvc2l0aW9uID0gLSBtdlBvc2l0aW9uLnh5ejtcblx0I2luY2x1ZGUgPHdvcmxkcG9zX3ZlcnRleD5cblx0I2luY2x1ZGUgPHNoYWRvd21hcF92ZXJ0ZXg+XG5cdCNpbmNsdWRlIDxmb2dfdmVydGV4PlxufSIsbWVzaHBob25nX2ZyYWc6IiNkZWZpbmUgUEhPTkdcbnVuaWZvcm0gdmVjMyBkaWZmdXNlO1xudW5pZm9ybSB2ZWMzIGVtaXNzaXZlO1xudW5pZm9ybSB2ZWMzIHNwZWN1bGFyO1xudW5pZm9ybSBmbG9hdCBzaGluaW5lc3M7XG51bmlmb3JtIGZsb2F0IG9wYWNpdHk7XG4jaW5jbHVkZSA8Y29tbW9uPlxuI2luY2x1ZGUgPHBhY2tpbmc+XG4jaW5jbHVkZSA8ZGl0aGVyaW5nX3BhcnNfZnJhZ21lbnQ+XG4jaW5jbHVkZSA8Y29sb3JfcGFyc19mcmFnbWVudD5cbiNpbmNsdWRlIDx1dl9wYXJzX2ZyYWdtZW50PlxuI2luY2x1ZGUgPHV2Ml9wYXJzX2ZyYWdtZW50PlxuI2luY2x1ZGUgPG1hcF9wYXJzX2ZyYWdtZW50PlxuI2luY2x1ZGUgPGFscGhhbWFwX3BhcnNfZnJhZ21lbnQ+XG4jaW5jbHVkZSA8YW9tYXBfcGFyc19mcmFnbWVudD5cbiNpbmNsdWRlIDxsaWdodG1hcF9wYXJzX2ZyYWdtZW50PlxuI2luY2x1ZGUgPGVtaXNzaXZlbWFwX3BhcnNfZnJhZ21lbnQ+XG4jaW5jbHVkZSA8ZW52bWFwX2NvbW1vbl9wYXJzX2ZyYWdtZW50PlxuI2luY2x1ZGUgPGVudm1hcF9wYXJzX2ZyYWdtZW50PlxuI2luY2x1ZGUgPGN1YmVfdXZfcmVmbGVjdGlvbl9mcmFnbWVudD5cbiNpbmNsdWRlIDxmb2dfcGFyc19mcmFnbWVudD5cbiNpbmNsdWRlIDxic2Rmcz5cbiNpbmNsdWRlIDxsaWdodHNfcGFyc19iZWdpbj5cbiNpbmNsdWRlIDxsaWdodHNfcGhvbmdfcGFyc19mcmFnbWVudD5cbiNpbmNsdWRlIDxzaGFkb3dtYXBfcGFyc19mcmFnbWVudD5cbiNpbmNsdWRlIDxidW1wbWFwX3BhcnNfZnJhZ21lbnQ+XG4jaW5jbHVkZSA8bm9ybWFsbWFwX3BhcnNfZnJhZ21lbnQ+XG4jaW5jbHVkZSA8c3BlY3VsYXJtYXBfcGFyc19mcmFnbWVudD5cbiNpbmNsdWRlIDxsb2dkZXB0aGJ1Zl9wYXJzX2ZyYWdtZW50PlxuI2luY2x1ZGUgPGNsaXBwaW5nX3BsYW5lc19wYXJzX2ZyYWdtZW50Plxudm9pZCBtYWluKCkge1xuXHQjaW5jbHVkZSA8Y2xpcHBpbmdfcGxhbmVzX2ZyYWdtZW50PlxuXHR2ZWM0IGRpZmZ1c2VDb2xvciA9IHZlYzQoIGRpZmZ1c2UsIG9wYWNpdHkgKTtcblx0UmVmbGVjdGVkTGlnaHQgcmVmbGVjdGVkTGlnaHQgPSBSZWZsZWN0ZWRMaWdodCggdmVjMyggMC4wICksIHZlYzMoIDAuMCApLCB2ZWMzKCAwLjAgKSwgdmVjMyggMC4wICkgKTtcblx0dmVjMyB0b3RhbEVtaXNzaXZlUmFkaWFuY2UgPSBlbWlzc2l2ZTtcblx0I2luY2x1ZGUgPGxvZ2RlcHRoYnVmX2ZyYWdtZW50PlxuXHQjaW5jbHVkZSA8bWFwX2ZyYWdtZW50PlxuXHQjaW5jbHVkZSA8Y29sb3JfZnJhZ21lbnQ+XG5cdCNpbmNsdWRlIDxhbHBoYW1hcF9mcmFnbWVudD5cblx0I2luY2x1ZGUgPGFscGhhdGVzdF9mcmFnbWVudD5cblx0I2luY2x1ZGUgPHNwZWN1bGFybWFwX2ZyYWdtZW50PlxuXHQjaW5jbHVkZSA8bm9ybWFsX2ZyYWdtZW50X2JlZ2luPlxuXHQjaW5jbHVkZSA8bm9ybWFsX2ZyYWdtZW50X21hcHM+XG5cdCNpbmNsdWRlIDxlbWlzc2l2ZW1hcF9mcmFnbWVudD5cblx0I2luY2x1ZGUgPGxpZ2h0c19waG9uZ19mcmFnbWVudD5cblx0I2luY2x1ZGUgPGxpZ2h0c19mcmFnbWVudF9iZWdpbj5cblx0I2luY2x1ZGUgPGxpZ2h0c19mcmFnbWVudF9tYXBzPlxuXHQjaW5jbHVkZSA8bGlnaHRzX2ZyYWdtZW50X2VuZD5cblx0I2luY2x1ZGUgPGFvbWFwX2ZyYWdtZW50PlxuXHR2ZWMzIG91dGdvaW5nTGlnaHQgPSByZWZsZWN0ZWRMaWdodC5kaXJlY3REaWZmdXNlICsgcmVmbGVjdGVkTGlnaHQuaW5kaXJlY3REaWZmdXNlICsgcmVmbGVjdGVkTGlnaHQuZGlyZWN0U3BlY3VsYXIgKyByZWZsZWN0ZWRMaWdodC5pbmRpcmVjdFNwZWN1bGFyICsgdG90YWxFbWlzc2l2ZVJhZGlhbmNlO1xuXHQjaW5jbHVkZSA8ZW52bWFwX2ZyYWdtZW50PlxuXHRnbF9GcmFnQ29sb3IgPSB2ZWM0KCBvdXRnb2luZ0xpZ2h0LCBkaWZmdXNlQ29sb3IuYSApO1xuXHQjaW5jbHVkZSA8dG9uZW1hcHBpbmdfZnJhZ21lbnQ+XG5cdCNpbmNsdWRlIDxlbmNvZGluZ3NfZnJhZ21lbnQ+XG5cdCNpbmNsdWRlIDxmb2dfZnJhZ21lbnQ+XG5cdCNpbmNsdWRlIDxwcmVtdWx0aXBsaWVkX2FscGhhX2ZyYWdtZW50PlxuXHQjaW5jbHVkZSA8ZGl0aGVyaW5nX2ZyYWdtZW50PlxufSIsbWVzaHBob25nX3ZlcnQ6IiNkZWZpbmUgUEhPTkdcbnZhcnlpbmcgdmVjMyB2Vmlld1Bvc2l0aW9uO1xuI2lmbmRlZiBGTEFUX1NIQURFRFxuXHR2YXJ5aW5nIHZlYzMgdk5vcm1hbDtcbiNlbmRpZlxuI2luY2x1ZGUgPGNvbW1vbj5cbiNpbmNsdWRlIDx1dl9wYXJzX3ZlcnRleD5cbiNpbmNsdWRlIDx1djJfcGFyc192ZXJ0ZXg+XG4jaW5jbHVkZSA8ZGlzcGxhY2VtZW50bWFwX3BhcnNfdmVydGV4PlxuI2luY2x1ZGUgPGVudm1hcF9wYXJzX3ZlcnRleD5cbiNpbmNsdWRlIDxjb2xvcl9wYXJzX3ZlcnRleD5cbiNpbmNsdWRlIDxmb2dfcGFyc192ZXJ0ZXg+XG4jaW5jbHVkZSA8bW9ycGh0YXJnZXRfcGFyc192ZXJ0ZXg+XG4jaW5jbHVkZSA8c2tpbm5pbmdfcGFyc192ZXJ0ZXg+XG4jaW5jbHVkZSA8c2hhZG93bWFwX3BhcnNfdmVydGV4PlxuI2luY2x1ZGUgPGxvZ2RlcHRoYnVmX3BhcnNfdmVydGV4PlxuI2luY2x1ZGUgPGNsaXBwaW5nX3BsYW5lc19wYXJzX3ZlcnRleD5cbnZvaWQgbWFpbigpIHtcblx0I2luY2x1ZGUgPHV2X3ZlcnRleD5cblx0I2luY2x1ZGUgPHV2Ml92ZXJ0ZXg+XG5cdCNpbmNsdWRlIDxjb2xvcl92ZXJ0ZXg+XG5cdCNpbmNsdWRlIDxiZWdpbm5vcm1hbF92ZXJ0ZXg+XG5cdCNpbmNsdWRlIDxtb3JwaG5vcm1hbF92ZXJ0ZXg+XG5cdCNpbmNsdWRlIDxza2luYmFzZV92ZXJ0ZXg+XG5cdCNpbmNsdWRlIDxza2lubm9ybWFsX3ZlcnRleD5cblx0I2luY2x1ZGUgPGRlZmF1bHRub3JtYWxfdmVydGV4PlxuI2lmbmRlZiBGTEFUX1NIQURFRFxuXHR2Tm9ybWFsID0gbm9ybWFsaXplKCB0cmFuc2Zvcm1lZE5vcm1hbCApO1xuI2VuZGlmXG5cdCNpbmNsdWRlIDxiZWdpbl92ZXJ0ZXg+XG5cdCNpbmNsdWRlIDxtb3JwaHRhcmdldF92ZXJ0ZXg+XG5cdCNpbmNsdWRlIDxza2lubmluZ192ZXJ0ZXg+XG5cdCNpbmNsdWRlIDxkaXNwbGFjZW1lbnRtYXBfdmVydGV4PlxuXHQjaW5jbHVkZSA8cHJvamVjdF92ZXJ0ZXg+XG5cdCNpbmNsdWRlIDxsb2dkZXB0aGJ1Zl92ZXJ0ZXg+XG5cdCNpbmNsdWRlIDxjbGlwcGluZ19wbGFuZXNfdmVydGV4PlxuXHR2Vmlld1Bvc2l0aW9uID0gLSBtdlBvc2l0aW9uLnh5ejtcblx0I2luY2x1ZGUgPHdvcmxkcG9zX3ZlcnRleD5cblx0I2luY2x1ZGUgPGVudm1hcF92ZXJ0ZXg+XG5cdCNpbmNsdWRlIDxzaGFkb3dtYXBfdmVydGV4PlxuXHQjaW5jbHVkZSA8Zm9nX3ZlcnRleD5cbn0iLG1lc2hwaHlzaWNhbF9mcmFnOiIjZGVmaW5lIFNUQU5EQVJEXG4jaWZkZWYgUEhZU0lDQUxcblx0I2RlZmluZSBSRUZMRUNUSVZJVFlcblx0I2RlZmluZSBDTEVBUkNPQVRcblx0I2RlZmluZSBUUkFOU01JU1NJT05cbiNlbmRpZlxudW5pZm9ybSB2ZWMzIGRpZmZ1c2U7XG51bmlmb3JtIHZlYzMgZW1pc3NpdmU7XG51bmlmb3JtIGZsb2F0IHJvdWdobmVzcztcbnVuaWZvcm0gZmxvYXQgbWV0YWxuZXNzO1xudW5pZm9ybSBmbG9hdCBvcGFjaXR5O1xuI2lmZGVmIFRSQU5TTUlTU0lPTlxuXHR1bmlmb3JtIGZsb2F0IHRyYW5zbWlzc2lvbjtcbiNlbmRpZlxuI2lmZGVmIFJFRkxFQ1RJVklUWVxuXHR1bmlmb3JtIGZsb2F0IHJlZmxlY3Rpdml0eTtcbiNlbmRpZlxuI2lmZGVmIENMRUFSQ09BVFxuXHR1bmlmb3JtIGZsb2F0IGNsZWFyY29hdDtcblx0dW5pZm9ybSBmbG9hdCBjbGVhcmNvYXRSb3VnaG5lc3M7XG4jZW5kaWZcbiNpZmRlZiBVU0VfU0hFRU5cblx0dW5pZm9ybSB2ZWMzIHNoZWVuO1xuI2VuZGlmXG52YXJ5aW5nIHZlYzMgdlZpZXdQb3NpdGlvbjtcbiNpZm5kZWYgRkxBVF9TSEFERURcblx0dmFyeWluZyB2ZWMzIHZOb3JtYWw7XG5cdCNpZmRlZiBVU0VfVEFOR0VOVFxuXHRcdHZhcnlpbmcgdmVjMyB2VGFuZ2VudDtcblx0XHR2YXJ5aW5nIHZlYzMgdkJpdGFuZ2VudDtcblx0I2VuZGlmXG4jZW5kaWZcbiNpbmNsdWRlIDxjb21tb24+XG4jaW5jbHVkZSA8cGFja2luZz5cbiNpbmNsdWRlIDxkaXRoZXJpbmdfcGFyc19mcmFnbWVudD5cbiNpbmNsdWRlIDxjb2xvcl9wYXJzX2ZyYWdtZW50PlxuI2luY2x1ZGUgPHV2X3BhcnNfZnJhZ21lbnQ+XG4jaW5jbHVkZSA8dXYyX3BhcnNfZnJhZ21lbnQ+XG4jaW5jbHVkZSA8bWFwX3BhcnNfZnJhZ21lbnQ+XG4jaW5jbHVkZSA8YWxwaGFtYXBfcGFyc19mcmFnbWVudD5cbiNpbmNsdWRlIDxhb21hcF9wYXJzX2ZyYWdtZW50PlxuI2luY2x1ZGUgPGxpZ2h0bWFwX3BhcnNfZnJhZ21lbnQ+XG4jaW5jbHVkZSA8ZW1pc3NpdmVtYXBfcGFyc19mcmFnbWVudD5cbiNpbmNsdWRlIDx0cmFuc21pc3Npb25tYXBfcGFyc19mcmFnbWVudD5cbiNpbmNsdWRlIDxic2Rmcz5cbiNpbmNsdWRlIDxjdWJlX3V2X3JlZmxlY3Rpb25fZnJhZ21lbnQ+XG4jaW5jbHVkZSA8ZW52bWFwX2NvbW1vbl9wYXJzX2ZyYWdtZW50PlxuI2luY2x1ZGUgPGVudm1hcF9waHlzaWNhbF9wYXJzX2ZyYWdtZW50PlxuI2luY2x1ZGUgPGZvZ19wYXJzX2ZyYWdtZW50PlxuI2luY2x1ZGUgPGxpZ2h0c19wYXJzX2JlZ2luPlxuI2luY2x1ZGUgPGxpZ2h0c19waHlzaWNhbF9wYXJzX2ZyYWdtZW50PlxuI2luY2x1ZGUgPHNoYWRvd21hcF9wYXJzX2ZyYWdtZW50PlxuI2luY2x1ZGUgPGJ1bXBtYXBfcGFyc19mcmFnbWVudD5cbiNpbmNsdWRlIDxub3JtYWxtYXBfcGFyc19mcmFnbWVudD5cbiNpbmNsdWRlIDxjbGVhcmNvYXRfcGFyc19mcmFnbWVudD5cbiNpbmNsdWRlIDxyb3VnaG5lc3NtYXBfcGFyc19mcmFnbWVudD5cbiNpbmNsdWRlIDxtZXRhbG5lc3NtYXBfcGFyc19mcmFnbWVudD5cbiNpbmNsdWRlIDxsb2dkZXB0aGJ1Zl9wYXJzX2ZyYWdtZW50PlxuI2luY2x1ZGUgPGNsaXBwaW5nX3BsYW5lc19wYXJzX2ZyYWdtZW50Plxudm9pZCBtYWluKCkge1xuXHQjaW5jbHVkZSA8Y2xpcHBpbmdfcGxhbmVzX2ZyYWdtZW50PlxuXHR2ZWM0IGRpZmZ1c2VDb2xvciA9IHZlYzQoIGRpZmZ1c2UsIG9wYWNpdHkgKTtcblx0UmVmbGVjdGVkTGlnaHQgcmVmbGVjdGVkTGlnaHQgPSBSZWZsZWN0ZWRMaWdodCggdmVjMyggMC4wICksIHZlYzMoIDAuMCApLCB2ZWMzKCAwLjAgKSwgdmVjMyggMC4wICkgKTtcblx0dmVjMyB0b3RhbEVtaXNzaXZlUmFkaWFuY2UgPSBlbWlzc2l2ZTtcblx0I2lmZGVmIFRSQU5TTUlTU0lPTlxuXHRcdGZsb2F0IHRvdGFsVHJhbnNtaXNzaW9uID0gdHJhbnNtaXNzaW9uO1xuXHQjZW5kaWZcblx0I2luY2x1ZGUgPGxvZ2RlcHRoYnVmX2ZyYWdtZW50PlxuXHQjaW5jbHVkZSA8bWFwX2ZyYWdtZW50PlxuXHQjaW5jbHVkZSA8Y29sb3JfZnJhZ21lbnQ+XG5cdCNpbmNsdWRlIDxhbHBoYW1hcF9mcmFnbWVudD5cblx0I2luY2x1ZGUgPGFscGhhdGVzdF9mcmFnbWVudD5cblx0I2luY2x1ZGUgPHJvdWdobmVzc21hcF9mcmFnbWVudD5cblx0I2luY2x1ZGUgPG1ldGFsbmVzc21hcF9mcmFnbWVudD5cblx0I2luY2x1ZGUgPG5vcm1hbF9mcmFnbWVudF9iZWdpbj5cblx0I2luY2x1ZGUgPG5vcm1hbF9mcmFnbWVudF9tYXBzPlxuXHQjaW5jbHVkZSA8Y2xlYXJjb2F0X25vcm1hbF9mcmFnbWVudF9iZWdpbj5cblx0I2luY2x1ZGUgPGNsZWFyY29hdF9ub3JtYWxfZnJhZ21lbnRfbWFwcz5cblx0I2luY2x1ZGUgPGVtaXNzaXZlbWFwX2ZyYWdtZW50PlxuXHQjaW5jbHVkZSA8dHJhbnNtaXNzaW9ubWFwX2ZyYWdtZW50PlxuXHQjaW5jbHVkZSA8bGlnaHRzX3BoeXNpY2FsX2ZyYWdtZW50PlxuXHQjaW5jbHVkZSA8bGlnaHRzX2ZyYWdtZW50X2JlZ2luPlxuXHQjaW5jbHVkZSA8bGlnaHRzX2ZyYWdtZW50X21hcHM+XG5cdCNpbmNsdWRlIDxsaWdodHNfZnJhZ21lbnRfZW5kPlxuXHQjaW5jbHVkZSA8YW9tYXBfZnJhZ21lbnQ+XG5cdHZlYzMgb3V0Z29pbmdMaWdodCA9IHJlZmxlY3RlZExpZ2h0LmRpcmVjdERpZmZ1c2UgKyByZWZsZWN0ZWRMaWdodC5pbmRpcmVjdERpZmZ1c2UgKyByZWZsZWN0ZWRMaWdodC5kaXJlY3RTcGVjdWxhciArIHJlZmxlY3RlZExpZ2h0LmluZGlyZWN0U3BlY3VsYXIgKyB0b3RhbEVtaXNzaXZlUmFkaWFuY2U7XG5cdCNpZmRlZiBUUkFOU01JU1NJT05cblx0XHRkaWZmdXNlQ29sb3IuYSAqPSBtaXgoIHNhdHVyYXRlKCAxLiAtIHRvdGFsVHJhbnNtaXNzaW9uICsgbGluZWFyVG9SZWxhdGl2ZUx1bWluYW5jZSggcmVmbGVjdGVkTGlnaHQuZGlyZWN0U3BlY3VsYXIgKyByZWZsZWN0ZWRMaWdodC5pbmRpcmVjdFNwZWN1bGFyICkgKSwgMS4wLCBtZXRhbG5lc3MgKTtcblx0I2VuZGlmXG5cdGdsX0ZyYWdDb2xvciA9IHZlYzQoIG91dGdvaW5nTGlnaHQsIGRpZmZ1c2VDb2xvci5hICk7XG5cdCNpbmNsdWRlIDx0b25lbWFwcGluZ19mcmFnbWVudD5cblx0I2luY2x1ZGUgPGVuY29kaW5nc19mcmFnbWVudD5cblx0I2luY2x1ZGUgPGZvZ19mcmFnbWVudD5cblx0I2luY2x1ZGUgPHByZW11bHRpcGxpZWRfYWxwaGFfZnJhZ21lbnQ+XG5cdCNpbmNsdWRlIDxkaXRoZXJpbmdfZnJhZ21lbnQ+XG59IixtZXNocGh5c2ljYWxfdmVydDoiI2RlZmluZSBTVEFOREFSRFxudmFyeWluZyB2ZWMzIHZWaWV3UG9zaXRpb247XG4jaWZuZGVmIEZMQVRfU0hBREVEXG5cdHZhcnlpbmcgdmVjMyB2Tm9ybWFsO1xuXHQjaWZkZWYgVVNFX1RBTkdFTlRcblx0XHR2YXJ5aW5nIHZlYzMgdlRhbmdlbnQ7XG5cdFx0dmFyeWluZyB2ZWMzIHZCaXRhbmdlbnQ7XG5cdCNlbmRpZlxuI2VuZGlmXG4jaW5jbHVkZSA8Y29tbW9uPlxuI2luY2x1ZGUgPHV2X3BhcnNfdmVydGV4PlxuI2luY2x1ZGUgPHV2Ml9wYXJzX3ZlcnRleD5cbiNpbmNsdWRlIDxkaXNwbGFjZW1lbnRtYXBfcGFyc192ZXJ0ZXg+XG4jaW5jbHVkZSA8Y29sb3JfcGFyc192ZXJ0ZXg+XG4jaW5jbHVkZSA8Zm9nX3BhcnNfdmVydGV4PlxuI2luY2x1ZGUgPG1vcnBodGFyZ2V0X3BhcnNfdmVydGV4PlxuI2luY2x1ZGUgPHNraW5uaW5nX3BhcnNfdmVydGV4PlxuI2luY2x1ZGUgPHNoYWRvd21hcF9wYXJzX3ZlcnRleD5cbiNpbmNsdWRlIDxsb2dkZXB0aGJ1Zl9wYXJzX3ZlcnRleD5cbiNpbmNsdWRlIDxjbGlwcGluZ19wbGFuZXNfcGFyc192ZXJ0ZXg+XG52b2lkIG1haW4oKSB7XG5cdCNpbmNsdWRlIDx1dl92ZXJ0ZXg+XG5cdCNpbmNsdWRlIDx1djJfdmVydGV4PlxuXHQjaW5jbHVkZSA8Y29sb3JfdmVydGV4PlxuXHQjaW5jbHVkZSA8YmVnaW5ub3JtYWxfdmVydGV4PlxuXHQjaW5jbHVkZSA8bW9ycGhub3JtYWxfdmVydGV4PlxuXHQjaW5jbHVkZSA8c2tpbmJhc2VfdmVydGV4PlxuXHQjaW5jbHVkZSA8c2tpbm5vcm1hbF92ZXJ0ZXg+XG5cdCNpbmNsdWRlIDxkZWZhdWx0bm9ybWFsX3ZlcnRleD5cbiNpZm5kZWYgRkxBVF9TSEFERURcblx0dk5vcm1hbCA9IG5vcm1hbGl6ZSggdHJhbnNmb3JtZWROb3JtYWwgKTtcblx0I2lmZGVmIFVTRV9UQU5HRU5UXG5cdFx0dlRhbmdlbnQgPSBub3JtYWxpemUoIHRyYW5zZm9ybWVkVGFuZ2VudCApO1xuXHRcdHZCaXRhbmdlbnQgPSBub3JtYWxpemUoIGNyb3NzKCB2Tm9ybWFsLCB2VGFuZ2VudCApICogdGFuZ2VudC53ICk7XG5cdCNlbmRpZlxuI2VuZGlmXG5cdCNpbmNsdWRlIDxiZWdpbl92ZXJ0ZXg+XG5cdCNpbmNsdWRlIDxtb3JwaHRhcmdldF92ZXJ0ZXg+XG5cdCNpbmNsdWRlIDxza2lubmluZ192ZXJ0ZXg+XG5cdCNpbmNsdWRlIDxkaXNwbGFjZW1lbnRtYXBfdmVydGV4PlxuXHQjaW5jbHVkZSA8cHJvamVjdF92ZXJ0ZXg+XG5cdCNpbmNsdWRlIDxsb2dkZXB0aGJ1Zl92ZXJ0ZXg+XG5cdCNpbmNsdWRlIDxjbGlwcGluZ19wbGFuZXNfdmVydGV4PlxuXHR2Vmlld1Bvc2l0aW9uID0gLSBtdlBvc2l0aW9uLnh5ejtcblx0I2luY2x1ZGUgPHdvcmxkcG9zX3ZlcnRleD5cblx0I2luY2x1ZGUgPHNoYWRvd21hcF92ZXJ0ZXg+XG5cdCNpbmNsdWRlIDxmb2dfdmVydGV4PlxufSIsbm9ybWFsX2ZyYWc6IiNkZWZpbmUgTk9STUFMXG51bmlmb3JtIGZsb2F0IG9wYWNpdHk7XG4jaWYgZGVmaW5lZCggRkxBVF9TSEFERUQgKSB8fCBkZWZpbmVkKCBVU0VfQlVNUE1BUCApIHx8IGRlZmluZWQoIFRBTkdFTlRTUEFDRV9OT1JNQUxNQVAgKVxuXHR2YXJ5aW5nIHZlYzMgdlZpZXdQb3NpdGlvbjtcbiNlbmRpZlxuI2lmbmRlZiBGTEFUX1NIQURFRFxuXHR2YXJ5aW5nIHZlYzMgdk5vcm1hbDtcblx0I2lmZGVmIFVTRV9UQU5HRU5UXG5cdFx0dmFyeWluZyB2ZWMzIHZUYW5nZW50O1xuXHRcdHZhcnlpbmcgdmVjMyB2Qml0YW5nZW50O1xuXHQjZW5kaWZcbiNlbmRpZlxuI2luY2x1ZGUgPHBhY2tpbmc+XG4jaW5jbHVkZSA8dXZfcGFyc19mcmFnbWVudD5cbiNpbmNsdWRlIDxidW1wbWFwX3BhcnNfZnJhZ21lbnQ+XG4jaW5jbHVkZSA8bm9ybWFsbWFwX3BhcnNfZnJhZ21lbnQ+XG4jaW5jbHVkZSA8bG9nZGVwdGhidWZfcGFyc19mcmFnbWVudD5cbiNpbmNsdWRlIDxjbGlwcGluZ19wbGFuZXNfcGFyc19mcmFnbWVudD5cbnZvaWQgbWFpbigpIHtcblx0I2luY2x1ZGUgPGNsaXBwaW5nX3BsYW5lc19mcmFnbWVudD5cblx0I2luY2x1ZGUgPGxvZ2RlcHRoYnVmX2ZyYWdtZW50PlxuXHQjaW5jbHVkZSA8bm9ybWFsX2ZyYWdtZW50X2JlZ2luPlxuXHQjaW5jbHVkZSA8bm9ybWFsX2ZyYWdtZW50X21hcHM+XG5cdGdsX0ZyYWdDb2xvciA9IHZlYzQoIHBhY2tOb3JtYWxUb1JHQiggbm9ybWFsICksIG9wYWNpdHkgKTtcbn0iLG5vcm1hbF92ZXJ0OiIjZGVmaW5lIE5PUk1BTFxuI2lmIGRlZmluZWQoIEZMQVRfU0hBREVEICkgfHwgZGVmaW5lZCggVVNFX0JVTVBNQVAgKSB8fCBkZWZpbmVkKCBUQU5HRU5UU1BBQ0VfTk9STUFMTUFQIClcblx0dmFyeWluZyB2ZWMzIHZWaWV3UG9zaXRpb247XG4jZW5kaWZcbiNpZm5kZWYgRkxBVF9TSEFERURcblx0dmFyeWluZyB2ZWMzIHZOb3JtYWw7XG5cdCNpZmRlZiBVU0VfVEFOR0VOVFxuXHRcdHZhcnlpbmcgdmVjMyB2VGFuZ2VudDtcblx0XHR2YXJ5aW5nIHZlYzMgdkJpdGFuZ2VudDtcblx0I2VuZGlmXG4jZW5kaWZcbiNpbmNsdWRlIDxjb21tb24+XG4jaW5jbHVkZSA8dXZfcGFyc192ZXJ0ZXg+XG4jaW5jbHVkZSA8ZGlzcGxhY2VtZW50bWFwX3BhcnNfdmVydGV4PlxuI2luY2x1ZGUgPG1vcnBodGFyZ2V0X3BhcnNfdmVydGV4PlxuI2luY2x1ZGUgPHNraW5uaW5nX3BhcnNfdmVydGV4PlxuI2luY2x1ZGUgPGxvZ2RlcHRoYnVmX3BhcnNfdmVydGV4PlxuI2luY2x1ZGUgPGNsaXBwaW5nX3BsYW5lc19wYXJzX3ZlcnRleD5cbnZvaWQgbWFpbigpIHtcblx0I2luY2x1ZGUgPHV2X3ZlcnRleD5cblx0I2luY2x1ZGUgPGJlZ2lubm9ybWFsX3ZlcnRleD5cblx0I2luY2x1ZGUgPG1vcnBobm9ybWFsX3ZlcnRleD5cblx0I2luY2x1ZGUgPHNraW5iYXNlX3ZlcnRleD5cblx0I2luY2x1ZGUgPHNraW5ub3JtYWxfdmVydGV4PlxuXHQjaW5jbHVkZSA8ZGVmYXVsdG5vcm1hbF92ZXJ0ZXg+XG4jaWZuZGVmIEZMQVRfU0hBREVEXG5cdHZOb3JtYWwgPSBub3JtYWxpemUoIHRyYW5zZm9ybWVkTm9ybWFsICk7XG5cdCNpZmRlZiBVU0VfVEFOR0VOVFxuXHRcdHZUYW5nZW50ID0gbm9ybWFsaXplKCB0cmFuc2Zvcm1lZFRhbmdlbnQgKTtcblx0XHR2Qml0YW5nZW50ID0gbm9ybWFsaXplKCBjcm9zcyggdk5vcm1hbCwgdlRhbmdlbnQgKSAqIHRhbmdlbnQudyApO1xuXHQjZW5kaWZcbiNlbmRpZlxuXHQjaW5jbHVkZSA8YmVnaW5fdmVydGV4PlxuXHQjaW5jbHVkZSA8bW9ycGh0YXJnZXRfdmVydGV4PlxuXHQjaW5jbHVkZSA8c2tpbm5pbmdfdmVydGV4PlxuXHQjaW5jbHVkZSA8ZGlzcGxhY2VtZW50bWFwX3ZlcnRleD5cblx0I2luY2x1ZGUgPHByb2plY3RfdmVydGV4PlxuXHQjaW5jbHVkZSA8bG9nZGVwdGhidWZfdmVydGV4PlxuXHQjaW5jbHVkZSA8Y2xpcHBpbmdfcGxhbmVzX3ZlcnRleD5cbiNpZiBkZWZpbmVkKCBGTEFUX1NIQURFRCApIHx8IGRlZmluZWQoIFVTRV9CVU1QTUFQICkgfHwgZGVmaW5lZCggVEFOR0VOVFNQQUNFX05PUk1BTE1BUCApXG5cdHZWaWV3UG9zaXRpb24gPSAtIG12UG9zaXRpb24ueHl6O1xuI2VuZGlmXG59Iixwb2ludHNfZnJhZzoidW5pZm9ybSB2ZWMzIGRpZmZ1c2U7XG51bmlmb3JtIGZsb2F0IG9wYWNpdHk7XG4jaW5jbHVkZSA8Y29tbW9uPlxuI2luY2x1ZGUgPGNvbG9yX3BhcnNfZnJhZ21lbnQ+XG4jaW5jbHVkZSA8bWFwX3BhcnRpY2xlX3BhcnNfZnJhZ21lbnQ+XG4jaW5jbHVkZSA8Zm9nX3BhcnNfZnJhZ21lbnQ+XG4jaW5jbHVkZSA8bG9nZGVwdGhidWZfcGFyc19mcmFnbWVudD5cbiNpbmNsdWRlIDxjbGlwcGluZ19wbGFuZXNfcGFyc19mcmFnbWVudD5cbnZvaWQgbWFpbigpIHtcblx0I2luY2x1ZGUgPGNsaXBwaW5nX3BsYW5lc19mcmFnbWVudD5cblx0dmVjMyBvdXRnb2luZ0xpZ2h0ID0gdmVjMyggMC4wICk7XG5cdHZlYzQgZGlmZnVzZUNvbG9yID0gdmVjNCggZGlmZnVzZSwgb3BhY2l0eSApO1xuXHQjaW5jbHVkZSA8bG9nZGVwdGhidWZfZnJhZ21lbnQ+XG5cdCNpbmNsdWRlIDxtYXBfcGFydGljbGVfZnJhZ21lbnQ+XG5cdCNpbmNsdWRlIDxjb2xvcl9mcmFnbWVudD5cblx0I2luY2x1ZGUgPGFscGhhdGVzdF9mcmFnbWVudD5cblx0b3V0Z29pbmdMaWdodCA9IGRpZmZ1c2VDb2xvci5yZ2I7XG5cdGdsX0ZyYWdDb2xvciA9IHZlYzQoIG91dGdvaW5nTGlnaHQsIGRpZmZ1c2VDb2xvci5hICk7XG5cdCNpbmNsdWRlIDx0b25lbWFwcGluZ19mcmFnbWVudD5cblx0I2luY2x1ZGUgPGVuY29kaW5nc19mcmFnbWVudD5cblx0I2luY2x1ZGUgPGZvZ19mcmFnbWVudD5cblx0I2luY2x1ZGUgPHByZW11bHRpcGxpZWRfYWxwaGFfZnJhZ21lbnQ+XG59Iixwb2ludHNfdmVydDoidW5pZm9ybSBmbG9hdCBzaXplO1xudW5pZm9ybSBmbG9hdCBzY2FsZTtcbiNpbmNsdWRlIDxjb21tb24+XG4jaW5jbHVkZSA8Y29sb3JfcGFyc192ZXJ0ZXg+XG4jaW5jbHVkZSA8Zm9nX3BhcnNfdmVydGV4PlxuI2luY2x1ZGUgPG1vcnBodGFyZ2V0X3BhcnNfdmVydGV4PlxuI2luY2x1ZGUgPGxvZ2RlcHRoYnVmX3BhcnNfdmVydGV4PlxuI2luY2x1ZGUgPGNsaXBwaW5nX3BsYW5lc19wYXJzX3ZlcnRleD5cbnZvaWQgbWFpbigpIHtcblx0I2luY2x1ZGUgPGNvbG9yX3ZlcnRleD5cblx0I2luY2x1ZGUgPGJlZ2luX3ZlcnRleD5cblx0I2luY2x1ZGUgPG1vcnBodGFyZ2V0X3ZlcnRleD5cblx0I2luY2x1ZGUgPHByb2plY3RfdmVydGV4PlxuXHRnbF9Qb2ludFNpemUgPSBzaXplO1xuXHQjaWZkZWYgVVNFX1NJWkVBVFRFTlVBVElPTlxuXHRcdGJvb2wgaXNQZXJzcGVjdGl2ZSA9IGlzUGVyc3BlY3RpdmVNYXRyaXgoIHByb2plY3Rpb25NYXRyaXggKTtcblx0XHRpZiAoIGlzUGVyc3BlY3RpdmUgKSBnbF9Qb2ludFNpemUgKj0gKCBzY2FsZSAvIC0gbXZQb3NpdGlvbi56ICk7XG5cdCNlbmRpZlxuXHQjaW5jbHVkZSA8bG9nZGVwdGhidWZfdmVydGV4PlxuXHQjaW5jbHVkZSA8Y2xpcHBpbmdfcGxhbmVzX3ZlcnRleD5cblx0I2luY2x1ZGUgPHdvcmxkcG9zX3ZlcnRleD5cblx0I2luY2x1ZGUgPGZvZ192ZXJ0ZXg+XG59IixzaGFkb3dfZnJhZzoidW5pZm9ybSB2ZWMzIGNvbG9yO1xudW5pZm9ybSBmbG9hdCBvcGFjaXR5O1xuI2luY2x1ZGUgPGNvbW1vbj5cbiNpbmNsdWRlIDxwYWNraW5nPlxuI2luY2x1ZGUgPGZvZ19wYXJzX2ZyYWdtZW50PlxuI2luY2x1ZGUgPGJzZGZzPlxuI2luY2x1ZGUgPGxpZ2h0c19wYXJzX2JlZ2luPlxuI2luY2x1ZGUgPHNoYWRvd21hcF9wYXJzX2ZyYWdtZW50PlxuI2luY2x1ZGUgPHNoYWRvd21hc2tfcGFyc19mcmFnbWVudD5cbnZvaWQgbWFpbigpIHtcblx0Z2xfRnJhZ0NvbG9yID0gdmVjNCggY29sb3IsIG9wYWNpdHkgKiAoIDEuMCAtIGdldFNoYWRvd01hc2soKSApICk7XG5cdCNpbmNsdWRlIDx0b25lbWFwcGluZ19mcmFnbWVudD5cblx0I2luY2x1ZGUgPGVuY29kaW5nc19mcmFnbWVudD5cblx0I2luY2x1ZGUgPGZvZ19mcmFnbWVudD5cbn0iLHNoYWRvd192ZXJ0OiIjaW5jbHVkZSA8Y29tbW9uPlxuI2luY2x1ZGUgPGZvZ19wYXJzX3ZlcnRleD5cbiNpbmNsdWRlIDxzaGFkb3dtYXBfcGFyc192ZXJ0ZXg+XG52b2lkIG1haW4oKSB7XG5cdCNpbmNsdWRlIDxiZWdpbl92ZXJ0ZXg+XG5cdCNpbmNsdWRlIDxwcm9qZWN0X3ZlcnRleD5cblx0I2luY2x1ZGUgPHdvcmxkcG9zX3ZlcnRleD5cblx0I2luY2x1ZGUgPGJlZ2lubm9ybWFsX3ZlcnRleD5cblx0I2luY2x1ZGUgPG1vcnBobm9ybWFsX3ZlcnRleD5cblx0I2luY2x1ZGUgPHNraW5iYXNlX3ZlcnRleD5cblx0I2luY2x1ZGUgPHNraW5ub3JtYWxfdmVydGV4PlxuXHQjaW5jbHVkZSA8ZGVmYXVsdG5vcm1hbF92ZXJ0ZXg+XG5cdCNpbmNsdWRlIDxzaGFkb3dtYXBfdmVydGV4PlxuXHQjaW5jbHVkZSA8Zm9nX3ZlcnRleD5cbn0iLHNwcml0ZV9mcmFnOiJ1bmlmb3JtIHZlYzMgZGlmZnVzZTtcbnVuaWZvcm0gZmxvYXQgb3BhY2l0eTtcbiNpbmNsdWRlIDxjb21tb24+XG4jaW5jbHVkZSA8dXZfcGFyc19mcmFnbWVudD5cbiNpbmNsdWRlIDxtYXBfcGFyc19mcmFnbWVudD5cbiNpbmNsdWRlIDxhbHBoYW1hcF9wYXJzX2ZyYWdtZW50PlxuI2luY2x1ZGUgPGZvZ19wYXJzX2ZyYWdtZW50PlxuI2luY2x1ZGUgPGxvZ2RlcHRoYnVmX3BhcnNfZnJhZ21lbnQ+XG4jaW5jbHVkZSA8Y2xpcHBpbmdfcGxhbmVzX3BhcnNfZnJhZ21lbnQ+XG52b2lkIG1haW4oKSB7XG5cdCNpbmNsdWRlIDxjbGlwcGluZ19wbGFuZXNfZnJhZ21lbnQ+XG5cdHZlYzMgb3V0Z29pbmdMaWdodCA9IHZlYzMoIDAuMCApO1xuXHR2ZWM0IGRpZmZ1c2VDb2xvciA9IHZlYzQoIGRpZmZ1c2UsIG9wYWNpdHkgKTtcblx0I2luY2x1ZGUgPGxvZ2RlcHRoYnVmX2ZyYWdtZW50PlxuXHQjaW5jbHVkZSA8bWFwX2ZyYWdtZW50PlxuXHQjaW5jbHVkZSA8YWxwaGFtYXBfZnJhZ21lbnQ+XG5cdCNpbmNsdWRlIDxhbHBoYXRlc3RfZnJhZ21lbnQ+XG5cdG91dGdvaW5nTGlnaHQgPSBkaWZmdXNlQ29sb3IucmdiO1xuXHRnbF9GcmFnQ29sb3IgPSB2ZWM0KCBvdXRnb2luZ0xpZ2h0LCBkaWZmdXNlQ29sb3IuYSApO1xuXHQjaW5jbHVkZSA8dG9uZW1hcHBpbmdfZnJhZ21lbnQ+XG5cdCNpbmNsdWRlIDxlbmNvZGluZ3NfZnJhZ21lbnQ+XG5cdCNpbmNsdWRlIDxmb2dfZnJhZ21lbnQ+XG59IixzcHJpdGVfdmVydDoidW5pZm9ybSBmbG9hdCByb3RhdGlvbjtcbnVuaWZvcm0gdmVjMiBjZW50ZXI7XG4jaW5jbHVkZSA8Y29tbW9uPlxuI2luY2x1ZGUgPHV2X3BhcnNfdmVydGV4PlxuI2luY2x1ZGUgPGZvZ19wYXJzX3ZlcnRleD5cbiNpbmNsdWRlIDxsb2dkZXB0aGJ1Zl9wYXJzX3ZlcnRleD5cbiNpbmNsdWRlIDxjbGlwcGluZ19wbGFuZXNfcGFyc192ZXJ0ZXg+XG52b2lkIG1haW4oKSB7XG5cdCNpbmNsdWRlIDx1dl92ZXJ0ZXg+XG5cdHZlYzQgbXZQb3NpdGlvbiA9IG1vZGVsVmlld01hdHJpeCAqIHZlYzQoIDAuMCwgMC4wLCAwLjAsIDEuMCApO1xuXHR2ZWMyIHNjYWxlO1xuXHRzY2FsZS54ID0gbGVuZ3RoKCB2ZWMzKCBtb2RlbE1hdHJpeFsgMCBdLngsIG1vZGVsTWF0cml4WyAwIF0ueSwgbW9kZWxNYXRyaXhbIDAgXS56ICkgKTtcblx0c2NhbGUueSA9IGxlbmd0aCggdmVjMyggbW9kZWxNYXRyaXhbIDEgXS54LCBtb2RlbE1hdHJpeFsgMSBdLnksIG1vZGVsTWF0cml4WyAxIF0ueiApICk7XG5cdCNpZm5kZWYgVVNFX1NJWkVBVFRFTlVBVElPTlxuXHRcdGJvb2wgaXNQZXJzcGVjdGl2ZSA9IGlzUGVyc3BlY3RpdmVNYXRyaXgoIHByb2plY3Rpb25NYXRyaXggKTtcblx0XHRpZiAoIGlzUGVyc3BlY3RpdmUgKSBzY2FsZSAqPSAtIG12UG9zaXRpb24uejtcblx0I2VuZGlmXG5cdHZlYzIgYWxpZ25lZFBvc2l0aW9uID0gKCBwb3NpdGlvbi54eSAtICggY2VudGVyIC0gdmVjMiggMC41ICkgKSApICogc2NhbGU7XG5cdHZlYzIgcm90YXRlZFBvc2l0aW9uO1xuXHRyb3RhdGVkUG9zaXRpb24ueCA9IGNvcyggcm90YXRpb24gKSAqIGFsaWduZWRQb3NpdGlvbi54IC0gc2luKCByb3RhdGlvbiApICogYWxpZ25lZFBvc2l0aW9uLnk7XG5cdHJvdGF0ZWRQb3NpdGlvbi55ID0gc2luKCByb3RhdGlvbiApICogYWxpZ25lZFBvc2l0aW9uLnggKyBjb3MoIHJvdGF0aW9uICkgKiBhbGlnbmVkUG9zaXRpb24ueTtcblx0bXZQb3NpdGlvbi54eSArPSByb3RhdGVkUG9zaXRpb247XG5cdGdsX1Bvc2l0aW9uID0gcHJvamVjdGlvbk1hdHJpeCAqIG12UG9zaXRpb247XG5cdCNpbmNsdWRlIDxsb2dkZXB0aGJ1Zl92ZXJ0ZXg+XG5cdCNpbmNsdWRlIDxjbGlwcGluZ19wbGFuZXNfdmVydGV4PlxuXHQjaW5jbHVkZSA8Zm9nX3ZlcnRleD5cbn0ifSx1aT17Y29tbW9uOntkaWZmdXNlOnt2YWx1ZTpuZXcgdG4oMTU2NTg3MzQpfSxvcGFjaXR5Ont2YWx1ZToxfSxtYXA6e3ZhbHVlOm51bGx9LHV2VHJhbnNmb3JtOnt2YWx1ZTpuZXcgeXR9LHV2MlRyYW5zZm9ybTp7dmFsdWU6bmV3IHl0fSxhbHBoYU1hcDp7dmFsdWU6bnVsbH19LHNwZWN1bGFybWFwOntzcGVjdWxhck1hcDp7dmFsdWU6bnVsbH19LGVudm1hcDp7ZW52TWFwOnt2YWx1ZTpudWxsfSxmbGlwRW52TWFwOnt2YWx1ZTotMX0scmVmbGVjdGl2aXR5Ont2YWx1ZToxfSxyZWZyYWN0aW9uUmF0aW86e3ZhbHVlOi45OH0sbWF4TWlwTGV2ZWw6e3ZhbHVlOjB9fSxhb21hcDp7YW9NYXA6e3ZhbHVlOm51bGx9LGFvTWFwSW50ZW5zaXR5Ont2YWx1ZToxfX0sbGlnaHRtYXA6e2xpZ2h0TWFwOnt2YWx1ZTpudWxsfSxsaWdodE1hcEludGVuc2l0eTp7dmFsdWU6MX19LGVtaXNzaXZlbWFwOntlbWlzc2l2ZU1hcDp7dmFsdWU6bnVsbH19LGJ1bXBtYXA6e2J1bXBNYXA6e3ZhbHVlOm51bGx9LGJ1bXBTY2FsZTp7dmFsdWU6MX19LG5vcm1hbG1hcDp7bm9ybWFsTWFwOnt2YWx1ZTpudWxsfSxub3JtYWxTY2FsZTp7dmFsdWU6bmV3IHZ0KDEsMSl9fSxkaXNwbGFjZW1lbnRtYXA6e2Rpc3BsYWNlbWVudE1hcDp7dmFsdWU6bnVsbH0sZGlzcGxhY2VtZW50U2NhbGU6e3ZhbHVlOjF9LGRpc3BsYWNlbWVudEJpYXM6e3ZhbHVlOjB9fSxyb3VnaG5lc3NtYXA6e3JvdWdobmVzc01hcDp7dmFsdWU6bnVsbH19LG1ldGFsbmVzc21hcDp7bWV0YWxuZXNzTWFwOnt2YWx1ZTpudWxsfX0sZ3JhZGllbnRtYXA6e2dyYWRpZW50TWFwOnt2YWx1ZTpudWxsfX0sZm9nOntmb2dEZW5zaXR5Ont2YWx1ZToyNWUtNX0sZm9nTmVhcjp7dmFsdWU6MX0sZm9nRmFyOnt2YWx1ZToyZTN9LGZvZ0NvbG9yOnt2YWx1ZTpuZXcgdG4oMTY3NzcyMTUpfX0sbGlnaHRzOnthbWJpZW50TGlnaHRDb2xvcjp7dmFsdWU6W119LGxpZ2h0UHJvYmU6e3ZhbHVlOltdfSxkaXJlY3Rpb25hbExpZ2h0czp7dmFsdWU6W10scHJvcGVydGllczp7ZGlyZWN0aW9uOnt9LGNvbG9yOnt9fX0sZGlyZWN0aW9uYWxMaWdodFNoYWRvd3M6e3ZhbHVlOltdLHByb3BlcnRpZXM6e3NoYWRvd0JpYXM6e30sc2hhZG93Tm9ybWFsQmlhczp7fSxzaGFkb3dSYWRpdXM6e30sc2hhZG93TWFwU2l6ZTp7fX19LGRpcmVjdGlvbmFsU2hhZG93TWFwOnt2YWx1ZTpbXX0sZGlyZWN0aW9uYWxTaGFkb3dNYXRyaXg6e3ZhbHVlOltdfSxzcG90TGlnaHRzOnt2YWx1ZTpbXSxwcm9wZXJ0aWVzOntjb2xvcjp7fSxwb3NpdGlvbjp7fSxkaXJlY3Rpb246e30sZGlzdGFuY2U6e30sY29uZUNvczp7fSxwZW51bWJyYUNvczp7fSxkZWNheTp7fX19LHNwb3RMaWdodFNoYWRvd3M6e3ZhbHVlOltdLHByb3BlcnRpZXM6e3NoYWRvd0JpYXM6e30sc2hhZG93Tm9ybWFsQmlhczp7fSxzaGFkb3dSYWRpdXM6e30sc2hhZG93TWFwU2l6ZTp7fX19LHNwb3RTaGFkb3dNYXA6e3ZhbHVlOltdfSxzcG90U2hhZG93TWF0cml4Ont2YWx1ZTpbXX0scG9pbnRMaWdodHM6e3ZhbHVlOltdLHByb3BlcnRpZXM6e2NvbG9yOnt9LHBvc2l0aW9uOnt9LGRlY2F5Ont9LGRpc3RhbmNlOnt9fX0scG9pbnRMaWdodFNoYWRvd3M6e3ZhbHVlOltdLHByb3BlcnRpZXM6e3NoYWRvd0JpYXM6e30sc2hhZG93Tm9ybWFsQmlhczp7fSxzaGFkb3dSYWRpdXM6e30sc2hhZG93TWFwU2l6ZTp7fSxzaGFkb3dDYW1lcmFOZWFyOnt9LHNoYWRvd0NhbWVyYUZhcjp7fX19LHBvaW50U2hhZG93TWFwOnt2YWx1ZTpbXX0scG9pbnRTaGFkb3dNYXRyaXg6e3ZhbHVlOltdfSxoZW1pc3BoZXJlTGlnaHRzOnt2YWx1ZTpbXSxwcm9wZXJ0aWVzOntkaXJlY3Rpb246e30sc2t5Q29sb3I6e30sZ3JvdW5kQ29sb3I6e319fSxyZWN0QXJlYUxpZ2h0czp7dmFsdWU6W10scHJvcGVydGllczp7Y29sb3I6e30scG9zaXRpb246e30sd2lkdGg6e30saGVpZ2h0Ont9fX0sbHRjXzE6e3ZhbHVlOm51bGx9LGx0Y18yOnt2YWx1ZTpudWxsfX0scG9pbnRzOntkaWZmdXNlOnt2YWx1ZTpuZXcgdG4oMTU2NTg3MzQpfSxvcGFjaXR5Ont2YWx1ZToxfSxzaXplOnt2YWx1ZToxfSxzY2FsZTp7dmFsdWU6MX0sbWFwOnt2YWx1ZTpudWxsfSxhbHBoYU1hcDp7dmFsdWU6bnVsbH0sdXZUcmFuc2Zvcm06e3ZhbHVlOm5ldyB5dH19LHNwcml0ZTp7ZGlmZnVzZTp7dmFsdWU6bmV3IHRuKDE1NjU4NzM0KX0sb3BhY2l0eTp7dmFsdWU6MX0sY2VudGVyOnt2YWx1ZTpuZXcgdnQoLjUsLjUpfSxyb3RhdGlvbjp7dmFsdWU6MH0sbWFwOnt2YWx1ZTpudWxsfSxhbHBoYU1hcDp7dmFsdWU6bnVsbH0sdXZUcmFuc2Zvcm06e3ZhbHVlOm5ldyB5dH19fSxkaT17YmFzaWM6e3VuaWZvcm1zOlluKFt1aS5jb21tb24sdWkuc3BlY3VsYXJtYXAsdWkuZW52bWFwLHVpLmFvbWFwLHVpLmxpZ2h0bWFwLHVpLmZvZ10pLHZlcnRleFNoYWRlcjpoaS5tZXNoYmFzaWNfdmVydCxmcmFnbWVudFNoYWRlcjpoaS5tZXNoYmFzaWNfZnJhZ30sbGFtYmVydDp7dW5pZm9ybXM6WW4oW3VpLmNvbW1vbix1aS5zcGVjdWxhcm1hcCx1aS5lbnZtYXAsdWkuYW9tYXAsdWkubGlnaHRtYXAsdWkuZW1pc3NpdmVtYXAsdWkuZm9nLHVpLmxpZ2h0cyx7ZW1pc3NpdmU6e3ZhbHVlOm5ldyB0bigwKX19XSksdmVydGV4U2hhZGVyOmhpLm1lc2hsYW1iZXJ0X3ZlcnQsZnJhZ21lbnRTaGFkZXI6aGkubWVzaGxhbWJlcnRfZnJhZ30scGhvbmc6e3VuaWZvcm1zOlluKFt1aS5jb21tb24sdWkuc3BlY3VsYXJtYXAsdWkuZW52bWFwLHVpLmFvbWFwLHVpLmxpZ2h0bWFwLHVpLmVtaXNzaXZlbWFwLHVpLmJ1bXBtYXAsdWkubm9ybWFsbWFwLHVpLmRpc3BsYWNlbWVudG1hcCx1aS5mb2csdWkubGlnaHRzLHtlbWlzc2l2ZTp7dmFsdWU6bmV3IHRuKDApfSxzcGVjdWxhcjp7dmFsdWU6bmV3IHRuKDExMTg0ODEpfSxzaGluaW5lc3M6e3ZhbHVlOjMwfX1dKSx2ZXJ0ZXhTaGFkZXI6aGkubWVzaHBob25nX3ZlcnQsZnJhZ21lbnRTaGFkZXI6aGkubWVzaHBob25nX2ZyYWd9LHN0YW5kYXJkOnt1bmlmb3JtczpZbihbdWkuY29tbW9uLHVpLmVudm1hcCx1aS5hb21hcCx1aS5saWdodG1hcCx1aS5lbWlzc2l2ZW1hcCx1aS5idW1wbWFwLHVpLm5vcm1hbG1hcCx1aS5kaXNwbGFjZW1lbnRtYXAsdWkucm91Z2huZXNzbWFwLHVpLm1ldGFsbmVzc21hcCx1aS5mb2csdWkubGlnaHRzLHtlbWlzc2l2ZTp7dmFsdWU6bmV3IHRuKDApfSxyb3VnaG5lc3M6e3ZhbHVlOjF9LG1ldGFsbmVzczp7dmFsdWU6MH0sZW52TWFwSW50ZW5zaXR5Ont2YWx1ZToxfX1dKSx2ZXJ0ZXhTaGFkZXI6aGkubWVzaHBoeXNpY2FsX3ZlcnQsZnJhZ21lbnRTaGFkZXI6aGkubWVzaHBoeXNpY2FsX2ZyYWd9LHRvb246e3VuaWZvcm1zOlluKFt1aS5jb21tb24sdWkuYW9tYXAsdWkubGlnaHRtYXAsdWkuZW1pc3NpdmVtYXAsdWkuYnVtcG1hcCx1aS5ub3JtYWxtYXAsdWkuZGlzcGxhY2VtZW50bWFwLHVpLmdyYWRpZW50bWFwLHVpLmZvZyx1aS5saWdodHMse2VtaXNzaXZlOnt2YWx1ZTpuZXcgdG4oMCl9fV0pLHZlcnRleFNoYWRlcjpoaS5tZXNodG9vbl92ZXJ0LGZyYWdtZW50U2hhZGVyOmhpLm1lc2h0b29uX2ZyYWd9LG1hdGNhcDp7dW5pZm9ybXM6WW4oW3VpLmNvbW1vbix1aS5idW1wbWFwLHVpLm5vcm1hbG1hcCx1aS5kaXNwbGFjZW1lbnRtYXAsdWkuZm9nLHttYXRjYXA6e3ZhbHVlOm51bGx9fV0pLHZlcnRleFNoYWRlcjpoaS5tZXNobWF0Y2FwX3ZlcnQsZnJhZ21lbnRTaGFkZXI6aGkubWVzaG1hdGNhcF9mcmFnfSxwb2ludHM6e3VuaWZvcm1zOlluKFt1aS5wb2ludHMsdWkuZm9nXSksdmVydGV4U2hhZGVyOmhpLnBvaW50c192ZXJ0LGZyYWdtZW50U2hhZGVyOmhpLnBvaW50c19mcmFnfSxkYXNoZWQ6e3VuaWZvcm1zOlluKFt1aS5jb21tb24sdWkuZm9nLHtzY2FsZTp7dmFsdWU6MX0sZGFzaFNpemU6e3ZhbHVlOjF9LHRvdGFsU2l6ZTp7dmFsdWU6Mn19XSksdmVydGV4U2hhZGVyOmhpLmxpbmVkYXNoZWRfdmVydCxmcmFnbWVudFNoYWRlcjpoaS5saW5lZGFzaGVkX2ZyYWd9LGRlcHRoOnt1bmlmb3JtczpZbihbdWkuY29tbW9uLHVpLmRpc3BsYWNlbWVudG1hcF0pLHZlcnRleFNoYWRlcjpoaS5kZXB0aF92ZXJ0LGZyYWdtZW50U2hhZGVyOmhpLmRlcHRoX2ZyYWd9LG5vcm1hbDp7dW5pZm9ybXM6WW4oW3VpLmNvbW1vbix1aS5idW1wbWFwLHVpLm5vcm1hbG1hcCx1aS5kaXNwbGFjZW1lbnRtYXAse29wYWNpdHk6e3ZhbHVlOjF9fV0pLHZlcnRleFNoYWRlcjpoaS5ub3JtYWxfdmVydCxmcmFnbWVudFNoYWRlcjpoaS5ub3JtYWxfZnJhZ30sc3ByaXRlOnt1bmlmb3JtczpZbihbdWkuc3ByaXRlLHVpLmZvZ10pLHZlcnRleFNoYWRlcjpoaS5zcHJpdGVfdmVydCxmcmFnbWVudFNoYWRlcjpoaS5zcHJpdGVfZnJhZ30sYmFja2dyb3VuZDp7dW5pZm9ybXM6e3V2VHJhbnNmb3JtOnt2YWx1ZTpuZXcgeXR9LHQyRDp7dmFsdWU6bnVsbH19LHZlcnRleFNoYWRlcjpoaS5iYWNrZ3JvdW5kX3ZlcnQsZnJhZ21lbnRTaGFkZXI6aGkuYmFja2dyb3VuZF9mcmFnfSxjdWJlOnt1bmlmb3JtczpZbihbdWkuZW52bWFwLHtvcGFjaXR5Ont2YWx1ZToxfX1dKSx2ZXJ0ZXhTaGFkZXI6aGkuY3ViZV92ZXJ0LGZyYWdtZW50U2hhZGVyOmhpLmN1YmVfZnJhZ30sZXF1aXJlY3Q6e3VuaWZvcm1zOnt0RXF1aXJlY3Q6e3ZhbHVlOm51bGx9fSx2ZXJ0ZXhTaGFkZXI6aGkuZXF1aXJlY3RfdmVydCxmcmFnbWVudFNoYWRlcjpoaS5lcXVpcmVjdF9mcmFnfSxkaXN0YW5jZVJHQkE6e3VuaWZvcm1zOlluKFt1aS5jb21tb24sdWkuZGlzcGxhY2VtZW50bWFwLHtyZWZlcmVuY2VQb3NpdGlvbjp7dmFsdWU6bmV3IEx0fSxuZWFyRGlzdGFuY2U6e3ZhbHVlOjF9LGZhckRpc3RhbmNlOnt2YWx1ZToxZTN9fV0pLHZlcnRleFNoYWRlcjpoaS5kaXN0YW5jZVJHQkFfdmVydCxmcmFnbWVudFNoYWRlcjpoaS5kaXN0YW5jZVJHQkFfZnJhZ30sc2hhZG93Ont1bmlmb3JtczpZbihbdWkubGlnaHRzLHVpLmZvZyx7Y29sb3I6e3ZhbHVlOm5ldyB0bigwKX0sb3BhY2l0eTp7dmFsdWU6MX19XSksdmVydGV4U2hhZGVyOmhpLnNoYWRvd192ZXJ0LGZyYWdtZW50U2hhZGVyOmhpLnNoYWRvd19mcmFnfX07ZnVuY3Rpb24gcGkodCxlLG4saSxyKXtjb25zdCBzPW5ldyB0bigwKTtsZXQgYSxvLGM9MCxoPW51bGwsdT0wLGQ9bnVsbDtmdW5jdGlvbiBwKHQsZSl7bi5idWZmZXJzLmNvbG9yLnNldENsZWFyKHQucix0LmcsdC5iLGUscil9cmV0dXJue2dldENsZWFyQ29sb3I6ZnVuY3Rpb24oKXtyZXR1cm4gc30sc2V0Q2xlYXJDb2xvcjpmdW5jdGlvbih0LGU9MSl7cy5zZXQodCksYz1lLHAocyxjKX0sZ2V0Q2xlYXJBbHBoYTpmdW5jdGlvbigpe3JldHVybiBjfSxzZXRDbGVhckFscGhhOmZ1bmN0aW9uKHQpe2M9dCxwKHMsYyl9LHJlbmRlcjpmdW5jdGlvbihuLHIsbSxmKXtsZXQgZz0hMD09PXIuaXNTY2VuZT9yLmJhY2tncm91bmQ6bnVsbDtnJiZnLmlzVGV4dHVyZSYmKGc9ZS5nZXQoZykpO2NvbnN0IHY9dC54cix5PXYuZ2V0U2Vzc2lvbiYmdi5nZXRTZXNzaW9uKCk7eSYmImFkZGl0aXZlIj09PXkuZW52aXJvbm1lbnRCbGVuZE1vZGUmJihnPW51bGwpLG51bGw9PT1nP3AocyxjKTpnJiZnLmlzQ29sb3ImJihwKGcsMSksZj0hMCksKHQuYXV0b0NsZWFyfHxmKSYmdC5jbGVhcih0LmF1dG9DbGVhckNvbG9yLHQuYXV0b0NsZWFyRGVwdGgsdC5hdXRvQ2xlYXJTdGVuY2lsKSxnJiYoZy5pc0N1YmVUZXh0dXJlfHxnLm1hcHBpbmc9PT1sKT8odm9pZCAwPT09byYmKG89bmV3IFduKG5ldyBxbigxLDEsMSksbmV3IEpuKHtuYW1lOiJCYWNrZ3JvdW5kQ3ViZU1hdGVyaWFsIix1bmlmb3JtczpYbihkaS5jdWJlLnVuaWZvcm1zKSx2ZXJ0ZXhTaGFkZXI6ZGkuY3ViZS52ZXJ0ZXhTaGFkZXIsZnJhZ21lbnRTaGFkZXI6ZGkuY3ViZS5mcmFnbWVudFNoYWRlcixzaWRlOjEsZGVwdGhUZXN0OiExLGRlcHRoV3JpdGU6ITEsZm9nOiExfSkpLG8uZ2VvbWV0cnkuZGVsZXRlQXR0cmlidXRlKCJub3JtYWwiKSxvLmdlb21ldHJ5LmRlbGV0ZUF0dHJpYnV0ZSgidXYiKSxvLm9uQmVmb3JlUmVuZGVyPWZ1bmN0aW9uKHQsZSxuKXt0aGlzLm1hdHJpeFdvcmxkLmNvcHlQb3NpdGlvbihuLm1hdHJpeFdvcmxkKX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KG8ubWF0ZXJpYWwsImVudk1hcCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnVuaWZvcm1zLmVudk1hcC52YWx1ZX19KSxpLnVwZGF0ZShvKSksby5tYXRlcmlhbC51bmlmb3Jtcy5lbnZNYXAudmFsdWU9ZyxvLm1hdGVyaWFsLnVuaWZvcm1zLmZsaXBFbnZNYXAudmFsdWU9Zy5pc0N1YmVUZXh0dXJlJiZnLl9uZWVkc0ZsaXBFbnZNYXA/LTE6MSxoPT09ZyYmdT09PWcudmVyc2lvbiYmZD09PXQudG9uZU1hcHBpbmd8fChvLm1hdGVyaWFsLm5lZWRzVXBkYXRlPSEwLGg9Zyx1PWcudmVyc2lvbixkPXQudG9uZU1hcHBpbmcpLG4udW5zaGlmdChvLG8uZ2VvbWV0cnksby5tYXRlcmlhbCwwLDAsbnVsbCkpOmcmJmcuaXNUZXh0dXJlJiYodm9pZCAwPT09YSYmKGE9bmV3IFduKG5ldyBjaSgyLDIpLG5ldyBKbih7bmFtZToiQmFja2dyb3VuZE1hdGVyaWFsIix1bmlmb3JtczpYbihkaS5iYWNrZ3JvdW5kLnVuaWZvcm1zKSx2ZXJ0ZXhTaGFkZXI6ZGkuYmFja2dyb3VuZC52ZXJ0ZXhTaGFkZXIsZnJhZ21lbnRTaGFkZXI6ZGkuYmFja2dyb3VuZC5mcmFnbWVudFNoYWRlcixzaWRlOjAsZGVwdGhUZXN0OiExLGRlcHRoV3JpdGU6ITEsZm9nOiExfSkpLGEuZ2VvbWV0cnkuZGVsZXRlQXR0cmlidXRlKCJub3JtYWwiKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoYS5tYXRlcmlhbCwibWFwIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudW5pZm9ybXMudDJELnZhbHVlfX0pLGkudXBkYXRlKGEpKSxhLm1hdGVyaWFsLnVuaWZvcm1zLnQyRC52YWx1ZT1nLCEwPT09Zy5tYXRyaXhBdXRvVXBkYXRlJiZnLnVwZGF0ZU1hdHJpeCgpLGEubWF0ZXJpYWwudW5pZm9ybXMudXZUcmFuc2Zvcm0udmFsdWUuY29weShnLm1hdHJpeCksaD09PWcmJnU9PT1nLnZlcnNpb24mJmQ9PT10LnRvbmVNYXBwaW5nfHwoYS5tYXRlcmlhbC5uZWVkc1VwZGF0ZT0hMCxoPWcsdT1nLnZlcnNpb24sZD10LnRvbmVNYXBwaW5nKSxuLnVuc2hpZnQoYSxhLmdlb21ldHJ5LGEubWF0ZXJpYWwsMCwwLG51bGwpKX19fWZ1bmN0aW9uIG1pKHQsZSxuLGkpe2NvbnN0IHI9dC5nZXRQYXJhbWV0ZXIoMzQ5MjEpLHM9aS5pc1dlYkdMMj9udWxsOmUuZ2V0KCJPRVNfdmVydGV4X2FycmF5X29iamVjdCIpLGE9aS5pc1dlYkdMMnx8bnVsbCE9PXMsbz17fSxsPWQobnVsbCk7bGV0IGM9bDtmdW5jdGlvbiBoKGUpe3JldHVybiBpLmlzV2ViR0wyP3QuYmluZFZlcnRleEFycmF5KGUpOnMuYmluZFZlcnRleEFycmF5T0VTKGUpfWZ1bmN0aW9uIHUoZSl7cmV0dXJuIGkuaXNXZWJHTDI/dC5kZWxldGVWZXJ0ZXhBcnJheShlKTpzLmRlbGV0ZVZlcnRleEFycmF5T0VTKGUpfWZ1bmN0aW9uIGQodCl7Y29uc3QgZT1bXSxuPVtdLGk9W107Zm9yKGxldCB0PTA7dDxyO3QrKyllW3RdPTAsblt0XT0wLGlbdF09MDtyZXR1cm57Z2VvbWV0cnk6bnVsbCxwcm9ncmFtOm51bGwsd2lyZWZyYW1lOiExLG5ld0F0dHJpYnV0ZXM6ZSxlbmFibGVkQXR0cmlidXRlczpuLGF0dHJpYnV0ZURpdmlzb3JzOmksb2JqZWN0OnQsYXR0cmlidXRlczp7fSxpbmRleDpudWxsfX1mdW5jdGlvbiBwKCl7Y29uc3QgdD1jLm5ld0F0dHJpYnV0ZXM7Zm9yKGxldCBlPTAsbj10Lmxlbmd0aDtlPG47ZSsrKXRbZV09MH1mdW5jdGlvbiBtKHQpe2YodCwwKX1mdW5jdGlvbiBmKG4scil7Y29uc3Qgcz1jLm5ld0F0dHJpYnV0ZXMsYT1jLmVuYWJsZWRBdHRyaWJ1dGVzLG89Yy5hdHRyaWJ1dGVEaXZpc29ycztpZihzW25dPTEsMD09PWFbbl0mJih0LmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KG4pLGFbbl09MSksb1tuXSE9PXIpeyhpLmlzV2ViR0wyP3Q6ZS5nZXQoIkFOR0xFX2luc3RhbmNlZF9hcnJheXMiKSlbaS5pc1dlYkdMMj8idmVydGV4QXR0cmliRGl2aXNvciI6InZlcnRleEF0dHJpYkRpdmlzb3JBTkdMRSJdKG4sciksb1tuXT1yfX1mdW5jdGlvbiBnKCl7Y29uc3QgZT1jLm5ld0F0dHJpYnV0ZXMsbj1jLmVuYWJsZWRBdHRyaWJ1dGVzO2ZvcihsZXQgaT0wLHI9bi5sZW5ndGg7aTxyO2krKyluW2ldIT09ZVtpXSYmKHQuZGlzYWJsZVZlcnRleEF0dHJpYkFycmF5KGkpLG5baV09MCl9ZnVuY3Rpb24gdihlLG4scixzLGEsbyl7ITAhPT1pLmlzV2ViR0wyfHw1MTI0IT09ciYmNTEyNSE9PXI/dC52ZXJ0ZXhBdHRyaWJQb2ludGVyKGUsbixyLHMsYSxvKTp0LnZlcnRleEF0dHJpYklQb2ludGVyKGUsbixyLGEsbyl9ZnVuY3Rpb24geSgpe3goKSxjIT09bCYmKGM9bCxoKGMub2JqZWN0KSl9ZnVuY3Rpb24geCgpe2wuZ2VvbWV0cnk9bnVsbCxsLnByb2dyYW09bnVsbCxsLndpcmVmcmFtZT0hMX1yZXR1cm57c2V0dXA6ZnVuY3Rpb24ocixsLHUseSx4KXtsZXQgXz0hMTtpZihhKXtjb25zdCBlPWZ1bmN0aW9uKGUsbixyKXtjb25zdCBhPSEwPT09ci53aXJlZnJhbWU7bGV0IGw9b1tlLmlkXTt2b2lkIDA9PT1sJiYobD17fSxvW2UuaWRdPWwpO2xldCBjPWxbbi5pZF07dm9pZCAwPT09YyYmKGM9e30sbFtuLmlkXT1jKTtsZXQgaD1jW2FdO3ZvaWQgMD09PWgmJihoPWQoaS5pc1dlYkdMMj90LmNyZWF0ZVZlcnRleEFycmF5KCk6cy5jcmVhdGVWZXJ0ZXhBcnJheU9FUygpKSxjW2FdPWgpO3JldHVybiBofSh5LHUsbCk7YyE9PWUmJihjPWUsaChjLm9iamVjdCkpLF89ZnVuY3Rpb24odCxlKXtjb25zdCBuPWMuYXR0cmlidXRlcyxpPXQuYXR0cmlidXRlcztsZXQgcj0wO2Zvcihjb25zdCB0IGluIGkpe2NvbnN0IGU9blt0XSxzPWlbdF07aWYodm9pZCAwPT09ZSlyZXR1cm4hMDtpZihlLmF0dHJpYnV0ZSE9PXMpcmV0dXJuITA7aWYoZS5kYXRhIT09cy5kYXRhKXJldHVybiEwO3IrK31yZXR1cm4gYy5hdHRyaWJ1dGVzTnVtIT09cnx8Yy5pbmRleCE9PWV9KHkseCksXyYmZnVuY3Rpb24odCxlKXtjb25zdCBuPXt9LGk9dC5hdHRyaWJ1dGVzO2xldCByPTA7Zm9yKGNvbnN0IHQgaW4gaSl7Y29uc3QgZT1pW3RdLHM9e307cy5hdHRyaWJ1dGU9ZSxlLmRhdGEmJihzLmRhdGE9ZS5kYXRhKSxuW3RdPXMscisrfWMuYXR0cmlidXRlcz1uLGMuYXR0cmlidXRlc051bT1yLGMuaW5kZXg9ZX0oeSx4KX1lbHNle2NvbnN0IHQ9ITA9PT1sLndpcmVmcmFtZTtjLmdlb21ldHJ5PT09eS5pZCYmYy5wcm9ncmFtPT09dS5pZCYmYy53aXJlZnJhbWU9PT10fHwoYy5nZW9tZXRyeT15LmlkLGMucHJvZ3JhbT11LmlkLGMud2lyZWZyYW1lPXQsXz0hMCl9ITA9PT1yLmlzSW5zdGFuY2VkTWVzaCYmKF89ITApLG51bGwhPT14JiZuLnVwZGF0ZSh4LDM0OTYzKSxfJiYoIWZ1bmN0aW9uKHIscyxhLG8pe2lmKCExPT09aS5pc1dlYkdMMiYmKHIuaXNJbnN0YW5jZWRNZXNofHxvLmlzSW5zdGFuY2VkQnVmZmVyR2VvbWV0cnkpJiZudWxsPT09ZS5nZXQoIkFOR0xFX2luc3RhbmNlZF9hcnJheXMiKSlyZXR1cm47cCgpO2NvbnN0IGw9by5hdHRyaWJ1dGVzLGM9YS5nZXRBdHRyaWJ1dGVzKCksaD1zLmRlZmF1bHRBdHRyaWJ1dGVWYWx1ZXM7Zm9yKGNvbnN0IGUgaW4gYyl7Y29uc3QgaT1jW2VdO2lmKGk+PTApe2NvbnN0IHM9bFtlXTtpZih2b2lkIDAhPT1zKXtjb25zdCBlPXMubm9ybWFsaXplZCxyPXMuaXRlbVNpemUsYT1uLmdldChzKTtpZih2b2lkIDA9PT1hKWNvbnRpbnVlO2NvbnN0IGw9YS5idWZmZXIsYz1hLnR5cGUsaD1hLmJ5dGVzUGVyRWxlbWVudDtpZihzLmlzSW50ZXJsZWF2ZWRCdWZmZXJBdHRyaWJ1dGUpe2NvbnN0IG49cy5kYXRhLGE9bi5zdHJpZGUsdT1zLm9mZnNldDtuJiZuLmlzSW5zdGFuY2VkSW50ZXJsZWF2ZWRCdWZmZXI/KGYoaSxuLm1lc2hQZXJBdHRyaWJ1dGUpLHZvaWQgMD09PW8uX21heEluc3RhbmNlQ291bnQmJihvLl9tYXhJbnN0YW5jZUNvdW50PW4ubWVzaFBlckF0dHJpYnV0ZSpuLmNvdW50KSk6bShpKSx0LmJpbmRCdWZmZXIoMzQ5NjIsbCksdihpLHIsYyxlLGEqaCx1KmgpfWVsc2Ugcy5pc0luc3RhbmNlZEJ1ZmZlckF0dHJpYnV0ZT8oZihpLHMubWVzaFBlckF0dHJpYnV0ZSksdm9pZCAwPT09by5fbWF4SW5zdGFuY2VDb3VudCYmKG8uX21heEluc3RhbmNlQ291bnQ9cy5tZXNoUGVyQXR0cmlidXRlKnMuY291bnQpKTptKGkpLHQuYmluZEJ1ZmZlcigzNDk2MixsKSx2KGkscixjLGUsMCwwKX1lbHNlIGlmKCJpbnN0YW5jZU1hdHJpeCI9PT1lKXtjb25zdCBlPW4uZ2V0KHIuaW5zdGFuY2VNYXRyaXgpO2lmKHZvaWQgMD09PWUpY29udGludWU7Y29uc3Qgcz1lLmJ1ZmZlcixhPWUudHlwZTtmKGkrMCwxKSxmKGkrMSwxKSxmKGkrMiwxKSxmKGkrMywxKSx0LmJpbmRCdWZmZXIoMzQ5NjIscyksdC52ZXJ0ZXhBdHRyaWJQb2ludGVyKGkrMCw0LGEsITEsNjQsMCksdC52ZXJ0ZXhBdHRyaWJQb2ludGVyKGkrMSw0LGEsITEsNjQsMTYpLHQudmVydGV4QXR0cmliUG9pbnRlcihpKzIsNCxhLCExLDY0LDMyKSx0LnZlcnRleEF0dHJpYlBvaW50ZXIoaSszLDQsYSwhMSw2NCw0OCl9ZWxzZSBpZigiaW5zdGFuY2VDb2xvciI9PT1lKXtjb25zdCBlPW4uZ2V0KHIuaW5zdGFuY2VDb2xvcik7aWYodm9pZCAwPT09ZSljb250aW51ZTtjb25zdCBzPWUuYnVmZmVyLGE9ZS50eXBlO2YoaSwxKSx0LmJpbmRCdWZmZXIoMzQ5NjIscyksdC52ZXJ0ZXhBdHRyaWJQb2ludGVyKGksMyxhLCExLDEyLDApfWVsc2UgaWYodm9pZCAwIT09aCl7Y29uc3Qgbj1oW2VdO2lmKHZvaWQgMCE9PW4pc3dpdGNoKG4ubGVuZ3RoKXtjYXNlIDI6dC52ZXJ0ZXhBdHRyaWIyZnYoaSxuKTticmVhaztjYXNlIDM6dC52ZXJ0ZXhBdHRyaWIzZnYoaSxuKTticmVhaztjYXNlIDQ6dC52ZXJ0ZXhBdHRyaWI0ZnYoaSxuKTticmVhaztkZWZhdWx0OnQudmVydGV4QXR0cmliMWZ2KGksbil9fX19ZygpfShyLGwsdSx5KSxudWxsIT09eCYmdC5iaW5kQnVmZmVyKDM0OTYzLG4uZ2V0KHgpLmJ1ZmZlcikpfSxyZXNldDp5LHJlc2V0RGVmYXVsdFN0YXRlOngsZGlzcG9zZTpmdW5jdGlvbigpe3koKTtmb3IoY29uc3QgdCBpbiBvKXtjb25zdCBlPW9bdF07Zm9yKGNvbnN0IHQgaW4gZSl7Y29uc3Qgbj1lW3RdO2Zvcihjb25zdCB0IGluIG4pdShuW3RdLm9iamVjdCksZGVsZXRlIG5bdF07ZGVsZXRlIGVbdF19ZGVsZXRlIG9bdF19fSxyZWxlYXNlU3RhdGVzT2ZHZW9tZXRyeTpmdW5jdGlvbih0KXtpZih2b2lkIDA9PT1vW3QuaWRdKXJldHVybjtjb25zdCBlPW9bdC5pZF07Zm9yKGNvbnN0IHQgaW4gZSl7Y29uc3Qgbj1lW3RdO2Zvcihjb25zdCB0IGluIG4pdShuW3RdLm9iamVjdCksZGVsZXRlIG5bdF07ZGVsZXRlIGVbdF19ZGVsZXRlIG9bdC5pZF19LHJlbGVhc2VTdGF0ZXNPZlByb2dyYW06ZnVuY3Rpb24odCl7Zm9yKGNvbnN0IGUgaW4gbyl7Y29uc3Qgbj1vW2VdO2lmKHZvaWQgMD09PW5bdC5pZF0pY29udGludWU7Y29uc3QgaT1uW3QuaWRdO2Zvcihjb25zdCB0IGluIGkpdShpW3RdLm9iamVjdCksZGVsZXRlIGlbdF07ZGVsZXRlIG5bdC5pZF19fSxpbml0QXR0cmlidXRlczpwLGVuYWJsZUF0dHJpYnV0ZTptLGRpc2FibGVVbnVzZWRBdHRyaWJ1dGVzOmd9fWZ1bmN0aW9uIGZpKHQsZSxuLGkpe2NvbnN0IHI9aS5pc1dlYkdMMjtsZXQgczt0aGlzLnNldE1vZGU9ZnVuY3Rpb24odCl7cz10fSx0aGlzLnJlbmRlcj1mdW5jdGlvbihlLGkpe3QuZHJhd0FycmF5cyhzLGUsaSksbi51cGRhdGUoaSxzLDEpfSx0aGlzLnJlbmRlckluc3RhbmNlcz1mdW5jdGlvbihpLGEsbyl7aWYoMD09PW8pcmV0dXJuO2xldCBsLGM7aWYocilsPXQsYz0iZHJhd0FycmF5c0luc3RhbmNlZCI7ZWxzZSBpZihsPWUuZ2V0KCJBTkdMRV9pbnN0YW5jZWRfYXJyYXlzIiksYz0iZHJhd0FycmF5c0luc3RhbmNlZEFOR0xFIixudWxsPT09bClyZXR1cm4gdm9pZCBjb25zb2xlLmVycm9yKCJUSFJFRS5XZWJHTEJ1ZmZlclJlbmRlcmVyOiB1c2luZyBUSFJFRS5JbnN0YW5jZWRCdWZmZXJHZW9tZXRyeSBidXQgaGFyZHdhcmUgZG9lcyBub3Qgc3VwcG9ydCBleHRlbnNpb24gQU5HTEVfaW5zdGFuY2VkX2FycmF5cy4iKTtsW2NdKHMsaSxhLG8pLG4udXBkYXRlKGEscyxvKX19ZnVuY3Rpb24gZ2kodCxlLG4pe2xldCBpO2Z1bmN0aW9uIHIoZSl7aWYoImhpZ2hwIj09PWUpe2lmKHQuZ2V0U2hhZGVyUHJlY2lzaW9uRm9ybWF0KDM1NjMzLDM2MzM4KS5wcmVjaXNpb24+MCYmdC5nZXRTaGFkZXJQcmVjaXNpb25Gb3JtYXQoMzU2MzIsMzYzMzgpLnByZWNpc2lvbj4wKXJldHVybiJoaWdocCI7ZT0ibWVkaXVtcCJ9cmV0dXJuIm1lZGl1bXAiPT09ZSYmdC5nZXRTaGFkZXJQcmVjaXNpb25Gb3JtYXQoMzU2MzMsMzYzMzcpLnByZWNpc2lvbj4wJiZ0LmdldFNoYWRlclByZWNpc2lvbkZvcm1hdCgzNTYzMiwzNjMzNykucHJlY2lzaW9uPjA/Im1lZGl1bXAiOiJsb3dwIn1jb25zdCBzPSJ1bmRlZmluZWQiIT10eXBlb2YgV2ViR0wyUmVuZGVyaW5nQ29udGV4dCYmdCBpbnN0YW5jZW9mIFdlYkdMMlJlbmRlcmluZ0NvbnRleHR8fCJ1bmRlZmluZWQiIT10eXBlb2YgV2ViR0wyQ29tcHV0ZVJlbmRlcmluZ0NvbnRleHQmJnQgaW5zdGFuY2VvZiBXZWJHTDJDb21wdXRlUmVuZGVyaW5nQ29udGV4dDtsZXQgYT12b2lkIDAhPT1uLnByZWNpc2lvbj9uLnByZWNpc2lvbjoiaGlnaHAiO2NvbnN0IG89cihhKTtvIT09YSYmKGNvbnNvbGUud2FybigiVEhSRUUuV2ViR0xSZW5kZXJlcjoiLGEsIm5vdCBzdXBwb3J0ZWQsIHVzaW5nIixvLCJpbnN0ZWFkLiIpLGE9byk7Y29uc3QgbD0hMD09PW4ubG9nYXJpdGhtaWNEZXB0aEJ1ZmZlcixjPXQuZ2V0UGFyYW1ldGVyKDM0OTMwKSxoPXQuZ2V0UGFyYW1ldGVyKDM1NjYwKSx1PXQuZ2V0UGFyYW1ldGVyKDMzNzkpLGQ9dC5nZXRQYXJhbWV0ZXIoMzQwNzYpLHA9dC5nZXRQYXJhbWV0ZXIoMzQ5MjEpLG09dC5nZXRQYXJhbWV0ZXIoMzYzNDcpLGY9dC5nZXRQYXJhbWV0ZXIoMzYzNDgpLGc9dC5nZXRQYXJhbWV0ZXIoMzYzNDkpLHY9aD4wLHk9c3x8ZS5oYXMoIk9FU190ZXh0dXJlX2Zsb2F0Iik7cmV0dXJue2lzV2ViR0wyOnMsZ2V0TWF4QW5pc290cm9weTpmdW5jdGlvbigpe2lmKHZvaWQgMCE9PWkpcmV0dXJuIGk7aWYoITA9PT1lLmhhcygiRVhUX3RleHR1cmVfZmlsdGVyX2FuaXNvdHJvcGljIikpe2NvbnN0IG49ZS5nZXQoIkVYVF90ZXh0dXJlX2ZpbHRlcl9hbmlzb3Ryb3BpYyIpO2k9dC5nZXRQYXJhbWV0ZXIobi5NQVhfVEVYVFVSRV9NQVhfQU5JU09UUk9QWV9FWFQpfWVsc2UgaT0wO3JldHVybiBpfSxnZXRNYXhQcmVjaXNpb246cixwcmVjaXNpb246YSxsb2dhcml0aG1pY0RlcHRoQnVmZmVyOmwsbWF4VGV4dHVyZXM6YyxtYXhWZXJ0ZXhUZXh0dXJlczpoLG1heFRleHR1cmVTaXplOnUsbWF4Q3ViZW1hcFNpemU6ZCxtYXhBdHRyaWJ1dGVzOnAsbWF4VmVydGV4VW5pZm9ybXM6bSxtYXhWYXJ5aW5nczpmLG1heEZyYWdtZW50VW5pZm9ybXM6Zyx2ZXJ0ZXhUZXh0dXJlczp2LGZsb2F0RnJhZ21lbnRUZXh0dXJlczp5LGZsb2F0VmVydGV4VGV4dHVyZXM6diYmeSxtYXhTYW1wbGVzOnM/dC5nZXRQYXJhbWV0ZXIoMzYxODMpOjB9fWZ1bmN0aW9uIHZpKHQpe2NvbnN0IGU9dGhpcztsZXQgbj1udWxsLGk9MCxyPSExLHM9ITE7Y29uc3QgYT1uZXcgTmUsbz1uZXcgeXQsbD17dmFsdWU6bnVsbCxuZWVkc1VwZGF0ZTohMX07ZnVuY3Rpb24gYygpe2wudmFsdWUhPT1uJiYobC52YWx1ZT1uLGwubmVlZHNVcGRhdGU9aT4wKSxlLm51bVBsYW5lcz1pLGUubnVtSW50ZXJzZWN0aW9uPTB9ZnVuY3Rpb24gaCh0LG4saSxyKXtjb25zdCBzPW51bGwhPT10P3QubGVuZ3RoOjA7bGV0IGM9bnVsbDtpZigwIT09cyl7aWYoYz1sLnZhbHVlLCEwIT09cnx8bnVsbD09PWMpe2NvbnN0IGU9aSs0KnMscj1uLm1hdHJpeFdvcmxkSW52ZXJzZTtvLmdldE5vcm1hbE1hdHJpeChyKSwobnVsbD09PWN8fGMubGVuZ3RoPGUpJiYoYz1uZXcgRmxvYXQzMkFycmF5KGUpKTtmb3IobGV0IGU9MCxuPWk7ZSE9PXM7KytlLG4rPTQpYS5jb3B5KHRbZV0pLmFwcGx5TWF0cml4NChyLG8pLGEubm9ybWFsLnRvQXJyYXkoYyxuKSxjW24rM109YS5jb25zdGFudH1sLnZhbHVlPWMsbC5uZWVkc1VwZGF0ZT0hMH1yZXR1cm4gZS5udW1QbGFuZXM9cyxlLm51bUludGVyc2VjdGlvbj0wLGN9dGhpcy51bmlmb3JtPWwsdGhpcy5udW1QbGFuZXM9MCx0aGlzLm51bUludGVyc2VjdGlvbj0wLHRoaXMuaW5pdD1mdW5jdGlvbih0LGUscyl7Y29uc3QgYT0wIT09dC5sZW5ndGh8fGV8fDAhPT1pfHxyO3JldHVybiByPWUsbj1oKHQscywwKSxpPXQubGVuZ3RoLGF9LHRoaXMuYmVnaW5TaGFkb3dzPWZ1bmN0aW9uKCl7cz0hMCxoKG51bGwpfSx0aGlzLmVuZFNoYWRvd3M9ZnVuY3Rpb24oKXtzPSExLGMoKX0sdGhpcy5zZXRTdGF0ZT1mdW5jdGlvbihlLGEsbyl7Y29uc3QgdT1lLmNsaXBwaW5nUGxhbmVzLGQ9ZS5jbGlwSW50ZXJzZWN0aW9uLHA9ZS5jbGlwU2hhZG93cyxtPXQuZ2V0KGUpO2lmKCFyfHxudWxsPT09dXx8MD09PXUubGVuZ3RofHxzJiYhcClzP2gobnVsbCk6YygpO2Vsc2V7Y29uc3QgdD1zPzA6aSxlPTQqdDtsZXQgcj1tLmNsaXBwaW5nU3RhdGV8fG51bGw7bC52YWx1ZT1yLHI9aCh1LGEsZSxvKTtmb3IobGV0IHQ9MDt0IT09ZTsrK3Qpclt0XT1uW3RdO20uY2xpcHBpbmdTdGF0ZT1yLHRoaXMubnVtSW50ZXJzZWN0aW9uPWQ/dGhpcy5udW1QbGFuZXM6MCx0aGlzLm51bVBsYW5lcys9dH19fWZ1bmN0aW9uIHlpKHQpe2xldCBlPW5ldyBXZWFrTWFwO2Z1bmN0aW9uIG4odCxlKXtyZXR1cm4gZT09PWE/dC5tYXBwaW5nPXI6ZT09PW8mJih0Lm1hcHBpbmc9cyksdH1mdW5jdGlvbiBpKHQpe2NvbnN0IG49dC50YXJnZXQ7bi5yZW1vdmVFdmVudExpc3RlbmVyKCJkaXNwb3NlIixpKTtjb25zdCByPWUuZ2V0KG4pO3ZvaWQgMCE9PXImJihlLmRlbGV0ZShuKSxyLmRpc3Bvc2UoKSl9cmV0dXJue2dldDpmdW5jdGlvbihyKXtpZihyJiZyLmlzVGV4dHVyZSl7Y29uc3Qgcz1yLm1hcHBpbmc7aWYocz09PWF8fHM9PT1vKXtpZihlLmhhcyhyKSl7cmV0dXJuIG4oZS5nZXQocikudGV4dHVyZSxyLm1hcHBpbmcpfXtjb25zdCBzPXIuaW1hZ2U7aWYocyYmcy5oZWlnaHQ+MCl7Y29uc3QgYT10LmdldFJlbmRlclRhcmdldCgpLG89bmV3IG5pKHMuaGVpZ2h0LzIpO3JldHVybiBvLmZyb21FcXVpcmVjdGFuZ3VsYXJUZXh0dXJlKHQsciksZS5zZXQocixvKSx0LnNldFJlbmRlclRhcmdldChhKSxyLmFkZEV2ZW50TGlzdGVuZXIoImRpc3Bvc2UiLGkpLG4oby50ZXh0dXJlLHIubWFwcGluZyl9cmV0dXJuIG51bGx9fX1yZXR1cm4gcn0sZGlzcG9zZTpmdW5jdGlvbigpe2U9bmV3IFdlYWtNYXB9fX1mdW5jdGlvbiB4aSh0KXtjb25zdCBlPXt9O2Z1bmN0aW9uIG4obil7aWYodm9pZCAwIT09ZVtuXSlyZXR1cm4gZVtuXTtsZXQgaTtzd2l0Y2gobil7Y2FzZSJXRUJHTF9kZXB0aF90ZXh0dXJlIjppPXQuZ2V0RXh0ZW5zaW9uKCJXRUJHTF9kZXB0aF90ZXh0dXJlIil8fHQuZ2V0RXh0ZW5zaW9uKCJNT1pfV0VCR0xfZGVwdGhfdGV4dHVyZSIpfHx0LmdldEV4dGVuc2lvbigiV0VCS0lUX1dFQkdMX2RlcHRoX3RleHR1cmUiKTticmVhaztjYXNlIkVYVF90ZXh0dXJlX2ZpbHRlcl9hbmlzb3Ryb3BpYyI6aT10LmdldEV4dGVuc2lvbigiRVhUX3RleHR1cmVfZmlsdGVyX2FuaXNvdHJvcGljIil8fHQuZ2V0RXh0ZW5zaW9uKCJNT1pfRVhUX3RleHR1cmVfZmlsdGVyX2FuaXNvdHJvcGljIil8fHQuZ2V0RXh0ZW5zaW9uKCJXRUJLSVRfRVhUX3RleHR1cmVfZmlsdGVyX2FuaXNvdHJvcGljIik7YnJlYWs7Y2FzZSJXRUJHTF9jb21wcmVzc2VkX3RleHR1cmVfczN0YyI6aT10LmdldEV4dGVuc2lvbigiV0VCR0xfY29tcHJlc3NlZF90ZXh0dXJlX3MzdGMiKXx8dC5nZXRFeHRlbnNpb24oIk1PWl9XRUJHTF9jb21wcmVzc2VkX3RleHR1cmVfczN0YyIpfHx0LmdldEV4dGVuc2lvbigiV0VCS0lUX1dFQkdMX2NvbXByZXNzZWRfdGV4dHVyZV9zM3RjIik7YnJlYWs7Y2FzZSJXRUJHTF9jb21wcmVzc2VkX3RleHR1cmVfcHZydGMiOmk9dC5nZXRFeHRlbnNpb24oIldFQkdMX2NvbXByZXNzZWRfdGV4dHVyZV9wdnJ0YyIpfHx0LmdldEV4dGVuc2lvbigiV0VCS0lUX1dFQkdMX2NvbXByZXNzZWRfdGV4dHVyZV9wdnJ0YyIpO2JyZWFrO2RlZmF1bHQ6aT10LmdldEV4dGVuc2lvbihuKX1yZXR1cm4gZVtuXT1pLGl9cmV0dXJue2hhczpmdW5jdGlvbih0KXtyZXR1cm4gbnVsbCE9PW4odCl9LGluaXQ6ZnVuY3Rpb24odCl7dC5pc1dlYkdMMj9uKCJFWFRfY29sb3JfYnVmZmVyX2Zsb2F0Iik6KG4oIldFQkdMX2RlcHRoX3RleHR1cmUiKSxuKCJPRVNfdGV4dHVyZV9mbG9hdCIpLG4oIk9FU190ZXh0dXJlX2hhbGZfZmxvYXQiKSxuKCJPRVNfdGV4dHVyZV9oYWxmX2Zsb2F0X2xpbmVhciIpLG4oIk9FU19zdGFuZGFyZF9kZXJpdmF0aXZlcyIpLG4oIk9FU19lbGVtZW50X2luZGV4X3VpbnQiKSxuKCJPRVNfdmVydGV4X2FycmF5X29iamVjdCIpLG4oIkFOR0xFX2luc3RhbmNlZF9hcnJheXMiKSksbigiT0VTX3RleHR1cmVfZmxvYXRfbGluZWFyIiksbigiRVhUX2NvbG9yX2J1ZmZlcl9oYWxmX2Zsb2F0Iil9LGdldDpmdW5jdGlvbih0KXtjb25zdCBlPW4odCk7cmV0dXJuIG51bGw9PT1lJiZjb25zb2xlLndhcm4oIlRIUkVFLldlYkdMUmVuZGVyZXI6ICIrdCsiIGV4dGVuc2lvbiBub3Qgc3VwcG9ydGVkLiIpLGV9fX1mdW5jdGlvbiBfaSh0LGUsbixpKXtjb25zdCByPXt9LHM9bmV3IFdlYWtNYXA7ZnVuY3Rpb24gYSh0KXtjb25zdCBvPXQudGFyZ2V0O251bGwhPT1vLmluZGV4JiZlLnJlbW92ZShvLmluZGV4KTtmb3IoY29uc3QgdCBpbiBvLmF0dHJpYnV0ZXMpZS5yZW1vdmUoby5hdHRyaWJ1dGVzW3RdKTtvLnJlbW92ZUV2ZW50TGlzdGVuZXIoImRpc3Bvc2UiLGEpLGRlbGV0ZSByW28uaWRdO2NvbnN0IGw9cy5nZXQobyk7bCYmKGUucmVtb3ZlKGwpLHMuZGVsZXRlKG8pKSxpLnJlbGVhc2VTdGF0ZXNPZkdlb21ldHJ5KG8pLCEwPT09by5pc0luc3RhbmNlZEJ1ZmZlckdlb21ldHJ5JiZkZWxldGUgby5fbWF4SW5zdGFuY2VDb3VudCxuLm1lbW9yeS5nZW9tZXRyaWVzLS19ZnVuY3Rpb24gbyh0KXtjb25zdCBuPVtdLGk9dC5pbmRleCxyPXQuYXR0cmlidXRlcy5wb3NpdGlvbjtsZXQgYT0wO2lmKG51bGwhPT1pKXtjb25zdCB0PWkuYXJyYXk7YT1pLnZlcnNpb247Zm9yKGxldCBlPTAsaT10Lmxlbmd0aDtlPGk7ZSs9Myl7Y29uc3QgaT10W2UrMF0scj10W2UrMV0scz10W2UrMl07bi5wdXNoKGkscixyLHMscyxpKX19ZWxzZXtjb25zdCB0PXIuYXJyYXk7YT1yLnZlcnNpb247Zm9yKGxldCBlPTAsaT10Lmxlbmd0aC8zLTE7ZTxpO2UrPTMpe2NvbnN0IHQ9ZSswLGk9ZSsxLHI9ZSsyO24ucHVzaCh0LGksaSxyLHIsdCl9fWNvbnN0IG89bmV3KGduKG4pPjY1NTM1P2RuOmhuKShuLDEpO28udmVyc2lvbj1hO2NvbnN0IGw9cy5nZXQodCk7bCYmZS5yZW1vdmUobCkscy5zZXQodCxvKX1yZXR1cm57Z2V0OmZ1bmN0aW9uKHQsZSl7cmV0dXJuITA9PT1yW2UuaWRdfHwoZS5hZGRFdmVudExpc3RlbmVyKCJkaXNwb3NlIixhKSxyW2UuaWRdPSEwLG4ubWVtb3J5Lmdlb21ldHJpZXMrKyksZX0sdXBkYXRlOmZ1bmN0aW9uKHQpe2NvbnN0IG49dC5hdHRyaWJ1dGVzO2Zvcihjb25zdCB0IGluIG4pZS51cGRhdGUoblt0XSwzNDk2Mik7Y29uc3QgaT10Lm1vcnBoQXR0cmlidXRlcztmb3IoY29uc3QgdCBpbiBpKXtjb25zdCBuPWlbdF07Zm9yKGxldCB0PTAsaT1uLmxlbmd0aDt0PGk7dCsrKWUudXBkYXRlKG5bdF0sMzQ5NjIpfX0sZ2V0V2lyZWZyYW1lQXR0cmlidXRlOmZ1bmN0aW9uKHQpe2NvbnN0IGU9cy5nZXQodCk7aWYoZSl7Y29uc3Qgbj10LmluZGV4O251bGwhPT1uJiZlLnZlcnNpb248bi52ZXJzaW9uJiZvKHQpfWVsc2Ugbyh0KTtyZXR1cm4gcy5nZXQodCl9fX1mdW5jdGlvbiB3aSh0LGUsbixpKXtjb25zdCByPWkuaXNXZWJHTDI7bGV0IHMsYSxvO3RoaXMuc2V0TW9kZT1mdW5jdGlvbih0KXtzPXR9LHRoaXMuc2V0SW5kZXg9ZnVuY3Rpb24odCl7YT10LnR5cGUsbz10LmJ5dGVzUGVyRWxlbWVudH0sdGhpcy5yZW5kZXI9ZnVuY3Rpb24oZSxpKXt0LmRyYXdFbGVtZW50cyhzLGksYSxlKm8pLG4udXBkYXRlKGkscywxKX0sdGhpcy5yZW5kZXJJbnN0YW5jZXM9ZnVuY3Rpb24oaSxsLGMpe2lmKDA9PT1jKXJldHVybjtsZXQgaCx1O2lmKHIpaD10LHU9ImRyYXdFbGVtZW50c0luc3RhbmNlZCI7ZWxzZSBpZihoPWUuZ2V0KCJBTkdMRV9pbnN0YW5jZWRfYXJyYXlzIiksdT0iZHJhd0VsZW1lbnRzSW5zdGFuY2VkQU5HTEUiLG51bGw9PT1oKXJldHVybiB2b2lkIGNvbnNvbGUuZXJyb3IoIlRIUkVFLldlYkdMSW5kZXhlZEJ1ZmZlclJlbmRlcmVyOiB1c2luZyBUSFJFRS5JbnN0YW5jZWRCdWZmZXJHZW9tZXRyeSBidXQgaGFyZHdhcmUgZG9lcyBub3Qgc3VwcG9ydCBleHRlbnNpb24gQU5HTEVfaW5zdGFuY2VkX2FycmF5cy4iKTtoW3VdKHMsbCxhLGkqbyxjKSxuLnVwZGF0ZShsLHMsYyl9fWZ1bmN0aW9uIGJpKHQpe2NvbnN0IGU9e2ZyYW1lOjAsY2FsbHM6MCx0cmlhbmdsZXM6MCxwb2ludHM6MCxsaW5lczowfTtyZXR1cm57bWVtb3J5OntnZW9tZXRyaWVzOjAsdGV4dHVyZXM6MH0scmVuZGVyOmUscHJvZ3JhbXM6bnVsbCxhdXRvUmVzZXQ6ITAscmVzZXQ6ZnVuY3Rpb24oKXtlLmZyYW1lKyssZS5jYWxscz0wLGUudHJpYW5nbGVzPTAsZS5wb2ludHM9MCxlLmxpbmVzPTB9LHVwZGF0ZTpmdW5jdGlvbih0LG4saSl7c3dpdGNoKGUuY2FsbHMrKyxuKXtjYXNlIDQ6ZS50cmlhbmdsZXMrPWkqKHQvMyk7YnJlYWs7Y2FzZSAxOmUubGluZXMrPWkqKHQvMik7YnJlYWs7Y2FzZSAzOmUubGluZXMrPWkqKHQtMSk7YnJlYWs7Y2FzZSAyOmUubGluZXMrPWkqdDticmVhaztjYXNlIDA6ZS5wb2ludHMrPWkqdDticmVhaztkZWZhdWx0OmNvbnNvbGUuZXJyb3IoIlRIUkVFLldlYkdMSW5mbzogVW5rbm93biBkcmF3IG1vZGU6IixuKX19fX1mdW5jdGlvbiBNaSh0LGUpe3JldHVybiB0WzBdLWVbMF19ZnVuY3Rpb24gU2kodCxlKXtyZXR1cm4gTWF0aC5hYnMoZVsxXSktTWF0aC5hYnModFsxXSl9ZnVuY3Rpb24gVGkodCl7Y29uc3QgZT17fSxuPW5ldyBGbG9hdDMyQXJyYXkoOCksaT1bXTtmb3IobGV0IHQ9MDt0PDg7dCsrKWlbdF09W3QsMF07cmV0dXJue3VwZGF0ZTpmdW5jdGlvbihyLHMsYSxvKXtjb25zdCBsPXIubW9ycGhUYXJnZXRJbmZsdWVuY2VzLGM9dm9pZCAwPT09bD8wOmwubGVuZ3RoO2xldCBoPWVbcy5pZF07aWYodm9pZCAwPT09aCl7aD1bXTtmb3IobGV0IHQ9MDt0PGM7dCsrKWhbdF09W3QsMF07ZVtzLmlkXT1ofWZvcihsZXQgdD0wO3Q8Yzt0Kyspe2NvbnN0IGU9aFt0XTtlWzBdPXQsZVsxXT1sW3RdfWguc29ydChTaSk7Zm9yKGxldCB0PTA7dDw4O3QrKyl0PGMmJmhbdF1bMV0/KGlbdF1bMF09aFt0XVswXSxpW3RdWzFdPWhbdF1bMV0pOihpW3RdWzBdPU51bWJlci5NQVhfU0FGRV9JTlRFR0VSLGlbdF1bMV09MCk7aS5zb3J0KE1pKTtjb25zdCB1PWEubW9ycGhUYXJnZXRzJiZzLm1vcnBoQXR0cmlidXRlcy5wb3NpdGlvbixkPWEubW9ycGhOb3JtYWxzJiZzLm1vcnBoQXR0cmlidXRlcy5ub3JtYWw7bGV0IHA9MDtmb3IobGV0IHQ9MDt0PDg7dCsrKXtjb25zdCBlPWlbdF0scj1lWzBdLGE9ZVsxXTtyIT09TnVtYmVyLk1BWF9TQUZFX0lOVEVHRVImJmE/KHUmJnMuZ2V0QXR0cmlidXRlKCJtb3JwaFRhcmdldCIrdCkhPT11W3JdJiZzLnNldEF0dHJpYnV0ZSgibW9ycGhUYXJnZXQiK3QsdVtyXSksZCYmcy5nZXRBdHRyaWJ1dGUoIm1vcnBoTm9ybWFsIit0KSE9PWRbcl0mJnMuc2V0QXR0cmlidXRlKCJtb3JwaE5vcm1hbCIrdCxkW3JdKSxuW3RdPWEscCs9YSk6KHUmJiEwPT09cy5oYXNBdHRyaWJ1dGUoIm1vcnBoVGFyZ2V0Iit0KSYmcy5kZWxldGVBdHRyaWJ1dGUoIm1vcnBoVGFyZ2V0Iit0KSxkJiYhMD09PXMuaGFzQXR0cmlidXRlKCJtb3JwaE5vcm1hbCIrdCkmJnMuZGVsZXRlQXR0cmlidXRlKCJtb3JwaE5vcm1hbCIrdCksblt0XT0wKX1jb25zdCBtPXMubW9ycGhUYXJnZXRzUmVsYXRpdmU/MToxLXA7by5nZXRVbmlmb3JtcygpLnNldFZhbHVlKHQsIm1vcnBoVGFyZ2V0QmFzZUluZmx1ZW5jZSIsbSksby5nZXRVbmlmb3JtcygpLnNldFZhbHVlKHQsIm1vcnBoVGFyZ2V0SW5mbHVlbmNlcyIsbil9fX1mdW5jdGlvbiBFaSh0LGUsbixpKXtsZXQgcj1uZXcgV2Vha01hcDtmdW5jdGlvbiBzKHQpe2NvbnN0IGU9dC50YXJnZXQ7ZS5yZW1vdmVFdmVudExpc3RlbmVyKCJkaXNwb3NlIixzKSxuLnJlbW92ZShlLmluc3RhbmNlTWF0cml4KSxudWxsIT09ZS5pbnN0YW5jZUNvbG9yJiZuLnJlbW92ZShlLmluc3RhbmNlQ29sb3IpfXJldHVybnt1cGRhdGU6ZnVuY3Rpb24odCl7Y29uc3QgYT1pLnJlbmRlci5mcmFtZSxvPXQuZ2VvbWV0cnksbD1lLmdldCh0LG8pO3JldHVybiByLmdldChsKSE9PWEmJihlLnVwZGF0ZShsKSxyLnNldChsLGEpKSx0LmlzSW5zdGFuY2VkTWVzaCYmKCExPT09dC5oYXNFdmVudExpc3RlbmVyKCJkaXNwb3NlIixzKSYmdC5hZGRFdmVudExpc3RlbmVyKCJkaXNwb3NlIixzKSxuLnVwZGF0ZSh0Lmluc3RhbmNlTWF0cml4LDM0OTYyKSxudWxsIT09dC5pbnN0YW5jZUNvbG9yJiZuLnVwZGF0ZSh0Lmluc3RhbmNlQ29sb3IsMzQ5NjIpKSxsfSxkaXNwb3NlOmZ1bmN0aW9uKCl7cj1uZXcgV2Vha01hcH19fWRpLnBoeXNpY2FsPXt1bmlmb3JtczpZbihbZGkuc3RhbmRhcmQudW5pZm9ybXMse2NsZWFyY29hdDp7dmFsdWU6MH0sY2xlYXJjb2F0TWFwOnt2YWx1ZTpudWxsfSxjbGVhcmNvYXRSb3VnaG5lc3M6e3ZhbHVlOjB9LGNsZWFyY29hdFJvdWdobmVzc01hcDp7dmFsdWU6bnVsbH0sY2xlYXJjb2F0Tm9ybWFsU2NhbGU6e3ZhbHVlOm5ldyB2dCgxLDEpfSxjbGVhcmNvYXROb3JtYWxNYXA6e3ZhbHVlOm51bGx9LHNoZWVuOnt2YWx1ZTpuZXcgdG4oMCl9LHRyYW5zbWlzc2lvbjp7dmFsdWU6MH0sdHJhbnNtaXNzaW9uTWFwOnt2YWx1ZTpudWxsfX1dKSx2ZXJ0ZXhTaGFkZXI6aGkubWVzaHBoeXNpY2FsX3ZlcnQsZnJhZ21lbnRTaGFkZXI6aGkubWVzaHBoeXNpY2FsX2ZyYWd9O2NsYXNzIEFpIGV4dGVuZHMgYnR7Y29uc3RydWN0b3IodD1udWxsLGU9MSxuPTEsaT0xKXtzdXBlcihudWxsKSx0aGlzLmltYWdlPXtkYXRhOnQsd2lkdGg6ZSxoZWlnaHQ6bixkZXB0aDppfSx0aGlzLm1hZ0ZpbHRlcj1wLHRoaXMubWluRmlsdGVyPXAsdGhpcy53cmFwUj11LHRoaXMuZ2VuZXJhdGVNaXBtYXBzPSExLHRoaXMuZmxpcFk9ITEsdGhpcy51bnBhY2tBbGlnbm1lbnQ9MSx0aGlzLm5lZWRzVXBkYXRlPSEwfX1BaS5wcm90b3R5cGUuaXNEYXRhVGV4dHVyZTJEQXJyYXk9ITA7Y2xhc3MgTGkgZXh0ZW5kcyBidHtjb25zdHJ1Y3Rvcih0PW51bGwsZT0xLG49MSxpPTEpe3N1cGVyKG51bGwpLHRoaXMuaW1hZ2U9e2RhdGE6dCx3aWR0aDplLGhlaWdodDpuLGRlcHRoOml9LHRoaXMubWFnRmlsdGVyPXAsdGhpcy5taW5GaWx0ZXI9cCx0aGlzLndyYXBSPXUsdGhpcy5nZW5lcmF0ZU1pcG1hcHM9ITEsdGhpcy5mbGlwWT0hMSx0aGlzLnVucGFja0FsaWdubWVudD0xLHRoaXMubmVlZHNVcGRhdGU9ITB9fUxpLnByb3RvdHlwZS5pc0RhdGFUZXh0dXJlM0Q9ITA7Y29uc3QgUmk9bmV3IGJ0LENpPW5ldyBBaSxQaT1uZXcgTGksRGk9bmV3IGVpLElpPVtdLE5pPVtdLEJpPW5ldyBGbG9hdDMyQXJyYXkoMTYpLHppPW5ldyBGbG9hdDMyQXJyYXkoOSksRmk9bmV3IEZsb2F0MzJBcnJheSg0KTtmdW5jdGlvbiBPaSh0LGUsbil7Y29uc3QgaT10WzBdO2lmKGk8PTB8fGk+MClyZXR1cm4gdDtjb25zdCByPWUqbjtsZXQgcz1JaVtyXTtpZih2b2lkIDA9PT1zJiYocz1uZXcgRmxvYXQzMkFycmF5KHIpLElpW3JdPXMpLDAhPT1lKXtpLnRvQXJyYXkocywwKTtmb3IobGV0IGk9MSxyPTA7aSE9PWU7KytpKXIrPW4sdFtpXS50b0FycmF5KHMscil9cmV0dXJuIHN9ZnVuY3Rpb24gSGkodCxlKXtpZih0Lmxlbmd0aCE9PWUubGVuZ3RoKXJldHVybiExO2ZvcihsZXQgbj0wLGk9dC5sZW5ndGg7bjxpO24rKylpZih0W25dIT09ZVtuXSlyZXR1cm4hMTtyZXR1cm4hMH1mdW5jdGlvbiBHaSh0LGUpe2ZvcihsZXQgbj0wLGk9ZS5sZW5ndGg7bjxpO24rKyl0W25dPWVbbl19ZnVuY3Rpb24gVWkodCxlKXtsZXQgbj1OaVtlXTt2b2lkIDA9PT1uJiYobj1uZXcgSW50MzJBcnJheShlKSxOaVtlXT1uKTtmb3IobGV0IGk9MDtpIT09ZTsrK2kpbltpXT10LmFsbG9jYXRlVGV4dHVyZVVuaXQoKTtyZXR1cm4gbn1mdW5jdGlvbiBraSh0LGUpe2NvbnN0IG49dGhpcy5jYWNoZTtuWzBdIT09ZSYmKHQudW5pZm9ybTFmKHRoaXMuYWRkcixlKSxuWzBdPWUpfWZ1bmN0aW9uIFZpKHQsZSl7Y29uc3Qgbj10aGlzLmNhY2hlO2lmKHZvaWQgMCE9PWUueCluWzBdPT09ZS54JiZuWzFdPT09ZS55fHwodC51bmlmb3JtMmYodGhpcy5hZGRyLGUueCxlLnkpLG5bMF09ZS54LG5bMV09ZS55KTtlbHNle2lmKEhpKG4sZSkpcmV0dXJuO3QudW5pZm9ybTJmdih0aGlzLmFkZHIsZSksR2kobixlKX19ZnVuY3Rpb24gV2kodCxlKXtjb25zdCBuPXRoaXMuY2FjaGU7aWYodm9pZCAwIT09ZS54KW5bMF09PT1lLngmJm5bMV09PT1lLnkmJm5bMl09PT1lLnp8fCh0LnVuaWZvcm0zZih0aGlzLmFkZHIsZS54LGUueSxlLnopLG5bMF09ZS54LG5bMV09ZS55LG5bMl09ZS56KTtlbHNlIGlmKHZvaWQgMCE9PWUuciluWzBdPT09ZS5yJiZuWzFdPT09ZS5nJiZuWzJdPT09ZS5ifHwodC51bmlmb3JtM2YodGhpcy5hZGRyLGUucixlLmcsZS5iKSxuWzBdPWUucixuWzFdPWUuZyxuWzJdPWUuYik7ZWxzZXtpZihIaShuLGUpKXJldHVybjt0LnVuaWZvcm0zZnYodGhpcy5hZGRyLGUpLEdpKG4sZSl9fWZ1bmN0aW9uIGppKHQsZSl7Y29uc3Qgbj10aGlzLmNhY2hlO2lmKHZvaWQgMCE9PWUueCluWzBdPT09ZS54JiZuWzFdPT09ZS55JiZuWzJdPT09ZS56JiZuWzNdPT09ZS53fHwodC51bmlmb3JtNGYodGhpcy5hZGRyLGUueCxlLnksZS56LGUudyksblswXT1lLngsblsxXT1lLnksblsyXT1lLnosblszXT1lLncpO2Vsc2V7aWYoSGkobixlKSlyZXR1cm47dC51bmlmb3JtNGZ2KHRoaXMuYWRkcixlKSxHaShuLGUpfX1mdW5jdGlvbiBxaSh0LGUpe2NvbnN0IG49dGhpcy5jYWNoZSxpPWUuZWxlbWVudHM7aWYodm9pZCAwPT09aSl7aWYoSGkobixlKSlyZXR1cm47dC51bmlmb3JtTWF0cml4MmZ2KHRoaXMuYWRkciwhMSxlKSxHaShuLGUpfWVsc2V7aWYoSGkobixpKSlyZXR1cm47Rmkuc2V0KGkpLHQudW5pZm9ybU1hdHJpeDJmdih0aGlzLmFkZHIsITEsRmkpLEdpKG4saSl9fWZ1bmN0aW9uIFhpKHQsZSl7Y29uc3Qgbj10aGlzLmNhY2hlLGk9ZS5lbGVtZW50cztpZih2b2lkIDA9PT1pKXtpZihIaShuLGUpKXJldHVybjt0LnVuaWZvcm1NYXRyaXgzZnYodGhpcy5hZGRyLCExLGUpLEdpKG4sZSl9ZWxzZXtpZihIaShuLGkpKXJldHVybjt6aS5zZXQoaSksdC51bmlmb3JtTWF0cml4M2Z2KHRoaXMuYWRkciwhMSx6aSksR2kobixpKX19ZnVuY3Rpb24gWWkodCxlKXtjb25zdCBuPXRoaXMuY2FjaGUsaT1lLmVsZW1lbnRzO2lmKHZvaWQgMD09PWkpe2lmKEhpKG4sZSkpcmV0dXJuO3QudW5pZm9ybU1hdHJpeDRmdih0aGlzLmFkZHIsITEsZSksR2kobixlKX1lbHNle2lmKEhpKG4saSkpcmV0dXJuO0JpLnNldChpKSx0LnVuaWZvcm1NYXRyaXg0ZnYodGhpcy5hZGRyLCExLEJpKSxHaShuLGkpfX1mdW5jdGlvbiBaaSh0LGUpe2NvbnN0IG49dGhpcy5jYWNoZTtuWzBdIT09ZSYmKHQudW5pZm9ybTFpKHRoaXMuYWRkcixlKSxuWzBdPWUpfWZ1bmN0aW9uIEppKHQsZSl7Y29uc3Qgbj10aGlzLmNhY2hlO0hpKG4sZSl8fCh0LnVuaWZvcm0yaXYodGhpcy5hZGRyLGUpLEdpKG4sZSkpfWZ1bmN0aW9uIFFpKHQsZSl7Y29uc3Qgbj10aGlzLmNhY2hlO0hpKG4sZSl8fCh0LnVuaWZvcm0zaXYodGhpcy5hZGRyLGUpLEdpKG4sZSkpfWZ1bmN0aW9uIEtpKHQsZSl7Y29uc3Qgbj10aGlzLmNhY2hlO0hpKG4sZSl8fCh0LnVuaWZvcm00aXYodGhpcy5hZGRyLGUpLEdpKG4sZSkpfWZ1bmN0aW9uICRpKHQsZSl7Y29uc3Qgbj10aGlzLmNhY2hlO25bMF0hPT1lJiYodC51bmlmb3JtMXVpKHRoaXMuYWRkcixlKSxuWzBdPWUpfWZ1bmN0aW9uIHRyKHQsZSl7Y29uc3Qgbj10aGlzLmNhY2hlO0hpKG4sZSl8fCh0LnVuaWZvcm0ydWl2KHRoaXMuYWRkcixlKSxHaShuLGUpKX1mdW5jdGlvbiBlcih0LGUpe2NvbnN0IG49dGhpcy5jYWNoZTtIaShuLGUpfHwodC51bmlmb3JtM3Vpdih0aGlzLmFkZHIsZSksR2kobixlKSl9ZnVuY3Rpb24gbnIodCxlKXtjb25zdCBuPXRoaXMuY2FjaGU7SGkobixlKXx8KHQudW5pZm9ybTR1aXYodGhpcy5hZGRyLGUpLEdpKG4sZSkpfWZ1bmN0aW9uIGlyKHQsZSxuKXtjb25zdCBpPXRoaXMuY2FjaGUscj1uLmFsbG9jYXRlVGV4dHVyZVVuaXQoKTtpWzBdIT09ciYmKHQudW5pZm9ybTFpKHRoaXMuYWRkcixyKSxpWzBdPXIpLG4uc2FmZVNldFRleHR1cmUyRChlfHxSaSxyKX1mdW5jdGlvbiBycih0LGUsbil7Y29uc3QgaT10aGlzLmNhY2hlLHI9bi5hbGxvY2F0ZVRleHR1cmVVbml0KCk7aVswXSE9PXImJih0LnVuaWZvcm0xaSh0aGlzLmFkZHIsciksaVswXT1yKSxuLnNldFRleHR1cmUzRChlfHxQaSxyKX1mdW5jdGlvbiBzcih0LGUsbil7Y29uc3QgaT10aGlzLmNhY2hlLHI9bi5hbGxvY2F0ZVRleHR1cmVVbml0KCk7aVswXSE9PXImJih0LnVuaWZvcm0xaSh0aGlzLmFkZHIsciksaVswXT1yKSxuLnNhZmVTZXRUZXh0dXJlQ3ViZShlfHxEaSxyKX1mdW5jdGlvbiBhcih0LGUsbil7Y29uc3QgaT10aGlzLmNhY2hlLHI9bi5hbGxvY2F0ZVRleHR1cmVVbml0KCk7aVswXSE9PXImJih0LnVuaWZvcm0xaSh0aGlzLmFkZHIsciksaVswXT1yKSxuLnNldFRleHR1cmUyREFycmF5KGV8fENpLHIpfWZ1bmN0aW9uIG9yKHQsZSl7dC51bmlmb3JtMWZ2KHRoaXMuYWRkcixlKX1mdW5jdGlvbiBscih0LGUpe2NvbnN0IG49T2koZSx0aGlzLnNpemUsMik7dC51bmlmb3JtMmZ2KHRoaXMuYWRkcixuKX1mdW5jdGlvbiBjcih0LGUpe2NvbnN0IG49T2koZSx0aGlzLnNpemUsMyk7dC51bmlmb3JtM2Z2KHRoaXMuYWRkcixuKX1mdW5jdGlvbiBocih0LGUpe2NvbnN0IG49T2koZSx0aGlzLnNpemUsNCk7dC51bmlmb3JtNGZ2KHRoaXMuYWRkcixuKX1mdW5jdGlvbiB1cih0LGUpe2NvbnN0IG49T2koZSx0aGlzLnNpemUsNCk7dC51bmlmb3JtTWF0cml4MmZ2KHRoaXMuYWRkciwhMSxuKX1mdW5jdGlvbiBkcih0LGUpe2NvbnN0IG49T2koZSx0aGlzLnNpemUsOSk7dC51bmlmb3JtTWF0cml4M2Z2KHRoaXMuYWRkciwhMSxuKX1mdW5jdGlvbiBwcih0LGUpe2NvbnN0IG49T2koZSx0aGlzLnNpemUsMTYpO3QudW5pZm9ybU1hdHJpeDRmdih0aGlzLmFkZHIsITEsbil9ZnVuY3Rpb24gbXIodCxlKXt0LnVuaWZvcm0xaXYodGhpcy5hZGRyLGUpfWZ1bmN0aW9uIGZyKHQsZSl7dC51bmlmb3JtMml2KHRoaXMuYWRkcixlKX1mdW5jdGlvbiBncih0LGUpe3QudW5pZm9ybTNpdih0aGlzLmFkZHIsZSl9ZnVuY3Rpb24gdnIodCxlKXt0LnVuaWZvcm00aXYodGhpcy5hZGRyLGUpfWZ1bmN0aW9uIHlyKHQsZSl7dC51bmlmb3JtMXVpdih0aGlzLmFkZHIsZSl9ZnVuY3Rpb24geHIodCxlKXt0LnVuaWZvcm0ydWl2KHRoaXMuYWRkcixlKX1mdW5jdGlvbiBfcih0LGUpe3QudW5pZm9ybTN1aXYodGhpcy5hZGRyLGUpfWZ1bmN0aW9uIHdyKHQsZSl7dC51bmlmb3JtNHVpdih0aGlzLmFkZHIsZSl9ZnVuY3Rpb24gYnIodCxlLG4pe2NvbnN0IGk9ZS5sZW5ndGgscj1VaShuLGkpO3QudW5pZm9ybTFpdih0aGlzLmFkZHIscik7Zm9yKGxldCB0PTA7dCE9PWk7Kyt0KW4uc2FmZVNldFRleHR1cmUyRChlW3RdfHxSaSxyW3RdKX1mdW5jdGlvbiBNcih0LGUsbil7Y29uc3QgaT1lLmxlbmd0aCxyPVVpKG4saSk7dC51bmlmb3JtMWl2KHRoaXMuYWRkcixyKTtmb3IobGV0IHQ9MDt0IT09aTsrK3Qpbi5zYWZlU2V0VGV4dHVyZUN1YmUoZVt0XXx8RGksclt0XSl9ZnVuY3Rpb24gU3IodCxlLG4pe3RoaXMuaWQ9dCx0aGlzLmFkZHI9bix0aGlzLmNhY2hlPVtdLHRoaXMuc2V0VmFsdWU9ZnVuY3Rpb24odCl7c3dpdGNoKHQpe2Nhc2UgNTEyNjpyZXR1cm4ga2k7Y2FzZSAzNTY2NDpyZXR1cm4gVmk7Y2FzZSAzNTY2NTpyZXR1cm4gV2k7Y2FzZSAzNTY2NjpyZXR1cm4gamk7Y2FzZSAzNTY3NDpyZXR1cm4gcWk7Y2FzZSAzNTY3NTpyZXR1cm4gWGk7Y2FzZSAzNTY3NjpyZXR1cm4gWWk7Y2FzZSA1MTI0OmNhc2UgMzU2NzA6cmV0dXJuIFppO2Nhc2UgMzU2Njc6Y2FzZSAzNTY3MTpyZXR1cm4gSmk7Y2FzZSAzNTY2ODpjYXNlIDM1NjcyOnJldHVybiBRaTtjYXNlIDM1NjY5OmNhc2UgMzU2NzM6cmV0dXJuIEtpO2Nhc2UgNTEyNTpyZXR1cm4gJGk7Y2FzZSAzNjI5NDpyZXR1cm4gdHI7Y2FzZSAzNjI5NTpyZXR1cm4gZXI7Y2FzZSAzNjI5NjpyZXR1cm4gbnI7Y2FzZSAzNTY3ODpjYXNlIDM2MTk4OmNhc2UgMzYyOTg6Y2FzZSAzNjMwNjpjYXNlIDM1NjgyOnJldHVybiBpcjtjYXNlIDM1Njc5OmNhc2UgMzYyOTk6Y2FzZSAzNjMwNzpyZXR1cm4gcnI7Y2FzZSAzNTY4MDpjYXNlIDM2MzAwOmNhc2UgMzYzMDg6Y2FzZSAzNjI5MzpyZXR1cm4gc3I7Y2FzZSAzNjI4OTpjYXNlIDM2MzAzOmNhc2UgMzYzMTE6Y2FzZSAzNjI5MjpyZXR1cm4gYXJ9fShlLnR5cGUpfWZ1bmN0aW9uIFRyKHQsZSxuKXt0aGlzLmlkPXQsdGhpcy5hZGRyPW4sdGhpcy5jYWNoZT1bXSx0aGlzLnNpemU9ZS5zaXplLHRoaXMuc2V0VmFsdWU9ZnVuY3Rpb24odCl7c3dpdGNoKHQpe2Nhc2UgNTEyNjpyZXR1cm4gb3I7Y2FzZSAzNTY2NDpyZXR1cm4gbHI7Y2FzZSAzNTY2NTpyZXR1cm4gY3I7Y2FzZSAzNTY2NjpyZXR1cm4gaHI7Y2FzZSAzNTY3NDpyZXR1cm4gdXI7Y2FzZSAzNTY3NTpyZXR1cm4gZHI7Y2FzZSAzNTY3NjpyZXR1cm4gcHI7Y2FzZSA1MTI0OmNhc2UgMzU2NzA6cmV0dXJuIG1yO2Nhc2UgMzU2Njc6Y2FzZSAzNTY3MTpyZXR1cm4gZnI7Y2FzZSAzNTY2ODpjYXNlIDM1NjcyOnJldHVybiBncjtjYXNlIDM1NjY5OmNhc2UgMzU2NzM6cmV0dXJuIHZyO2Nhc2UgNTEyNTpyZXR1cm4geXI7Y2FzZSAzNjI5NDpyZXR1cm4geHI7Y2FzZSAzNjI5NTpyZXR1cm4gX3I7Y2FzZSAzNjI5NjpyZXR1cm4gd3I7Y2FzZSAzNTY3ODpjYXNlIDM2MTk4OmNhc2UgMzYyOTg6Y2FzZSAzNjMwNjpjYXNlIDM1NjgyOnJldHVybiBicjtjYXNlIDM1NjgwOmNhc2UgMzYzMDA6Y2FzZSAzNjMwODpjYXNlIDM2MjkzOnJldHVybiBNcn19KGUudHlwZSl9ZnVuY3Rpb24gRXIodCl7dGhpcy5pZD10LHRoaXMuc2VxPVtdLHRoaXMubWFwPXt9fVRyLnByb3RvdHlwZS51cGRhdGVDYWNoZT1mdW5jdGlvbih0KXtjb25zdCBlPXRoaXMuY2FjaGU7dCBpbnN0YW5jZW9mIEZsb2F0MzJBcnJheSYmZS5sZW5ndGghPT10Lmxlbmd0aCYmKHRoaXMuY2FjaGU9bmV3IEZsb2F0MzJBcnJheSh0Lmxlbmd0aCkpLEdpKGUsdCl9LEVyLnByb3RvdHlwZS5zZXRWYWx1ZT1mdW5jdGlvbih0LGUsbil7Y29uc3QgaT10aGlzLnNlcTtmb3IobGV0IHI9MCxzPWkubGVuZ3RoO3IhPT1zOysrcil7Y29uc3Qgcz1pW3JdO3Muc2V0VmFsdWUodCxlW3MuaWRdLG4pfX07Y29uc3QgQXI9LyhcdyspKFxdKT8oXFt8XC4pPy9nO2Z1bmN0aW9uIExyKHQsZSl7dC5zZXEucHVzaChlKSx0Lm1hcFtlLmlkXT1lfWZ1bmN0aW9uIFJyKHQsZSxuKXtjb25zdCBpPXQubmFtZSxyPWkubGVuZ3RoO2ZvcihBci5sYXN0SW5kZXg9MDs7KXtjb25zdCBzPUFyLmV4ZWMoaSksYT1Bci5sYXN0SW5kZXg7bGV0IG89c1sxXTtjb25zdCBsPSJdIj09PXNbMl0sYz1zWzNdO2lmKGwmJihvfD0wKSx2b2lkIDA9PT1jfHwiWyI9PT1jJiZhKzI9PT1yKXtMcihuLHZvaWQgMD09PWM/bmV3IFNyKG8sdCxlKTpuZXcgVHIobyx0LGUpKTticmVha317bGV0IHQ9bi5tYXBbb107dm9pZCAwPT09dCYmKHQ9bmV3IEVyKG8pLExyKG4sdCkpLG49dH19fWZ1bmN0aW9uIENyKHQsZSl7dGhpcy5zZXE9W10sdGhpcy5tYXA9e307Y29uc3Qgbj10LmdldFByb2dyYW1QYXJhbWV0ZXIoZSwzNTcxOCk7Zm9yKGxldCBpPTA7aTxuOysraSl7Y29uc3Qgbj10LmdldEFjdGl2ZVVuaWZvcm0oZSxpKTtScihuLHQuZ2V0VW5pZm9ybUxvY2F0aW9uKGUsbi5uYW1lKSx0aGlzKX19ZnVuY3Rpb24gUHIodCxlLG4pe2NvbnN0IGk9dC5jcmVhdGVTaGFkZXIoZSk7cmV0dXJuIHQuc2hhZGVyU291cmNlKGksbiksdC5jb21waWxlU2hhZGVyKGkpLGl9Q3IucHJvdG90eXBlLnNldFZhbHVlPWZ1bmN0aW9uKHQsZSxuLGkpe2NvbnN0IHI9dGhpcy5tYXBbZV07dm9pZCAwIT09ciYmci5zZXRWYWx1ZSh0LG4saSl9LENyLnByb3RvdHlwZS5zZXRPcHRpb25hbD1mdW5jdGlvbih0LGUsbil7Y29uc3QgaT1lW25dO3ZvaWQgMCE9PWkmJnRoaXMuc2V0VmFsdWUodCxuLGkpfSxDci51cGxvYWQ9ZnVuY3Rpb24odCxlLG4saSl7Zm9yKGxldCByPTAscz1lLmxlbmd0aDtyIT09czsrK3Ipe2NvbnN0IHM9ZVtyXSxhPW5bcy5pZF07ITEhPT1hLm5lZWRzVXBkYXRlJiZzLnNldFZhbHVlKHQsYS52YWx1ZSxpKX19LENyLnNlcVdpdGhWYWx1ZT1mdW5jdGlvbih0LGUpe2NvbnN0IG49W107Zm9yKGxldCBpPTAscj10Lmxlbmd0aDtpIT09cjsrK2kpe2NvbnN0IHI9dFtpXTtyLmlkIGluIGUmJm4ucHVzaChyKX1yZXR1cm4gbn07bGV0IERyPTA7ZnVuY3Rpb24gSXIodCl7c3dpdGNoKHQpe2Nhc2UgWDpyZXR1cm5bIkxpbmVhciIsIiggdmFsdWUgKSJdO2Nhc2UgWTpyZXR1cm5bInNSR0IiLCIoIHZhbHVlICkiXTtjYXNlIEo6cmV0dXJuWyJSR0JFIiwiKCB2YWx1ZSApIl07Y2FzZSBROnJldHVyblsiUkdCTSIsIiggdmFsdWUsIDcuMCApIl07Y2FzZSBLOnJldHVyblsiUkdCTSIsIiggdmFsdWUsIDE2LjAgKSJdO2Nhc2UgJDpyZXR1cm5bIlJHQkQiLCIoIHZhbHVlLCAyNTYuMCApIl07Y2FzZSBaOnJldHVyblsiR2FtbWEiLCIoIHZhbHVlLCBmbG9hdCggR0FNTUFfRkFDVE9SICkgKSJdO2Nhc2UgMzAwMzpyZXR1cm5bIkxvZ0x1diIsIiggdmFsdWUgKSJdO2RlZmF1bHQ6cmV0dXJuIGNvbnNvbGUud2FybigiVEhSRUUuV2ViR0xQcm9ncmFtOiBVbnN1cHBvcnRlZCBlbmNvZGluZzoiLHQpLFsiTGluZWFyIiwiKCB2YWx1ZSApIl19fWZ1bmN0aW9uIE5yKHQsZSxuKXtjb25zdCBpPXQuZ2V0U2hhZGVyUGFyYW1ldGVyKGUsMzU3MTMpLHI9dC5nZXRTaGFkZXJJbmZvTG9nKGUpLnRyaW0oKTtpZihpJiYiIj09PXIpcmV0dXJuIiI7cmV0dXJuIlRIUkVFLldlYkdMU2hhZGVyOiBnbC5nZXRTaGFkZXJJbmZvTG9nKCkgIituKyJcbiIrcitmdW5jdGlvbih0KXtjb25zdCBlPXQuc3BsaXQoIlxuIik7Zm9yKGxldCB0PTA7dDxlLmxlbmd0aDt0KyspZVt0XT10KzErIjogIitlW3RdO3JldHVybiBlLmpvaW4oIlxuIil9KHQuZ2V0U2hhZGVyU291cmNlKGUpKX1mdW5jdGlvbiBCcih0LGUpe2NvbnN0IG49SXIoZSk7cmV0dXJuInZlYzQgIit0KyIoIHZlYzQgdmFsdWUgKSB7IHJldHVybiAiK25bMF0rIlRvTGluZWFyIituWzFdKyI7IH0ifWZ1bmN0aW9uIHpyKHQsZSl7Y29uc3Qgbj1JcihlKTtyZXR1cm4idmVjNCAiK3QrIiggdmVjNCB2YWx1ZSApIHsgcmV0dXJuIExpbmVhclRvIituWzBdK25bMV0rIjsgfSJ9ZnVuY3Rpb24gRnIodCxlKXtsZXQgbjtzd2l0Y2goZSl7Y2FzZSAxOm49IkxpbmVhciI7YnJlYWs7Y2FzZSAyOm49IlJlaW5oYXJkIjticmVhaztjYXNlIDM6bj0iT3B0aW1pemVkQ2luZW9uIjticmVhaztjYXNlIDQ6bj0iQUNFU0ZpbG1pYyI7YnJlYWs7Y2FzZSA1Om49IkN1c3RvbSI7YnJlYWs7ZGVmYXVsdDpjb25zb2xlLndhcm4oIlRIUkVFLldlYkdMUHJvZ3JhbTogVW5zdXBwb3J0ZWQgdG9uZU1hcHBpbmc6IixlKSxuPSJMaW5lYXIifXJldHVybiJ2ZWMzICIrdCsiKCB2ZWMzIGNvbG9yICkgeyByZXR1cm4gIituKyJUb25lTWFwcGluZyggY29sb3IgKTsgfSJ9ZnVuY3Rpb24gT3IodCl7cmV0dXJuIiIhPT10fWZ1bmN0aW9uIEhyKHQsZSl7cmV0dXJuIHQucmVwbGFjZSgvTlVNX0RJUl9MSUdIVFMvZyxlLm51bURpckxpZ2h0cykucmVwbGFjZSgvTlVNX1NQT1RfTElHSFRTL2csZS5udW1TcG90TGlnaHRzKS5yZXBsYWNlKC9OVU1fUkVDVF9BUkVBX0xJR0hUUy9nLGUubnVtUmVjdEFyZWFMaWdodHMpLnJlcGxhY2UoL05VTV9QT0lOVF9MSUdIVFMvZyxlLm51bVBvaW50TGlnaHRzKS5yZXBsYWNlKC9OVU1fSEVNSV9MSUdIVFMvZyxlLm51bUhlbWlMaWdodHMpLnJlcGxhY2UoL05VTV9ESVJfTElHSFRfU0hBRE9XUy9nLGUubnVtRGlyTGlnaHRTaGFkb3dzKS5yZXBsYWNlKC9OVU1fU1BPVF9MSUdIVF9TSEFET1dTL2csZS5udW1TcG90TGlnaHRTaGFkb3dzKS5yZXBsYWNlKC9OVU1fUE9JTlRfTElHSFRfU0hBRE9XUy9nLGUubnVtUG9pbnRMaWdodFNoYWRvd3MpfWZ1bmN0aW9uIEdyKHQsZSl7cmV0dXJuIHQucmVwbGFjZSgvTlVNX0NMSVBQSU5HX1BMQU5FUy9nLGUubnVtQ2xpcHBpbmdQbGFuZXMpLnJlcGxhY2UoL1VOSU9OX0NMSVBQSU5HX1BMQU5FUy9nLGUubnVtQ2xpcHBpbmdQbGFuZXMtZS5udW1DbGlwSW50ZXJzZWN0aW9uKX1jb25zdCBVcj0vXlsgXHRdKiNpbmNsdWRlICs8KFtcd1xkLi9dKyk+L2dtO2Z1bmN0aW9uIGtyKHQpe3JldHVybiB0LnJlcGxhY2UoVXIsVnIpfWZ1bmN0aW9uIFZyKHQsZSl7Y29uc3Qgbj1oaVtlXTtpZih2b2lkIDA9PT1uKXRocm93IG5ldyBFcnJvcigiQ2FuIG5vdCByZXNvbHZlICNpbmNsdWRlIDwiK2UrIj4iKTtyZXR1cm4ga3Iobil9Y29uc3QgV3I9LyNwcmFnbWEgdW5yb2xsX2xvb3BbXHNdKz9mb3IgXCggaW50IGkgXD0gKFxkKylcOyBpIDwgKFxkKylcOyBpIFwrXCsgXCkgXHsoW1xzXFNdKz8pKD89XH0pXH0vZyxqcj0vI3ByYWdtYSB1bnJvbGxfbG9vcF9zdGFydFxzK2ZvclxzKlwoXHMqaW50XHMraVxzKj1ccyooXGQrKVxzKjtccyppXHMqPFxzKihcZCspXHMqO1xzKmlccypcK1wrXHMqXClccyp7KFtcc1xTXSs/KX1ccysjcHJhZ21hIHVucm9sbF9sb29wX2VuZC9nO2Z1bmN0aW9uIHFyKHQpe3JldHVybiB0LnJlcGxhY2UoanIsWXIpLnJlcGxhY2UoV3IsWHIpfWZ1bmN0aW9uIFhyKHQsZSxuLGkpe3JldHVybiBjb25zb2xlLndhcm4oIldlYkdMUHJvZ3JhbTogI3ByYWdtYSB1bnJvbGxfbG9vcCBzaGFkZXIgc3ludGF4IGlzIGRlcHJlY2F0ZWQuIFBsZWFzZSB1c2UgI3ByYWdtYSB1bnJvbGxfbG9vcF9zdGFydCBzeW50YXggaW5zdGVhZC4iKSxZcih0LGUsbixpKX1mdW5jdGlvbiBZcih0LGUsbixpKXtsZXQgcj0iIjtmb3IobGV0IHQ9cGFyc2VJbnQoZSk7dDxwYXJzZUludChuKTt0Kyspcis9aS5yZXBsYWNlKC9cW1xzKmlccypcXS9nLCJbICIrdCsiIF0iKS5yZXBsYWNlKC9VTlJPTExFRF9MT09QX0lOREVYL2csdCk7cmV0dXJuIHJ9ZnVuY3Rpb24gWnIodCl7bGV0IGU9InByZWNpc2lvbiAiK3QucHJlY2lzaW9uKyIgZmxvYXQ7XG5wcmVjaXNpb24gIit0LnByZWNpc2lvbisiIGludDsiO3JldHVybiJoaWdocCI9PT10LnByZWNpc2lvbj9lKz0iXG4jZGVmaW5lIEhJR0hfUFJFQ0lTSU9OIjoibWVkaXVtcCI9PT10LnByZWNpc2lvbj9lKz0iXG4jZGVmaW5lIE1FRElVTV9QUkVDSVNJT04iOiJsb3dwIj09PXQucHJlY2lzaW9uJiYoZSs9IlxuI2RlZmluZSBMT1dfUFJFQ0lTSU9OIiksZX1mdW5jdGlvbiBKcih0LGUsbixpKXtjb25zdCBhPXQuZ2V0Q29udGV4dCgpLG89bi5kZWZpbmVzO2xldCBoPW4udmVydGV4U2hhZGVyLHU9bi5mcmFnbWVudFNoYWRlcjtjb25zdCBkPWZ1bmN0aW9uKHQpe2xldCBlPSJTSEFET1dNQVBfVFlQRV9CQVNJQyI7cmV0dXJuIDE9PT10LnNoYWRvd01hcFR5cGU/ZT0iU0hBRE9XTUFQX1RZUEVfUENGIjoyPT09dC5zaGFkb3dNYXBUeXBlP2U9IlNIQURPV01BUF9UWVBFX1BDRl9TT0ZUIjozPT09dC5zaGFkb3dNYXBUeXBlJiYoZT0iU0hBRE9XTUFQX1RZUEVfVlNNIiksZX0obikscD1mdW5jdGlvbih0KXtsZXQgZT0iRU5WTUFQX1RZUEVfQ1VCRSI7aWYodC5lbnZNYXApc3dpdGNoKHQuZW52TWFwTW9kZSl7Y2FzZSByOmNhc2UgczplPSJFTlZNQVBfVFlQRV9DVUJFIjticmVhaztjYXNlIGw6Y2FzZSBjOmU9IkVOVk1BUF9UWVBFX0NVQkVfVVYifXJldHVybiBlfShuKSxtPWZ1bmN0aW9uKHQpe2xldCBlPSJFTlZNQVBfTU9ERV9SRUZMRUNUSU9OIjtpZih0LmVudk1hcClzd2l0Y2godC5lbnZNYXBNb2RlKXtjYXNlIHM6Y2FzZSBjOmU9IkVOVk1BUF9NT0RFX1JFRlJBQ1RJT04ifXJldHVybiBlfShuKSxmPWZ1bmN0aW9uKHQpe2xldCBlPSJFTlZNQVBfQkxFTkRJTkdfTk9ORSI7aWYodC5lbnZNYXApc3dpdGNoKHQuY29tYmluZSl7Y2FzZSAwOmU9IkVOVk1BUF9CTEVORElOR19NVUxUSVBMWSI7YnJlYWs7Y2FzZSAxOmU9IkVOVk1BUF9CTEVORElOR19NSVgiO2JyZWFrO2Nhc2UgMjplPSJFTlZNQVBfQkxFTkRJTkdfQUREIn1yZXR1cm4gZX0obiksZz10LmdhbW1hRmFjdG9yPjA/dC5nYW1tYUZhY3RvcjoxLHY9bi5pc1dlYkdMMj8iIjpmdW5jdGlvbih0KXtyZXR1cm5bdC5leHRlbnNpb25EZXJpdmF0aXZlc3x8dC5lbnZNYXBDdWJlVVZ8fHQuYnVtcE1hcHx8dC50YW5nZW50U3BhY2VOb3JtYWxNYXB8fHQuY2xlYXJjb2F0Tm9ybWFsTWFwfHx0LmZsYXRTaGFkaW5nfHwicGh5c2ljYWwiPT09dC5zaGFkZXJJRD8iI2V4dGVuc2lvbiBHTF9PRVNfc3RhbmRhcmRfZGVyaXZhdGl2ZXMgOiBlbmFibGUiOiIiLCh0LmV4dGVuc2lvbkZyYWdEZXB0aHx8dC5sb2dhcml0aG1pY0RlcHRoQnVmZmVyKSYmdC5yZW5kZXJlckV4dGVuc2lvbkZyYWdEZXB0aD8iI2V4dGVuc2lvbiBHTF9FWFRfZnJhZ19kZXB0aCA6IGVuYWJsZSI6IiIsdC5leHRlbnNpb25EcmF3QnVmZmVycyYmdC5yZW5kZXJlckV4dGVuc2lvbkRyYXdCdWZmZXJzPyIjZXh0ZW5zaW9uIEdMX0VYVF9kcmF3X2J1ZmZlcnMgOiByZXF1aXJlIjoiIiwodC5leHRlbnNpb25TaGFkZXJUZXh0dXJlTE9EfHx0LmVudk1hcCkmJnQucmVuZGVyZXJFeHRlbnNpb25TaGFkZXJUZXh0dXJlTG9kPyIjZXh0ZW5zaW9uIEdMX0VYVF9zaGFkZXJfdGV4dHVyZV9sb2QgOiBlbmFibGUiOiIiXS5maWx0ZXIoT3IpLmpvaW4oIlxuIil9KG4pLHk9ZnVuY3Rpb24odCl7Y29uc3QgZT1bXTtmb3IoY29uc3QgbiBpbiB0KXtjb25zdCBpPXRbbl07ITEhPT1pJiZlLnB1c2goIiNkZWZpbmUgIituKyIgIitpKX1yZXR1cm4gZS5qb2luKCJcbiIpfShvKSx4PWEuY3JlYXRlUHJvZ3JhbSgpO2xldCBfLHcsYj1uLmdsc2xWZXJzaW9uPyIjdmVyc2lvbiAiK24uZ2xzbFZlcnNpb24rIlxuIjoiIjtuLmlzUmF3U2hhZGVyTWF0ZXJpYWw/KF89W3ldLmZpbHRlcihPcikuam9pbigiXG4iKSxfLmxlbmd0aD4wJiYoXys9IlxuIiksdz1bdix5XS5maWx0ZXIoT3IpLmpvaW4oIlxuIiksdy5sZW5ndGg+MCYmKHcrPSJcbiIpKTooXz1bWnIobiksIiNkZWZpbmUgU0hBREVSX05BTUUgIituLnNoYWRlck5hbWUseSxuLmluc3RhbmNpbmc/IiNkZWZpbmUgVVNFX0lOU1RBTkNJTkciOiIiLG4uaW5zdGFuY2luZ0NvbG9yPyIjZGVmaW5lIFVTRV9JTlNUQU5DSU5HX0NPTE9SIjoiIixuLnN1cHBvcnRzVmVydGV4VGV4dHVyZXM/IiNkZWZpbmUgVkVSVEVYX1RFWFRVUkVTIjoiIiwiI2RlZmluZSBHQU1NQV9GQUNUT1IgIitnLCIjZGVmaW5lIE1BWF9CT05FUyAiK24ubWF4Qm9uZXMsbi51c2VGb2cmJm4uZm9nPyIjZGVmaW5lIFVTRV9GT0ciOiIiLG4udXNlRm9nJiZuLmZvZ0V4cDI/IiNkZWZpbmUgRk9HX0VYUDIiOiIiLG4ubWFwPyIjZGVmaW5lIFVTRV9NQVAiOiIiLG4uZW52TWFwPyIjZGVmaW5lIFVTRV9FTlZNQVAiOiIiLG4uZW52TWFwPyIjZGVmaW5lICIrbToiIixuLmxpZ2h0TWFwPyIjZGVmaW5lIFVTRV9MSUdIVE1BUCI6IiIsbi5hb01hcD8iI2RlZmluZSBVU0VfQU9NQVAiOiIiLG4uZW1pc3NpdmVNYXA/IiNkZWZpbmUgVVNFX0VNSVNTSVZFTUFQIjoiIixuLmJ1bXBNYXA/IiNkZWZpbmUgVVNFX0JVTVBNQVAiOiIiLG4ubm9ybWFsTWFwPyIjZGVmaW5lIFVTRV9OT1JNQUxNQVAiOiIiLG4ubm9ybWFsTWFwJiZuLm9iamVjdFNwYWNlTm9ybWFsTWFwPyIjZGVmaW5lIE9CSkVDVFNQQUNFX05PUk1BTE1BUCI6IiIsbi5ub3JtYWxNYXAmJm4udGFuZ2VudFNwYWNlTm9ybWFsTWFwPyIjZGVmaW5lIFRBTkdFTlRTUEFDRV9OT1JNQUxNQVAiOiIiLG4uY2xlYXJjb2F0TWFwPyIjZGVmaW5lIFVTRV9DTEVBUkNPQVRNQVAiOiIiLG4uY2xlYXJjb2F0Um91Z2huZXNzTWFwPyIjZGVmaW5lIFVTRV9DTEVBUkNPQVRfUk9VR0hORVNTTUFQIjoiIixuLmNsZWFyY29hdE5vcm1hbE1hcD8iI2RlZmluZSBVU0VfQ0xFQVJDT0FUX05PUk1BTE1BUCI6IiIsbi5kaXNwbGFjZW1lbnRNYXAmJm4uc3VwcG9ydHNWZXJ0ZXhUZXh0dXJlcz8iI2RlZmluZSBVU0VfRElTUExBQ0VNRU5UTUFQIjoiIixuLnNwZWN1bGFyTWFwPyIjZGVmaW5lIFVTRV9TUEVDVUxBUk1BUCI6IiIsbi5yb3VnaG5lc3NNYXA/IiNkZWZpbmUgVVNFX1JPVUdITkVTU01BUCI6IiIsbi5tZXRhbG5lc3NNYXA/IiNkZWZpbmUgVVNFX01FVEFMTkVTU01BUCI6IiIsbi5hbHBoYU1hcD8iI2RlZmluZSBVU0VfQUxQSEFNQVAiOiIiLG4udHJhbnNtaXNzaW9uTWFwPyIjZGVmaW5lIFVTRV9UUkFOU01JU1NJT05NQVAiOiIiLG4udmVydGV4VGFuZ2VudHM/IiNkZWZpbmUgVVNFX1RBTkdFTlQiOiIiLG4udmVydGV4Q29sb3JzPyIjZGVmaW5lIFVTRV9DT0xPUiI6IiIsbi52ZXJ0ZXhBbHBoYXM/IiNkZWZpbmUgVVNFX0NPTE9SX0FMUEhBIjoiIixuLnZlcnRleFV2cz8iI2RlZmluZSBVU0VfVVYiOiIiLG4udXZzVmVydGV4T25seT8iI2RlZmluZSBVVlNfVkVSVEVYX09OTFkiOiIiLG4uZmxhdFNoYWRpbmc/IiNkZWZpbmUgRkxBVF9TSEFERUQiOiIiLG4uc2tpbm5pbmc/IiNkZWZpbmUgVVNFX1NLSU5OSU5HIjoiIixuLnVzZVZlcnRleFRleHR1cmU/IiNkZWZpbmUgQk9ORV9URVhUVVJFIjoiIixuLm1vcnBoVGFyZ2V0cz8iI2RlZmluZSBVU0VfTU9SUEhUQVJHRVRTIjoiIixuLm1vcnBoTm9ybWFscyYmITE9PT1uLmZsYXRTaGFkaW5nPyIjZGVmaW5lIFVTRV9NT1JQSE5PUk1BTFMiOiIiLG4uZG91YmxlU2lkZWQ/IiNkZWZpbmUgRE9VQkxFX1NJREVEIjoiIixuLmZsaXBTaWRlZD8iI2RlZmluZSBGTElQX1NJREVEIjoiIixuLnNoYWRvd01hcEVuYWJsZWQ/IiNkZWZpbmUgVVNFX1NIQURPV01BUCI6IiIsbi5zaGFkb3dNYXBFbmFibGVkPyIjZGVmaW5lICIrZDoiIixuLnNpemVBdHRlbnVhdGlvbj8iI2RlZmluZSBVU0VfU0laRUFUVEVOVUFUSU9OIjoiIixuLmxvZ2FyaXRobWljRGVwdGhCdWZmZXI/IiNkZWZpbmUgVVNFX0xPR0RFUFRIQlVGIjoiIixuLmxvZ2FyaXRobWljRGVwdGhCdWZmZXImJm4ucmVuZGVyZXJFeHRlbnNpb25GcmFnRGVwdGg/IiNkZWZpbmUgVVNFX0xPR0RFUFRIQlVGX0VYVCI6IiIsInVuaWZvcm0gbWF0NCBtb2RlbE1hdHJpeDsiLCJ1bmlmb3JtIG1hdDQgbW9kZWxWaWV3TWF0cml4OyIsInVuaWZvcm0gbWF0NCBwcm9qZWN0aW9uTWF0cml4OyIsInVuaWZvcm0gbWF0NCB2aWV3TWF0cml4OyIsInVuaWZvcm0gbWF0MyBub3JtYWxNYXRyaXg7IiwidW5pZm9ybSB2ZWMzIGNhbWVyYVBvc2l0aW9uOyIsInVuaWZvcm0gYm9vbCBpc09ydGhvZ3JhcGhpYzsiLCIjaWZkZWYgVVNFX0lOU1RBTkNJTkciLCJcdGF0dHJpYnV0ZSBtYXQ0IGluc3RhbmNlTWF0cml4OyIsIiNlbmRpZiIsIiNpZmRlZiBVU0VfSU5TVEFOQ0lOR19DT0xPUiIsIlx0YXR0cmlidXRlIHZlYzMgaW5zdGFuY2VDb2xvcjsiLCIjZW5kaWYiLCJhdHRyaWJ1dGUgdmVjMyBwb3NpdGlvbjsiLCJhdHRyaWJ1dGUgdmVjMyBub3JtYWw7IiwiYXR0cmlidXRlIHZlYzIgdXY7IiwiI2lmZGVmIFVTRV9UQU5HRU5UIiwiXHRhdHRyaWJ1dGUgdmVjNCB0YW5nZW50OyIsIiNlbmRpZiIsIiNpZiBkZWZpbmVkKCBVU0VfQ09MT1JfQUxQSEEgKSIsIlx0YXR0cmlidXRlIHZlYzQgY29sb3I7IiwiI2VsaWYgZGVmaW5lZCggVVNFX0NPTE9SICkiLCJcdGF0dHJpYnV0ZSB2ZWMzIGNvbG9yOyIsIiNlbmRpZiIsIiNpZmRlZiBVU0VfTU9SUEhUQVJHRVRTIiwiXHRhdHRyaWJ1dGUgdmVjMyBtb3JwaFRhcmdldDA7IiwiXHRhdHRyaWJ1dGUgdmVjMyBtb3JwaFRhcmdldDE7IiwiXHRhdHRyaWJ1dGUgdmVjMyBtb3JwaFRhcmdldDI7IiwiXHRhdHRyaWJ1dGUgdmVjMyBtb3JwaFRhcmdldDM7IiwiXHQjaWZkZWYgVVNFX01PUlBITk9STUFMUyIsIlx0XHRhdHRyaWJ1dGUgdmVjMyBtb3JwaE5vcm1hbDA7IiwiXHRcdGF0dHJpYnV0ZSB2ZWMzIG1vcnBoTm9ybWFsMTsiLCJcdFx0YXR0cmlidXRlIHZlYzMgbW9ycGhOb3JtYWwyOyIsIlx0XHRhdHRyaWJ1dGUgdmVjMyBtb3JwaE5vcm1hbDM7IiwiXHQjZWxzZSIsIlx0XHRhdHRyaWJ1dGUgdmVjMyBtb3JwaFRhcmdldDQ7IiwiXHRcdGF0dHJpYnV0ZSB2ZWMzIG1vcnBoVGFyZ2V0NTsiLCJcdFx0YXR0cmlidXRlIHZlYzMgbW9ycGhUYXJnZXQ2OyIsIlx0XHRhdHRyaWJ1dGUgdmVjMyBtb3JwaFRhcmdldDc7IiwiXHQjZW5kaWYiLCIjZW5kaWYiLCIjaWZkZWYgVVNFX1NLSU5OSU5HIiwiXHRhdHRyaWJ1dGUgdmVjNCBza2luSW5kZXg7IiwiXHRhdHRyaWJ1dGUgdmVjNCBza2luV2VpZ2h0OyIsIiNlbmRpZiIsIlxuIl0uZmlsdGVyKE9yKS5qb2luKCJcbiIpLHc9W3YsWnIobiksIiNkZWZpbmUgU0hBREVSX05BTUUgIituLnNoYWRlck5hbWUseSxuLmFscGhhVGVzdD8iI2RlZmluZSBBTFBIQVRFU1QgIituLmFscGhhVGVzdCsobi5hbHBoYVRlc3QlMT8iIjoiLjAiKToiIiwiI2RlZmluZSBHQU1NQV9GQUNUT1IgIitnLG4udXNlRm9nJiZuLmZvZz8iI2RlZmluZSBVU0VfRk9HIjoiIixuLnVzZUZvZyYmbi5mb2dFeHAyPyIjZGVmaW5lIEZPR19FWFAyIjoiIixuLm1hcD8iI2RlZmluZSBVU0VfTUFQIjoiIixuLm1hdGNhcD8iI2RlZmluZSBVU0VfTUFUQ0FQIjoiIixuLmVudk1hcD8iI2RlZmluZSBVU0VfRU5WTUFQIjoiIixuLmVudk1hcD8iI2RlZmluZSAiK3A6IiIsbi5lbnZNYXA/IiNkZWZpbmUgIittOiIiLG4uZW52TWFwPyIjZGVmaW5lICIrZjoiIixuLmxpZ2h0TWFwPyIjZGVmaW5lIFVTRV9MSUdIVE1BUCI6IiIsbi5hb01hcD8iI2RlZmluZSBVU0VfQU9NQVAiOiIiLG4uZW1pc3NpdmVNYXA/IiNkZWZpbmUgVVNFX0VNSVNTSVZFTUFQIjoiIixuLmJ1bXBNYXA/IiNkZWZpbmUgVVNFX0JVTVBNQVAiOiIiLG4ubm9ybWFsTWFwPyIjZGVmaW5lIFVTRV9OT1JNQUxNQVAiOiIiLG4ubm9ybWFsTWFwJiZuLm9iamVjdFNwYWNlTm9ybWFsTWFwPyIjZGVmaW5lIE9CSkVDVFNQQUNFX05PUk1BTE1BUCI6IiIsbi5ub3JtYWxNYXAmJm4udGFuZ2VudFNwYWNlTm9ybWFsTWFwPyIjZGVmaW5lIFRBTkdFTlRTUEFDRV9OT1JNQUxNQVAiOiIiLG4uY2xlYXJjb2F0TWFwPyIjZGVmaW5lIFVTRV9DTEVBUkNPQVRNQVAiOiIiLG4uY2xlYXJjb2F0Um91Z2huZXNzTWFwPyIjZGVmaW5lIFVTRV9DTEVBUkNPQVRfUk9VR0hORVNTTUFQIjoiIixuLmNsZWFyY29hdE5vcm1hbE1hcD8iI2RlZmluZSBVU0VfQ0xFQVJDT0FUX05PUk1BTE1BUCI6IiIsbi5zcGVjdWxhck1hcD8iI2RlZmluZSBVU0VfU1BFQ1VMQVJNQVAiOiIiLG4ucm91Z2huZXNzTWFwPyIjZGVmaW5lIFVTRV9ST1VHSE5FU1NNQVAiOiIiLG4ubWV0YWxuZXNzTWFwPyIjZGVmaW5lIFVTRV9NRVRBTE5FU1NNQVAiOiIiLG4uYWxwaGFNYXA/IiNkZWZpbmUgVVNFX0FMUEhBTUFQIjoiIixuLnNoZWVuPyIjZGVmaW5lIFVTRV9TSEVFTiI6IiIsbi50cmFuc21pc3Npb25NYXA/IiNkZWZpbmUgVVNFX1RSQU5TTUlTU0lPTk1BUCI6IiIsbi52ZXJ0ZXhUYW5nZW50cz8iI2RlZmluZSBVU0VfVEFOR0VOVCI6IiIsbi52ZXJ0ZXhDb2xvcnN8fG4uaW5zdGFuY2luZ0NvbG9yPyIjZGVmaW5lIFVTRV9DT0xPUiI6IiIsbi52ZXJ0ZXhBbHBoYXM/IiNkZWZpbmUgVVNFX0NPTE9SX0FMUEhBIjoiIixuLnZlcnRleFV2cz8iI2RlZmluZSBVU0VfVVYiOiIiLG4udXZzVmVydGV4T25seT8iI2RlZmluZSBVVlNfVkVSVEVYX09OTFkiOiIiLG4uZ3JhZGllbnRNYXA/IiNkZWZpbmUgVVNFX0dSQURJRU5UTUFQIjoiIixuLmZsYXRTaGFkaW5nPyIjZGVmaW5lIEZMQVRfU0hBREVEIjoiIixuLmRvdWJsZVNpZGVkPyIjZGVmaW5lIERPVUJMRV9TSURFRCI6IiIsbi5mbGlwU2lkZWQ/IiNkZWZpbmUgRkxJUF9TSURFRCI6IiIsbi5zaGFkb3dNYXBFbmFibGVkPyIjZGVmaW5lIFVTRV9TSEFET1dNQVAiOiIiLG4uc2hhZG93TWFwRW5hYmxlZD8iI2RlZmluZSAiK2Q6IiIsbi5wcmVtdWx0aXBsaWVkQWxwaGE/IiNkZWZpbmUgUFJFTVVMVElQTElFRF9BTFBIQSI6IiIsbi5waHlzaWNhbGx5Q29ycmVjdExpZ2h0cz8iI2RlZmluZSBQSFlTSUNBTExZX0NPUlJFQ1RfTElHSFRTIjoiIixuLmxvZ2FyaXRobWljRGVwdGhCdWZmZXI/IiNkZWZpbmUgVVNFX0xPR0RFUFRIQlVGIjoiIixuLmxvZ2FyaXRobWljRGVwdGhCdWZmZXImJm4ucmVuZGVyZXJFeHRlbnNpb25GcmFnRGVwdGg/IiNkZWZpbmUgVVNFX0xPR0RFUFRIQlVGX0VYVCI6IiIsKG4uZXh0ZW5zaW9uU2hhZGVyVGV4dHVyZUxPRHx8bi5lbnZNYXApJiZuLnJlbmRlcmVyRXh0ZW5zaW9uU2hhZGVyVGV4dHVyZUxvZD8iI2RlZmluZSBURVhUVVJFX0xPRF9FWFQiOiIiLCJ1bmlmb3JtIG1hdDQgdmlld01hdHJpeDsiLCJ1bmlmb3JtIHZlYzMgY2FtZXJhUG9zaXRpb247IiwidW5pZm9ybSBib29sIGlzT3J0aG9ncmFwaGljOyIsMCE9PW4udG9uZU1hcHBpbmc/IiNkZWZpbmUgVE9ORV9NQVBQSU5HIjoiIiwwIT09bi50b25lTWFwcGluZz9oaS50b25lbWFwcGluZ19wYXJzX2ZyYWdtZW50OiIiLDAhPT1uLnRvbmVNYXBwaW5nP0ZyKCJ0b25lTWFwcGluZyIsbi50b25lTWFwcGluZyk6IiIsbi5kaXRoZXJpbmc/IiNkZWZpbmUgRElUSEVSSU5HIjoiIixoaS5lbmNvZGluZ3NfcGFyc19mcmFnbWVudCxuLm1hcD9CcigibWFwVGV4ZWxUb0xpbmVhciIsbi5tYXBFbmNvZGluZyk6IiIsbi5tYXRjYXA/QnIoIm1hdGNhcFRleGVsVG9MaW5lYXIiLG4ubWF0Y2FwRW5jb2RpbmcpOiIiLG4uZW52TWFwP0JyKCJlbnZNYXBUZXhlbFRvTGluZWFyIixuLmVudk1hcEVuY29kaW5nKToiIixuLmVtaXNzaXZlTWFwP0JyKCJlbWlzc2l2ZU1hcFRleGVsVG9MaW5lYXIiLG4uZW1pc3NpdmVNYXBFbmNvZGluZyk6IiIsbi5saWdodE1hcD9CcigibGlnaHRNYXBUZXhlbFRvTGluZWFyIixuLmxpZ2h0TWFwRW5jb2RpbmcpOiIiLHpyKCJsaW5lYXJUb091dHB1dFRleGVsIixuLm91dHB1dEVuY29kaW5nKSxuLmRlcHRoUGFja2luZz8iI2RlZmluZSBERVBUSF9QQUNLSU5HICIrbi5kZXB0aFBhY2tpbmc6IiIsIlxuIl0uZmlsdGVyKE9yKS5qb2luKCJcbiIpKSxoPWtyKGgpLGg9SHIoaCxuKSxoPUdyKGgsbiksdT1rcih1KSx1PUhyKHUsbiksdT1Hcih1LG4pLGg9cXIoaCksdT1xcih1KSxuLmlzV2ViR0wyJiYhMCE9PW4uaXNSYXdTaGFkZXJNYXRlcmlhbCYmKGI9IiN2ZXJzaW9uIDMwMCBlc1xuIixfPVsiI2RlZmluZSBhdHRyaWJ1dGUgaW4iLCIjZGVmaW5lIHZhcnlpbmcgb3V0IiwiI2RlZmluZSB0ZXh0dXJlMkQgdGV4dHVyZSJdLmpvaW4oIlxuIikrIlxuIitfLHc9WyIjZGVmaW5lIHZhcnlpbmcgaW4iLG4uZ2xzbFZlcnNpb249PT1pdD8iIjoib3V0IGhpZ2hwIHZlYzQgcGNfZnJhZ0NvbG9yOyIsbi5nbHNsVmVyc2lvbj09PWl0PyIiOiIjZGVmaW5lIGdsX0ZyYWdDb2xvciBwY19mcmFnQ29sb3IiLCIjZGVmaW5lIGdsX0ZyYWdEZXB0aEVYVCBnbF9GcmFnRGVwdGgiLCIjZGVmaW5lIHRleHR1cmUyRCB0ZXh0dXJlIiwiI2RlZmluZSB0ZXh0dXJlQ3ViZSB0ZXh0dXJlIiwiI2RlZmluZSB0ZXh0dXJlMkRQcm9qIHRleHR1cmVQcm9qIiwiI2RlZmluZSB0ZXh0dXJlMkRMb2RFWFQgdGV4dHVyZUxvZCIsIiNkZWZpbmUgdGV4dHVyZTJEUHJvakxvZEVYVCB0ZXh0dXJlUHJvakxvZCIsIiNkZWZpbmUgdGV4dHVyZUN1YmVMb2RFWFQgdGV4dHVyZUxvZCIsIiNkZWZpbmUgdGV4dHVyZTJER3JhZEVYVCB0ZXh0dXJlR3JhZCIsIiNkZWZpbmUgdGV4dHVyZTJEUHJvakdyYWRFWFQgdGV4dHVyZVByb2pHcmFkIiwiI2RlZmluZSB0ZXh0dXJlQ3ViZUdyYWRFWFQgdGV4dHVyZUdyYWQiXS5qb2luKCJcbiIpKyJcbiIrdyk7Y29uc3QgTT1iK3crdSxTPVByKGEsMzU2MzMsYitfK2gpLFQ9UHIoYSwzNTYzMixNKTtpZihhLmF0dGFjaFNoYWRlcih4LFMpLGEuYXR0YWNoU2hhZGVyKHgsVCksdm9pZCAwIT09bi5pbmRleDBBdHRyaWJ1dGVOYW1lP2EuYmluZEF0dHJpYkxvY2F0aW9uKHgsMCxuLmluZGV4MEF0dHJpYnV0ZU5hbWUpOiEwPT09bi5tb3JwaFRhcmdldHMmJmEuYmluZEF0dHJpYkxvY2F0aW9uKHgsMCwicG9zaXRpb24iKSxhLmxpbmtQcm9ncmFtKHgpLHQuZGVidWcuY2hlY2tTaGFkZXJFcnJvcnMpe2NvbnN0IHQ9YS5nZXRQcm9ncmFtSW5mb0xvZyh4KS50cmltKCksZT1hLmdldFNoYWRlckluZm9Mb2coUykudHJpbSgpLG49YS5nZXRTaGFkZXJJbmZvTG9nKFQpLnRyaW0oKTtsZXQgaT0hMCxyPSEwO2lmKCExPT09YS5nZXRQcm9ncmFtUGFyYW1ldGVyKHgsMzU3MTQpKXtpPSExO2NvbnN0IGU9TnIoYSxTLCJ2ZXJ0ZXgiKSxuPU5yKGEsVCwiZnJhZ21lbnQiKTtjb25zb2xlLmVycm9yKCJUSFJFRS5XZWJHTFByb2dyYW06IHNoYWRlciBlcnJvcjogIixhLmdldEVycm9yKCksIjM1NzE1IixhLmdldFByb2dyYW1QYXJhbWV0ZXIoeCwzNTcxNSksImdsLmdldFByb2dyYW1JbmZvTG9nIix0LGUsbil9ZWxzZSIiIT09dD9jb25zb2xlLndhcm4oIlRIUkVFLldlYkdMUHJvZ3JhbTogZ2wuZ2V0UHJvZ3JhbUluZm9Mb2coKSIsdCk6IiIhPT1lJiYiIiE9PW58fChyPSExKTtyJiYodGhpcy5kaWFnbm9zdGljcz17cnVubmFibGU6aSxwcm9ncmFtTG9nOnQsdmVydGV4U2hhZGVyOntsb2c6ZSxwcmVmaXg6X30sZnJhZ21lbnRTaGFkZXI6e2xvZzpuLHByZWZpeDp3fX0pfWxldCBFLEE7cmV0dXJuIGEuZGVsZXRlU2hhZGVyKFMpLGEuZGVsZXRlU2hhZGVyKFQpLHRoaXMuZ2V0VW5pZm9ybXM9ZnVuY3Rpb24oKXtyZXR1cm4gdm9pZCAwPT09RSYmKEU9bmV3IENyKGEseCkpLEV9LHRoaXMuZ2V0QXR0cmlidXRlcz1mdW5jdGlvbigpe3JldHVybiB2b2lkIDA9PT1BJiYoQT1mdW5jdGlvbih0LGUpe2NvbnN0IG49e30saT10LmdldFByb2dyYW1QYXJhbWV0ZXIoZSwzNTcyMSk7Zm9yKGxldCByPTA7cjxpO3IrKyl7Y29uc3QgaT10LmdldEFjdGl2ZUF0dHJpYihlLHIpLm5hbWU7bltpXT10LmdldEF0dHJpYkxvY2F0aW9uKGUsaSl9cmV0dXJuIG59KGEseCkpLEF9LHRoaXMuZGVzdHJveT1mdW5jdGlvbigpe2kucmVsZWFzZVN0YXRlc09mUHJvZ3JhbSh0aGlzKSxhLmRlbGV0ZVByb2dyYW0oeCksdGhpcy5wcm9ncmFtPXZvaWQgMH0sdGhpcy5uYW1lPW4uc2hhZGVyTmFtZSx0aGlzLmlkPURyKyssdGhpcy5jYWNoZUtleT1lLHRoaXMudXNlZFRpbWVzPTEsdGhpcy5wcm9ncmFtPXgsdGhpcy52ZXJ0ZXhTaGFkZXI9Uyx0aGlzLmZyYWdtZW50U2hhZGVyPVQsdGhpc31mdW5jdGlvbiBRcih0LGUsbixpLHIscyl7Y29uc3QgYT1bXSxvPWkuaXNXZWJHTDIsaD1pLmxvZ2FyaXRobWljRGVwdGhCdWZmZXIsdT1pLmZsb2F0VmVydGV4VGV4dHVyZXMsZD1pLm1heFZlcnRleFVuaWZvcm1zLHA9aS52ZXJ0ZXhUZXh0dXJlcztsZXQgbT1pLnByZWNpc2lvbjtjb25zdCBmPXtNZXNoRGVwdGhNYXRlcmlhbDoiZGVwdGgiLE1lc2hEaXN0YW5jZU1hdGVyaWFsOiJkaXN0YW5jZVJHQkEiLE1lc2hOb3JtYWxNYXRlcmlhbDoibm9ybWFsIixNZXNoQmFzaWNNYXRlcmlhbDoiYmFzaWMiLE1lc2hMYW1iZXJ0TWF0ZXJpYWw6ImxhbWJlcnQiLE1lc2hQaG9uZ01hdGVyaWFsOiJwaG9uZyIsTWVzaFRvb25NYXRlcmlhbDoidG9vbiIsTWVzaFN0YW5kYXJkTWF0ZXJpYWw6InBoeXNpY2FsIixNZXNoUGh5c2ljYWxNYXRlcmlhbDoicGh5c2ljYWwiLE1lc2hNYXRjYXBNYXRlcmlhbDoibWF0Y2FwIixMaW5lQmFzaWNNYXRlcmlhbDoiYmFzaWMiLExpbmVEYXNoZWRNYXRlcmlhbDoiZGFzaGVkIixQb2ludHNNYXRlcmlhbDoicG9pbnRzIixTaGFkb3dNYXRlcmlhbDoic2hhZG93IixTcHJpdGVNYXRlcmlhbDoic3ByaXRlIn0sZz1bInByZWNpc2lvbiIsImlzV2ViR0wyIiwic3VwcG9ydHNWZXJ0ZXhUZXh0dXJlcyIsIm91dHB1dEVuY29kaW5nIiwiaW5zdGFuY2luZyIsImluc3RhbmNpbmdDb2xvciIsIm1hcCIsIm1hcEVuY29kaW5nIiwibWF0Y2FwIiwibWF0Y2FwRW5jb2RpbmciLCJlbnZNYXAiLCJlbnZNYXBNb2RlIiwiZW52TWFwRW5jb2RpbmciLCJlbnZNYXBDdWJlVVYiLCJsaWdodE1hcCIsImxpZ2h0TWFwRW5jb2RpbmciLCJhb01hcCIsImVtaXNzaXZlTWFwIiwiZW1pc3NpdmVNYXBFbmNvZGluZyIsImJ1bXBNYXAiLCJub3JtYWxNYXAiLCJvYmplY3RTcGFjZU5vcm1hbE1hcCIsInRhbmdlbnRTcGFjZU5vcm1hbE1hcCIsImNsZWFyY29hdE1hcCIsImNsZWFyY29hdFJvdWdobmVzc01hcCIsImNsZWFyY29hdE5vcm1hbE1hcCIsImRpc3BsYWNlbWVudE1hcCIsInNwZWN1bGFyTWFwIiwicm91Z2huZXNzTWFwIiwibWV0YWxuZXNzTWFwIiwiZ3JhZGllbnRNYXAiLCJhbHBoYU1hcCIsImNvbWJpbmUiLCJ2ZXJ0ZXhDb2xvcnMiLCJ2ZXJ0ZXhBbHBoYXMiLCJ2ZXJ0ZXhUYW5nZW50cyIsInZlcnRleFV2cyIsInV2c1ZlcnRleE9ubHkiLCJmb2ciLCJ1c2VGb2ciLCJmb2dFeHAyIiwiZmxhdFNoYWRpbmciLCJzaXplQXR0ZW51YXRpb24iLCJsb2dhcml0aG1pY0RlcHRoQnVmZmVyIiwic2tpbm5pbmciLCJtYXhCb25lcyIsInVzZVZlcnRleFRleHR1cmUiLCJtb3JwaFRhcmdldHMiLCJtb3JwaE5vcm1hbHMiLCJwcmVtdWx0aXBsaWVkQWxwaGEiLCJudW1EaXJMaWdodHMiLCJudW1Qb2ludExpZ2h0cyIsIm51bVNwb3RMaWdodHMiLCJudW1IZW1pTGlnaHRzIiwibnVtUmVjdEFyZWFMaWdodHMiLCJudW1EaXJMaWdodFNoYWRvd3MiLCJudW1Qb2ludExpZ2h0U2hhZG93cyIsIm51bVNwb3RMaWdodFNoYWRvd3MiLCJzaGFkb3dNYXBFbmFibGVkIiwic2hhZG93TWFwVHlwZSIsInRvbmVNYXBwaW5nIiwicGh5c2ljYWxseUNvcnJlY3RMaWdodHMiLCJhbHBoYVRlc3QiLCJkb3VibGVTaWRlZCIsImZsaXBTaWRlZCIsIm51bUNsaXBwaW5nUGxhbmVzIiwibnVtQ2xpcEludGVyc2VjdGlvbiIsImRlcHRoUGFja2luZyIsImRpdGhlcmluZyIsInNoZWVuIiwidHJhbnNtaXNzaW9uTWFwIl07ZnVuY3Rpb24gdih0KXtsZXQgZTtyZXR1cm4gdCYmdC5pc1RleHR1cmU/ZT10LmVuY29kaW5nOnQmJnQuaXNXZWJHTFJlbmRlclRhcmdldD8oY29uc29sZS53YXJuKCJUSFJFRS5XZWJHTFByb2dyYW1zLmdldFRleHR1cmVFbmNvZGluZ0Zyb21NYXA6IGRvbid0IHVzZSByZW5kZXIgdGFyZ2V0cyBhcyB0ZXh0dXJlcy4gVXNlIHRoZWlyIC50ZXh0dXJlIHByb3BlcnR5IGluc3RlYWQuIiksZT10LnRleHR1cmUuZW5jb2RpbmcpOmU9WCxlfXJldHVybntnZXRQYXJhbWV0ZXJzOmZ1bmN0aW9uKHIsYSxnLHkseCl7Y29uc3QgXz15LmZvZyx3PXIuaXNNZXNoU3RhbmRhcmRNYXRlcmlhbD95LmVudmlyb25tZW50Om51bGwsYj1lLmdldChyLmVudk1hcHx8dyksTT1mW3IudHlwZV0sUz14LmlzU2tpbm5lZE1lc2g/ZnVuY3Rpb24odCl7Y29uc3QgZT10LnNrZWxldG9uLmJvbmVzO2lmKHUpcmV0dXJuIDEwMjQ7e2NvbnN0IHQ9ZCxuPU1hdGguZmxvb3IoKHQtMjApLzQpLGk9TWF0aC5taW4obixlLmxlbmd0aCk7cmV0dXJuIGk8ZS5sZW5ndGg/KGNvbnNvbGUud2FybigiVEhSRUUuV2ViR0xSZW5kZXJlcjogU2tlbGV0b24gaGFzICIrZS5sZW5ndGgrIiBib25lcy4gVGhpcyBHUFUgc3VwcG9ydHMgIitpKyIuIiksMCk6aX19KHgpOjA7bGV0IFQsRTtpZihudWxsIT09ci5wcmVjaXNpb24mJihtPWkuZ2V0TWF4UHJlY2lzaW9uKHIucHJlY2lzaW9uKSxtIT09ci5wcmVjaXNpb24mJmNvbnNvbGUud2FybigiVEhSRUUuV2ViR0xQcm9ncmFtLmdldFBhcmFtZXRlcnM6IixyLnByZWNpc2lvbiwibm90IHN1cHBvcnRlZCwgdXNpbmciLG0sImluc3RlYWQuIikpLE0pe2NvbnN0IHQ9ZGlbTV07VD10LnZlcnRleFNoYWRlcixFPXQuZnJhZ21lbnRTaGFkZXJ9ZWxzZSBUPXIudmVydGV4U2hhZGVyLEU9ci5mcmFnbWVudFNoYWRlcjtjb25zdCBBPXQuZ2V0UmVuZGVyVGFyZ2V0KCk7cmV0dXJue2lzV2ViR0wyOm8sc2hhZGVySUQ6TSxzaGFkZXJOYW1lOnIudHlwZSx2ZXJ0ZXhTaGFkZXI6VCxmcmFnbWVudFNoYWRlcjpFLGRlZmluZXM6ci5kZWZpbmVzLGlzUmF3U2hhZGVyTWF0ZXJpYWw6ITA9PT1yLmlzUmF3U2hhZGVyTWF0ZXJpYWwsZ2xzbFZlcnNpb246ci5nbHNsVmVyc2lvbixwcmVjaXNpb246bSxpbnN0YW5jaW5nOiEwPT09eC5pc0luc3RhbmNlZE1lc2gsaW5zdGFuY2luZ0NvbG9yOiEwPT09eC5pc0luc3RhbmNlZE1lc2gmJm51bGwhPT14Lmluc3RhbmNlQ29sb3Isc3VwcG9ydHNWZXJ0ZXhUZXh0dXJlczpwLG91dHB1dEVuY29kaW5nOm51bGwhPT1BP3YoQS50ZXh0dXJlKTp0Lm91dHB1dEVuY29kaW5nLG1hcDohIXIubWFwLG1hcEVuY29kaW5nOnYoci5tYXApLG1hdGNhcDohIXIubWF0Y2FwLG1hdGNhcEVuY29kaW5nOnYoci5tYXRjYXApLGVudk1hcDohIWIsZW52TWFwTW9kZTpiJiZiLm1hcHBpbmcsZW52TWFwRW5jb2Rpbmc6dihiKSxlbnZNYXBDdWJlVVY6ISFiJiYoYi5tYXBwaW5nPT09bHx8Yi5tYXBwaW5nPT09YyksbGlnaHRNYXA6ISFyLmxpZ2h0TWFwLGxpZ2h0TWFwRW5jb2Rpbmc6dihyLmxpZ2h0TWFwKSxhb01hcDohIXIuYW9NYXAsZW1pc3NpdmVNYXA6ISFyLmVtaXNzaXZlTWFwLGVtaXNzaXZlTWFwRW5jb2Rpbmc6dihyLmVtaXNzaXZlTWFwKSxidW1wTWFwOiEhci5idW1wTWFwLG5vcm1hbE1hcDohIXIubm9ybWFsTWFwLG9iamVjdFNwYWNlTm9ybWFsTWFwOjE9PT1yLm5vcm1hbE1hcFR5cGUsdGFuZ2VudFNwYWNlTm9ybWFsTWFwOjA9PT1yLm5vcm1hbE1hcFR5cGUsY2xlYXJjb2F0TWFwOiEhci5jbGVhcmNvYXRNYXAsY2xlYXJjb2F0Um91Z2huZXNzTWFwOiEhci5jbGVhcmNvYXRSb3VnaG5lc3NNYXAsY2xlYXJjb2F0Tm9ybWFsTWFwOiEhci5jbGVhcmNvYXROb3JtYWxNYXAsZGlzcGxhY2VtZW50TWFwOiEhci5kaXNwbGFjZW1lbnRNYXAscm91Z2huZXNzTWFwOiEhci5yb3VnaG5lc3NNYXAsbWV0YWxuZXNzTWFwOiEhci5tZXRhbG5lc3NNYXAsc3BlY3VsYXJNYXA6ISFyLnNwZWN1bGFyTWFwLGFscGhhTWFwOiEhci5hbHBoYU1hcCxncmFkaWVudE1hcDohIXIuZ3JhZGllbnRNYXAsc2hlZW46ISFyLnNoZWVuLHRyYW5zbWlzc2lvbk1hcDohIXIudHJhbnNtaXNzaW9uTWFwLGNvbWJpbmU6ci5jb21iaW5lLHZlcnRleFRhbmdlbnRzOnIubm9ybWFsTWFwJiZyLnZlcnRleFRhbmdlbnRzLHZlcnRleENvbG9yczpyLnZlcnRleENvbG9ycyx2ZXJ0ZXhBbHBoYXM6ITA9PT1yLnZlcnRleENvbG9ycyYmeC5nZW9tZXRyeSYmeC5nZW9tZXRyeS5hdHRyaWJ1dGVzLmNvbG9yJiY0PT09eC5nZW9tZXRyeS5hdHRyaWJ1dGVzLmNvbG9yLml0ZW1TaXplLHZlcnRleFV2czohIShyLm1hcHx8ci5idW1wTWFwfHxyLm5vcm1hbE1hcHx8ci5zcGVjdWxhck1hcHx8ci5hbHBoYU1hcHx8ci5lbWlzc2l2ZU1hcHx8ci5yb3VnaG5lc3NNYXB8fHIubWV0YWxuZXNzTWFwfHxyLmNsZWFyY29hdE1hcHx8ci5jbGVhcmNvYXRSb3VnaG5lc3NNYXB8fHIuY2xlYXJjb2F0Tm9ybWFsTWFwfHxyLmRpc3BsYWNlbWVudE1hcHx8ci50cmFuc21pc3Npb25NYXApLHV2c1ZlcnRleE9ubHk6IShyLm1hcHx8ci5idW1wTWFwfHxyLm5vcm1hbE1hcHx8ci5zcGVjdWxhck1hcHx8ci5hbHBoYU1hcHx8ci5lbWlzc2l2ZU1hcHx8ci5yb3VnaG5lc3NNYXB8fHIubWV0YWxuZXNzTWFwfHxyLmNsZWFyY29hdE5vcm1hbE1hcHx8ci50cmFuc21pc3Npb25NYXB8fCFyLmRpc3BsYWNlbWVudE1hcCksZm9nOiEhXyx1c2VGb2c6ci5mb2csZm9nRXhwMjpfJiZfLmlzRm9nRXhwMixmbGF0U2hhZGluZzohIXIuZmxhdFNoYWRpbmcsc2l6ZUF0dGVudWF0aW9uOnIuc2l6ZUF0dGVudWF0aW9uLGxvZ2FyaXRobWljRGVwdGhCdWZmZXI6aCxza2lubmluZzpyLnNraW5uaW5nJiZTPjAsbWF4Qm9uZXM6Uyx1c2VWZXJ0ZXhUZXh0dXJlOnUsbW9ycGhUYXJnZXRzOnIubW9ycGhUYXJnZXRzLG1vcnBoTm9ybWFsczpyLm1vcnBoTm9ybWFscyxudW1EaXJMaWdodHM6YS5kaXJlY3Rpb25hbC5sZW5ndGgsbnVtUG9pbnRMaWdodHM6YS5wb2ludC5sZW5ndGgsbnVtU3BvdExpZ2h0czphLnNwb3QubGVuZ3RoLG51bVJlY3RBcmVhTGlnaHRzOmEucmVjdEFyZWEubGVuZ3RoLG51bUhlbWlMaWdodHM6YS5oZW1pLmxlbmd0aCxudW1EaXJMaWdodFNoYWRvd3M6YS5kaXJlY3Rpb25hbFNoYWRvd01hcC5sZW5ndGgsbnVtUG9pbnRMaWdodFNoYWRvd3M6YS5wb2ludFNoYWRvd01hcC5sZW5ndGgsbnVtU3BvdExpZ2h0U2hhZG93czphLnNwb3RTaGFkb3dNYXAubGVuZ3RoLG51bUNsaXBwaW5nUGxhbmVzOnMubnVtUGxhbmVzLG51bUNsaXBJbnRlcnNlY3Rpb246cy5udW1JbnRlcnNlY3Rpb24sZGl0aGVyaW5nOnIuZGl0aGVyaW5nLHNoYWRvd01hcEVuYWJsZWQ6dC5zaGFkb3dNYXAuZW5hYmxlZCYmZy5sZW5ndGg+MCxzaGFkb3dNYXBUeXBlOnQuc2hhZG93TWFwLnR5cGUsdG9uZU1hcHBpbmc6ci50b25lTWFwcGVkP3QudG9uZU1hcHBpbmc6MCxwaHlzaWNhbGx5Q29ycmVjdExpZ2h0czp0LnBoeXNpY2FsbHlDb3JyZWN0TGlnaHRzLHByZW11bHRpcGxpZWRBbHBoYTpyLnByZW11bHRpcGxpZWRBbHBoYSxhbHBoYVRlc3Q6ci5hbHBoYVRlc3QsZG91YmxlU2lkZWQ6Mj09PXIuc2lkZSxmbGlwU2lkZWQ6MT09PXIuc2lkZSxkZXB0aFBhY2tpbmc6dm9pZCAwIT09ci5kZXB0aFBhY2tpbmcmJnIuZGVwdGhQYWNraW5nLGluZGV4MEF0dHJpYnV0ZU5hbWU6ci5pbmRleDBBdHRyaWJ1dGVOYW1lLGV4dGVuc2lvbkRlcml2YXRpdmVzOnIuZXh0ZW5zaW9ucyYmci5leHRlbnNpb25zLmRlcml2YXRpdmVzLGV4dGVuc2lvbkZyYWdEZXB0aDpyLmV4dGVuc2lvbnMmJnIuZXh0ZW5zaW9ucy5mcmFnRGVwdGgsZXh0ZW5zaW9uRHJhd0J1ZmZlcnM6ci5leHRlbnNpb25zJiZyLmV4dGVuc2lvbnMuZHJhd0J1ZmZlcnMsZXh0ZW5zaW9uU2hhZGVyVGV4dHVyZUxPRDpyLmV4dGVuc2lvbnMmJnIuZXh0ZW5zaW9ucy5zaGFkZXJUZXh0dXJlTE9ELHJlbmRlcmVyRXh0ZW5zaW9uRnJhZ0RlcHRoOm98fG4uaGFzKCJFWFRfZnJhZ19kZXB0aCIpLHJlbmRlcmVyRXh0ZW5zaW9uRHJhd0J1ZmZlcnM6b3x8bi5oYXMoIldFQkdMX2RyYXdfYnVmZmVycyIpLHJlbmRlcmVyRXh0ZW5zaW9uU2hhZGVyVGV4dHVyZUxvZDpvfHxuLmhhcygiRVhUX3NoYWRlcl90ZXh0dXJlX2xvZCIpLGN1c3RvbVByb2dyYW1DYWNoZUtleTpyLmN1c3RvbVByb2dyYW1DYWNoZUtleSgpfX0sZ2V0UHJvZ3JhbUNhY2hlS2V5OmZ1bmN0aW9uKGUpe2NvbnN0IG49W107aWYoZS5zaGFkZXJJRD9uLnB1c2goZS5zaGFkZXJJRCk6KG4ucHVzaChlLmZyYWdtZW50U2hhZGVyKSxuLnB1c2goZS52ZXJ0ZXhTaGFkZXIpKSx2b2lkIDAhPT1lLmRlZmluZXMpZm9yKGNvbnN0IHQgaW4gZS5kZWZpbmVzKW4ucHVzaCh0KSxuLnB1c2goZS5kZWZpbmVzW3RdKTtpZighMT09PWUuaXNSYXdTaGFkZXJNYXRlcmlhbCl7Zm9yKGxldCB0PTA7dDxnLmxlbmd0aDt0Kyspbi5wdXNoKGVbZ1t0XV0pO24ucHVzaCh0Lm91dHB1dEVuY29kaW5nKSxuLnB1c2godC5nYW1tYUZhY3Rvcil9cmV0dXJuIG4ucHVzaChlLmN1c3RvbVByb2dyYW1DYWNoZUtleSksbi5qb2luKCl9LGdldFVuaWZvcm1zOmZ1bmN0aW9uKHQpe2NvbnN0IGU9Zlt0LnR5cGVdO2xldCBuO2lmKGUpe2NvbnN0IHQ9ZGlbZV07bj1abi5jbG9uZSh0LnVuaWZvcm1zKX1lbHNlIG49dC51bmlmb3JtcztyZXR1cm4gbn0sYWNxdWlyZVByb2dyYW06ZnVuY3Rpb24oZSxuKXtsZXQgaTtmb3IobGV0IHQ9MCxlPWEubGVuZ3RoO3Q8ZTt0Kyspe2NvbnN0IGU9YVt0XTtpZihlLmNhY2hlS2V5PT09bil7aT1lLCsraS51c2VkVGltZXM7YnJlYWt9fXJldHVybiB2b2lkIDA9PT1pJiYoaT1uZXcgSnIodCxuLGUsciksYS5wdXNoKGkpKSxpfSxyZWxlYXNlUHJvZ3JhbTpmdW5jdGlvbih0KXtpZigwPT0tLXQudXNlZFRpbWVzKXtjb25zdCBlPWEuaW5kZXhPZih0KTthW2VdPWFbYS5sZW5ndGgtMV0sYS5wb3AoKSx0LmRlc3Ryb3koKX19LHByb2dyYW1zOmF9fWZ1bmN0aW9uIEtyKCl7bGV0IHQ9bmV3IFdlYWtNYXA7cmV0dXJue2dldDpmdW5jdGlvbihlKXtsZXQgbj10LmdldChlKTtyZXR1cm4gdm9pZCAwPT09biYmKG49e30sdC5zZXQoZSxuKSksbn0scmVtb3ZlOmZ1bmN0aW9uKGUpe3QuZGVsZXRlKGUpfSx1cGRhdGU6ZnVuY3Rpb24oZSxuLGkpe3QuZ2V0KGUpW25dPWl9LGRpc3Bvc2U6ZnVuY3Rpb24oKXt0PW5ldyBXZWFrTWFwfX19ZnVuY3Rpb24gJHIodCxlKXtyZXR1cm4gdC5ncm91cE9yZGVyIT09ZS5ncm91cE9yZGVyP3QuZ3JvdXBPcmRlci1lLmdyb3VwT3JkZXI6dC5yZW5kZXJPcmRlciE9PWUucmVuZGVyT3JkZXI/dC5yZW5kZXJPcmRlci1lLnJlbmRlck9yZGVyOnQucHJvZ3JhbSE9PWUucHJvZ3JhbT90LnByb2dyYW0uaWQtZS5wcm9ncmFtLmlkOnQubWF0ZXJpYWwuaWQhPT1lLm1hdGVyaWFsLmlkP3QubWF0ZXJpYWwuaWQtZS5tYXRlcmlhbC5pZDp0LnohPT1lLno/dC56LWUuejp0LmlkLWUuaWR9ZnVuY3Rpb24gdHModCxlKXtyZXR1cm4gdC5ncm91cE9yZGVyIT09ZS5ncm91cE9yZGVyP3QuZ3JvdXBPcmRlci1lLmdyb3VwT3JkZXI6dC5yZW5kZXJPcmRlciE9PWUucmVuZGVyT3JkZXI/dC5yZW5kZXJPcmRlci1lLnJlbmRlck9yZGVyOnQueiE9PWUuej9lLnotdC56OnQuaWQtZS5pZH1mdW5jdGlvbiBlcyh0KXtjb25zdCBlPVtdO2xldCBuPTA7Y29uc3QgaT1bXSxyPVtdLHM9e2lkOi0xfTtmdW5jdGlvbiBhKGkscixhLG8sbCxjKXtsZXQgaD1lW25dO2NvbnN0IHU9dC5nZXQoYSk7cmV0dXJuIHZvaWQgMD09PWg/KGg9e2lkOmkuaWQsb2JqZWN0OmksZ2VvbWV0cnk6cixtYXRlcmlhbDphLHByb2dyYW06dS5wcm9ncmFtfHxzLGdyb3VwT3JkZXI6byxyZW5kZXJPcmRlcjppLnJlbmRlck9yZGVyLHo6bCxncm91cDpjfSxlW25dPWgpOihoLmlkPWkuaWQsaC5vYmplY3Q9aSxoLmdlb21ldHJ5PXIsaC5tYXRlcmlhbD1hLGgucHJvZ3JhbT11LnByb2dyYW18fHMsaC5ncm91cE9yZGVyPW8saC5yZW5kZXJPcmRlcj1pLnJlbmRlck9yZGVyLGguej1sLGguZ3JvdXA9YyksbisrLGh9cmV0dXJue29wYXF1ZTppLHRyYW5zcGFyZW50OnIsaW5pdDpmdW5jdGlvbigpe249MCxpLmxlbmd0aD0wLHIubGVuZ3RoPTB9LHB1c2g6ZnVuY3Rpb24odCxlLG4scyxvLGwpe2NvbnN0IGM9YSh0LGUsbixzLG8sbCk7KCEwPT09bi50cmFuc3BhcmVudD9yOmkpLnB1c2goYyl9LHVuc2hpZnQ6ZnVuY3Rpb24odCxlLG4scyxvLGwpe2NvbnN0IGM9YSh0LGUsbixzLG8sbCk7KCEwPT09bi50cmFuc3BhcmVudD9yOmkpLnVuc2hpZnQoYyl9LGZpbmlzaDpmdW5jdGlvbigpe2ZvcihsZXQgdD1uLGk9ZS5sZW5ndGg7dDxpO3QrKyl7Y29uc3Qgbj1lW3RdO2lmKG51bGw9PT1uLmlkKWJyZWFrO24uaWQ9bnVsbCxuLm9iamVjdD1udWxsLG4uZ2VvbWV0cnk9bnVsbCxuLm1hdGVyaWFsPW51bGwsbi5wcm9ncmFtPW51bGwsbi5ncm91cD1udWxsfX0sc29ydDpmdW5jdGlvbih0LGUpe2kubGVuZ3RoPjEmJmkuc29ydCh0fHwkciksci5sZW5ndGg+MSYmci5zb3J0KGV8fHRzKX19fWZ1bmN0aW9uIG5zKHQpe2xldCBlPW5ldyBXZWFrTWFwO3JldHVybntnZXQ6ZnVuY3Rpb24obixpKXtsZXQgcjtyZXR1cm4hMT09PWUuaGFzKG4pPyhyPW5ldyBlcyh0KSxlLnNldChuLFtyXSkpOmk+PWUuZ2V0KG4pLmxlbmd0aD8ocj1uZXcgZXModCksZS5nZXQobikucHVzaChyKSk6cj1lLmdldChuKVtpXSxyfSxkaXNwb3NlOmZ1bmN0aW9uKCl7ZT1uZXcgV2Vha01hcH19fWZ1bmN0aW9uIGlzKCl7Y29uc3QgdD17fTtyZXR1cm57Z2V0OmZ1bmN0aW9uKGUpe2lmKHZvaWQgMCE9PXRbZS5pZF0pcmV0dXJuIHRbZS5pZF07bGV0IG47c3dpdGNoKGUudHlwZSl7Y2FzZSJEaXJlY3Rpb25hbExpZ2h0IjpuPXtkaXJlY3Rpb246bmV3IEx0LGNvbG9yOm5ldyB0bn07YnJlYWs7Y2FzZSJTcG90TGlnaHQiOm49e3Bvc2l0aW9uOm5ldyBMdCxkaXJlY3Rpb246bmV3IEx0LGNvbG9yOm5ldyB0bixkaXN0YW5jZTowLGNvbmVDb3M6MCxwZW51bWJyYUNvczowLGRlY2F5OjB9O2JyZWFrO2Nhc2UiUG9pbnRMaWdodCI6bj17cG9zaXRpb246bmV3IEx0LGNvbG9yOm5ldyB0bixkaXN0YW5jZTowLGRlY2F5OjB9O2JyZWFrO2Nhc2UiSGVtaXNwaGVyZUxpZ2h0IjpuPXtkaXJlY3Rpb246bmV3IEx0LHNreUNvbG9yOm5ldyB0bixncm91bmRDb2xvcjpuZXcgdG59O2JyZWFrO2Nhc2UiUmVjdEFyZWFMaWdodCI6bj17Y29sb3I6bmV3IHRuLHBvc2l0aW9uOm5ldyBMdCxoYWxmV2lkdGg6bmV3IEx0LGhhbGZIZWlnaHQ6bmV3IEx0fX1yZXR1cm4gdFtlLmlkXT1uLG59fX1sZXQgcnM9MDtmdW5jdGlvbiBzcyh0LGUpe3JldHVybihlLmNhc3RTaGFkb3c/MTowKS0odC5jYXN0U2hhZG93PzE6MCl9ZnVuY3Rpb24gYXModCxlKXtjb25zdCBuPW5ldyBpcyxpPWZ1bmN0aW9uKCl7Y29uc3QgdD17fTtyZXR1cm57Z2V0OmZ1bmN0aW9uKGUpe2lmKHZvaWQgMCE9PXRbZS5pZF0pcmV0dXJuIHRbZS5pZF07bGV0IG47c3dpdGNoKGUudHlwZSl7Y2FzZSJEaXJlY3Rpb25hbExpZ2h0IjpjYXNlIlNwb3RMaWdodCI6bj17c2hhZG93QmlhczowLHNoYWRvd05vcm1hbEJpYXM6MCxzaGFkb3dSYWRpdXM6MSxzaGFkb3dNYXBTaXplOm5ldyB2dH07YnJlYWs7Y2FzZSJQb2ludExpZ2h0IjpuPXtzaGFkb3dCaWFzOjAsc2hhZG93Tm9ybWFsQmlhczowLHNoYWRvd1JhZGl1czoxLHNoYWRvd01hcFNpemU6bmV3IHZ0LHNoYWRvd0NhbWVyYU5lYXI6MSxzaGFkb3dDYW1lcmFGYXI6MWUzfX1yZXR1cm4gdFtlLmlkXT1uLG59fX0oKSxyPXt2ZXJzaW9uOjAsaGFzaDp7ZGlyZWN0aW9uYWxMZW5ndGg6LTEscG9pbnRMZW5ndGg6LTEsc3BvdExlbmd0aDotMSxyZWN0QXJlYUxlbmd0aDotMSxoZW1pTGVuZ3RoOi0xLG51bURpcmVjdGlvbmFsU2hhZG93czotMSxudW1Qb2ludFNoYWRvd3M6LTEsbnVtU3BvdFNoYWRvd3M6LTF9LGFtYmllbnQ6WzAsMCwwXSxwcm9iZTpbXSxkaXJlY3Rpb25hbDpbXSxkaXJlY3Rpb25hbFNoYWRvdzpbXSxkaXJlY3Rpb25hbFNoYWRvd01hcDpbXSxkaXJlY3Rpb25hbFNoYWRvd01hdHJpeDpbXSxzcG90OltdLHNwb3RTaGFkb3c6W10sc3BvdFNoYWRvd01hcDpbXSxzcG90U2hhZG93TWF0cml4OltdLHJlY3RBcmVhOltdLHJlY3RBcmVhTFRDMTpudWxsLHJlY3RBcmVhTFRDMjpudWxsLHBvaW50OltdLHBvaW50U2hhZG93OltdLHBvaW50U2hhZG93TWFwOltdLHBvaW50U2hhZG93TWF0cml4OltdLGhlbWk6W119O2ZvcihsZXQgdD0wO3Q8OTt0Kyspci5wcm9iZS5wdXNoKG5ldyBMdCk7Y29uc3Qgcz1uZXcgTHQsYT1uZXcgc2Usbz1uZXcgc2U7cmV0dXJue3NldHVwOmZ1bmN0aW9uKHMpe2xldCBhPTAsbz0wLGw9MDtmb3IobGV0IHQ9MDt0PDk7dCsrKXIucHJvYmVbdF0uc2V0KDAsMCwwKTtsZXQgYz0wLGg9MCx1PTAsZD0wLHA9MCxtPTAsZj0wLGc9MDtzLnNvcnQoc3MpO2ZvcihsZXQgdD0wLGU9cy5sZW5ndGg7dDxlO3QrKyl7Y29uc3QgZT1zW3RdLHY9ZS5jb2xvcix5PWUuaW50ZW5zaXR5LHg9ZS5kaXN0YW5jZSxfPWUuc2hhZG93JiZlLnNoYWRvdy5tYXA/ZS5zaGFkb3cubWFwLnRleHR1cmU6bnVsbDtpZihlLmlzQW1iaWVudExpZ2h0KWErPXYucip5LG8rPXYuZyp5LGwrPXYuYip5O2Vsc2UgaWYoZS5pc0xpZ2h0UHJvYmUpZm9yKGxldCB0PTA7dDw5O3QrKylyLnByb2JlW3RdLmFkZFNjYWxlZFZlY3RvcihlLnNoLmNvZWZmaWNpZW50c1t0XSx5KTtlbHNlIGlmKGUuaXNEaXJlY3Rpb25hbExpZ2h0KXtjb25zdCB0PW4uZ2V0KGUpO2lmKHQuY29sb3IuY29weShlLmNvbG9yKS5tdWx0aXBseVNjYWxhcihlLmludGVuc2l0eSksZS5jYXN0U2hhZG93KXtjb25zdCB0PWUuc2hhZG93LG49aS5nZXQoZSk7bi5zaGFkb3dCaWFzPXQuYmlhcyxuLnNoYWRvd05vcm1hbEJpYXM9dC5ub3JtYWxCaWFzLG4uc2hhZG93UmFkaXVzPXQucmFkaXVzLG4uc2hhZG93TWFwU2l6ZT10Lm1hcFNpemUsci5kaXJlY3Rpb25hbFNoYWRvd1tjXT1uLHIuZGlyZWN0aW9uYWxTaGFkb3dNYXBbY109XyxyLmRpcmVjdGlvbmFsU2hhZG93TWF0cml4W2NdPWUuc2hhZG93Lm1hdHJpeCxtKyt9ci5kaXJlY3Rpb25hbFtjXT10LGMrK31lbHNlIGlmKGUuaXNTcG90TGlnaHQpe2NvbnN0IHQ9bi5nZXQoZSk7aWYodC5wb3NpdGlvbi5zZXRGcm9tTWF0cml4UG9zaXRpb24oZS5tYXRyaXhXb3JsZCksdC5jb2xvci5jb3B5KHYpLm11bHRpcGx5U2NhbGFyKHkpLHQuZGlzdGFuY2U9eCx0LmNvbmVDb3M9TWF0aC5jb3MoZS5hbmdsZSksdC5wZW51bWJyYUNvcz1NYXRoLmNvcyhlLmFuZ2xlKigxLWUucGVudW1icmEpKSx0LmRlY2F5PWUuZGVjYXksZS5jYXN0U2hhZG93KXtjb25zdCB0PWUuc2hhZG93LG49aS5nZXQoZSk7bi5zaGFkb3dCaWFzPXQuYmlhcyxuLnNoYWRvd05vcm1hbEJpYXM9dC5ub3JtYWxCaWFzLG4uc2hhZG93UmFkaXVzPXQucmFkaXVzLG4uc2hhZG93TWFwU2l6ZT10Lm1hcFNpemUsci5zcG90U2hhZG93W3VdPW4sci5zcG90U2hhZG93TWFwW3VdPV8sci5zcG90U2hhZG93TWF0cml4W3VdPWUuc2hhZG93Lm1hdHJpeCxnKyt9ci5zcG90W3VdPXQsdSsrfWVsc2UgaWYoZS5pc1JlY3RBcmVhTGlnaHQpe2NvbnN0IHQ9bi5nZXQoZSk7dC5jb2xvci5jb3B5KHYpLm11bHRpcGx5U2NhbGFyKHkpLHQuaGFsZldpZHRoLnNldCguNSplLndpZHRoLDAsMCksdC5oYWxmSGVpZ2h0LnNldCgwLC41KmUuaGVpZ2h0LDApLHIucmVjdEFyZWFbZF09dCxkKyt9ZWxzZSBpZihlLmlzUG9pbnRMaWdodCl7Y29uc3QgdD1uLmdldChlKTtpZih0LmNvbG9yLmNvcHkoZS5jb2xvcikubXVsdGlwbHlTY2FsYXIoZS5pbnRlbnNpdHkpLHQuZGlzdGFuY2U9ZS5kaXN0YW5jZSx0LmRlY2F5PWUuZGVjYXksZS5jYXN0U2hhZG93KXtjb25zdCB0PWUuc2hhZG93LG49aS5nZXQoZSk7bi5zaGFkb3dCaWFzPXQuYmlhcyxuLnNoYWRvd05vcm1hbEJpYXM9dC5ub3JtYWxCaWFzLG4uc2hhZG93UmFkaXVzPXQucmFkaXVzLG4uc2hhZG93TWFwU2l6ZT10Lm1hcFNpemUsbi5zaGFkb3dDYW1lcmFOZWFyPXQuY2FtZXJhLm5lYXIsbi5zaGFkb3dDYW1lcmFGYXI9dC5jYW1lcmEuZmFyLHIucG9pbnRTaGFkb3dbaF09bixyLnBvaW50U2hhZG93TWFwW2hdPV8sci5wb2ludFNoYWRvd01hdHJpeFtoXT1lLnNoYWRvdy5tYXRyaXgsZisrfXIucG9pbnRbaF09dCxoKyt9ZWxzZSBpZihlLmlzSGVtaXNwaGVyZUxpZ2h0KXtjb25zdCB0PW4uZ2V0KGUpO3Quc2t5Q29sb3IuY29weShlLmNvbG9yKS5tdWx0aXBseVNjYWxhcih5KSx0Lmdyb3VuZENvbG9yLmNvcHkoZS5ncm91bmRDb2xvcikubXVsdGlwbHlTY2FsYXIoeSksci5oZW1pW3BdPXQscCsrfX1kPjAmJihlLmlzV2ViR0wyfHwhMD09PXQuaGFzKCJPRVNfdGV4dHVyZV9mbG9hdF9saW5lYXIiKT8oci5yZWN0QXJlYUxUQzE9dWkuTFRDX0ZMT0FUXzEsci5yZWN0QXJlYUxUQzI9dWkuTFRDX0ZMT0FUXzIpOiEwPT09dC5oYXMoIk9FU190ZXh0dXJlX2hhbGZfZmxvYXRfbGluZWFyIik/KHIucmVjdEFyZWFMVEMxPXVpLkxUQ19IQUxGXzEsci5yZWN0QXJlYUxUQzI9dWkuTFRDX0hBTEZfMik6Y29uc29sZS5lcnJvcigiVEhSRUUuV2ViR0xSZW5kZXJlcjogVW5hYmxlIHRvIHVzZSBSZWN0QXJlYUxpZ2h0LiBNaXNzaW5nIFdlYkdMIGV4dGVuc2lvbnMuIikpLHIuYW1iaWVudFswXT1hLHIuYW1iaWVudFsxXT1vLHIuYW1iaWVudFsyXT1sO2NvbnN0IHY9ci5oYXNoO3YuZGlyZWN0aW9uYWxMZW5ndGg9PT1jJiZ2LnBvaW50TGVuZ3RoPT09aCYmdi5zcG90TGVuZ3RoPT09dSYmdi5yZWN0QXJlYUxlbmd0aD09PWQmJnYuaGVtaUxlbmd0aD09PXAmJnYubnVtRGlyZWN0aW9uYWxTaGFkb3dzPT09bSYmdi5udW1Qb2ludFNoYWRvd3M9PT1mJiZ2Lm51bVNwb3RTaGFkb3dzPT09Z3x8KHIuZGlyZWN0aW9uYWwubGVuZ3RoPWMsci5zcG90Lmxlbmd0aD11LHIucmVjdEFyZWEubGVuZ3RoPWQsci5wb2ludC5sZW5ndGg9aCxyLmhlbWkubGVuZ3RoPXAsci5kaXJlY3Rpb25hbFNoYWRvdy5sZW5ndGg9bSxyLmRpcmVjdGlvbmFsU2hhZG93TWFwLmxlbmd0aD1tLHIucG9pbnRTaGFkb3cubGVuZ3RoPWYsci5wb2ludFNoYWRvd01hcC5sZW5ndGg9ZixyLnNwb3RTaGFkb3cubGVuZ3RoPWcsci5zcG90U2hhZG93TWFwLmxlbmd0aD1nLHIuZGlyZWN0aW9uYWxTaGFkb3dNYXRyaXgubGVuZ3RoPW0sci5wb2ludFNoYWRvd01hdHJpeC5sZW5ndGg9ZixyLnNwb3RTaGFkb3dNYXRyaXgubGVuZ3RoPWcsdi5kaXJlY3Rpb25hbExlbmd0aD1jLHYucG9pbnRMZW5ndGg9aCx2LnNwb3RMZW5ndGg9dSx2LnJlY3RBcmVhTGVuZ3RoPWQsdi5oZW1pTGVuZ3RoPXAsdi5udW1EaXJlY3Rpb25hbFNoYWRvd3M9bSx2Lm51bVBvaW50U2hhZG93cz1mLHYubnVtU3BvdFNoYWRvd3M9ZyxyLnZlcnNpb249cnMrKyl9LHNldHVwVmlldzpmdW5jdGlvbih0LGUpe2xldCBuPTAsaT0wLGw9MCxjPTAsaD0wO2NvbnN0IHU9ZS5tYXRyaXhXb3JsZEludmVyc2U7Zm9yKGxldCBlPTAsZD10Lmxlbmd0aDtlPGQ7ZSsrKXtjb25zdCBkPXRbZV07aWYoZC5pc0RpcmVjdGlvbmFsTGlnaHQpe2NvbnN0IHQ9ci5kaXJlY3Rpb25hbFtuXTt0LmRpcmVjdGlvbi5zZXRGcm9tTWF0cml4UG9zaXRpb24oZC5tYXRyaXhXb3JsZCkscy5zZXRGcm9tTWF0cml4UG9zaXRpb24oZC50YXJnZXQubWF0cml4V29ybGQpLHQuZGlyZWN0aW9uLnN1YihzKSx0LmRpcmVjdGlvbi50cmFuc2Zvcm1EaXJlY3Rpb24odSksbisrfWVsc2UgaWYoZC5pc1Nwb3RMaWdodCl7Y29uc3QgdD1yLnNwb3RbbF07dC5wb3NpdGlvbi5zZXRGcm9tTWF0cml4UG9zaXRpb24oZC5tYXRyaXhXb3JsZCksdC5wb3NpdGlvbi5hcHBseU1hdHJpeDQodSksdC5kaXJlY3Rpb24uc2V0RnJvbU1hdHJpeFBvc2l0aW9uKGQubWF0cml4V29ybGQpLHMuc2V0RnJvbU1hdHJpeFBvc2l0aW9uKGQudGFyZ2V0Lm1hdHJpeFdvcmxkKSx0LmRpcmVjdGlvbi5zdWIocyksdC5kaXJlY3Rpb24udHJhbnNmb3JtRGlyZWN0aW9uKHUpLGwrK31lbHNlIGlmKGQuaXNSZWN0QXJlYUxpZ2h0KXtjb25zdCB0PXIucmVjdEFyZWFbY107dC5wb3NpdGlvbi5zZXRGcm9tTWF0cml4UG9zaXRpb24oZC5tYXRyaXhXb3JsZCksdC5wb3NpdGlvbi5hcHBseU1hdHJpeDQodSksby5pZGVudGl0eSgpLGEuY29weShkLm1hdHJpeFdvcmxkKSxhLnByZW11bHRpcGx5KHUpLG8uZXh0cmFjdFJvdGF0aW9uKGEpLHQuaGFsZldpZHRoLnNldCguNSpkLndpZHRoLDAsMCksdC5oYWxmSGVpZ2h0LnNldCgwLC41KmQuaGVpZ2h0LDApLHQuaGFsZldpZHRoLmFwcGx5TWF0cml4NChvKSx0LmhhbGZIZWlnaHQuYXBwbHlNYXRyaXg0KG8pLGMrK31lbHNlIGlmKGQuaXNQb2ludExpZ2h0KXtjb25zdCB0PXIucG9pbnRbaV07dC5wb3NpdGlvbi5zZXRGcm9tTWF0cml4UG9zaXRpb24oZC5tYXRyaXhXb3JsZCksdC5wb3NpdGlvbi5hcHBseU1hdHJpeDQodSksaSsrfWVsc2UgaWYoZC5pc0hlbWlzcGhlcmVMaWdodCl7Y29uc3QgdD1yLmhlbWlbaF07dC5kaXJlY3Rpb24uc2V0RnJvbU1hdHJpeFBvc2l0aW9uKGQubWF0cml4V29ybGQpLHQuZGlyZWN0aW9uLnRyYW5zZm9ybURpcmVjdGlvbih1KSx0LmRpcmVjdGlvbi5ub3JtYWxpemUoKSxoKyt9fX0sc3RhdGU6cn19ZnVuY3Rpb24gb3ModCxlKXtjb25zdCBuPW5ldyBhcyh0LGUpLGk9W10scj1bXTtyZXR1cm57aW5pdDpmdW5jdGlvbigpe2kubGVuZ3RoPTAsci5sZW5ndGg9MH0sc3RhdGU6e2xpZ2h0c0FycmF5Omksc2hhZG93c0FycmF5OnIsbGlnaHRzOm59LHNldHVwTGlnaHRzOmZ1bmN0aW9uKCl7bi5zZXR1cChpKX0sc2V0dXBMaWdodHNWaWV3OmZ1bmN0aW9uKHQpe24uc2V0dXBWaWV3KGksdCl9LHB1c2hMaWdodDpmdW5jdGlvbih0KXtpLnB1c2godCl9LHB1c2hTaGFkb3c6ZnVuY3Rpb24odCl7ci5wdXNoKHQpfX19ZnVuY3Rpb24gbHModCxlKXtsZXQgbj1uZXcgV2Vha01hcDtyZXR1cm57Z2V0OmZ1bmN0aW9uKGkscj0wKXtsZXQgcztyZXR1cm4hMT09PW4uaGFzKGkpPyhzPW5ldyBvcyh0LGUpLG4uc2V0KGksW3NdKSk6cj49bi5nZXQoaSkubGVuZ3RoPyhzPW5ldyBvcyh0LGUpLG4uZ2V0KGkpLnB1c2gocykpOnM9bi5nZXQoaSlbcl0sc30sZGlzcG9zZTpmdW5jdGlvbigpe249bmV3IFdlYWtNYXB9fX1jbGFzcyBjcyBleHRlbmRzIFhle2NvbnN0cnVjdG9yKHQpe3N1cGVyKCksdGhpcy50eXBlPSJNZXNoRGVwdGhNYXRlcmlhbCIsdGhpcy5kZXB0aFBhY2tpbmc9MzIwMCx0aGlzLnNraW5uaW5nPSExLHRoaXMubW9ycGhUYXJnZXRzPSExLHRoaXMubWFwPW51bGwsdGhpcy5hbHBoYU1hcD1udWxsLHRoaXMuZGlzcGxhY2VtZW50TWFwPW51bGwsdGhpcy5kaXNwbGFjZW1lbnRTY2FsZT0xLHRoaXMuZGlzcGxhY2VtZW50Qmlhcz0wLHRoaXMud2lyZWZyYW1lPSExLHRoaXMud2lyZWZyYW1lTGluZXdpZHRoPTEsdGhpcy5mb2c9ITEsdGhpcy5zZXRWYWx1ZXModCl9Y29weSh0KXtyZXR1cm4gc3VwZXIuY29weSh0KSx0aGlzLmRlcHRoUGFja2luZz10LmRlcHRoUGFja2luZyx0aGlzLnNraW5uaW5nPXQuc2tpbm5pbmcsdGhpcy5tb3JwaFRhcmdldHM9dC5tb3JwaFRhcmdldHMsdGhpcy5tYXA9dC5tYXAsdGhpcy5hbHBoYU1hcD10LmFscGhhTWFwLHRoaXMuZGlzcGxhY2VtZW50TWFwPXQuZGlzcGxhY2VtZW50TWFwLHRoaXMuZGlzcGxhY2VtZW50U2NhbGU9dC5kaXNwbGFjZW1lbnRTY2FsZSx0aGlzLmRpc3BsYWNlbWVudEJpYXM9dC5kaXNwbGFjZW1lbnRCaWFzLHRoaXMud2lyZWZyYW1lPXQud2lyZWZyYW1lLHRoaXMud2lyZWZyYW1lTGluZXdpZHRoPXQud2lyZWZyYW1lTGluZXdpZHRoLHRoaXN9fWNzLnByb3RvdHlwZS5pc01lc2hEZXB0aE1hdGVyaWFsPSEwO2NsYXNzIGhzIGV4dGVuZHMgWGV7Y29uc3RydWN0b3IodCl7c3VwZXIoKSx0aGlzLnR5cGU9Ik1lc2hEaXN0YW5jZU1hdGVyaWFsIix0aGlzLnJlZmVyZW5jZVBvc2l0aW9uPW5ldyBMdCx0aGlzLm5lYXJEaXN0YW5jZT0xLHRoaXMuZmFyRGlzdGFuY2U9MWUzLHRoaXMuc2tpbm5pbmc9ITEsdGhpcy5tb3JwaFRhcmdldHM9ITEsdGhpcy5tYXA9bnVsbCx0aGlzLmFscGhhTWFwPW51bGwsdGhpcy5kaXNwbGFjZW1lbnRNYXA9bnVsbCx0aGlzLmRpc3BsYWNlbWVudFNjYWxlPTEsdGhpcy5kaXNwbGFjZW1lbnRCaWFzPTAsdGhpcy5mb2c9ITEsdGhpcy5zZXRWYWx1ZXModCl9Y29weSh0KXtyZXR1cm4gc3VwZXIuY29weSh0KSx0aGlzLnJlZmVyZW5jZVBvc2l0aW9uLmNvcHkodC5yZWZlcmVuY2VQb3NpdGlvbiksdGhpcy5uZWFyRGlzdGFuY2U9dC5uZWFyRGlzdGFuY2UsdGhpcy5mYXJEaXN0YW5jZT10LmZhckRpc3RhbmNlLHRoaXMuc2tpbm5pbmc9dC5za2lubmluZyx0aGlzLm1vcnBoVGFyZ2V0cz10Lm1vcnBoVGFyZ2V0cyx0aGlzLm1hcD10Lm1hcCx0aGlzLmFscGhhTWFwPXQuYWxwaGFNYXAsdGhpcy5kaXNwbGFjZW1lbnRNYXA9dC5kaXNwbGFjZW1lbnRNYXAsdGhpcy5kaXNwbGFjZW1lbnRTY2FsZT10LmRpc3BsYWNlbWVudFNjYWxlLHRoaXMuZGlzcGxhY2VtZW50Qmlhcz10LmRpc3BsYWNlbWVudEJpYXMsdGhpc319aHMucHJvdG90eXBlLmlzTWVzaERpc3RhbmNlTWF0ZXJpYWw9ITA7ZnVuY3Rpb24gdXModCxlLG4pe2xldCBpPW5ldyBhaTtjb25zdCByPW5ldyB2dCxzPW5ldyB2dCxhPW5ldyBTdCxvPVtdLGw9W10sYz17fSxoPW4ubWF4VGV4dHVyZVNpemUsdT17MDoxLDE6MCwyOjJ9LGQ9bmV3IEpuKHtkZWZpbmVzOntTQU1QTEVfUkFURToyLzgsSEFMRl9TQU1QTEVfUkFURToxLzh9LHVuaWZvcm1zOntzaGFkb3dfcGFzczp7dmFsdWU6bnVsbH0scmVzb2x1dGlvbjp7dmFsdWU6bmV3IHZ0fSxyYWRpdXM6e3ZhbHVlOjR9fSx2ZXJ0ZXhTaGFkZXI6InZvaWQgbWFpbigpIHtcblx0Z2xfUG9zaXRpb24gPSB2ZWM0KCBwb3NpdGlvbiwgMS4wICk7XG59IixmcmFnbWVudFNoYWRlcjoidW5pZm9ybSBzYW1wbGVyMkQgc2hhZG93X3Bhc3M7XG51bmlmb3JtIHZlYzIgcmVzb2x1dGlvbjtcbnVuaWZvcm0gZmxvYXQgcmFkaXVzO1xuI2luY2x1ZGUgPHBhY2tpbmc+XG52b2lkIG1haW4oKSB7XG5cdGZsb2F0IG1lYW4gPSAwLjA7XG5cdGZsb2F0IHNxdWFyZWRfbWVhbiA9IDAuMDtcblx0ZmxvYXQgZGVwdGggPSB1bnBhY2tSR0JBVG9EZXB0aCggdGV4dHVyZTJEKCBzaGFkb3dfcGFzcywgKCBnbF9GcmFnQ29vcmQueHkgKSAvIHJlc29sdXRpb24gKSApO1xuXHRmb3IgKCBmbG9hdCBpID0gLTEuMDsgaSA8IDEuMCA7IGkgKz0gU0FNUExFX1JBVEUpIHtcblx0XHQjaWZkZWYgSE9SSVpPTlRBTF9QQVNTXG5cdFx0XHR2ZWMyIGRpc3RyaWJ1dGlvbiA9IHVucGFja1JHQkFUbzJIYWxmKCB0ZXh0dXJlMkQoIHNoYWRvd19wYXNzLCAoIGdsX0ZyYWdDb29yZC54eSArIHZlYzIoIGksIDAuMCApICogcmFkaXVzICkgLyByZXNvbHV0aW9uICkgKTtcblx0XHRcdG1lYW4gKz0gZGlzdHJpYnV0aW9uLng7XG5cdFx0XHRzcXVhcmVkX21lYW4gKz0gZGlzdHJpYnV0aW9uLnkgKiBkaXN0cmlidXRpb24ueSArIGRpc3RyaWJ1dGlvbi54ICogZGlzdHJpYnV0aW9uLng7XG5cdFx0I2Vsc2Vcblx0XHRcdGZsb2F0IGRlcHRoID0gdW5wYWNrUkdCQVRvRGVwdGgoIHRleHR1cmUyRCggc2hhZG93X3Bhc3MsICggZ2xfRnJhZ0Nvb3JkLnh5ICsgdmVjMiggMC4wLCBpICkgKiByYWRpdXMgKSAvIHJlc29sdXRpb24gKSApO1xuXHRcdFx0bWVhbiArPSBkZXB0aDtcblx0XHRcdHNxdWFyZWRfbWVhbiArPSBkZXB0aCAqIGRlcHRoO1xuXHRcdCNlbmRpZlxuXHR9XG5cdG1lYW4gPSBtZWFuICogSEFMRl9TQU1QTEVfUkFURTtcblx0c3F1YXJlZF9tZWFuID0gc3F1YXJlZF9tZWFuICogSEFMRl9TQU1QTEVfUkFURTtcblx0ZmxvYXQgc3RkX2RldiA9IHNxcnQoIHNxdWFyZWRfbWVhbiAtIG1lYW4gKiBtZWFuICk7XG5cdGdsX0ZyYWdDb2xvciA9IHBhY2sySGFsZlRvUkdCQSggdmVjMiggbWVhbiwgc3RkX2RldiApICk7XG59In0pLG09ZC5jbG9uZSgpO20uZGVmaW5lcy5IT1JJWk9OVEFMX1BBU1M9MTtjb25zdCBmPW5ldyBFbjtmLnNldEF0dHJpYnV0ZSgicG9zaXRpb24iLG5ldyBzbihuZXcgRmxvYXQzMkFycmF5KFstMSwtMSwuNSwzLC0xLC41LC0xLDMsLjVdKSwzKSk7Y29uc3Qgdj1uZXcgV24oZixkKSx5PXRoaXM7ZnVuY3Rpb24geChuLGkpe2NvbnN0IHI9ZS51cGRhdGUodik7ZC51bmlmb3Jtcy5zaGFkb3dfcGFzcy52YWx1ZT1uLm1hcC50ZXh0dXJlLGQudW5pZm9ybXMucmVzb2x1dGlvbi52YWx1ZT1uLm1hcFNpemUsZC51bmlmb3Jtcy5yYWRpdXMudmFsdWU9bi5yYWRpdXMsdC5zZXRSZW5kZXJUYXJnZXQobi5tYXBQYXNzKSx0LmNsZWFyKCksdC5yZW5kZXJCdWZmZXJEaXJlY3QoaSxudWxsLHIsZCx2LG51bGwpLG0udW5pZm9ybXMuc2hhZG93X3Bhc3MudmFsdWU9bi5tYXBQYXNzLnRleHR1cmUsbS51bmlmb3Jtcy5yZXNvbHV0aW9uLnZhbHVlPW4ubWFwU2l6ZSxtLnVuaWZvcm1zLnJhZGl1cy52YWx1ZT1uLnJhZGl1cyx0LnNldFJlbmRlclRhcmdldChuLm1hcCksdC5jbGVhcigpLHQucmVuZGVyQnVmZmVyRGlyZWN0KGksbnVsbCxyLG0sdixudWxsKX1mdW5jdGlvbiBfKHQsZSxuKXtjb25zdCBpPXQ8PDB8ZTw8MXxuPDwyO2xldCByPW9baV07cmV0dXJuIHZvaWQgMD09PXImJihyPW5ldyBjcyh7ZGVwdGhQYWNraW5nOjMyMDEsbW9ycGhUYXJnZXRzOnQsc2tpbm5pbmc6ZX0pLG9baV09cikscn1mdW5jdGlvbiB3KHQsZSxuKXtjb25zdCBpPXQ8PDB8ZTw8MXxuPDwyO2xldCByPWxbaV07cmV0dXJuIHZvaWQgMD09PXImJihyPW5ldyBocyh7bW9ycGhUYXJnZXRzOnQsc2tpbm5pbmc6ZX0pLGxbaV09cikscn1mdW5jdGlvbiBiKGUsbixpLHIscyxhLG8pe2xldCBsPW51bGwsaD1fLGQ9ZS5jdXN0b21EZXB0aE1hdGVyaWFsO2lmKCEwPT09ci5pc1BvaW50TGlnaHQmJihoPXcsZD1lLmN1c3RvbURpc3RhbmNlTWF0ZXJpYWwpLHZvaWQgMD09PWQpe2xldCB0PSExOyEwPT09aS5tb3JwaFRhcmdldHMmJih0PW4ubW9ycGhBdHRyaWJ1dGVzJiZuLm1vcnBoQXR0cmlidXRlcy5wb3NpdGlvbiYmbi5tb3JwaEF0dHJpYnV0ZXMucG9zaXRpb24ubGVuZ3RoPjApO2xldCByPSExOyEwPT09ZS5pc1NraW5uZWRNZXNoJiYoITA9PT1pLnNraW5uaW5nP3I9ITA6Y29uc29sZS53YXJuKCJUSFJFRS5XZWJHTFNoYWRvd01hcDogVEhSRUUuU2tpbm5lZE1lc2ggd2l0aCBtYXRlcmlhbC5za2lubmluZyBzZXQgdG8gZmFsc2U6IixlKSk7bD1oKHQsciwhMD09PWUuaXNJbnN0YW5jZWRNZXNoKX1lbHNlIGw9ZDtpZih0LmxvY2FsQ2xpcHBpbmdFbmFibGVkJiYhMD09PWkuY2xpcFNoYWRvd3MmJjAhPT1pLmNsaXBwaW5nUGxhbmVzLmxlbmd0aCl7Y29uc3QgdD1sLnV1aWQsZT1pLnV1aWQ7bGV0IG49Y1t0XTt2b2lkIDA9PT1uJiYobj17fSxjW3RdPW4pO2xldCByPW5bZV07dm9pZCAwPT09ciYmKHI9bC5jbG9uZSgpLG5bZV09ciksbD1yfXJldHVybiBsLnZpc2libGU9aS52aXNpYmxlLGwud2lyZWZyYW1lPWkud2lyZWZyYW1lLGwuc2lkZT0zPT09bz9udWxsIT09aS5zaGFkb3dTaWRlP2kuc2hhZG93U2lkZTppLnNpZGU6bnVsbCE9PWkuc2hhZG93U2lkZT9pLnNoYWRvd1NpZGU6dVtpLnNpZGVdLGwuY2xpcFNoYWRvd3M9aS5jbGlwU2hhZG93cyxsLmNsaXBwaW5nUGxhbmVzPWkuY2xpcHBpbmdQbGFuZXMsbC5jbGlwSW50ZXJzZWN0aW9uPWkuY2xpcEludGVyc2VjdGlvbixsLndpcmVmcmFtZUxpbmV3aWR0aD1pLndpcmVmcmFtZUxpbmV3aWR0aCxsLmxpbmV3aWR0aD1pLmxpbmV3aWR0aCwhMD09PXIuaXNQb2ludExpZ2h0JiYhMD09PWwuaXNNZXNoRGlzdGFuY2VNYXRlcmlhbCYmKGwucmVmZXJlbmNlUG9zaXRpb24uc2V0RnJvbU1hdHJpeFBvc2l0aW9uKHIubWF0cml4V29ybGQpLGwubmVhckRpc3RhbmNlPXMsbC5mYXJEaXN0YW5jZT1hKSxsfWZ1bmN0aW9uIE0obixyLHMsYSxvKXtpZighMT09PW4udmlzaWJsZSlyZXR1cm47aWYobi5sYXllcnMudGVzdChyLmxheWVycykmJihuLmlzTWVzaHx8bi5pc0xpbmV8fG4uaXNQb2ludHMpJiYobi5jYXN0U2hhZG93fHxuLnJlY2VpdmVTaGFkb3cmJjM9PT1vKSYmKCFuLmZydXN0dW1DdWxsZWR8fGkuaW50ZXJzZWN0c09iamVjdChuKSkpe24ubW9kZWxWaWV3TWF0cml4Lm11bHRpcGx5TWF0cmljZXMocy5tYXRyaXhXb3JsZEludmVyc2Usbi5tYXRyaXhXb3JsZCk7Y29uc3QgaT1lLnVwZGF0ZShuKSxyPW4ubWF0ZXJpYWw7aWYoQXJyYXkuaXNBcnJheShyKSl7Y29uc3QgZT1pLmdyb3Vwcztmb3IobGV0IGw9MCxjPWUubGVuZ3RoO2w8YztsKyspe2NvbnN0IGM9ZVtsXSxoPXJbYy5tYXRlcmlhbEluZGV4XTtpZihoJiZoLnZpc2libGUpe2NvbnN0IGU9YihuLGksaCxhLHMubmVhcixzLmZhcixvKTt0LnJlbmRlckJ1ZmZlckRpcmVjdChzLG51bGwsaSxlLG4sYyl9fX1lbHNlIGlmKHIudmlzaWJsZSl7Y29uc3QgZT1iKG4saSxyLGEscy5uZWFyLHMuZmFyLG8pO3QucmVuZGVyQnVmZmVyRGlyZWN0KHMsbnVsbCxpLGUsbixudWxsKX19Y29uc3QgbD1uLmNoaWxkcmVuO2ZvcihsZXQgdD0wLGU9bC5sZW5ndGg7dDxlO3QrKylNKGxbdF0scixzLGEsbyl9dGhpcy5lbmFibGVkPSExLHRoaXMuYXV0b1VwZGF0ZT0hMCx0aGlzLm5lZWRzVXBkYXRlPSExLHRoaXMudHlwZT0xLHRoaXMucmVuZGVyPWZ1bmN0aW9uKGUsbixvKXtpZighMT09PXkuZW5hYmxlZClyZXR1cm47aWYoITE9PT15LmF1dG9VcGRhdGUmJiExPT09eS5uZWVkc1VwZGF0ZSlyZXR1cm47aWYoMD09PWUubGVuZ3RoKXJldHVybjtjb25zdCBsPXQuZ2V0UmVuZGVyVGFyZ2V0KCksYz10LmdldEFjdGl2ZUN1YmVGYWNlKCksdT10LmdldEFjdGl2ZU1pcG1hcExldmVsKCksZD10LnN0YXRlO2Quc2V0QmxlbmRpbmcoMCksZC5idWZmZXJzLmNvbG9yLnNldENsZWFyKDEsMSwxLDEpLGQuYnVmZmVycy5kZXB0aC5zZXRUZXN0KCEwKSxkLnNldFNjaXNzb3JUZXN0KCExKTtmb3IobGV0IGw9MCxjPWUubGVuZ3RoO2w8YztsKyspe2NvbnN0IGM9ZVtsXSx1PWMuc2hhZG93O2lmKHZvaWQgMD09PXUpe2NvbnNvbGUud2FybigiVEhSRUUuV2ViR0xTaGFkb3dNYXA6IixjLCJoYXMgbm8gc2hhZG93LiIpO2NvbnRpbnVlfWlmKCExPT09dS5hdXRvVXBkYXRlJiYhMT09PXUubmVlZHNVcGRhdGUpY29udGludWU7ci5jb3B5KHUubWFwU2l6ZSk7Y29uc3QgbT11LmdldEZyYW1lRXh0ZW50cygpO2lmKHIubXVsdGlwbHkobSkscy5jb3B5KHUubWFwU2l6ZSksKHIueD5ofHxyLnk+aCkmJihyLng+aCYmKHMueD1NYXRoLmZsb29yKGgvbS54KSxyLng9cy54Km0ueCx1Lm1hcFNpemUueD1zLngpLHIueT5oJiYocy55PU1hdGguZmxvb3IoaC9tLnkpLHIueT1zLnkqbS55LHUubWFwU2l6ZS55PXMueSkpLG51bGw9PT11Lm1hcCYmIXUuaXNQb2ludExpZ2h0U2hhZG93JiYzPT09dGhpcy50eXBlKXtjb25zdCB0PXttaW5GaWx0ZXI6ZyxtYWdGaWx0ZXI6Zyxmb3JtYXQ6RX07dS5tYXA9bmV3IFR0KHIueCxyLnksdCksdS5tYXAudGV4dHVyZS5uYW1lPWMubmFtZSsiLnNoYWRvd01hcCIsdS5tYXBQYXNzPW5ldyBUdChyLngsci55LHQpLHUuY2FtZXJhLnVwZGF0ZVByb2plY3Rpb25NYXRyaXgoKX1pZihudWxsPT09dS5tYXApe2NvbnN0IHQ9e21pbkZpbHRlcjpwLG1hZ0ZpbHRlcjpwLGZvcm1hdDpFfTt1Lm1hcD1uZXcgVHQoci54LHIueSx0KSx1Lm1hcC50ZXh0dXJlLm5hbWU9Yy5uYW1lKyIuc2hhZG93TWFwIix1LmNhbWVyYS51cGRhdGVQcm9qZWN0aW9uTWF0cml4KCl9dC5zZXRSZW5kZXJUYXJnZXQodS5tYXApLHQuY2xlYXIoKTtjb25zdCBmPXUuZ2V0Vmlld3BvcnRDb3VudCgpO2ZvcihsZXQgdD0wO3Q8Zjt0Kyspe2NvbnN0IGU9dS5nZXRWaWV3cG9ydCh0KTthLnNldChzLngqZS54LHMueSplLnkscy54KmUueixzLnkqZS53KSxkLnZpZXdwb3J0KGEpLHUudXBkYXRlTWF0cmljZXMoYyx0KSxpPXUuZ2V0RnJ1c3R1bSgpLE0obixvLHUuY2FtZXJhLGMsdGhpcy50eXBlKX11LmlzUG9pbnRMaWdodFNoYWRvd3x8MyE9PXRoaXMudHlwZXx8eCh1LG8pLHUubmVlZHNVcGRhdGU9ITF9eS5uZWVkc1VwZGF0ZT0hMSx0LnNldFJlbmRlclRhcmdldChsLGMsdSl9fWZ1bmN0aW9uIGRzKHQsZSxpKXtjb25zdCByPWkuaXNXZWJHTDI7Y29uc3Qgcz1uZXcgZnVuY3Rpb24oKXtsZXQgZT0hMTtjb25zdCBuPW5ldyBTdDtsZXQgaT1udWxsO2NvbnN0IHI9bmV3IFN0KDAsMCwwLDApO3JldHVybntzZXRNYXNrOmZ1bmN0aW9uKG4pe2k9PT1ufHxlfHwodC5jb2xvck1hc2sobixuLG4sbiksaT1uKX0sc2V0TG9ja2VkOmZ1bmN0aW9uKHQpe2U9dH0sc2V0Q2xlYXI6ZnVuY3Rpb24oZSxpLHMsYSxvKXshMD09PW8mJihlKj1hLGkqPWEscyo9YSksbi5zZXQoZSxpLHMsYSksITE9PT1yLmVxdWFscyhuKSYmKHQuY2xlYXJDb2xvcihlLGkscyxhKSxyLmNvcHkobikpfSxyZXNldDpmdW5jdGlvbigpe2U9ITEsaT1udWxsLHIuc2V0KC0xLDAsMCwwKX19fSxhPW5ldyBmdW5jdGlvbigpe2xldCBlPSExLG49bnVsbCxpPW51bGwscj1udWxsO3JldHVybntzZXRUZXN0OmZ1bmN0aW9uKHQpe3Q/eigyOTI5KTpGKDI5MjkpfSxzZXRNYXNrOmZ1bmN0aW9uKGkpe249PT1pfHxlfHwodC5kZXB0aE1hc2soaSksbj1pKX0sc2V0RnVuYzpmdW5jdGlvbihlKXtpZihpIT09ZSl7aWYoZSlzd2l0Y2goZSl7Y2FzZSAwOnQuZGVwdGhGdW5jKDUxMik7YnJlYWs7Y2FzZSAxOnQuZGVwdGhGdW5jKDUxOSk7YnJlYWs7Y2FzZSAyOnQuZGVwdGhGdW5jKDUxMyk7YnJlYWs7Y2FzZSAzOnQuZGVwdGhGdW5jKDUxNSk7YnJlYWs7Y2FzZSA0OnQuZGVwdGhGdW5jKDUxNCk7YnJlYWs7Y2FzZSA1OnQuZGVwdGhGdW5jKDUxOCk7YnJlYWs7Y2FzZSA2OnQuZGVwdGhGdW5jKDUxNik7YnJlYWs7Y2FzZSA3OnQuZGVwdGhGdW5jKDUxNyk7YnJlYWs7ZGVmYXVsdDp0LmRlcHRoRnVuYyg1MTUpfWVsc2UgdC5kZXB0aEZ1bmMoNTE1KTtpPWV9fSxzZXRMb2NrZWQ6ZnVuY3Rpb24odCl7ZT10fSxzZXRDbGVhcjpmdW5jdGlvbihlKXtyIT09ZSYmKHQuY2xlYXJEZXB0aChlKSxyPWUpfSxyZXNldDpmdW5jdGlvbigpe2U9ITEsbj1udWxsLGk9bnVsbCxyPW51bGx9fX0sbz1uZXcgZnVuY3Rpb24oKXtsZXQgZT0hMSxuPW51bGwsaT1udWxsLHI9bnVsbCxzPW51bGwsYT1udWxsLG89bnVsbCxsPW51bGwsYz1udWxsO3JldHVybntzZXRUZXN0OmZ1bmN0aW9uKHQpe2V8fCh0P3ooMjk2MCk6RigyOTYwKSl9LHNldE1hc2s6ZnVuY3Rpb24oaSl7bj09PWl8fGV8fCh0LnN0ZW5jaWxNYXNrKGkpLG49aSl9LHNldEZ1bmM6ZnVuY3Rpb24oZSxuLGEpe2k9PT1lJiZyPT09biYmcz09PWF8fCh0LnN0ZW5jaWxGdW5jKGUsbixhKSxpPWUscj1uLHM9YSl9LHNldE9wOmZ1bmN0aW9uKGUsbixpKXthPT09ZSYmbz09PW4mJmw9PT1pfHwodC5zdGVuY2lsT3AoZSxuLGkpLGE9ZSxvPW4sbD1pKX0sc2V0TG9ja2VkOmZ1bmN0aW9uKHQpe2U9dH0sc2V0Q2xlYXI6ZnVuY3Rpb24oZSl7YyE9PWUmJih0LmNsZWFyU3RlbmNpbChlKSxjPWUpfSxyZXNldDpmdW5jdGlvbigpe2U9ITEsbj1udWxsLGk9bnVsbCxyPW51bGwscz1udWxsLGE9bnVsbCxvPW51bGwsbD1udWxsLGM9bnVsbH19fTtsZXQgbD17fSxjPW51bGwsaD17fSx1PW51bGwsZD0hMSxwPW51bGwsbT1udWxsLGY9bnVsbCxnPW51bGwsdj1udWxsLHk9bnVsbCx4PW51bGwsXz0hMSx3PW51bGwsYj1udWxsLE09bnVsbCxTPW51bGwsVD1udWxsO2NvbnN0IEU9dC5nZXRQYXJhbWV0ZXIoMzU2NjEpO2xldCBBPSExLEw9MDtjb25zdCBSPXQuZ2V0UGFyYW1ldGVyKDc5MzgpOy0xIT09Ui5pbmRleE9mKCJXZWJHTCIpPyhMPXBhcnNlRmxvYXQoL15XZWJHTCAoXGQpLy5leGVjKFIpWzFdKSxBPUw+PTEpOi0xIT09Ui5pbmRleE9mKCJPcGVuR0wgRVMiKSYmKEw9cGFyc2VGbG9hdCgvXk9wZW5HTCBFUyAoXGQpLy5leGVjKFIpWzFdKSxBPUw+PTIpO2xldCBDPW51bGwsUD17fTtjb25zdCBEPW5ldyBTdCgwLDAsdC5jYW52YXMud2lkdGgsdC5jYW52YXMuaGVpZ2h0KSxJPW5ldyBTdCgwLDAsdC5jYW52YXMud2lkdGgsdC5jYW52YXMuaGVpZ2h0KTtmdW5jdGlvbiBOKGUsbixpKXtjb25zdCByPW5ldyBVaW50OEFycmF5KDQpLHM9dC5jcmVhdGVUZXh0dXJlKCk7dC5iaW5kVGV4dHVyZShlLHMpLHQudGV4UGFyYW1ldGVyaShlLDEwMjQxLDk3MjgpLHQudGV4UGFyYW1ldGVyaShlLDEwMjQwLDk3MjgpO2ZvcihsZXQgZT0wO2U8aTtlKyspdC50ZXhJbWFnZTJEKG4rZSwwLDY0MDgsMSwxLDAsNjQwOCw1MTIxLHIpO3JldHVybiBzfWNvbnN0IEI9e307ZnVuY3Rpb24geihlKXshMCE9PWxbZV0mJih0LmVuYWJsZShlKSxsW2VdPSEwKX1mdW5jdGlvbiBGKGUpeyExIT09bFtlXSYmKHQuZGlzYWJsZShlKSxsW2VdPSExKX1CWzM1NTNdPU4oMzU1MywzNTUzLDEpLEJbMzQwNjddPU4oMzQwNjcsMzQwNjksNikscy5zZXRDbGVhcigwLDAsMCwxKSxhLnNldENsZWFyKDEpLG8uc2V0Q2xlYXIoMCkseigyOTI5KSxhLnNldEZ1bmMoMyksVSghMSksaygxKSx6KDI4ODQpLEcoMCk7Y29uc3QgTz17W25dOjMyNzc0LDEwMTozMjc3OCwxMDI6MzI3Nzl9O2lmKHIpT1sxMDNdPTMyNzc1LE9bMTA0XT0zMjc3NjtlbHNle2NvbnN0IHQ9ZS5nZXQoIkVYVF9ibGVuZF9taW5tYXgiKTtudWxsIT09dCYmKE9bMTAzXT10Lk1JTl9FWFQsT1sxMDRdPXQuTUFYX0VYVCl9Y29uc3QgSD17MjAwOjAsMjAxOjEsMjAyOjc2OCwyMDQ6NzcwLDIxMDo3NzYsMjA4Ojc3NCwyMDY6NzcyLDIwMzo3NjksMjA1Ojc3MSwyMDk6Nzc1LDIwNzo3NzN9O2Z1bmN0aW9uIEcoZSxpLHIscyxhLG8sbCxjKXtpZigwIT09ZSl7aWYoITE9PT1kJiYoeigzMDQyKSxkPSEwKSw1PT09ZSlhPWF8fGksbz1vfHxyLGw9bHx8cyxpPT09bSYmYT09PXZ8fCh0LmJsZW5kRXF1YXRpb25TZXBhcmF0ZShPW2ldLE9bYV0pLG09aSx2PWEpLHI9PT1mJiZzPT09ZyYmbz09PXkmJmw9PT14fHwodC5ibGVuZEZ1bmNTZXBhcmF0ZShIW3JdLEhbc10sSFtvXSxIW2xdKSxmPXIsZz1zLHk9byx4PWwpLHA9ZSxfPW51bGw7ZWxzZSBpZihlIT09cHx8YyE9PV8pe2lmKG09PT1uJiZ2PT09bnx8KHQuYmxlbmRFcXVhdGlvbigzMjc3NCksbT1uLHY9biksYylzd2l0Y2goZSl7Y2FzZSAxOnQuYmxlbmRGdW5jU2VwYXJhdGUoMSw3NzEsMSw3NzEpO2JyZWFrO2Nhc2UgMjp0LmJsZW5kRnVuYygxLDEpO2JyZWFrO2Nhc2UgMzp0LmJsZW5kRnVuY1NlcGFyYXRlKDAsMCw3NjksNzcxKTticmVhaztjYXNlIDQ6dC5ibGVuZEZ1bmNTZXBhcmF0ZSgwLDc2OCwwLDc3MCk7YnJlYWs7ZGVmYXVsdDpjb25zb2xlLmVycm9yKCJUSFJFRS5XZWJHTFN0YXRlOiBJbnZhbGlkIGJsZW5kaW5nOiAiLGUpfWVsc2Ugc3dpdGNoKGUpe2Nhc2UgMTp0LmJsZW5kRnVuY1NlcGFyYXRlKDc3MCw3NzEsMSw3NzEpO2JyZWFrO2Nhc2UgMjp0LmJsZW5kRnVuYyg3NzAsMSk7YnJlYWs7Y2FzZSAzOnQuYmxlbmRGdW5jKDAsNzY5KTticmVhaztjYXNlIDQ6dC5ibGVuZEZ1bmMoMCw3NjgpO2JyZWFrO2RlZmF1bHQ6Y29uc29sZS5lcnJvcigiVEhSRUUuV2ViR0xTdGF0ZTogSW52YWxpZCBibGVuZGluZzogIixlKX1mPW51bGwsZz1udWxsLHk9bnVsbCx4PW51bGwscD1lLF89Y319ZWxzZSEwPT09ZCYmKEYoMzA0MiksZD0hMSl9ZnVuY3Rpb24gVShlKXt3IT09ZSYmKGU/dC5mcm9udEZhY2UoMjMwNCk6dC5mcm9udEZhY2UoMjMwNSksdz1lKX1mdW5jdGlvbiBrKGUpezAhPT1lPyh6KDI4ODQpLGUhPT1iJiYoMT09PWU/dC5jdWxsRmFjZSgxMDI5KToyPT09ZT90LmN1bGxGYWNlKDEwMjgpOnQuY3VsbEZhY2UoMTAzMikpKTpGKDI4ODQpLGI9ZX1mdW5jdGlvbiBWKGUsbixpKXtlPyh6KDMyODIzKSxTPT09biYmVD09PWl8fCh0LnBvbHlnb25PZmZzZXQobixpKSxTPW4sVD1pKSk6RigzMjgyMyl9ZnVuY3Rpb24gVyhlKXt2b2lkIDA9PT1lJiYoZT0zMzk4NCtFLTEpLEMhPT1lJiYodC5hY3RpdmVUZXh0dXJlKGUpLEM9ZSl9cmV0dXJue2J1ZmZlcnM6e2NvbG9yOnMsZGVwdGg6YSxzdGVuY2lsOm99LGVuYWJsZTp6LGRpc2FibGU6RixiaW5kRnJhbWVidWZmZXI6ZnVuY3Rpb24oZSxuKXtudWxsPT09biYmbnVsbCE9PWMmJihuPWMpLGhbZV0hPT1uJiYodC5iaW5kRnJhbWVidWZmZXIoZSxuKSxoW2VdPW4sciYmKDM2MDA5PT09ZSYmKGhbMzYxNjBdPW4pLDM2MTYwPT09ZSYmKGhbMzYwMDldPW4pKSl9LGJpbmRYUkZyYW1lYnVmZmVyOmZ1bmN0aW9uKGUpe2UhPT1jJiYodC5iaW5kRnJhbWVidWZmZXIoMzYxNjAsZSksYz1lKX0sdXNlUHJvZ3JhbTpmdW5jdGlvbihlKXtyZXR1cm4gdSE9PWUmJih0LnVzZVByb2dyYW0oZSksdT1lLCEwKX0sc2V0QmxlbmRpbmc6RyxzZXRNYXRlcmlhbDpmdW5jdGlvbih0LGUpezI9PT10LnNpZGU/RigyODg0KTp6KDI4ODQpO2xldCBuPTE9PT10LnNpZGU7ZSYmKG49IW4pLFUobiksMT09PXQuYmxlbmRpbmcmJiExPT09dC50cmFuc3BhcmVudD9HKDApOkcodC5ibGVuZGluZyx0LmJsZW5kRXF1YXRpb24sdC5ibGVuZFNyYyx0LmJsZW5kRHN0LHQuYmxlbmRFcXVhdGlvbkFscGhhLHQuYmxlbmRTcmNBbHBoYSx0LmJsZW5kRHN0QWxwaGEsdC5wcmVtdWx0aXBsaWVkQWxwaGEpLGEuc2V0RnVuYyh0LmRlcHRoRnVuYyksYS5zZXRUZXN0KHQuZGVwdGhUZXN0KSxhLnNldE1hc2sodC5kZXB0aFdyaXRlKSxzLnNldE1hc2sodC5jb2xvcldyaXRlKTtjb25zdCBpPXQuc3RlbmNpbFdyaXRlO28uc2V0VGVzdChpKSxpJiYoby5zZXRNYXNrKHQuc3RlbmNpbFdyaXRlTWFzayksby5zZXRGdW5jKHQuc3RlbmNpbEZ1bmMsdC5zdGVuY2lsUmVmLHQuc3RlbmNpbEZ1bmNNYXNrKSxvLnNldE9wKHQuc3RlbmNpbEZhaWwsdC5zdGVuY2lsWkZhaWwsdC5zdGVuY2lsWlBhc3MpKSxWKHQucG9seWdvbk9mZnNldCx0LnBvbHlnb25PZmZzZXRGYWN0b3IsdC5wb2x5Z29uT2Zmc2V0VW5pdHMpLCEwPT09dC5hbHBoYVRvQ292ZXJhZ2U/eigzMjkyNik6RigzMjkyNil9LHNldEZsaXBTaWRlZDpVLHNldEN1bGxGYWNlOmssc2V0TGluZVdpZHRoOmZ1bmN0aW9uKGUpe2UhPT1NJiYoQSYmdC5saW5lV2lkdGgoZSksTT1lKX0sc2V0UG9seWdvbk9mZnNldDpWLHNldFNjaXNzb3JUZXN0OmZ1bmN0aW9uKHQpe3Q/eigzMDg5KTpGKDMwODkpfSxhY3RpdmVUZXh0dXJlOlcsYmluZFRleHR1cmU6ZnVuY3Rpb24oZSxuKXtudWxsPT09QyYmVygpO2xldCBpPVBbQ107dm9pZCAwPT09aSYmKGk9e3R5cGU6dm9pZCAwLHRleHR1cmU6dm9pZCAwfSxQW0NdPWkpLGkudHlwZT09PWUmJmkudGV4dHVyZT09PW58fCh0LmJpbmRUZXh0dXJlKGUsbnx8QltlXSksaS50eXBlPWUsaS50ZXh0dXJlPW4pfSx1bmJpbmRUZXh0dXJlOmZ1bmN0aW9uKCl7Y29uc3QgZT1QW0NdO3ZvaWQgMCE9PWUmJnZvaWQgMCE9PWUudHlwZSYmKHQuYmluZFRleHR1cmUoZS50eXBlLG51bGwpLGUudHlwZT12b2lkIDAsZS50ZXh0dXJlPXZvaWQgMCl9LGNvbXByZXNzZWRUZXhJbWFnZTJEOmZ1bmN0aW9uKCl7dHJ5e3QuY29tcHJlc3NlZFRleEltYWdlMkQuYXBwbHkodCxhcmd1bWVudHMpfWNhdGNoKHQpe2NvbnNvbGUuZXJyb3IoIlRIUkVFLldlYkdMU3RhdGU6Iix0KX19LHRleEltYWdlMkQ6ZnVuY3Rpb24oKXt0cnl7dC50ZXhJbWFnZTJELmFwcGx5KHQsYXJndW1lbnRzKX1jYXRjaCh0KXtjb25zb2xlLmVycm9yKCJUSFJFRS5XZWJHTFN0YXRlOiIsdCl9fSx0ZXhJbWFnZTNEOmZ1bmN0aW9uKCl7dHJ5e3QudGV4SW1hZ2UzRC5hcHBseSh0LGFyZ3VtZW50cyl9Y2F0Y2godCl7Y29uc29sZS5lcnJvcigiVEhSRUUuV2ViR0xTdGF0ZToiLHQpfX0sc2Npc3NvcjpmdW5jdGlvbihlKXshMT09PUQuZXF1YWxzKGUpJiYodC5zY2lzc29yKGUueCxlLnksZS56LGUudyksRC5jb3B5KGUpKX0sdmlld3BvcnQ6ZnVuY3Rpb24oZSl7ITE9PT1JLmVxdWFscyhlKSYmKHQudmlld3BvcnQoZS54LGUueSxlLnosZS53KSxJLmNvcHkoZSkpfSxyZXNldDpmdW5jdGlvbigpe3QuZGlzYWJsZSgzMDQyKSx0LmRpc2FibGUoMjg4NCksdC5kaXNhYmxlKDI5MjkpLHQuZGlzYWJsZSgzMjgyMyksdC5kaXNhYmxlKDMwODkpLHQuZGlzYWJsZSgyOTYwKSx0LmRpc2FibGUoMzI5MjYpLHQuYmxlbmRFcXVhdGlvbigzMjc3NCksdC5ibGVuZEZ1bmMoMSwwKSx0LmJsZW5kRnVuY1NlcGFyYXRlKDEsMCwxLDApLHQuY29sb3JNYXNrKCEwLCEwLCEwLCEwKSx0LmNsZWFyQ29sb3IoMCwwLDAsMCksdC5kZXB0aE1hc2soITApLHQuZGVwdGhGdW5jKDUxMyksdC5jbGVhckRlcHRoKDEpLHQuc3RlbmNpbE1hc2soNDI5NDk2NzI5NSksdC5zdGVuY2lsRnVuYyg1MTksMCw0Mjk0OTY3Mjk1KSx0LnN0ZW5jaWxPcCg3NjgwLDc2ODAsNzY4MCksdC5jbGVhclN0ZW5jaWwoMCksdC5jdWxsRmFjZSgxMDI5KSx0LmZyb250RmFjZSgyMzA1KSx0LnBvbHlnb25PZmZzZXQoMCwwKSx0LmFjdGl2ZVRleHR1cmUoMzM5ODQpLHQuYmluZEZyYW1lYnVmZmVyKDM2MTYwLG51bGwpLCEwPT09ciYmKHQuYmluZEZyYW1lYnVmZmVyKDM2MDA5LG51bGwpLHQuYmluZEZyYW1lYnVmZmVyKDM2MDA4LG51bGwpKSx0LnVzZVByb2dyYW0obnVsbCksdC5saW5lV2lkdGgoMSksdC5zY2lzc29yKDAsMCx0LmNhbnZhcy53aWR0aCx0LmNhbnZhcy5oZWlnaHQpLHQudmlld3BvcnQoMCwwLHQuY2FudmFzLndpZHRoLHQuY2FudmFzLmhlaWdodCksbD17fSxDPW51bGwsUD17fSxjPW51bGwsaD17fSx1PW51bGwsZD0hMSxwPW51bGwsbT1udWxsLGY9bnVsbCxnPW51bGwsdj1udWxsLHk9bnVsbCx4PW51bGwsXz0hMSx3PW51bGwsYj1udWxsLE09bnVsbCxTPW51bGwsVD1udWxsLEQuc2V0KDAsMCx0LmNhbnZhcy53aWR0aCx0LmNhbnZhcy5oZWlnaHQpLEkuc2V0KDAsMCx0LmNhbnZhcy53aWR0aCx0LmNhbnZhcy5oZWlnaHQpLHMucmVzZXQoKSxhLnJlc2V0KCksby5yZXNldCgpfX19ZnVuY3Rpb24gcHModCxlLG4saSxyLHMsYSl7Y29uc3Qgbz1yLmlzV2ViR0wyLGw9ci5tYXhUZXh0dXJlcyxjPXIubWF4Q3ViZW1hcFNpemUseD1yLm1heFRleHR1cmVTaXplLFI9ci5tYXhTYW1wbGVzLEM9bmV3IFdlYWtNYXA7bGV0IFAsRD0hMTt0cnl7RD0idW5kZWZpbmVkIiE9dHlwZW9mIE9mZnNjcmVlbkNhbnZhcyYmbnVsbCE9PW5ldyBPZmZzY3JlZW5DYW52YXMoMSwxKS5nZXRDb250ZXh0KCIyZCIpfWNhdGNoKHQpe31mdW5jdGlvbiBJKHQsZSl7cmV0dXJuIEQ/bmV3IE9mZnNjcmVlbkNhbnZhcyh0LGUpOmRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUygiaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIsImNhbnZhcyIpfWZ1bmN0aW9uIE4odCxlLG4saSl7bGV0IHI9MTtpZigodC53aWR0aD5pfHx0LmhlaWdodD5pKSYmKHI9aS9NYXRoLm1heCh0LndpZHRoLHQuaGVpZ2h0KSkscjwxfHwhMD09PWUpe2lmKCJ1bmRlZmluZWQiIT10eXBlb2YgSFRNTEltYWdlRWxlbWVudCYmdCBpbnN0YW5jZW9mIEhUTUxJbWFnZUVsZW1lbnR8fCJ1bmRlZmluZWQiIT10eXBlb2YgSFRNTENhbnZhc0VsZW1lbnQmJnQgaW5zdGFuY2VvZiBIVE1MQ2FudmFzRWxlbWVudHx8InVuZGVmaW5lZCIhPXR5cGVvZiBJbWFnZUJpdG1hcCYmdCBpbnN0YW5jZW9mIEltYWdlQml0bWFwKXtjb25zdCBpPWU/ZnQ6TWF0aC5mbG9vcixzPWkocip0LndpZHRoKSxhPWkocip0LmhlaWdodCk7dm9pZCAwPT09UCYmKFA9SShzLGEpKTtjb25zdCBvPW4/SShzLGEpOlA7by53aWR0aD1zLG8uaGVpZ2h0PWE7cmV0dXJuIG8uZ2V0Q29udGV4dCgiMmQiKS5kcmF3SW1hZ2UodCwwLDAscyxhKSxjb25zb2xlLndhcm4oIlRIUkVFLldlYkdMUmVuZGVyZXI6IFRleHR1cmUgaGFzIGJlZW4gcmVzaXplZCBmcm9tICgiK3Qud2lkdGgrIngiK3QuaGVpZ2h0KyIpIHRvICgiK3MrIngiK2ErIikuIiksb31yZXR1cm4iZGF0YSJpbiB0JiZjb25zb2xlLndhcm4oIlRIUkVFLldlYkdMUmVuZGVyZXI6IEltYWdlIGluIERhdGFUZXh0dXJlIGlzIHRvbyBiaWcgKCIrdC53aWR0aCsieCIrdC5oZWlnaHQrIikuIiksdH1yZXR1cm4gdH1mdW5jdGlvbiBCKHQpe3JldHVybiBwdCh0LndpZHRoKSYmcHQodC5oZWlnaHQpfWZ1bmN0aW9uIHoodCxlKXtyZXR1cm4gdC5nZW5lcmF0ZU1pcG1hcHMmJmUmJnQubWluRmlsdGVyIT09cCYmdC5taW5GaWx0ZXIhPT1nfWZ1bmN0aW9uIEYoZSxuLHIscyl7dC5nZW5lcmF0ZU1pcG1hcChlKTtpLmdldChuKS5fX21heE1pcExldmVsPU1hdGgubG9nMihNYXRoLm1heChyLHMpKX1mdW5jdGlvbiBPKG4saSxyKXtpZighMT09PW8pcmV0dXJuIGk7aWYobnVsbCE9PW4pe2lmKHZvaWQgMCE9PXRbbl0pcmV0dXJuIHRbbl07Y29uc29sZS53YXJuKCJUSFJFRS5XZWJHTFJlbmRlcmVyOiBBdHRlbXB0IHRvIHVzZSBub24tZXhpc3RpbmcgV2ViR0wgaW50ZXJuYWwgZm9ybWF0ICciK24rIiciKX1sZXQgcz1pO3JldHVybiA2NDAzPT09aSYmKDUxMjY9PT1yJiYocz0zMzMyNiksNTEzMT09PXImJihzPTMzMzI1KSw1MTIxPT09ciYmKHM9MzMzMjEpKSw2NDA3PT09aSYmKDUxMjY9PT1yJiYocz0zNDgzNyksNTEzMT09PXImJihzPTM0ODQzKSw1MTIxPT09ciYmKHM9MzI4NDkpKSw2NDA4PT09aSYmKDUxMjY9PT1yJiYocz0zNDgzNiksNTEzMT09PXImJihzPTM0ODQyKSw1MTIxPT09ciYmKHM9MzI4NTYpKSwzMzMyNSE9PXMmJjMzMzI2IT09cyYmMzQ4NDIhPT1zJiYzNDgzNiE9PXN8fGUuZ2V0KCJFWFRfY29sb3JfYnVmZmVyX2Zsb2F0Iiksc31mdW5jdGlvbiBIKHQpe3JldHVybiB0PT09cHx8dD09PW18fHQ9PT1mPzk3Mjg6OTcyOX1mdW5jdGlvbiBHKGUpe2NvbnN0IG49ZS50YXJnZXQ7bi5yZW1vdmVFdmVudExpc3RlbmVyKCJkaXNwb3NlIixHKSxmdW5jdGlvbihlKXtjb25zdCBuPWkuZ2V0KGUpO2lmKHZvaWQgMD09PW4uX193ZWJnbEluaXQpcmV0dXJuO3QuZGVsZXRlVGV4dHVyZShuLl9fd2ViZ2xUZXh0dXJlKSxpLnJlbW92ZShlKX0obiksbi5pc1ZpZGVvVGV4dHVyZSYmQy5kZWxldGUobiksYS5tZW1vcnkudGV4dHVyZXMtLX1mdW5jdGlvbiBVKGUpe2NvbnN0IG49ZS50YXJnZXQ7bi5yZW1vdmVFdmVudExpc3RlbmVyKCJkaXNwb3NlIixVKSxmdW5jdGlvbihlKXtjb25zdCBuPWUudGV4dHVyZSxyPWkuZ2V0KGUpLHM9aS5nZXQobik7aWYoIWUpcmV0dXJuO3ZvaWQgMCE9PXMuX193ZWJnbFRleHR1cmUmJnQuZGVsZXRlVGV4dHVyZShzLl9fd2ViZ2xUZXh0dXJlKTtlLmRlcHRoVGV4dHVyZSYmZS5kZXB0aFRleHR1cmUuZGlzcG9zZSgpO2lmKGUuaXNXZWJHTEN1YmVSZW5kZXJUYXJnZXQpZm9yKGxldCBlPTA7ZTw2O2UrKyl0LmRlbGV0ZUZyYW1lYnVmZmVyKHIuX193ZWJnbEZyYW1lYnVmZmVyW2VdKSxyLl9fd2ViZ2xEZXB0aGJ1ZmZlciYmdC5kZWxldGVSZW5kZXJidWZmZXIoci5fX3dlYmdsRGVwdGhidWZmZXJbZV0pO2Vsc2UgdC5kZWxldGVGcmFtZWJ1ZmZlcihyLl9fd2ViZ2xGcmFtZWJ1ZmZlciksci5fX3dlYmdsRGVwdGhidWZmZXImJnQuZGVsZXRlUmVuZGVyYnVmZmVyKHIuX193ZWJnbERlcHRoYnVmZmVyKSxyLl9fd2ViZ2xNdWx0aXNhbXBsZWRGcmFtZWJ1ZmZlciYmdC5kZWxldGVGcmFtZWJ1ZmZlcihyLl9fd2ViZ2xNdWx0aXNhbXBsZWRGcmFtZWJ1ZmZlciksci5fX3dlYmdsQ29sb3JSZW5kZXJidWZmZXImJnQuZGVsZXRlUmVuZGVyYnVmZmVyKHIuX193ZWJnbENvbG9yUmVuZGVyYnVmZmVyKSxyLl9fd2ViZ2xEZXB0aFJlbmRlcmJ1ZmZlciYmdC5kZWxldGVSZW5kZXJidWZmZXIoci5fX3dlYmdsRGVwdGhSZW5kZXJidWZmZXIpO2kucmVtb3ZlKG4pLGkucmVtb3ZlKGUpfShuKSxhLm1lbW9yeS50ZXh0dXJlcy0tfWxldCBrPTA7ZnVuY3Rpb24gVih0LGUpe2NvbnN0IHI9aS5nZXQodCk7aWYodC5pc1ZpZGVvVGV4dHVyZSYmZnVuY3Rpb24odCl7Y29uc3QgZT1hLnJlbmRlci5mcmFtZTtDLmdldCh0KSE9PWUmJihDLnNldCh0LGUpLHQudXBkYXRlKCkpfSh0KSx0LnZlcnNpb24+MCYmci5fX3ZlcnNpb24hPT10LnZlcnNpb24pe2NvbnN0IG49dC5pbWFnZTtpZih2b2lkIDA9PT1uKWNvbnNvbGUud2FybigiVEhSRUUuV2ViR0xSZW5kZXJlcjogVGV4dHVyZSBtYXJrZWQgZm9yIHVwZGF0ZSBidXQgaW1hZ2UgaXMgdW5kZWZpbmVkIik7ZWxzZXtpZighMSE9PW4uY29tcGxldGUpcmV0dXJuIHZvaWQgWihyLHQsZSk7Y29uc29sZS53YXJuKCJUSFJFRS5XZWJHTFJlbmRlcmVyOiBUZXh0dXJlIG1hcmtlZCBmb3IgdXBkYXRlIGJ1dCBpbWFnZSBpcyBpbmNvbXBsZXRlIil9fW4uYWN0aXZlVGV4dHVyZSgzMzk4NCtlKSxuLmJpbmRUZXh0dXJlKDM1NTMsci5fX3dlYmdsVGV4dHVyZSl9ZnVuY3Rpb24gVyhlLHIpe2NvbnN0IGE9aS5nZXQoZSk7ZS52ZXJzaW9uPjAmJmEuX192ZXJzaW9uIT09ZS52ZXJzaW9uP2Z1bmN0aW9uKGUsaSxyKXtpZig2IT09aS5pbWFnZS5sZW5ndGgpcmV0dXJuO1koZSxpKSxuLmFjdGl2ZVRleHR1cmUoMzM5ODQrciksbi5iaW5kVGV4dHVyZSgzNDA2NyxlLl9fd2ViZ2xUZXh0dXJlKSx0LnBpeGVsU3RvcmVpKDM3NDQwLGkuZmxpcFkpLHQucGl4ZWxTdG9yZWkoMzc0NDEsaS5wcmVtdWx0aXBseUFscGhhKSx0LnBpeGVsU3RvcmVpKDMzMTcsaS51bnBhY2tBbGlnbm1lbnQpLHQucGl4ZWxTdG9yZWkoMzc0NDMsMCk7Y29uc3QgYT1pJiYoaS5pc0NvbXByZXNzZWRUZXh0dXJlfHxpLmltYWdlWzBdLmlzQ29tcHJlc3NlZFRleHR1cmUpLGw9aS5pbWFnZVswXSYmaS5pbWFnZVswXS5pc0RhdGFUZXh0dXJlLGg9W107Zm9yKGxldCB0PTA7dDw2O3QrKyloW3RdPWF8fGw/bD9pLmltYWdlW3RdLmltYWdlOmkuaW1hZ2VbdF06TihpLmltYWdlW3RdLCExLCEwLGMpO2NvbnN0IHU9aFswXSxkPUIodSl8fG8scD1zLmNvbnZlcnQoaS5mb3JtYXQpLG09cy5jb252ZXJ0KGkudHlwZSksZj1PKGkuaW50ZXJuYWxGb3JtYXQscCxtKTtsZXQgZztpZihYKDM0MDY3LGksZCksYSl7Zm9yKGxldCB0PTA7dDw2O3QrKyl7Zz1oW3RdLm1pcG1hcHM7Zm9yKGxldCBlPTA7ZTxnLmxlbmd0aDtlKyspe2NvbnN0IHI9Z1tlXTtpLmZvcm1hdCE9PUUmJmkuZm9ybWF0IT09VD9udWxsIT09cD9uLmNvbXByZXNzZWRUZXhJbWFnZTJEKDM0MDY5K3QsZSxmLHIud2lkdGgsci5oZWlnaHQsMCxyLmRhdGEpOmNvbnNvbGUud2FybigiVEhSRUUuV2ViR0xSZW5kZXJlcjogQXR0ZW1wdCB0byBsb2FkIHVuc3VwcG9ydGVkIGNvbXByZXNzZWQgdGV4dHVyZSBmb3JtYXQgaW4gLnNldFRleHR1cmVDdWJlKCkiKTpuLnRleEltYWdlMkQoMzQwNjkrdCxlLGYsci53aWR0aCxyLmhlaWdodCwwLHAsbSxyLmRhdGEpfX1lLl9fbWF4TWlwTGV2ZWw9Zy5sZW5ndGgtMX1lbHNle2c9aS5taXBtYXBzO2ZvcihsZXQgdD0wO3Q8Njt0KyspaWYobCl7bi50ZXhJbWFnZTJEKDM0MDY5K3QsMCxmLGhbdF0ud2lkdGgsaFt0XS5oZWlnaHQsMCxwLG0saFt0XS5kYXRhKTtmb3IobGV0IGU9MDtlPGcubGVuZ3RoO2UrKyl7Y29uc3QgaT1nW2VdLmltYWdlW3RdLmltYWdlO24udGV4SW1hZ2UyRCgzNDA2OSt0LGUrMSxmLGkud2lkdGgsaS5oZWlnaHQsMCxwLG0saS5kYXRhKX19ZWxzZXtuLnRleEltYWdlMkQoMzQwNjkrdCwwLGYscCxtLGhbdF0pO2ZvcihsZXQgZT0wO2U8Zy5sZW5ndGg7ZSsrKXtjb25zdCBpPWdbZV07bi50ZXhJbWFnZTJEKDM0MDY5K3QsZSsxLGYscCxtLGkuaW1hZ2VbdF0pfX1lLl9fbWF4TWlwTGV2ZWw9Zy5sZW5ndGh9eihpLGQpJiZGKDM0MDY3LGksdS53aWR0aCx1LmhlaWdodCk7ZS5fX3ZlcnNpb249aS52ZXJzaW9uLGkub25VcGRhdGUmJmkub25VcGRhdGUoaSl9KGEsZSxyKToobi5hY3RpdmVUZXh0dXJlKDMzOTg0K3IpLG4uYmluZFRleHR1cmUoMzQwNjcsYS5fX3dlYmdsVGV4dHVyZSkpfWNvbnN0IGo9e1toXToxMDQ5NyxbdV06MzMwNzEsW2RdOjMzNjQ4fSxxPXtbcF06OTcyOCxbbV06OTk4NCxbZl06OTk4NixbZ106OTcyOSxbdl06OTk4NSxbeV06OTk4N307ZnVuY3Rpb24gWChuLHMsYSl7aWYoYT8odC50ZXhQYXJhbWV0ZXJpKG4sMTAyNDIsaltzLndyYXBTXSksdC50ZXhQYXJhbWV0ZXJpKG4sMTAyNDMsaltzLndyYXBUXSksMzI4NzkhPT1uJiYzNTg2NiE9PW58fHQudGV4UGFyYW1ldGVyaShuLDMyODgyLGpbcy53cmFwUl0pLHQudGV4UGFyYW1ldGVyaShuLDEwMjQwLHFbcy5tYWdGaWx0ZXJdKSx0LnRleFBhcmFtZXRlcmkobiwxMDI0MSxxW3MubWluRmlsdGVyXSkpOih0LnRleFBhcmFtZXRlcmkobiwxMDI0MiwzMzA3MSksdC50ZXhQYXJhbWV0ZXJpKG4sMTAyNDMsMzMwNzEpLDMyODc5IT09biYmMzU4NjYhPT1ufHx0LnRleFBhcmFtZXRlcmkobiwzMjg4MiwzMzA3MSkscy53cmFwUz09PXUmJnMud3JhcFQ9PT11fHxjb25zb2xlLndhcm4oIlRIUkVFLldlYkdMUmVuZGVyZXI6IFRleHR1cmUgaXMgbm90IHBvd2VyIG9mIHR3by4gVGV4dHVyZS53cmFwUyBhbmQgVGV4dHVyZS53cmFwVCBzaG91bGQgYmUgc2V0IHRvIFRIUkVFLkNsYW1wVG9FZGdlV3JhcHBpbmcuIiksdC50ZXhQYXJhbWV0ZXJpKG4sMTAyNDAsSChzLm1hZ0ZpbHRlcikpLHQudGV4UGFyYW1ldGVyaShuLDEwMjQxLEgocy5taW5GaWx0ZXIpKSxzLm1pbkZpbHRlciE9PXAmJnMubWluRmlsdGVyIT09ZyYmY29uc29sZS53YXJuKCJUSFJFRS5XZWJHTFJlbmRlcmVyOiBUZXh0dXJlIGlzIG5vdCBwb3dlciBvZiB0d28uIFRleHR1cmUubWluRmlsdGVyIHNob3VsZCBiZSBzZXQgdG8gVEhSRUUuTmVhcmVzdEZpbHRlciBvciBUSFJFRS5MaW5lYXJGaWx0ZXIuIikpLCEwPT09ZS5oYXMoIkVYVF90ZXh0dXJlX2ZpbHRlcl9hbmlzb3Ryb3BpYyIpKXtjb25zdCBhPWUuZ2V0KCJFWFRfdGV4dHVyZV9maWx0ZXJfYW5pc290cm9waWMiKTtpZihzLnR5cGU9PT1iJiYhMT09PWUuaGFzKCJPRVNfdGV4dHVyZV9mbG9hdF9saW5lYXIiKSlyZXR1cm47aWYoITE9PT1vJiZzLnR5cGU9PT1NJiYhMT09PWUuaGFzKCJPRVNfdGV4dHVyZV9oYWxmX2Zsb2F0X2xpbmVhciIpKXJldHVybjsocy5hbmlzb3Ryb3B5PjF8fGkuZ2V0KHMpLl9fY3VycmVudEFuaXNvdHJvcHkpJiYodC50ZXhQYXJhbWV0ZXJmKG4sYS5URVhUVVJFX01BWF9BTklTT1RST1BZX0VYVCxNYXRoLm1pbihzLmFuaXNvdHJvcHksci5nZXRNYXhBbmlzb3Ryb3B5KCkpKSxpLmdldChzKS5fX2N1cnJlbnRBbmlzb3Ryb3B5PXMuYW5pc290cm9weSl9fWZ1bmN0aW9uIFkoZSxuKXt2b2lkIDA9PT1lLl9fd2ViZ2xJbml0JiYoZS5fX3dlYmdsSW5pdD0hMCxuLmFkZEV2ZW50TGlzdGVuZXIoImRpc3Bvc2UiLEcpLGUuX193ZWJnbFRleHR1cmU9dC5jcmVhdGVUZXh0dXJlKCksYS5tZW1vcnkudGV4dHVyZXMrKyl9ZnVuY3Rpb24gWihlLGkscil7bGV0IGE9MzU1MztpLmlzRGF0YVRleHR1cmUyREFycmF5JiYoYT0zNTg2NiksaS5pc0RhdGFUZXh0dXJlM0QmJihhPTMyODc5KSxZKGUsaSksbi5hY3RpdmVUZXh0dXJlKDMzOTg0K3IpLG4uYmluZFRleHR1cmUoYSxlLl9fd2ViZ2xUZXh0dXJlKSx0LnBpeGVsU3RvcmVpKDM3NDQwLGkuZmxpcFkpLHQucGl4ZWxTdG9yZWkoMzc0NDEsaS5wcmVtdWx0aXBseUFscGhhKSx0LnBpeGVsU3RvcmVpKDMzMTcsaS51bnBhY2tBbGlnbm1lbnQpLHQucGl4ZWxTdG9yZWkoMzc0NDMsMCk7Y29uc3QgbD1mdW5jdGlvbih0KXtyZXR1cm4hbyYmKHQud3JhcFMhPT11fHx0LndyYXBUIT09dXx8dC5taW5GaWx0ZXIhPT1wJiZ0Lm1pbkZpbHRlciE9PWcpfShpKSYmITE9PT1CKGkuaW1hZ2UpLGM9TihpLmltYWdlLGwsITEseCksaD1CKGMpfHxvLGQ9cy5jb252ZXJ0KGkuZm9ybWF0KTtsZXQgbSxmPXMuY29udmVydChpLnR5cGUpLHY9TyhpLmludGVybmFsRm9ybWF0LGQsZik7WChhLGksaCk7Y29uc3QgeT1pLm1pcG1hcHM7aWYoaS5pc0RlcHRoVGV4dHVyZSl2PTY0MDIsbz92PWkudHlwZT09PWI/MzYwMTI6aS50eXBlPT09dz8zMzE5MDppLnR5cGU9PT1TPzM1MDU2OjMzMTg5OmkudHlwZT09PWImJmNvbnNvbGUuZXJyb3IoIldlYkdMUmVuZGVyZXI6IEZsb2F0aW5nIHBvaW50IGRlcHRoIHRleHR1cmUgcmVxdWlyZXMgV2ViR0wyLiIpLGkuZm9ybWF0PT09QSYmNjQwMj09PXYmJmkudHlwZSE9PV8mJmkudHlwZSE9PXcmJihjb25zb2xlLndhcm4oIlRIUkVFLldlYkdMUmVuZGVyZXI6IFVzZSBVbnNpZ25lZFNob3J0VHlwZSBvciBVbnNpZ25lZEludFR5cGUgZm9yIERlcHRoRm9ybWF0IERlcHRoVGV4dHVyZS4iKSxpLnR5cGU9XyxmPXMuY29udmVydChpLnR5cGUpKSxpLmZvcm1hdD09PUwmJjY0MDI9PT12JiYodj0zNDA0MSxpLnR5cGUhPT1TJiYoY29uc29sZS53YXJuKCJUSFJFRS5XZWJHTFJlbmRlcmVyOiBVc2UgVW5zaWduZWRJbnQyNDhUeXBlIGZvciBEZXB0aFN0ZW5jaWxGb3JtYXQgRGVwdGhUZXh0dXJlLiIpLGkudHlwZT1TLGY9cy5jb252ZXJ0KGkudHlwZSkpKSxuLnRleEltYWdlMkQoMzU1MywwLHYsYy53aWR0aCxjLmhlaWdodCwwLGQsZixudWxsKTtlbHNlIGlmKGkuaXNEYXRhVGV4dHVyZSlpZih5Lmxlbmd0aD4wJiZoKXtmb3IobGV0IHQ9MCxlPXkubGVuZ3RoO3Q8ZTt0KyspbT15W3RdLG4udGV4SW1hZ2UyRCgzNTUzLHQsdixtLndpZHRoLG0uaGVpZ2h0LDAsZCxmLG0uZGF0YSk7aS5nZW5lcmF0ZU1pcG1hcHM9ITEsZS5fX21heE1pcExldmVsPXkubGVuZ3RoLTF9ZWxzZSBuLnRleEltYWdlMkQoMzU1MywwLHYsYy53aWR0aCxjLmhlaWdodCwwLGQsZixjLmRhdGEpLGUuX19tYXhNaXBMZXZlbD0wO2Vsc2UgaWYoaS5pc0NvbXByZXNzZWRUZXh0dXJlKXtmb3IobGV0IHQ9MCxlPXkubGVuZ3RoO3Q8ZTt0KyspbT15W3RdLGkuZm9ybWF0IT09RSYmaS5mb3JtYXQhPT1UP251bGwhPT1kP24uY29tcHJlc3NlZFRleEltYWdlMkQoMzU1Myx0LHYsbS53aWR0aCxtLmhlaWdodCwwLG0uZGF0YSk6Y29uc29sZS53YXJuKCJUSFJFRS5XZWJHTFJlbmRlcmVyOiBBdHRlbXB0IHRvIGxvYWQgdW5zdXBwb3J0ZWQgY29tcHJlc3NlZCB0ZXh0dXJlIGZvcm1hdCBpbiAudXBsb2FkVGV4dHVyZSgpIik6bi50ZXhJbWFnZTJEKDM1NTMsdCx2LG0ud2lkdGgsbS5oZWlnaHQsMCxkLGYsbS5kYXRhKTtlLl9fbWF4TWlwTGV2ZWw9eS5sZW5ndGgtMX1lbHNlIGlmKGkuaXNEYXRhVGV4dHVyZTJEQXJyYXkpbi50ZXhJbWFnZTNEKDM1ODY2LDAsdixjLndpZHRoLGMuaGVpZ2h0LGMuZGVwdGgsMCxkLGYsYy5kYXRhKSxlLl9fbWF4TWlwTGV2ZWw9MDtlbHNlIGlmKGkuaXNEYXRhVGV4dHVyZTNEKW4udGV4SW1hZ2UzRCgzMjg3OSwwLHYsYy53aWR0aCxjLmhlaWdodCxjLmRlcHRoLDAsZCxmLGMuZGF0YSksZS5fX21heE1pcExldmVsPTA7ZWxzZSBpZih5Lmxlbmd0aD4wJiZoKXtmb3IobGV0IHQ9MCxlPXkubGVuZ3RoO3Q8ZTt0KyspbT15W3RdLG4udGV4SW1hZ2UyRCgzNTUzLHQsdixkLGYsbSk7aS5nZW5lcmF0ZU1pcG1hcHM9ITEsZS5fX21heE1pcExldmVsPXkubGVuZ3RoLTF9ZWxzZSBuLnRleEltYWdlMkQoMzU1MywwLHYsZCxmLGMpLGUuX19tYXhNaXBMZXZlbD0wO3ooaSxoKSYmRihhLGksYy53aWR0aCxjLmhlaWdodCksZS5fX3ZlcnNpb249aS52ZXJzaW9uLGkub25VcGRhdGUmJmkub25VcGRhdGUoaSl9ZnVuY3Rpb24gSihlLHIsYSxvKXtjb25zdCBsPXIudGV4dHVyZSxjPXMuY29udmVydChsLmZvcm1hdCksaD1zLmNvbnZlcnQobC50eXBlKSx1PU8obC5pbnRlcm5hbEZvcm1hdCxjLGgpOzMyODc5PT09b3x8MzU4NjY9PT1vP24udGV4SW1hZ2UzRChvLDAsdSxyLndpZHRoLHIuaGVpZ2h0LHIuZGVwdGgsMCxjLGgsbnVsbCk6bi50ZXhJbWFnZTJEKG8sMCx1LHIud2lkdGgsci5oZWlnaHQsMCxjLGgsbnVsbCksbi5iaW5kRnJhbWVidWZmZXIoMzYxNjAsZSksdC5mcmFtZWJ1ZmZlclRleHR1cmUyRCgzNjE2MCxhLG8saS5nZXQobCkuX193ZWJnbFRleHR1cmUsMCksbi5iaW5kRnJhbWVidWZmZXIoMzYxNjAsbnVsbCl9ZnVuY3Rpb24gUShlLG4saSl7aWYodC5iaW5kUmVuZGVyYnVmZmVyKDM2MTYxLGUpLG4uZGVwdGhCdWZmZXImJiFuLnN0ZW5jaWxCdWZmZXIpe2xldCByPTMzMTg5O2lmKGkpe2NvbnN0IGU9bi5kZXB0aFRleHR1cmU7ZSYmZS5pc0RlcHRoVGV4dHVyZSYmKGUudHlwZT09PWI/cj0zNjAxMjplLnR5cGU9PT13JiYocj0zMzE5MCkpO2NvbnN0IGk9JChuKTt0LnJlbmRlcmJ1ZmZlclN0b3JhZ2VNdWx0aXNhbXBsZSgzNjE2MSxpLHIsbi53aWR0aCxuLmhlaWdodCl9ZWxzZSB0LnJlbmRlcmJ1ZmZlclN0b3JhZ2UoMzYxNjEscixuLndpZHRoLG4uaGVpZ2h0KTt0LmZyYW1lYnVmZmVyUmVuZGVyYnVmZmVyKDM2MTYwLDM2MDk2LDM2MTYxLGUpfWVsc2UgaWYobi5kZXB0aEJ1ZmZlciYmbi5zdGVuY2lsQnVmZmVyKXtpZihpKXtjb25zdCBlPSQobik7dC5yZW5kZXJidWZmZXJTdG9yYWdlTXVsdGlzYW1wbGUoMzYxNjEsZSwzNTA1NixuLndpZHRoLG4uaGVpZ2h0KX1lbHNlIHQucmVuZGVyYnVmZmVyU3RvcmFnZSgzNjE2MSwzNDA0MSxuLndpZHRoLG4uaGVpZ2h0KTt0LmZyYW1lYnVmZmVyUmVuZGVyYnVmZmVyKDM2MTYwLDMzMzA2LDM2MTYxLGUpfWVsc2V7Y29uc3QgZT1uLnRleHR1cmUscj1zLmNvbnZlcnQoZS5mb3JtYXQpLGE9cy5jb252ZXJ0KGUudHlwZSksbz1PKGUuaW50ZXJuYWxGb3JtYXQscixhKTtpZihpKXtjb25zdCBlPSQobik7dC5yZW5kZXJidWZmZXJTdG9yYWdlTXVsdGlzYW1wbGUoMzYxNjEsZSxvLG4ud2lkdGgsbi5oZWlnaHQpfWVsc2UgdC5yZW5kZXJidWZmZXJTdG9yYWdlKDM2MTYxLG8sbi53aWR0aCxuLmhlaWdodCl9dC5iaW5kUmVuZGVyYnVmZmVyKDM2MTYxLG51bGwpfWZ1bmN0aW9uIEsoZSl7Y29uc3Qgcj1pLmdldChlKSxzPSEwPT09ZS5pc1dlYkdMQ3ViZVJlbmRlclRhcmdldDtpZihlLmRlcHRoVGV4dHVyZSl7aWYocyl0aHJvdyBuZXcgRXJyb3IoInRhcmdldC5kZXB0aFRleHR1cmUgbm90IHN1cHBvcnRlZCBpbiBDdWJlIHJlbmRlciB0YXJnZXRzIik7IWZ1bmN0aW9uKGUscil7aWYociYmci5pc1dlYkdMQ3ViZVJlbmRlclRhcmdldCl0aHJvdyBuZXcgRXJyb3IoIkRlcHRoIFRleHR1cmUgd2l0aCBjdWJlIHJlbmRlciB0YXJnZXRzIGlzIG5vdCBzdXBwb3J0ZWQiKTtpZihuLmJpbmRGcmFtZWJ1ZmZlcigzNjE2MCxlKSwhci5kZXB0aFRleHR1cmV8fCFyLmRlcHRoVGV4dHVyZS5pc0RlcHRoVGV4dHVyZSl0aHJvdyBuZXcgRXJyb3IoInJlbmRlclRhcmdldC5kZXB0aFRleHR1cmUgbXVzdCBiZSBhbiBpbnN0YW5jZSBvZiBUSFJFRS5EZXB0aFRleHR1cmUiKTtpLmdldChyLmRlcHRoVGV4dHVyZSkuX193ZWJnbFRleHR1cmUmJnIuZGVwdGhUZXh0dXJlLmltYWdlLndpZHRoPT09ci53aWR0aCYmci5kZXB0aFRleHR1cmUuaW1hZ2UuaGVpZ2h0PT09ci5oZWlnaHR8fChyLmRlcHRoVGV4dHVyZS5pbWFnZS53aWR0aD1yLndpZHRoLHIuZGVwdGhUZXh0dXJlLmltYWdlLmhlaWdodD1yLmhlaWdodCxyLmRlcHRoVGV4dHVyZS5uZWVkc1VwZGF0ZT0hMCksVihyLmRlcHRoVGV4dHVyZSwwKTtjb25zdCBzPWkuZ2V0KHIuZGVwdGhUZXh0dXJlKS5fX3dlYmdsVGV4dHVyZTtpZihyLmRlcHRoVGV4dHVyZS5mb3JtYXQ9PT1BKXQuZnJhbWVidWZmZXJUZXh0dXJlMkQoMzYxNjAsMzYwOTYsMzU1MyxzLDApO2Vsc2V7aWYoci5kZXB0aFRleHR1cmUuZm9ybWF0IT09TCl0aHJvdyBuZXcgRXJyb3IoIlVua25vd24gZGVwdGhUZXh0dXJlIGZvcm1hdCIpO3QuZnJhbWVidWZmZXJUZXh0dXJlMkQoMzYxNjAsMzMzMDYsMzU1MyxzLDApfX0oci5fX3dlYmdsRnJhbWVidWZmZXIsZSl9ZWxzZSBpZihzKXtyLl9fd2ViZ2xEZXB0aGJ1ZmZlcj1bXTtmb3IobGV0IGk9MDtpPDY7aSsrKW4uYmluZEZyYW1lYnVmZmVyKDM2MTYwLHIuX193ZWJnbEZyYW1lYnVmZmVyW2ldKSxyLl9fd2ViZ2xEZXB0aGJ1ZmZlcltpXT10LmNyZWF0ZVJlbmRlcmJ1ZmZlcigpLFEoci5fX3dlYmdsRGVwdGhidWZmZXJbaV0sZSwhMSl9ZWxzZSBuLmJpbmRGcmFtZWJ1ZmZlcigzNjE2MCxyLl9fd2ViZ2xGcmFtZWJ1ZmZlciksci5fX3dlYmdsRGVwdGhidWZmZXI9dC5jcmVhdGVSZW5kZXJidWZmZXIoKSxRKHIuX193ZWJnbERlcHRoYnVmZmVyLGUsITEpO24uYmluZEZyYW1lYnVmZmVyKDM2MTYwLG51bGwpfWZ1bmN0aW9uICQodCl7cmV0dXJuIG8mJnQuaXNXZWJHTE11bHRpc2FtcGxlUmVuZGVyVGFyZ2V0P01hdGgubWluKFIsdC5zYW1wbGVzKTowfWxldCB0dD0hMSxldD0hMTt0aGlzLmFsbG9jYXRlVGV4dHVyZVVuaXQ9ZnVuY3Rpb24oKXtjb25zdCB0PWs7cmV0dXJuIHQ+PWwmJmNvbnNvbGUud2FybigiVEhSRUUuV2ViR0xUZXh0dXJlczogVHJ5aW5nIHRvIHVzZSAiK3QrIiB0ZXh0dXJlIHVuaXRzIHdoaWxlIHRoaXMgR1BVIHN1cHBvcnRzIG9ubHkgIitsKSxrKz0xLHR9LHRoaXMucmVzZXRUZXh0dXJlVW5pdHM9ZnVuY3Rpb24oKXtrPTB9LHRoaXMuc2V0VGV4dHVyZTJEPVYsdGhpcy5zZXRUZXh0dXJlMkRBcnJheT1mdW5jdGlvbih0LGUpe2NvbnN0IHI9aS5nZXQodCk7dC52ZXJzaW9uPjAmJnIuX192ZXJzaW9uIT09dC52ZXJzaW9uP1oocix0LGUpOihuLmFjdGl2ZVRleHR1cmUoMzM5ODQrZSksbi5iaW5kVGV4dHVyZSgzNTg2NixyLl9fd2ViZ2xUZXh0dXJlKSl9LHRoaXMuc2V0VGV4dHVyZTNEPWZ1bmN0aW9uKHQsZSl7Y29uc3Qgcj1pLmdldCh0KTt0LnZlcnNpb24+MCYmci5fX3ZlcnNpb24hPT10LnZlcnNpb24/WihyLHQsZSk6KG4uYWN0aXZlVGV4dHVyZSgzMzk4NCtlKSxuLmJpbmRUZXh0dXJlKDMyODc5LHIuX193ZWJnbFRleHR1cmUpKX0sdGhpcy5zZXRUZXh0dXJlQ3ViZT1XLHRoaXMuc2V0dXBSZW5kZXJUYXJnZXQ9ZnVuY3Rpb24oZSl7Y29uc3Qgcj1lLnRleHR1cmUsbD1pLmdldChlKSxjPWkuZ2V0KHIpO2UuYWRkRXZlbnRMaXN0ZW5lcigiZGlzcG9zZSIsVSksYy5fX3dlYmdsVGV4dHVyZT10LmNyZWF0ZVRleHR1cmUoKSxjLl9fdmVyc2lvbj1yLnZlcnNpb24sYS5tZW1vcnkudGV4dHVyZXMrKztjb25zdCBoPSEwPT09ZS5pc1dlYkdMQ3ViZVJlbmRlclRhcmdldCx1PSEwPT09ZS5pc1dlYkdMTXVsdGlzYW1wbGVSZW5kZXJUYXJnZXQsZD1yLmlzRGF0YVRleHR1cmUzRHx8ci5pc0RhdGFUZXh0dXJlMkRBcnJheSxwPUIoZSl8fG87aWYoIW98fHIuZm9ybWF0IT09VHx8ci50eXBlIT09YiYmci50eXBlIT09TXx8KHIuZm9ybWF0PUUsY29uc29sZS53YXJuKCJUSFJFRS5XZWJHTFJlbmRlcmVyOiBSZW5kZXJpbmcgdG8gdGV4dHVyZXMgd2l0aCBSR0IgZm9ybWF0IGlzIG5vdCBzdXBwb3J0ZWQuIFVzaW5nIFJHQkEgZm9ybWF0IGluc3RlYWQuIikpLGgpe2wuX193ZWJnbEZyYW1lYnVmZmVyPVtdO2ZvcihsZXQgZT0wO2U8NjtlKyspbC5fX3dlYmdsRnJhbWVidWZmZXJbZV09dC5jcmVhdGVGcmFtZWJ1ZmZlcigpfWVsc2UgaWYobC5fX3dlYmdsRnJhbWVidWZmZXI9dC5jcmVhdGVGcmFtZWJ1ZmZlcigpLHUpaWYobyl7bC5fX3dlYmdsTXVsdGlzYW1wbGVkRnJhbWVidWZmZXI9dC5jcmVhdGVGcmFtZWJ1ZmZlcigpLGwuX193ZWJnbENvbG9yUmVuZGVyYnVmZmVyPXQuY3JlYXRlUmVuZGVyYnVmZmVyKCksdC5iaW5kUmVuZGVyYnVmZmVyKDM2MTYxLGwuX193ZWJnbENvbG9yUmVuZGVyYnVmZmVyKTtjb25zdCBpPXMuY29udmVydChyLmZvcm1hdCksYT1zLmNvbnZlcnQoci50eXBlKSxvPU8oci5pbnRlcm5hbEZvcm1hdCxpLGEpLGM9JChlKTt0LnJlbmRlcmJ1ZmZlclN0b3JhZ2VNdWx0aXNhbXBsZSgzNjE2MSxjLG8sZS53aWR0aCxlLmhlaWdodCksbi5iaW5kRnJhbWVidWZmZXIoMzYxNjAsbC5fX3dlYmdsTXVsdGlzYW1wbGVkRnJhbWVidWZmZXIpLHQuZnJhbWVidWZmZXJSZW5kZXJidWZmZXIoMzYxNjAsMzYwNjQsMzYxNjEsbC5fX3dlYmdsQ29sb3JSZW5kZXJidWZmZXIpLHQuYmluZFJlbmRlcmJ1ZmZlcigzNjE2MSxudWxsKSxlLmRlcHRoQnVmZmVyJiYobC5fX3dlYmdsRGVwdGhSZW5kZXJidWZmZXI9dC5jcmVhdGVSZW5kZXJidWZmZXIoKSxRKGwuX193ZWJnbERlcHRoUmVuZGVyYnVmZmVyLGUsITApKSxuLmJpbmRGcmFtZWJ1ZmZlcigzNjE2MCxudWxsKX1lbHNlIGNvbnNvbGUud2FybigiVEhSRUUuV2ViR0xSZW5kZXJlcjogV2ViR0xNdWx0aXNhbXBsZVJlbmRlclRhcmdldCBjYW4gb25seSBiZSB1c2VkIHdpdGggV2ViR0wyLiIpO2lmKGgpe24uYmluZFRleHR1cmUoMzQwNjcsYy5fX3dlYmdsVGV4dHVyZSksWCgzNDA2NyxyLHApO2ZvcihsZXQgdD0wO3Q8Njt0KyspSihsLl9fd2ViZ2xGcmFtZWJ1ZmZlclt0XSxlLDM2MDY0LDM0MDY5K3QpO3oocixwKSYmRigzNDA2NyxyLGUud2lkdGgsZS5oZWlnaHQpLG4uYmluZFRleHR1cmUoMzQwNjcsbnVsbCl9ZWxzZXtsZXQgdD0zNTUzO2lmKGQpaWYobyl7dD1yLmlzRGF0YVRleHR1cmUzRD8zMjg3OTozNTg2Nn1lbHNlIGNvbnNvbGUud2FybigiVEhSRUUuRGF0YVRleHR1cmUzRCBhbmQgVEhSRUUuRGF0YVRleHR1cmUyREFycmF5IG9ubHkgc3VwcG9ydGVkIHdpdGggV2ViR0wyLiIpO24uYmluZFRleHR1cmUodCxjLl9fd2ViZ2xUZXh0dXJlKSxYKHQscixwKSxKKGwuX193ZWJnbEZyYW1lYnVmZmVyLGUsMzYwNjQsdCkseihyLHApJiZGKDM1NTMscixlLndpZHRoLGUuaGVpZ2h0KSxuLmJpbmRUZXh0dXJlKDM1NTMsbnVsbCl9ZS5kZXB0aEJ1ZmZlciYmSyhlKX0sdGhpcy51cGRhdGVSZW5kZXJUYXJnZXRNaXBtYXA9ZnVuY3Rpb24odCl7Y29uc3QgZT10LnRleHR1cmU7aWYoeihlLEIodCl8fG8pKXtjb25zdCByPXQuaXNXZWJHTEN1YmVSZW5kZXJUYXJnZXQ/MzQwNjc6MzU1MyxzPWkuZ2V0KGUpLl9fd2ViZ2xUZXh0dXJlO24uYmluZFRleHR1cmUocixzKSxGKHIsZSx0LndpZHRoLHQuaGVpZ2h0KSxuLmJpbmRUZXh0dXJlKHIsbnVsbCl9fSx0aGlzLnVwZGF0ZU11bHRpc2FtcGxlUmVuZGVyVGFyZ2V0PWZ1bmN0aW9uKGUpe2lmKGUuaXNXZWJHTE11bHRpc2FtcGxlUmVuZGVyVGFyZ2V0KWlmKG8pe2NvbnN0IHI9ZS53aWR0aCxzPWUuaGVpZ2h0O2xldCBhPTE2Mzg0O2UuZGVwdGhCdWZmZXImJihhfD0yNTYpLGUuc3RlbmNpbEJ1ZmZlciYmKGF8PTEwMjQpO2NvbnN0IG89aS5nZXQoZSk7bi5iaW5kRnJhbWVidWZmZXIoMzYwMDgsby5fX3dlYmdsTXVsdGlzYW1wbGVkRnJhbWVidWZmZXIpLG4uYmluZEZyYW1lYnVmZmVyKDM2MDA5LG8uX193ZWJnbEZyYW1lYnVmZmVyKSx0LmJsaXRGcmFtZWJ1ZmZlcigwLDAscixzLDAsMCxyLHMsYSw5NzI4KSxuLmJpbmRGcmFtZWJ1ZmZlcigzNjAwOCxudWxsKSxuLmJpbmRGcmFtZWJ1ZmZlcigzNjAwOSxvLl9fd2ViZ2xNdWx0aXNhbXBsZWRGcmFtZWJ1ZmZlcil9ZWxzZSBjb25zb2xlLndhcm4oIlRIUkVFLldlYkdMUmVuZGVyZXI6IFdlYkdMTXVsdGlzYW1wbGVSZW5kZXJUYXJnZXQgY2FuIG9ubHkgYmUgdXNlZCB3aXRoIFdlYkdMMi4iKX0sdGhpcy5zYWZlU2V0VGV4dHVyZTJEPWZ1bmN0aW9uKHQsZSl7dCYmdC5pc1dlYkdMUmVuZGVyVGFyZ2V0JiYoITE9PT10dCYmKGNvbnNvbGUud2FybigiVEhSRUUuV2ViR0xUZXh0dXJlcy5zYWZlU2V0VGV4dHVyZTJEOiBkb24ndCB1c2UgcmVuZGVyIHRhcmdldHMgYXMgdGV4dHVyZXMuIFVzZSB0aGVpciAudGV4dHVyZSBwcm9wZXJ0eSBpbnN0ZWFkLiIpLHR0PSEwKSx0PXQudGV4dHVyZSksVih0LGUpfSx0aGlzLnNhZmVTZXRUZXh0dXJlQ3ViZT1mdW5jdGlvbih0LGUpe3QmJnQuaXNXZWJHTEN1YmVSZW5kZXJUYXJnZXQmJighMT09PWV0JiYoY29uc29sZS53YXJuKCJUSFJFRS5XZWJHTFRleHR1cmVzLnNhZmVTZXRUZXh0dXJlQ3ViZTogZG9uJ3QgdXNlIGN1YmUgcmVuZGVyIHRhcmdldHMgYXMgdGV4dHVyZXMuIFVzZSB0aGVpciAudGV4dHVyZSBwcm9wZXJ0eSBpbnN0ZWFkLiIpLGV0PSEwKSx0PXQudGV4dHVyZSksVyh0LGUpfX1mdW5jdGlvbiBtcyh0LGUsbil7Y29uc3QgaT1uLmlzV2ViR0wyO3JldHVybntjb252ZXJ0OmZ1bmN0aW9uKHQpe2xldCBuO2lmKHQ9PT14KXJldHVybiA1MTIxO2lmKDEwMTc9PT10KXJldHVybiAzMjgxOTtpZigxMDE4PT09dClyZXR1cm4gMzI4MjA7aWYoMTAxOT09PXQpcmV0dXJuIDMzNjM1O2lmKDEwMTA9PT10KXJldHVybiA1MTIwO2lmKDEwMTE9PT10KXJldHVybiA1MTIyO2lmKHQ9PT1fKXJldHVybiA1MTIzO2lmKDEwMTM9PT10KXJldHVybiA1MTI0O2lmKHQ9PT13KXJldHVybiA1MTI1O2lmKHQ9PT1iKXJldHVybiA1MTI2O2lmKHQ9PT1NKXJldHVybiBpPzUxMzE6KG49ZS5nZXQoIk9FU190ZXh0dXJlX2hhbGZfZmxvYXQiKSxudWxsIT09bj9uLkhBTEZfRkxPQVRfT0VTOm51bGwpO2lmKDEwMjE9PT10KXJldHVybiA2NDA2O2lmKHQ9PT1UKXJldHVybiA2NDA3O2lmKHQ9PT1FKXJldHVybiA2NDA4O2lmKDEwMjQ9PT10KXJldHVybiA2NDA5O2lmKDEwMjU9PT10KXJldHVybiA2NDEwO2lmKHQ9PT1BKXJldHVybiA2NDAyO2lmKHQ9PT1MKXJldHVybiAzNDA0MTtpZigxMDI4PT09dClyZXR1cm4gNjQwMztpZigxMDI5PT09dClyZXR1cm4gMzYyNDQ7aWYoMTAzMD09PXQpcmV0dXJuIDMzMzE5O2lmKDEwMzE9PT10KXJldHVybiAzMzMyMDtpZigxMDMyPT09dClyZXR1cm4gMzYyNDg7aWYoMTAzMz09PXQpcmV0dXJuIDM2MjQ5O2lmKHQ9PT1SfHx0PT09Q3x8dD09PVB8fHQ9PT1EKXtpZihuPWUuZ2V0KCJXRUJHTF9jb21wcmVzc2VkX3RleHR1cmVfczN0YyIpLG51bGw9PT1uKXJldHVybiBudWxsO2lmKHQ9PT1SKXJldHVybiBuLkNPTVBSRVNTRURfUkdCX1MzVENfRFhUMV9FWFQ7aWYodD09PUMpcmV0dXJuIG4uQ09NUFJFU1NFRF9SR0JBX1MzVENfRFhUMV9FWFQ7aWYodD09PVApcmV0dXJuIG4uQ09NUFJFU1NFRF9SR0JBX1MzVENfRFhUM19FWFQ7aWYodD09PUQpcmV0dXJuIG4uQ09NUFJFU1NFRF9SR0JBX1MzVENfRFhUNV9FWFR9aWYodD09PUl8fHQ9PT1OfHx0PT09Qnx8dD09PXope2lmKG49ZS5nZXQoIldFQkdMX2NvbXByZXNzZWRfdGV4dHVyZV9wdnJ0YyIpLG51bGw9PT1uKXJldHVybiBudWxsO2lmKHQ9PT1JKXJldHVybiBuLkNPTVBSRVNTRURfUkdCX1BWUlRDXzRCUFBWMV9JTUc7aWYodD09PU4pcmV0dXJuIG4uQ09NUFJFU1NFRF9SR0JfUFZSVENfMkJQUFYxX0lNRztpZih0PT09QilyZXR1cm4gbi5DT01QUkVTU0VEX1JHQkFfUFZSVENfNEJQUFYxX0lNRztpZih0PT09eilyZXR1cm4gbi5DT01QUkVTU0VEX1JHQkFfUFZSVENfMkJQUFYxX0lNR31pZigzNjE5Nj09PXQpcmV0dXJuIG49ZS5nZXQoIldFQkdMX2NvbXByZXNzZWRfdGV4dHVyZV9ldGMxIiksbnVsbCE9PW4/bi5DT01QUkVTU0VEX1JHQl9FVEMxX1dFQkdMOm51bGw7aWYoKHQ9PT1GfHx0PT09TykmJihuPWUuZ2V0KCJXRUJHTF9jb21wcmVzc2VkX3RleHR1cmVfZXRjIiksbnVsbCE9PW4pKXtpZih0PT09RilyZXR1cm4gbi5DT01QUkVTU0VEX1JHQjhfRVRDMjtpZih0PT09TylyZXR1cm4gbi5DT01QUkVTU0VEX1JHQkE4X0VUQzJfRUFDfXJldHVybiAzNzgwOD09PXR8fDM3ODA5PT09dHx8Mzc4MTA9PT10fHwzNzgxMT09PXR8fDM3ODEyPT09dHx8Mzc4MTM9PT10fHwzNzgxND09PXR8fDM3ODE1PT09dHx8Mzc4MTY9PT10fHwzNzgxNz09PXR8fDM3ODE4PT09dHx8Mzc4MTk9PT10fHwzNzgyMD09PXR8fDM3ODIxPT09dHx8Mzc4NDA9PT10fHwzNzg0MT09PXR8fDM3ODQyPT09dHx8Mzc4NDM9PT10fHwzNzg0ND09PXR8fDM3ODQ1PT09dHx8Mzc4NDY9PT10fHwzNzg0Nz09PXR8fDM3ODQ4PT09dHx8Mzc4NDk9PT10fHwzNzg1MD09PXR8fDM3ODUxPT09dHx8Mzc4NTI9PT10fHwzNzg1Mz09PXQ/KG49ZS5nZXQoIldFQkdMX2NvbXByZXNzZWRfdGV4dHVyZV9hc3RjIiksbnVsbCE9PW4/dDpudWxsKTozNjQ5Mj09PXQ/KG49ZS5nZXQoIkVYVF90ZXh0dXJlX2NvbXByZXNzaW9uX2JwdGMiKSxudWxsIT09bj90Om51bGwpOnQ9PT1TP2k/MzQwNDI6KG49ZS5nZXQoIldFQkdMX2RlcHRoX3RleHR1cmUiKSxudWxsIT09bj9uLlVOU0lHTkVEX0lOVF8yNF84X1dFQkdMOm51bGwpOnZvaWQgMH19fWNsYXNzIGZzIGV4dGVuZHMgS257Y29uc3RydWN0b3IodD1bXSl7c3VwZXIoKSx0aGlzLmNhbWVyYXM9dH19ZnMucHJvdG90eXBlLmlzQXJyYXlDYW1lcmE9ITA7Y2xhc3MgZ3MgZXh0ZW5kcyBDZXtjb25zdHJ1Y3Rvcigpe3N1cGVyKCksdGhpcy50eXBlPSJHcm91cCJ9fWdzLnByb3RvdHlwZS5pc0dyb3VwPSEwO2NvbnN0IHZzPXt0eXBlOiJtb3ZlIn07Y2xhc3MgeXN7Y29uc3RydWN0b3IoKXt0aGlzLl90YXJnZXRSYXk9bnVsbCx0aGlzLl9ncmlwPW51bGwsdGhpcy5faGFuZD1udWxsfWdldEhhbmRTcGFjZSgpe3JldHVybiBudWxsPT09dGhpcy5faGFuZCYmKHRoaXMuX2hhbmQ9bmV3IGdzLHRoaXMuX2hhbmQubWF0cml4QXV0b1VwZGF0ZT0hMSx0aGlzLl9oYW5kLnZpc2libGU9ITEsdGhpcy5faGFuZC5qb2ludHM9e30sdGhpcy5faGFuZC5pbnB1dFN0YXRlPXtwaW5jaGluZzohMX0pLHRoaXMuX2hhbmR9Z2V0VGFyZ2V0UmF5U3BhY2UoKXtyZXR1cm4gbnVsbD09PXRoaXMuX3RhcmdldFJheSYmKHRoaXMuX3RhcmdldFJheT1uZXcgZ3MsdGhpcy5fdGFyZ2V0UmF5Lm1hdHJpeEF1dG9VcGRhdGU9ITEsdGhpcy5fdGFyZ2V0UmF5LnZpc2libGU9ITEsdGhpcy5fdGFyZ2V0UmF5Lmhhc0xpbmVhclZlbG9jaXR5PSExLHRoaXMuX3RhcmdldFJheS5saW5lYXJWZWxvY2l0eT1uZXcgTHQsdGhpcy5fdGFyZ2V0UmF5Lmhhc0FuZ3VsYXJWZWxvY2l0eT0hMSx0aGlzLl90YXJnZXRSYXkuYW5ndWxhclZlbG9jaXR5PW5ldyBMdCksdGhpcy5fdGFyZ2V0UmF5fWdldEdyaXBTcGFjZSgpe3JldHVybiBudWxsPT09dGhpcy5fZ3JpcCYmKHRoaXMuX2dyaXA9bmV3IGdzLHRoaXMuX2dyaXAubWF0cml4QXV0b1VwZGF0ZT0hMSx0aGlzLl9ncmlwLnZpc2libGU9ITEsdGhpcy5fZ3JpcC5oYXNMaW5lYXJWZWxvY2l0eT0hMSx0aGlzLl9ncmlwLmxpbmVhclZlbG9jaXR5PW5ldyBMdCx0aGlzLl9ncmlwLmhhc0FuZ3VsYXJWZWxvY2l0eT0hMSx0aGlzLl9ncmlwLmFuZ3VsYXJWZWxvY2l0eT1uZXcgTHQpLHRoaXMuX2dyaXB9ZGlzcGF0Y2hFdmVudCh0KXtyZXR1cm4gbnVsbCE9PXRoaXMuX3RhcmdldFJheSYmdGhpcy5fdGFyZ2V0UmF5LmRpc3BhdGNoRXZlbnQodCksbnVsbCE9PXRoaXMuX2dyaXAmJnRoaXMuX2dyaXAuZGlzcGF0Y2hFdmVudCh0KSxudWxsIT09dGhpcy5faGFuZCYmdGhpcy5faGFuZC5kaXNwYXRjaEV2ZW50KHQpLHRoaXN9ZGlzY29ubmVjdCh0KXtyZXR1cm4gdGhpcy5kaXNwYXRjaEV2ZW50KHt0eXBlOiJkaXNjb25uZWN0ZWQiLGRhdGE6dH0pLG51bGwhPT10aGlzLl90YXJnZXRSYXkmJih0aGlzLl90YXJnZXRSYXkudmlzaWJsZT0hMSksbnVsbCE9PXRoaXMuX2dyaXAmJih0aGlzLl9ncmlwLnZpc2libGU9ITEpLG51bGwhPT10aGlzLl9oYW5kJiYodGhpcy5faGFuZC52aXNpYmxlPSExKSx0aGlzfXVwZGF0ZSh0LGUsbil7bGV0IGk9bnVsbCxyPW51bGwscz1udWxsO2NvbnN0IGE9dGhpcy5fdGFyZ2V0UmF5LG89dGhpcy5fZ3JpcCxsPXRoaXMuX2hhbmQ7aWYodCYmInZpc2libGUtYmx1cnJlZCIhPT1lLnNlc3Npb24udmlzaWJpbGl0eVN0YXRlKWlmKG51bGwhPT1hJiYoaT1lLmdldFBvc2UodC50YXJnZXRSYXlTcGFjZSxuKSxudWxsIT09aSYmKGEubWF0cml4LmZyb21BcnJheShpLnRyYW5zZm9ybS5tYXRyaXgpLGEubWF0cml4LmRlY29tcG9zZShhLnBvc2l0aW9uLGEucm90YXRpb24sYS5zY2FsZSksaS5saW5lYXJWZWxvY2l0eT8oYS5oYXNMaW5lYXJWZWxvY2l0eT0hMCxhLmxpbmVhclZlbG9jaXR5LmNvcHkoaS5saW5lYXJWZWxvY2l0eSkpOmEuaGFzTGluZWFyVmVsb2NpdHk9ITEsaS5hbmd1bGFyVmVsb2NpdHk/KGEuaGFzQW5ndWxhclZlbG9jaXR5PSEwLGEuYW5ndWxhclZlbG9jaXR5LmNvcHkoaS5hbmd1bGFyVmVsb2NpdHkpKTphLmhhc0FuZ3VsYXJWZWxvY2l0eT0hMSx0aGlzLmRpc3BhdGNoRXZlbnQodnMpKSksbCYmdC5oYW5kKXtzPSEwO2Zvcihjb25zdCBpIG9mIHQuaGFuZC52YWx1ZXMoKSl7Y29uc3QgdD1lLmdldEpvaW50UG9zZShpLG4pO2lmKHZvaWQgMD09PWwuam9pbnRzW2kuam9pbnROYW1lXSl7Y29uc3QgdD1uZXcgZ3M7dC5tYXRyaXhBdXRvVXBkYXRlPSExLHQudmlzaWJsZT0hMSxsLmpvaW50c1tpLmpvaW50TmFtZV09dCxsLmFkZCh0KX1jb25zdCByPWwuam9pbnRzW2kuam9pbnROYW1lXTtudWxsIT09dCYmKHIubWF0cml4LmZyb21BcnJheSh0LnRyYW5zZm9ybS5tYXRyaXgpLHIubWF0cml4LmRlY29tcG9zZShyLnBvc2l0aW9uLHIucm90YXRpb24sci5zY2FsZSksci5qb2ludFJhZGl1cz10LnJhZGl1cyksci52aXNpYmxlPW51bGwhPT10fWNvbnN0IGk9bC5qb2ludHNbImluZGV4LWZpbmdlci10aXAiXSxyPWwuam9pbnRzWyJ0aHVtYi10aXAiXSxhPWkucG9zaXRpb24uZGlzdGFuY2VUbyhyLnBvc2l0aW9uKSxvPS4wMixjPS4wMDU7bC5pbnB1dFN0YXRlLnBpbmNoaW5nJiZhPm8rYz8obC5pbnB1dFN0YXRlLnBpbmNoaW5nPSExLHRoaXMuZGlzcGF0Y2hFdmVudCh7dHlwZToicGluY2hlbmQiLGhhbmRlZG5lc3M6dC5oYW5kZWRuZXNzLHRhcmdldDp0aGlzfSkpOiFsLmlucHV0U3RhdGUucGluY2hpbmcmJmE8PW8tYyYmKGwuaW5wdXRTdGF0ZS5waW5jaGluZz0hMCx0aGlzLmRpc3BhdGNoRXZlbnQoe3R5cGU6InBpbmNoc3RhcnQiLGhhbmRlZG5lc3M6dC5oYW5kZWRuZXNzLHRhcmdldDp0aGlzfSkpfWVsc2UgbnVsbCE9PW8mJnQuZ3JpcFNwYWNlJiYocj1lLmdldFBvc2UodC5ncmlwU3BhY2UsbiksbnVsbCE9PXImJihvLm1hdHJpeC5mcm9tQXJyYXkoci50cmFuc2Zvcm0ubWF0cml4KSxvLm1hdHJpeC5kZWNvbXBvc2Uoby5wb3NpdGlvbixvLnJvdGF0aW9uLG8uc2NhbGUpLHIubGluZWFyVmVsb2NpdHk/KG8uaGFzTGluZWFyVmVsb2NpdHk9ITAsby5saW5lYXJWZWxvY2l0eS5jb3B5KHIubGluZWFyVmVsb2NpdHkpKTpvLmhhc0xpbmVhclZlbG9jaXR5PSExLHIuYW5ndWxhclZlbG9jaXR5PyhvLmhhc0FuZ3VsYXJWZWxvY2l0eT0hMCxvLmFuZ3VsYXJWZWxvY2l0eS5jb3B5KHIuYW5ndWxhclZlbG9jaXR5KSk6by5oYXNBbmd1bGFyVmVsb2NpdHk9ITEpKTtyZXR1cm4gbnVsbCE9PWEmJihhLnZpc2libGU9bnVsbCE9PWkpLG51bGwhPT1vJiYoby52aXNpYmxlPW51bGwhPT1yKSxudWxsIT09bCYmKGwudmlzaWJsZT1udWxsIT09cyksdGhpc319Y2xhc3MgeHMgZXh0ZW5kcyBydHtjb25zdHJ1Y3Rvcih0LGUpe3N1cGVyKCk7Y29uc3Qgbj10aGlzLGk9dC5zdGF0ZTtsZXQgcj1udWxsLHM9MSxhPW51bGwsbz0ibG9jYWwtZmxvb3IiLGw9bnVsbDtjb25zdCBjPVtdLGg9bmV3IE1hcCx1PW5ldyBLbjt1LmxheWVycy5lbmFibGUoMSksdS52aWV3cG9ydD1uZXcgU3Q7Y29uc3QgZD1uZXcgS247ZC5sYXllcnMuZW5hYmxlKDIpLGQudmlld3BvcnQ9bmV3IFN0O2NvbnN0IHA9W3UsZF0sbT1uZXcgZnM7bS5sYXllcnMuZW5hYmxlKDEpLG0ubGF5ZXJzLmVuYWJsZSgyKTtsZXQgZj1udWxsLGc9bnVsbDtmdW5jdGlvbiB2KHQpe2NvbnN0IGU9aC5nZXQodC5pbnB1dFNvdXJjZSk7ZSYmZS5kaXNwYXRjaEV2ZW50KHt0eXBlOnQudHlwZSxkYXRhOnQuaW5wdXRTb3VyY2V9KX1mdW5jdGlvbiB5KCl7aC5mb3JFYWNoKChmdW5jdGlvbih0LGUpe3QuZGlzY29ubmVjdChlKX0pKSxoLmNsZWFyKCksZj1udWxsLGc9bnVsbCxpLmJpbmRYUkZyYW1lYnVmZmVyKG51bGwpLHQuc2V0UmVuZGVyVGFyZ2V0KHQuZ2V0UmVuZGVyVGFyZ2V0KCkpLFMuc3RvcCgpLG4uaXNQcmVzZW50aW5nPSExLG4uZGlzcGF0Y2hFdmVudCh7dHlwZToic2Vzc2lvbmVuZCJ9KX1mdW5jdGlvbiB4KHQpe2NvbnN0IGU9ci5pbnB1dFNvdXJjZXM7Zm9yKGxldCB0PTA7dDxjLmxlbmd0aDt0KyspaC5zZXQoZVt0XSxjW3RdKTtmb3IobGV0IGU9MDtlPHQucmVtb3ZlZC5sZW5ndGg7ZSsrKXtjb25zdCBuPXQucmVtb3ZlZFtlXSxpPWguZ2V0KG4pO2kmJihpLmRpc3BhdGNoRXZlbnQoe3R5cGU6ImRpc2Nvbm5lY3RlZCIsZGF0YTpufSksaC5kZWxldGUobikpfWZvcihsZXQgZT0wO2U8dC5hZGRlZC5sZW5ndGg7ZSsrKXtjb25zdCBuPXQuYWRkZWRbZV0saT1oLmdldChuKTtpJiZpLmRpc3BhdGNoRXZlbnQoe3R5cGU6ImNvbm5lY3RlZCIsZGF0YTpufSl9fXRoaXMuZW5hYmxlZD0hMSx0aGlzLmlzUHJlc2VudGluZz0hMSx0aGlzLmdldENvbnRyb2xsZXI9ZnVuY3Rpb24odCl7bGV0IGU9Y1t0XTtyZXR1cm4gdm9pZCAwPT09ZSYmKGU9bmV3IHlzLGNbdF09ZSksZS5nZXRUYXJnZXRSYXlTcGFjZSgpfSx0aGlzLmdldENvbnRyb2xsZXJHcmlwPWZ1bmN0aW9uKHQpe2xldCBlPWNbdF07cmV0dXJuIHZvaWQgMD09PWUmJihlPW5ldyB5cyxjW3RdPWUpLGUuZ2V0R3JpcFNwYWNlKCl9LHRoaXMuZ2V0SGFuZD1mdW5jdGlvbih0KXtsZXQgZT1jW3RdO3JldHVybiB2b2lkIDA9PT1lJiYoZT1uZXcgeXMsY1t0XT1lKSxlLmdldEhhbmRTcGFjZSgpfSx0aGlzLnNldEZyYW1lYnVmZmVyU2NhbGVGYWN0b3I9ZnVuY3Rpb24odCl7cz10LCEwPT09bi5pc1ByZXNlbnRpbmcmJmNvbnNvbGUud2FybigiVEhSRUUuV2ViWFJNYW5hZ2VyOiBDYW5ub3QgY2hhbmdlIGZyYW1lYnVmZmVyIHNjYWxlIHdoaWxlIHByZXNlbnRpbmcuIil9LHRoaXMuc2V0UmVmZXJlbmNlU3BhY2VUeXBlPWZ1bmN0aW9uKHQpe289dCwhMD09PW4uaXNQcmVzZW50aW5nJiZjb25zb2xlLndhcm4oIlRIUkVFLldlYlhSTWFuYWdlcjogQ2Fubm90IGNoYW5nZSByZWZlcmVuY2Ugc3BhY2UgdHlwZSB3aGlsZSBwcmVzZW50aW5nLiIpfSx0aGlzLmdldFJlZmVyZW5jZVNwYWNlPWZ1bmN0aW9uKCl7cmV0dXJuIGF9LHRoaXMuZ2V0U2Vzc2lvbj1mdW5jdGlvbigpe3JldHVybiByfSx0aGlzLnNldFNlc3Npb249YXN5bmMgZnVuY3Rpb24odCl7aWYocj10LG51bGwhPT1yKXtyLmFkZEV2ZW50TGlzdGVuZXIoInNlbGVjdCIsdiksci5hZGRFdmVudExpc3RlbmVyKCJzZWxlY3RzdGFydCIsdiksci5hZGRFdmVudExpc3RlbmVyKCJzZWxlY3RlbmQiLHYpLHIuYWRkRXZlbnRMaXN0ZW5lcigic3F1ZWV6ZSIsdiksci5hZGRFdmVudExpc3RlbmVyKCJzcXVlZXplc3RhcnQiLHYpLHIuYWRkRXZlbnRMaXN0ZW5lcigic3F1ZWV6ZWVuZCIsdiksci5hZGRFdmVudExpc3RlbmVyKCJlbmQiLHkpLHIuYWRkRXZlbnRMaXN0ZW5lcigiaW5wdXRzb3VyY2VzY2hhbmdlIix4KTtjb25zdCB0PWUuZ2V0Q29udGV4dEF0dHJpYnV0ZXMoKTshMCE9PXQueHJDb21wYXRpYmxlJiZhd2FpdCBlLm1ha2VYUkNvbXBhdGlibGUoKTtjb25zdCBpPXthbnRpYWxpYXM6dC5hbnRpYWxpYXMsYWxwaGE6dC5hbHBoYSxkZXB0aDp0LmRlcHRoLHN0ZW5jaWw6dC5zdGVuY2lsLGZyYW1lYnVmZmVyU2NhbGVGYWN0b3I6c30sbD1uZXcgWFJXZWJHTExheWVyKHIsZSxpKTtyLnVwZGF0ZVJlbmRlclN0YXRlKHtiYXNlTGF5ZXI6bH0pLGE9YXdhaXQgci5yZXF1ZXN0UmVmZXJlbmNlU3BhY2UobyksUy5zZXRDb250ZXh0KHIpLFMuc3RhcnQoKSxuLmlzUHJlc2VudGluZz0hMCxuLmRpc3BhdGNoRXZlbnQoe3R5cGU6InNlc3Npb25zdGFydCJ9KX19O2NvbnN0IF89bmV3IEx0LHc9bmV3IEx0O2Z1bmN0aW9uIGIodCxlKXtudWxsPT09ZT90Lm1hdHJpeFdvcmxkLmNvcHkodC5tYXRyaXgpOnQubWF0cml4V29ybGQubXVsdGlwbHlNYXRyaWNlcyhlLm1hdHJpeFdvcmxkLHQubWF0cml4KSx0Lm1hdHJpeFdvcmxkSW52ZXJzZS5jb3B5KHQubWF0cml4V29ybGQpLmludmVydCgpfXRoaXMuZ2V0Q2FtZXJhPWZ1bmN0aW9uKHQpe20ubmVhcj1kLm5lYXI9dS5uZWFyPXQubmVhcixtLmZhcj1kLmZhcj11LmZhcj10LmZhcixmPT09bS5uZWFyJiZnPT09bS5mYXJ8fChyLnVwZGF0ZVJlbmRlclN0YXRlKHtkZXB0aE5lYXI6bS5uZWFyLGRlcHRoRmFyOm0uZmFyfSksZj1tLm5lYXIsZz1tLmZhcik7Y29uc3QgZT10LnBhcmVudCxuPW0uY2FtZXJhcztiKG0sZSk7Zm9yKGxldCB0PTA7dDxuLmxlbmd0aDt0KyspYihuW3RdLGUpO3QubWF0cml4V29ybGQuY29weShtLm1hdHJpeFdvcmxkKSx0Lm1hdHJpeC5jb3B5KG0ubWF0cml4KSx0Lm1hdHJpeC5kZWNvbXBvc2UodC5wb3NpdGlvbix0LnF1YXRlcm5pb24sdC5zY2FsZSk7Y29uc3QgaT10LmNoaWxkcmVuO2ZvcihsZXQgdD0wLGU9aS5sZW5ndGg7dDxlO3QrKylpW3RdLnVwZGF0ZU1hdHJpeFdvcmxkKCEwKTtyZXR1cm4gMj09PW4ubGVuZ3RoP2Z1bmN0aW9uKHQsZSxuKXtfLnNldEZyb21NYXRyaXhQb3NpdGlvbihlLm1hdHJpeFdvcmxkKSx3LnNldEZyb21NYXRyaXhQb3NpdGlvbihuLm1hdHJpeFdvcmxkKTtjb25zdCBpPV8uZGlzdGFuY2VUbyh3KSxyPWUucHJvamVjdGlvbk1hdHJpeC5lbGVtZW50cyxzPW4ucHJvamVjdGlvbk1hdHJpeC5lbGVtZW50cyxhPXJbMTRdLyhyWzEwXS0xKSxvPXJbMTRdLyhyWzEwXSsxKSxsPShyWzldKzEpL3JbNV0sYz0ocls5XS0xKS9yWzVdLGg9KHJbOF0tMSkvclswXSx1PShzWzhdKzEpL3NbMF0sZD1hKmgscD1hKnUsbT1pLygtaCt1KSxmPW0qLWg7ZS5tYXRyaXhXb3JsZC5kZWNvbXBvc2UodC5wb3NpdGlvbix0LnF1YXRlcm5pb24sdC5zY2FsZSksdC50cmFuc2xhdGVYKGYpLHQudHJhbnNsYXRlWihtKSx0Lm1hdHJpeFdvcmxkLmNvbXBvc2UodC5wb3NpdGlvbix0LnF1YXRlcm5pb24sdC5zY2FsZSksdC5tYXRyaXhXb3JsZEludmVyc2UuY29weSh0Lm1hdHJpeFdvcmxkKS5pbnZlcnQoKTtjb25zdCBnPWErbSx2PW8rbSx5PWQtZix4PXArKGktZiksYj1sKm8vdipnLE09YypvL3YqZzt0LnByb2plY3Rpb25NYXRyaXgubWFrZVBlcnNwZWN0aXZlKHkseCxiLE0sZyx2KX0obSx1LGQpOm0ucHJvamVjdGlvbk1hdHJpeC5jb3B5KHUucHJvamVjdGlvbk1hdHJpeCksbX07bGV0IE09bnVsbDtjb25zdCBTPW5ldyBvaTtTLnNldEFuaW1hdGlvbkxvb3AoKGZ1bmN0aW9uKHQsZSl7aWYobD1lLmdldFZpZXdlclBvc2UoYSksbnVsbCE9PWwpe2NvbnN0IHQ9bC52aWV3cyxlPXIucmVuZGVyU3RhdGUuYmFzZUxheWVyO2kuYmluZFhSRnJhbWVidWZmZXIoZS5mcmFtZWJ1ZmZlcik7bGV0IG49ITE7dC5sZW5ndGghPT1tLmNhbWVyYXMubGVuZ3RoJiYobS5jYW1lcmFzLmxlbmd0aD0wLG49ITApO2ZvcihsZXQgaT0wO2k8dC5sZW5ndGg7aSsrKXtjb25zdCByPXRbaV0scz1lLmdldFZpZXdwb3J0KHIpLGE9cFtpXTthLm1hdHJpeC5mcm9tQXJyYXkoci50cmFuc2Zvcm0ubWF0cml4KSxhLnByb2plY3Rpb25NYXRyaXguZnJvbUFycmF5KHIucHJvamVjdGlvbk1hdHJpeCksYS52aWV3cG9ydC5zZXQocy54LHMueSxzLndpZHRoLHMuaGVpZ2h0KSwwPT09aSYmbS5tYXRyaXguY29weShhLm1hdHJpeCksITA9PT1uJiZtLmNhbWVyYXMucHVzaChhKX19Y29uc3Qgbj1yLmlucHV0U291cmNlcztmb3IobGV0IHQ9MDt0PGMubGVuZ3RoO3QrKyl7Y29uc3QgaT1jW3RdLHI9blt0XTtpLnVwZGF0ZShyLGUsYSl9TSYmTSh0LGUpfSkpLHRoaXMuc2V0QW5pbWF0aW9uTG9vcD1mdW5jdGlvbih0KXtNPXR9LHRoaXMuZGlzcG9zZT1mdW5jdGlvbigpe319fWZ1bmN0aW9uIF9zKHQpe2Z1bmN0aW9uIGUoZSxuKXtlLm9wYWNpdHkudmFsdWU9bi5vcGFjaXR5LG4uY29sb3ImJmUuZGlmZnVzZS52YWx1ZS5jb3B5KG4uY29sb3IpLG4uZW1pc3NpdmUmJmUuZW1pc3NpdmUudmFsdWUuY29weShuLmVtaXNzaXZlKS5tdWx0aXBseVNjYWxhcihuLmVtaXNzaXZlSW50ZW5zaXR5KSxuLm1hcCYmKGUubWFwLnZhbHVlPW4ubWFwKSxuLmFscGhhTWFwJiYoZS5hbHBoYU1hcC52YWx1ZT1uLmFscGhhTWFwKSxuLnNwZWN1bGFyTWFwJiYoZS5zcGVjdWxhck1hcC52YWx1ZT1uLnNwZWN1bGFyTWFwKTtjb25zdCBpPXQuZ2V0KG4pLmVudk1hcDtpZihpKXtlLmVudk1hcC52YWx1ZT1pLGUuZmxpcEVudk1hcC52YWx1ZT1pLmlzQ3ViZVRleHR1cmUmJmkuX25lZWRzRmxpcEVudk1hcD8tMToxLGUucmVmbGVjdGl2aXR5LnZhbHVlPW4ucmVmbGVjdGl2aXR5LGUucmVmcmFjdGlvblJhdGlvLnZhbHVlPW4ucmVmcmFjdGlvblJhdGlvO2NvbnN0IHI9dC5nZXQoaSkuX19tYXhNaXBMZXZlbDt2b2lkIDAhPT1yJiYoZS5tYXhNaXBMZXZlbC52YWx1ZT1yKX1sZXQgcixzO24ubGlnaHRNYXAmJihlLmxpZ2h0TWFwLnZhbHVlPW4ubGlnaHRNYXAsZS5saWdodE1hcEludGVuc2l0eS52YWx1ZT1uLmxpZ2h0TWFwSW50ZW5zaXR5KSxuLmFvTWFwJiYoZS5hb01hcC52YWx1ZT1uLmFvTWFwLGUuYW9NYXBJbnRlbnNpdHkudmFsdWU9bi5hb01hcEludGVuc2l0eSksbi5tYXA/cj1uLm1hcDpuLnNwZWN1bGFyTWFwP3I9bi5zcGVjdWxhck1hcDpuLmRpc3BsYWNlbWVudE1hcD9yPW4uZGlzcGxhY2VtZW50TWFwOm4ubm9ybWFsTWFwP3I9bi5ub3JtYWxNYXA6bi5idW1wTWFwP3I9bi5idW1wTWFwOm4ucm91Z2huZXNzTWFwP3I9bi5yb3VnaG5lc3NNYXA6bi5tZXRhbG5lc3NNYXA/cj1uLm1ldGFsbmVzc01hcDpuLmFscGhhTWFwP3I9bi5hbHBoYU1hcDpuLmVtaXNzaXZlTWFwP3I9bi5lbWlzc2l2ZU1hcDpuLmNsZWFyY29hdE1hcD9yPW4uY2xlYXJjb2F0TWFwOm4uY2xlYXJjb2F0Tm9ybWFsTWFwP3I9bi5jbGVhcmNvYXROb3JtYWxNYXA6bi5jbGVhcmNvYXRSb3VnaG5lc3NNYXAmJihyPW4uY2xlYXJjb2F0Um91Z2huZXNzTWFwKSx2b2lkIDAhPT1yJiYoci5pc1dlYkdMUmVuZGVyVGFyZ2V0JiYocj1yLnRleHR1cmUpLCEwPT09ci5tYXRyaXhBdXRvVXBkYXRlJiZyLnVwZGF0ZU1hdHJpeCgpLGUudXZUcmFuc2Zvcm0udmFsdWUuY29weShyLm1hdHJpeCkpLG4uYW9NYXA/cz1uLmFvTWFwOm4ubGlnaHRNYXAmJihzPW4ubGlnaHRNYXApLHZvaWQgMCE9PXMmJihzLmlzV2ViR0xSZW5kZXJUYXJnZXQmJihzPXMudGV4dHVyZSksITA9PT1zLm1hdHJpeEF1dG9VcGRhdGUmJnMudXBkYXRlTWF0cml4KCksZS51djJUcmFuc2Zvcm0udmFsdWUuY29weShzLm1hdHJpeCkpfWZ1bmN0aW9uIG4oZSxuKXtlLnJvdWdobmVzcy52YWx1ZT1uLnJvdWdobmVzcyxlLm1ldGFsbmVzcy52YWx1ZT1uLm1ldGFsbmVzcyxuLnJvdWdobmVzc01hcCYmKGUucm91Z2huZXNzTWFwLnZhbHVlPW4ucm91Z2huZXNzTWFwKSxuLm1ldGFsbmVzc01hcCYmKGUubWV0YWxuZXNzTWFwLnZhbHVlPW4ubWV0YWxuZXNzTWFwKSxuLmVtaXNzaXZlTWFwJiYoZS5lbWlzc2l2ZU1hcC52YWx1ZT1uLmVtaXNzaXZlTWFwKSxuLmJ1bXBNYXAmJihlLmJ1bXBNYXAudmFsdWU9bi5idW1wTWFwLGUuYnVtcFNjYWxlLnZhbHVlPW4uYnVtcFNjYWxlLDE9PT1uLnNpZGUmJihlLmJ1bXBTY2FsZS52YWx1ZSo9LTEpKSxuLm5vcm1hbE1hcCYmKGUubm9ybWFsTWFwLnZhbHVlPW4ubm9ybWFsTWFwLGUubm9ybWFsU2NhbGUudmFsdWUuY29weShuLm5vcm1hbFNjYWxlKSwxPT09bi5zaWRlJiZlLm5vcm1hbFNjYWxlLnZhbHVlLm5lZ2F0ZSgpKSxuLmRpc3BsYWNlbWVudE1hcCYmKGUuZGlzcGxhY2VtZW50TWFwLnZhbHVlPW4uZGlzcGxhY2VtZW50TWFwLGUuZGlzcGxhY2VtZW50U2NhbGUudmFsdWU9bi5kaXNwbGFjZW1lbnRTY2FsZSxlLmRpc3BsYWNlbWVudEJpYXMudmFsdWU9bi5kaXNwbGFjZW1lbnRCaWFzKTt0LmdldChuKS5lbnZNYXAmJihlLmVudk1hcEludGVuc2l0eS52YWx1ZT1uLmVudk1hcEludGVuc2l0eSl9cmV0dXJue3JlZnJlc2hGb2dVbmlmb3JtczpmdW5jdGlvbih0LGUpe3QuZm9nQ29sb3IudmFsdWUuY29weShlLmNvbG9yKSxlLmlzRm9nPyh0LmZvZ05lYXIudmFsdWU9ZS5uZWFyLHQuZm9nRmFyLnZhbHVlPWUuZmFyKTplLmlzRm9nRXhwMiYmKHQuZm9nRGVuc2l0eS52YWx1ZT1lLmRlbnNpdHkpfSxyZWZyZXNoTWF0ZXJpYWxVbmlmb3JtczpmdW5jdGlvbih0LGkscixzKXtpLmlzTWVzaEJhc2ljTWF0ZXJpYWw/ZSh0LGkpOmkuaXNNZXNoTGFtYmVydE1hdGVyaWFsPyhlKHQsaSksZnVuY3Rpb24odCxlKXtlLmVtaXNzaXZlTWFwJiYodC5lbWlzc2l2ZU1hcC52YWx1ZT1lLmVtaXNzaXZlTWFwKX0odCxpKSk6aS5pc01lc2hUb29uTWF0ZXJpYWw/KGUodCxpKSxmdW5jdGlvbih0LGUpe2UuZ3JhZGllbnRNYXAmJih0LmdyYWRpZW50TWFwLnZhbHVlPWUuZ3JhZGllbnRNYXApO2UuZW1pc3NpdmVNYXAmJih0LmVtaXNzaXZlTWFwLnZhbHVlPWUuZW1pc3NpdmVNYXApO2UuYnVtcE1hcCYmKHQuYnVtcE1hcC52YWx1ZT1lLmJ1bXBNYXAsdC5idW1wU2NhbGUudmFsdWU9ZS5idW1wU2NhbGUsMT09PWUuc2lkZSYmKHQuYnVtcFNjYWxlLnZhbHVlKj0tMSkpO2Uubm9ybWFsTWFwJiYodC5ub3JtYWxNYXAudmFsdWU9ZS5ub3JtYWxNYXAsdC5ub3JtYWxTY2FsZS52YWx1ZS5jb3B5KGUubm9ybWFsU2NhbGUpLDE9PT1lLnNpZGUmJnQubm9ybWFsU2NhbGUudmFsdWUubmVnYXRlKCkpO2UuZGlzcGxhY2VtZW50TWFwJiYodC5kaXNwbGFjZW1lbnRNYXAudmFsdWU9ZS5kaXNwbGFjZW1lbnRNYXAsdC5kaXNwbGFjZW1lbnRTY2FsZS52YWx1ZT1lLmRpc3BsYWNlbWVudFNjYWxlLHQuZGlzcGxhY2VtZW50Qmlhcy52YWx1ZT1lLmRpc3BsYWNlbWVudEJpYXMpfSh0LGkpKTppLmlzTWVzaFBob25nTWF0ZXJpYWw/KGUodCxpKSxmdW5jdGlvbih0LGUpe3Quc3BlY3VsYXIudmFsdWUuY29weShlLnNwZWN1bGFyKSx0LnNoaW5pbmVzcy52YWx1ZT1NYXRoLm1heChlLnNoaW5pbmVzcywxZS00KSxlLmVtaXNzaXZlTWFwJiYodC5lbWlzc2l2ZU1hcC52YWx1ZT1lLmVtaXNzaXZlTWFwKTtlLmJ1bXBNYXAmJih0LmJ1bXBNYXAudmFsdWU9ZS5idW1wTWFwLHQuYnVtcFNjYWxlLnZhbHVlPWUuYnVtcFNjYWxlLDE9PT1lLnNpZGUmJih0LmJ1bXBTY2FsZS52YWx1ZSo9LTEpKTtlLm5vcm1hbE1hcCYmKHQubm9ybWFsTWFwLnZhbHVlPWUubm9ybWFsTWFwLHQubm9ybWFsU2NhbGUudmFsdWUuY29weShlLm5vcm1hbFNjYWxlKSwxPT09ZS5zaWRlJiZ0Lm5vcm1hbFNjYWxlLnZhbHVlLm5lZ2F0ZSgpKTtlLmRpc3BsYWNlbWVudE1hcCYmKHQuZGlzcGxhY2VtZW50TWFwLnZhbHVlPWUuZGlzcGxhY2VtZW50TWFwLHQuZGlzcGxhY2VtZW50U2NhbGUudmFsdWU9ZS5kaXNwbGFjZW1lbnRTY2FsZSx0LmRpc3BsYWNlbWVudEJpYXMudmFsdWU9ZS5kaXNwbGFjZW1lbnRCaWFzKX0odCxpKSk6aS5pc01lc2hTdGFuZGFyZE1hdGVyaWFsPyhlKHQsaSksaS5pc01lc2hQaHlzaWNhbE1hdGVyaWFsP2Z1bmN0aW9uKHQsZSl7bih0LGUpLHQucmVmbGVjdGl2aXR5LnZhbHVlPWUucmVmbGVjdGl2aXR5LHQuY2xlYXJjb2F0LnZhbHVlPWUuY2xlYXJjb2F0LHQuY2xlYXJjb2F0Um91Z2huZXNzLnZhbHVlPWUuY2xlYXJjb2F0Um91Z2huZXNzLGUuc2hlZW4mJnQuc2hlZW4udmFsdWUuY29weShlLnNoZWVuKTtlLmNsZWFyY29hdE1hcCYmKHQuY2xlYXJjb2F0TWFwLnZhbHVlPWUuY2xlYXJjb2F0TWFwKTtlLmNsZWFyY29hdFJvdWdobmVzc01hcCYmKHQuY2xlYXJjb2F0Um91Z2huZXNzTWFwLnZhbHVlPWUuY2xlYXJjb2F0Um91Z2huZXNzTWFwKTtlLmNsZWFyY29hdE5vcm1hbE1hcCYmKHQuY2xlYXJjb2F0Tm9ybWFsU2NhbGUudmFsdWUuY29weShlLmNsZWFyY29hdE5vcm1hbFNjYWxlKSx0LmNsZWFyY29hdE5vcm1hbE1hcC52YWx1ZT1lLmNsZWFyY29hdE5vcm1hbE1hcCwxPT09ZS5zaWRlJiZ0LmNsZWFyY29hdE5vcm1hbFNjYWxlLnZhbHVlLm5lZ2F0ZSgpKTt0LnRyYW5zbWlzc2lvbi52YWx1ZT1lLnRyYW5zbWlzc2lvbixlLnRyYW5zbWlzc2lvbk1hcCYmKHQudHJhbnNtaXNzaW9uTWFwLnZhbHVlPWUudHJhbnNtaXNzaW9uTWFwKX0odCxpKTpuKHQsaSkpOmkuaXNNZXNoTWF0Y2FwTWF0ZXJpYWw/KGUodCxpKSxmdW5jdGlvbih0LGUpe2UubWF0Y2FwJiYodC5tYXRjYXAudmFsdWU9ZS5tYXRjYXApO2UuYnVtcE1hcCYmKHQuYnVtcE1hcC52YWx1ZT1lLmJ1bXBNYXAsdC5idW1wU2NhbGUudmFsdWU9ZS5idW1wU2NhbGUsMT09PWUuc2lkZSYmKHQuYnVtcFNjYWxlLnZhbHVlKj0tMSkpO2Uubm9ybWFsTWFwJiYodC5ub3JtYWxNYXAudmFsdWU9ZS5ub3JtYWxNYXAsdC5ub3JtYWxTY2FsZS52YWx1ZS5jb3B5KGUubm9ybWFsU2NhbGUpLDE9PT1lLnNpZGUmJnQubm9ybWFsU2NhbGUudmFsdWUubmVnYXRlKCkpO2UuZGlzcGxhY2VtZW50TWFwJiYodC5kaXNwbGFjZW1lbnRNYXAudmFsdWU9ZS5kaXNwbGFjZW1lbnRNYXAsdC5kaXNwbGFjZW1lbnRTY2FsZS52YWx1ZT1lLmRpc3BsYWNlbWVudFNjYWxlLHQuZGlzcGxhY2VtZW50Qmlhcy52YWx1ZT1lLmRpc3BsYWNlbWVudEJpYXMpfSh0LGkpKTppLmlzTWVzaERlcHRoTWF0ZXJpYWw/KGUodCxpKSxmdW5jdGlvbih0LGUpe2UuZGlzcGxhY2VtZW50TWFwJiYodC5kaXNwbGFjZW1lbnRNYXAudmFsdWU9ZS5kaXNwbGFjZW1lbnRNYXAsdC5kaXNwbGFjZW1lbnRTY2FsZS52YWx1ZT1lLmRpc3BsYWNlbWVudFNjYWxlLHQuZGlzcGxhY2VtZW50Qmlhcy52YWx1ZT1lLmRpc3BsYWNlbWVudEJpYXMpfSh0LGkpKTppLmlzTWVzaERpc3RhbmNlTWF0ZXJpYWw/KGUodCxpKSxmdW5jdGlvbih0LGUpe2UuZGlzcGxhY2VtZW50TWFwJiYodC5kaXNwbGFjZW1lbnRNYXAudmFsdWU9ZS5kaXNwbGFjZW1lbnRNYXAsdC5kaXNwbGFjZW1lbnRTY2FsZS52YWx1ZT1lLmRpc3BsYWNlbWVudFNjYWxlLHQuZGlzcGxhY2VtZW50Qmlhcy52YWx1ZT1lLmRpc3BsYWNlbWVudEJpYXMpO3QucmVmZXJlbmNlUG9zaXRpb24udmFsdWUuY29weShlLnJlZmVyZW5jZVBvc2l0aW9uKSx0Lm5lYXJEaXN0YW5jZS52YWx1ZT1lLm5lYXJEaXN0YW5jZSx0LmZhckRpc3RhbmNlLnZhbHVlPWUuZmFyRGlzdGFuY2V9KHQsaSkpOmkuaXNNZXNoTm9ybWFsTWF0ZXJpYWw/KGUodCxpKSxmdW5jdGlvbih0LGUpe2UuYnVtcE1hcCYmKHQuYnVtcE1hcC52YWx1ZT1lLmJ1bXBNYXAsdC5idW1wU2NhbGUudmFsdWU9ZS5idW1wU2NhbGUsMT09PWUuc2lkZSYmKHQuYnVtcFNjYWxlLnZhbHVlKj0tMSkpO2Uubm9ybWFsTWFwJiYodC5ub3JtYWxNYXAudmFsdWU9ZS5ub3JtYWxNYXAsdC5ub3JtYWxTY2FsZS52YWx1ZS5jb3B5KGUubm9ybWFsU2NhbGUpLDE9PT1lLnNpZGUmJnQubm9ybWFsU2NhbGUudmFsdWUubmVnYXRlKCkpO2UuZGlzcGxhY2VtZW50TWFwJiYodC5kaXNwbGFjZW1lbnRNYXAudmFsdWU9ZS5kaXNwbGFjZW1lbnRNYXAsdC5kaXNwbGFjZW1lbnRTY2FsZS52YWx1ZT1lLmRpc3BsYWNlbWVudFNjYWxlLHQuZGlzcGxhY2VtZW50Qmlhcy52YWx1ZT1lLmRpc3BsYWNlbWVudEJpYXMpfSh0LGkpKTppLmlzTGluZUJhc2ljTWF0ZXJpYWw/KGZ1bmN0aW9uKHQsZSl7dC5kaWZmdXNlLnZhbHVlLmNvcHkoZS5jb2xvciksdC5vcGFjaXR5LnZhbHVlPWUub3BhY2l0eX0odCxpKSxpLmlzTGluZURhc2hlZE1hdGVyaWFsJiZmdW5jdGlvbih0LGUpe3QuZGFzaFNpemUudmFsdWU9ZS5kYXNoU2l6ZSx0LnRvdGFsU2l6ZS52YWx1ZT1lLmRhc2hTaXplK2UuZ2FwU2l6ZSx0LnNjYWxlLnZhbHVlPWUuc2NhbGV9KHQsaSkpOmkuaXNQb2ludHNNYXRlcmlhbD9mdW5jdGlvbih0LGUsbixpKXt0LmRpZmZ1c2UudmFsdWUuY29weShlLmNvbG9yKSx0Lm9wYWNpdHkudmFsdWU9ZS5vcGFjaXR5LHQuc2l6ZS52YWx1ZT1lLnNpemUqbix0LnNjYWxlLnZhbHVlPS41KmksZS5tYXAmJih0Lm1hcC52YWx1ZT1lLm1hcCk7ZS5hbHBoYU1hcCYmKHQuYWxwaGFNYXAudmFsdWU9ZS5hbHBoYU1hcCk7bGV0IHI7ZS5tYXA/cj1lLm1hcDplLmFscGhhTWFwJiYocj1lLmFscGhhTWFwKTt2b2lkIDAhPT1yJiYoITA9PT1yLm1hdHJpeEF1dG9VcGRhdGUmJnIudXBkYXRlTWF0cml4KCksdC51dlRyYW5zZm9ybS52YWx1ZS5jb3B5KHIubWF0cml4KSl9KHQsaSxyLHMpOmkuaXNTcHJpdGVNYXRlcmlhbD9mdW5jdGlvbih0LGUpe3QuZGlmZnVzZS52YWx1ZS5jb3B5KGUuY29sb3IpLHQub3BhY2l0eS52YWx1ZT1lLm9wYWNpdHksdC5yb3RhdGlvbi52YWx1ZT1lLnJvdGF0aW9uLGUubWFwJiYodC5tYXAudmFsdWU9ZS5tYXApO2UuYWxwaGFNYXAmJih0LmFscGhhTWFwLnZhbHVlPWUuYWxwaGFNYXApO2xldCBuO2UubWFwP249ZS5tYXA6ZS5hbHBoYU1hcCYmKG49ZS5hbHBoYU1hcCk7dm9pZCAwIT09biYmKCEwPT09bi5tYXRyaXhBdXRvVXBkYXRlJiZuLnVwZGF0ZU1hdHJpeCgpLHQudXZUcmFuc2Zvcm0udmFsdWUuY29weShuLm1hdHJpeCkpfSh0LGkpOmkuaXNTaGFkb3dNYXRlcmlhbD8odC5jb2xvci52YWx1ZS5jb3B5KGkuY29sb3IpLHQub3BhY2l0eS52YWx1ZT1pLm9wYWNpdHkpOmkuaXNTaGFkZXJNYXRlcmlhbCYmKGkudW5pZm9ybXNOZWVkVXBkYXRlPSExKX19fWZ1bmN0aW9uIHdzKHQpe2NvbnN0IGU9dm9pZCAwIT09KHQ9dHx8e30pLmNhbnZhcz90LmNhbnZhczpmdW5jdGlvbigpe2NvbnN0IHQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiwiY2FudmFzIik7cmV0dXJuIHQuc3R5bGUuZGlzcGxheT0iYmxvY2siLHR9KCksbj12b2lkIDAhPT10LmNvbnRleHQ/dC5jb250ZXh0Om51bGwsaT12b2lkIDAhPT10LmFscGhhJiZ0LmFscGhhLHI9dm9pZCAwPT09dC5kZXB0aHx8dC5kZXB0aCxzPXZvaWQgMD09PXQuc3RlbmNpbHx8dC5zdGVuY2lsLGE9dm9pZCAwIT09dC5hbnRpYWxpYXMmJnQuYW50aWFsaWFzLG89dm9pZCAwPT09dC5wcmVtdWx0aXBsaWVkQWxwaGF8fHQucHJlbXVsdGlwbGllZEFscGhhLGw9dm9pZCAwIT09dC5wcmVzZXJ2ZURyYXdpbmdCdWZmZXImJnQucHJlc2VydmVEcmF3aW5nQnVmZmVyLGM9dm9pZCAwIT09dC5wb3dlclByZWZlcmVuY2U/dC5wb3dlclByZWZlcmVuY2U6ImRlZmF1bHQiLGg9dm9pZCAwIT09dC5mYWlsSWZNYWpvclBlcmZvcm1hbmNlQ2F2ZWF0JiZ0LmZhaWxJZk1ham9yUGVyZm9ybWFuY2VDYXZlYXQ7bGV0IHU9bnVsbCxkPW51bGw7Y29uc3QgcD1bXSxtPVtdO3RoaXMuZG9tRWxlbWVudD1lLHRoaXMuZGVidWc9e2NoZWNrU2hhZGVyRXJyb3JzOiEwfSx0aGlzLmF1dG9DbGVhcj0hMCx0aGlzLmF1dG9DbGVhckNvbG9yPSEwLHRoaXMuYXV0b0NsZWFyRGVwdGg9ITAsdGhpcy5hdXRvQ2xlYXJTdGVuY2lsPSEwLHRoaXMuc29ydE9iamVjdHM9ITAsdGhpcy5jbGlwcGluZ1BsYW5lcz1bXSx0aGlzLmxvY2FsQ2xpcHBpbmdFbmFibGVkPSExLHRoaXMuZ2FtbWFGYWN0b3I9Mix0aGlzLm91dHB1dEVuY29kaW5nPVgsdGhpcy5waHlzaWNhbGx5Q29ycmVjdExpZ2h0cz0hMSx0aGlzLnRvbmVNYXBwaW5nPTAsdGhpcy50b25lTWFwcGluZ0V4cG9zdXJlPTE7Y29uc3QgZj10aGlzO2xldCBnPSExLHY9MCx5PTAsXz1udWxsLHc9LTEsUz1udWxsO2NvbnN0IFQ9bmV3IFN0LEE9bmV3IFN0O2xldCBMPW51bGwsUj1lLndpZHRoLEM9ZS5oZWlnaHQsUD0xLEQ9bnVsbCxJPW51bGw7Y29uc3QgTj1uZXcgU3QoMCwwLFIsQyksQj1uZXcgU3QoMCwwLFIsQyk7bGV0IHo9ITE7Y29uc3QgRj1uZXcgYWk7bGV0IE89ITEsSD0hMTtjb25zdCBHPW5ldyBzZSxVPW5ldyBMdCxrPXtiYWNrZ3JvdW5kOm51bGwsZm9nOm51bGwsZW52aXJvbm1lbnQ6bnVsbCxvdmVycmlkZU1hdGVyaWFsOm51bGwsaXNTY2VuZTohMH07ZnVuY3Rpb24gVigpe3JldHVybiBudWxsPT09Xz9QOjF9bGV0IFcsaixxLFksWixKLFEsSywkLHR0LGV0LG50LGl0LHJ0LHN0LGF0LG90LGx0LGN0LGh0LHV0LGR0LHB0PW47ZnVuY3Rpb24gZnQodCxuKXtmb3IobGV0IGk9MDtpPHQubGVuZ3RoO2krKyl7Y29uc3Qgcj10W2ldLHM9ZS5nZXRDb250ZXh0KHIsbik7aWYobnVsbCE9PXMpcmV0dXJuIHN9cmV0dXJuIG51bGx9dHJ5e2NvbnN0IHQ9e2FscGhhOmksZGVwdGg6cixzdGVuY2lsOnMsYW50aWFsaWFzOmEscHJlbXVsdGlwbGllZEFscGhhOm8scHJlc2VydmVEcmF3aW5nQnVmZmVyOmwscG93ZXJQcmVmZXJlbmNlOmMsZmFpbElmTWFqb3JQZXJmb3JtYW5jZUNhdmVhdDpofTtpZihlLmFkZEV2ZW50TGlzdGVuZXIoIndlYmdsY29udGV4dGxvc3QiLHh0LCExKSxlLmFkZEV2ZW50TGlzdGVuZXIoIndlYmdsY29udGV4dHJlc3RvcmVkIixfdCwhMSksbnVsbD09PXB0KXtjb25zdCBlPVsid2ViZ2wyIiwid2ViZ2wiLCJleHBlcmltZW50YWwtd2ViZ2wiXTtpZighMD09PWYuaXNXZWJHTDFSZW5kZXJlciYmZS5zaGlmdCgpLHB0PWZ0KGUsdCksbnVsbD09PXB0KXRocm93IGZ0KGUpP25ldyBFcnJvcigiRXJyb3IgY3JlYXRpbmcgV2ViR0wgY29udGV4dCB3aXRoIHlvdXIgc2VsZWN0ZWQgYXR0cmlidXRlcy4iKTpuZXcgRXJyb3IoIkVycm9yIGNyZWF0aW5nIFdlYkdMIGNvbnRleHQuIil9dm9pZCAwPT09cHQuZ2V0U2hhZGVyUHJlY2lzaW9uRm9ybWF0JiYocHQuZ2V0U2hhZGVyUHJlY2lzaW9uRm9ybWF0PWZ1bmN0aW9uKCl7cmV0dXJue3JhbmdlTWluOjEscmFuZ2VNYXg6MSxwcmVjaXNpb246MX19KX1jYXRjaCh0KXt0aHJvdyBjb25zb2xlLmVycm9yKCJUSFJFRS5XZWJHTFJlbmRlcmVyOiAiK3QubWVzc2FnZSksdH1mdW5jdGlvbiBndCgpe1c9bmV3IHhpKHB0KSxqPW5ldyBnaShwdCxXLHQpLFcuaW5pdChqKSx1dD1uZXcgbXMocHQsVyxqKSxxPW5ldyBkcyhwdCxXLGopLFk9bmV3IGJpKHB0KSxaPW5ldyBLcixKPW5ldyBwcyhwdCxXLHEsWixqLHV0LFkpLFE9bmV3IHlpKGYpLEs9bmV3IGxpKHB0LGopLGR0PW5ldyBtaShwdCxXLEssaiksJD1uZXcgX2kocHQsSyxZLGR0KSx0dD1uZXcgRWkocHQsJCxLLFkpLGx0PW5ldyBUaShwdCksc3Q9bmV3IHZpKFopLGV0PW5ldyBRcihmLFEsVyxqLGR0LHN0KSxudD1uZXcgX3MoWiksaXQ9bmV3IG5zKFopLHJ0PW5ldyBscyhXLGopLG90PW5ldyBwaShmLFEscSx0dCxvKSxhdD1uZXcgdXMoZix0dCxqKSxjdD1uZXcgZmkocHQsVyxZLGopLGh0PW5ldyB3aShwdCxXLFksaiksWS5wcm9ncmFtcz1ldC5wcm9ncmFtcyxmLmNhcGFiaWxpdGllcz1qLGYuZXh0ZW5zaW9ucz1XLGYucHJvcGVydGllcz1aLGYucmVuZGVyTGlzdHM9aXQsZi5zaGFkb3dNYXA9YXQsZi5zdGF0ZT1xLGYuaW5mbz1ZfWd0KCk7Y29uc3QgeXQ9bmV3IHhzKGYscHQpO2Z1bmN0aW9uIHh0KHQpe3QucHJldmVudERlZmF1bHQoKSxjb25zb2xlLmxvZygiVEhSRUUuV2ViR0xSZW5kZXJlcjogQ29udGV4dCBMb3N0LiIpLGc9ITB9ZnVuY3Rpb24gX3QoKXtjb25zb2xlLmxvZygiVEhSRUUuV2ViR0xSZW5kZXJlcjogQ29udGV4dCBSZXN0b3JlZC4iKSxnPSExO2NvbnN0IHQ9WS5hdXRvUmVzZXQsZT1hdC5lbmFibGVkLG49YXQuYXV0b1VwZGF0ZSxpPWF0Lm5lZWRzVXBkYXRlLHI9YXQudHlwZTtndCgpLFkuYXV0b1Jlc2V0PXQsYXQuZW5hYmxlZD1lLGF0LmF1dG9VcGRhdGU9bixhdC5uZWVkc1VwZGF0ZT1pLGF0LnR5cGU9cn1mdW5jdGlvbiB3dCh0KXtjb25zdCBlPXQudGFyZ2V0O2UucmVtb3ZlRXZlbnRMaXN0ZW5lcigiZGlzcG9zZSIsd3QpLGZ1bmN0aW9uKHQpeyhmdW5jdGlvbih0KXtjb25zdCBlPVouZ2V0KHQpLnByb2dyYW1zO3ZvaWQgMCE9PWUmJmUuZm9yRWFjaCgoZnVuY3Rpb24odCl7ZXQucmVsZWFzZVByb2dyYW0odCl9KSl9KSh0KSxaLnJlbW92ZSh0KX0oZSl9dGhpcy54cj15dCx0aGlzLmdldENvbnRleHQ9ZnVuY3Rpb24oKXtyZXR1cm4gcHR9LHRoaXMuZ2V0Q29udGV4dEF0dHJpYnV0ZXM9ZnVuY3Rpb24oKXtyZXR1cm4gcHQuZ2V0Q29udGV4dEF0dHJpYnV0ZXMoKX0sdGhpcy5mb3JjZUNvbnRleHRMb3NzPWZ1bmN0aW9uKCl7Y29uc3QgdD1XLmdldCgiV0VCR0xfbG9zZV9jb250ZXh0Iik7dCYmdC5sb3NlQ29udGV4dCgpfSx0aGlzLmZvcmNlQ29udGV4dFJlc3RvcmU9ZnVuY3Rpb24oKXtjb25zdCB0PVcuZ2V0KCJXRUJHTF9sb3NlX2NvbnRleHQiKTt0JiZ0LnJlc3RvcmVDb250ZXh0KCl9LHRoaXMuZ2V0UGl4ZWxSYXRpbz1mdW5jdGlvbigpe3JldHVybiBQfSx0aGlzLnNldFBpeGVsUmF0aW89ZnVuY3Rpb24odCl7dm9pZCAwIT09dCYmKFA9dCx0aGlzLnNldFNpemUoUixDLCExKSl9LHRoaXMuZ2V0U2l6ZT1mdW5jdGlvbih0KXtyZXR1cm4gdm9pZCAwPT09dCYmKGNvbnNvbGUud2FybigiV2ViR0xSZW5kZXJlcjogLmdldHNpemUoKSBub3cgcmVxdWlyZXMgYSBWZWN0b3IyIGFzIGFuIGFyZ3VtZW50IiksdD1uZXcgdnQpLHQuc2V0KFIsQyl9LHRoaXMuc2V0U2l6ZT1mdW5jdGlvbih0LG4saSl7eXQuaXNQcmVzZW50aW5nP2NvbnNvbGUud2FybigiVEhSRUUuV2ViR0xSZW5kZXJlcjogQ2FuJ3QgY2hhbmdlIHNpemUgd2hpbGUgVlIgZGV2aWNlIGlzIHByZXNlbnRpbmcuIik6KFI9dCxDPW4sZS53aWR0aD1NYXRoLmZsb29yKHQqUCksZS5oZWlnaHQ9TWF0aC5mbG9vcihuKlApLCExIT09aSYmKGUuc3R5bGUud2lkdGg9dCsicHgiLGUuc3R5bGUuaGVpZ2h0PW4rInB4IiksdGhpcy5zZXRWaWV3cG9ydCgwLDAsdCxuKSl9LHRoaXMuZ2V0RHJhd2luZ0J1ZmZlclNpemU9ZnVuY3Rpb24odCl7cmV0dXJuIHZvaWQgMD09PXQmJihjb25zb2xlLndhcm4oIldlYkdMUmVuZGVyZXI6IC5nZXRkcmF3aW5nQnVmZmVyU2l6ZSgpIG5vdyByZXF1aXJlcyBhIFZlY3RvcjIgYXMgYW4gYXJndW1lbnQiKSx0PW5ldyB2dCksdC5zZXQoUipQLEMqUCkuZmxvb3IoKX0sdGhpcy5zZXREcmF3aW5nQnVmZmVyU2l6ZT1mdW5jdGlvbih0LG4saSl7Uj10LEM9bixQPWksZS53aWR0aD1NYXRoLmZsb29yKHQqaSksZS5oZWlnaHQ9TWF0aC5mbG9vcihuKmkpLHRoaXMuc2V0Vmlld3BvcnQoMCwwLHQsbil9LHRoaXMuZ2V0Q3VycmVudFZpZXdwb3J0PWZ1bmN0aW9uKHQpe3JldHVybiB2b2lkIDA9PT10JiYoY29uc29sZS53YXJuKCJXZWJHTFJlbmRlcmVyOiAuZ2V0Q3VycmVudFZpZXdwb3J0KCkgbm93IHJlcXVpcmVzIGEgVmVjdG9yNCBhcyBhbiBhcmd1bWVudCIpLHQ9bmV3IFN0KSx0LmNvcHkoVCl9LHRoaXMuZ2V0Vmlld3BvcnQ9ZnVuY3Rpb24odCl7cmV0dXJuIHQuY29weShOKX0sdGhpcy5zZXRWaWV3cG9ydD1mdW5jdGlvbih0LGUsbixpKXt0LmlzVmVjdG9yND9OLnNldCh0LngsdC55LHQueix0LncpOk4uc2V0KHQsZSxuLGkpLHEudmlld3BvcnQoVC5jb3B5KE4pLm11bHRpcGx5U2NhbGFyKFApLmZsb29yKCkpfSx0aGlzLmdldFNjaXNzb3I9ZnVuY3Rpb24odCl7cmV0dXJuIHQuY29weShCKX0sdGhpcy5zZXRTY2lzc29yPWZ1bmN0aW9uKHQsZSxuLGkpe3QuaXNWZWN0b3I0P0Iuc2V0KHQueCx0LnksdC56LHQudyk6Qi5zZXQodCxlLG4saSkscS5zY2lzc29yKEEuY29weShCKS5tdWx0aXBseVNjYWxhcihQKS5mbG9vcigpKX0sdGhpcy5nZXRTY2lzc29yVGVzdD1mdW5jdGlvbigpe3JldHVybiB6fSx0aGlzLnNldFNjaXNzb3JUZXN0PWZ1bmN0aW9uKHQpe3Euc2V0U2Npc3NvclRlc3Qoej10KX0sdGhpcy5zZXRPcGFxdWVTb3J0PWZ1bmN0aW9uKHQpe0Q9dH0sdGhpcy5zZXRUcmFuc3BhcmVudFNvcnQ9ZnVuY3Rpb24odCl7ST10fSx0aGlzLmdldENsZWFyQ29sb3I9ZnVuY3Rpb24odCl7cmV0dXJuIHZvaWQgMD09PXQmJihjb25zb2xlLndhcm4oIldlYkdMUmVuZGVyZXI6IC5nZXRDbGVhckNvbG9yKCkgbm93IHJlcXVpcmVzIGEgQ29sb3IgYXMgYW4gYXJndW1lbnQiKSx0PW5ldyB0biksdC5jb3B5KG90LmdldENsZWFyQ29sb3IoKSl9LHRoaXMuc2V0Q2xlYXJDb2xvcj1mdW5jdGlvbigpe290LnNldENsZWFyQ29sb3IuYXBwbHkob3QsYXJndW1lbnRzKX0sdGhpcy5nZXRDbGVhckFscGhhPWZ1bmN0aW9uKCl7cmV0dXJuIG90LmdldENsZWFyQWxwaGEoKX0sdGhpcy5zZXRDbGVhckFscGhhPWZ1bmN0aW9uKCl7b3Quc2V0Q2xlYXJBbHBoYS5hcHBseShvdCxhcmd1bWVudHMpfSx0aGlzLmNsZWFyPWZ1bmN0aW9uKHQsZSxuKXtsZXQgaT0wOyh2b2lkIDA9PT10fHx0KSYmKGl8PTE2Mzg0KSwodm9pZCAwPT09ZXx8ZSkmJihpfD0yNTYpLCh2b2lkIDA9PT1ufHxuKSYmKGl8PTEwMjQpLHB0LmNsZWFyKGkpfSx0aGlzLmNsZWFyQ29sb3I9ZnVuY3Rpb24oKXt0aGlzLmNsZWFyKCEwLCExLCExKX0sdGhpcy5jbGVhckRlcHRoPWZ1bmN0aW9uKCl7dGhpcy5jbGVhcighMSwhMCwhMSl9LHRoaXMuY2xlYXJTdGVuY2lsPWZ1bmN0aW9uKCl7dGhpcy5jbGVhcighMSwhMSwhMCl9LHRoaXMuZGlzcG9zZT1mdW5jdGlvbigpe2UucmVtb3ZlRXZlbnRMaXN0ZW5lcigid2ViZ2xjb250ZXh0bG9zdCIseHQsITEpLGUucmVtb3ZlRXZlbnRMaXN0ZW5lcigid2ViZ2xjb250ZXh0cmVzdG9yZWQiLF90LCExKSxpdC5kaXNwb3NlKCkscnQuZGlzcG9zZSgpLFouZGlzcG9zZSgpLFEuZGlzcG9zZSgpLHR0LmRpc3Bvc2UoKSxkdC5kaXNwb3NlKCkseXQuZGlzcG9zZSgpLHl0LnJlbW92ZUV2ZW50TGlzdGVuZXIoInNlc3Npb25zdGFydCIsTXQpLHl0LnJlbW92ZUV2ZW50TGlzdGVuZXIoInNlc3Npb25lbmQiLFR0KSxFdC5zdG9wKCl9LHRoaXMucmVuZGVyQnVmZmVySW1tZWRpYXRlPWZ1bmN0aW9uKHQsZSl7ZHQuaW5pdEF0dHJpYnV0ZXMoKTtjb25zdCBuPVouZ2V0KHQpO3QuaGFzUG9zaXRpb25zJiYhbi5wb3NpdGlvbiYmKG4ucG9zaXRpb249cHQuY3JlYXRlQnVmZmVyKCkpLHQuaGFzTm9ybWFscyYmIW4ubm9ybWFsJiYobi5ub3JtYWw9cHQuY3JlYXRlQnVmZmVyKCkpLHQuaGFzVXZzJiYhbi51diYmKG4udXY9cHQuY3JlYXRlQnVmZmVyKCkpLHQuaGFzQ29sb3JzJiYhbi5jb2xvciYmKG4uY29sb3I9cHQuY3JlYXRlQnVmZmVyKCkpO2NvbnN0IGk9ZS5nZXRBdHRyaWJ1dGVzKCk7dC5oYXNQb3NpdGlvbnMmJihwdC5iaW5kQnVmZmVyKDM0OTYyLG4ucG9zaXRpb24pLHB0LmJ1ZmZlckRhdGEoMzQ5NjIsdC5wb3NpdGlvbkFycmF5LDM1MDQ4KSxkdC5lbmFibGVBdHRyaWJ1dGUoaS5wb3NpdGlvbikscHQudmVydGV4QXR0cmliUG9pbnRlcihpLnBvc2l0aW9uLDMsNTEyNiwhMSwwLDApKSx0Lmhhc05vcm1hbHMmJihwdC5iaW5kQnVmZmVyKDM0OTYyLG4ubm9ybWFsKSxwdC5idWZmZXJEYXRhKDM0OTYyLHQubm9ybWFsQXJyYXksMzUwNDgpLGR0LmVuYWJsZUF0dHJpYnV0ZShpLm5vcm1hbCkscHQudmVydGV4QXR0cmliUG9pbnRlcihpLm5vcm1hbCwzLDUxMjYsITEsMCwwKSksdC5oYXNVdnMmJihwdC5iaW5kQnVmZmVyKDM0OTYyLG4udXYpLHB0LmJ1ZmZlckRhdGEoMzQ5NjIsdC51dkFycmF5LDM1MDQ4KSxkdC5lbmFibGVBdHRyaWJ1dGUoaS51dikscHQudmVydGV4QXR0cmliUG9pbnRlcihpLnV2LDIsNTEyNiwhMSwwLDApKSx0Lmhhc0NvbG9ycyYmKHB0LmJpbmRCdWZmZXIoMzQ5NjIsbi5jb2xvcikscHQuYnVmZmVyRGF0YSgzNDk2Mix0LmNvbG9yQXJyYXksMzUwNDgpLGR0LmVuYWJsZUF0dHJpYnV0ZShpLmNvbG9yKSxwdC52ZXJ0ZXhBdHRyaWJQb2ludGVyKGkuY29sb3IsMyw1MTI2LCExLDAsMCkpLGR0LmRpc2FibGVVbnVzZWRBdHRyaWJ1dGVzKCkscHQuZHJhd0FycmF5cyg0LDAsdC5jb3VudCksdC5jb3VudD0wfSx0aGlzLnJlbmRlckJ1ZmZlckRpcmVjdD1mdW5jdGlvbih0LGUsbixpLHIscyl7bnVsbD09PWUmJihlPWspO2NvbnN0IGE9ci5pc01lc2gmJnIubWF0cml4V29ybGQuZGV0ZXJtaW5hbnQoKTwwLG89SXQodCxlLGkscik7cS5zZXRNYXRlcmlhbChpLGEpO2xldCBsPW4uaW5kZXg7Y29uc3QgYz1uLmF0dHJpYnV0ZXMucG9zaXRpb247aWYobnVsbD09PWwpe2lmKHZvaWQgMD09PWN8fDA9PT1jLmNvdW50KXJldHVybn1lbHNlIGlmKDA9PT1sLmNvdW50KXJldHVybjtsZXQgaCx1PTE7ITA9PT1pLndpcmVmcmFtZSYmKGw9JC5nZXRXaXJlZnJhbWVBdHRyaWJ1dGUobiksdT0yKSwoaS5tb3JwaFRhcmdldHN8fGkubW9ycGhOb3JtYWxzKSYmbHQudXBkYXRlKHIsbixpLG8pLGR0LnNldHVwKHIsaSxvLG4sbCk7bGV0IGQ9Y3Q7bnVsbCE9PWwmJihoPUsuZ2V0KGwpLGQ9aHQsZC5zZXRJbmRleChoKSk7Y29uc3QgcD1udWxsIT09bD9sLmNvdW50OmMuY291bnQsbT1uLmRyYXdSYW5nZS5zdGFydCp1LGY9bi5kcmF3UmFuZ2UuY291bnQqdSxnPW51bGwhPT1zP3Muc3RhcnQqdTowLHY9bnVsbCE9PXM/cy5jb3VudCp1OjEvMCx5PU1hdGgubWF4KG0sZykseD1NYXRoLm1pbihwLG0rZixnK3YpLTEsXz1NYXRoLm1heCgwLHgteSsxKTtpZigwIT09Xyl7aWYoci5pc01lc2gpITA9PT1pLndpcmVmcmFtZT8ocS5zZXRMaW5lV2lkdGgoaS53aXJlZnJhbWVMaW5ld2lkdGgqVigpKSxkLnNldE1vZGUoMSkpOmQuc2V0TW9kZSg0KTtlbHNlIGlmKHIuaXNMaW5lKXtsZXQgdD1pLmxpbmV3aWR0aDt2b2lkIDA9PT10JiYodD0xKSxxLnNldExpbmVXaWR0aCh0KlYoKSksci5pc0xpbmVTZWdtZW50cz9kLnNldE1vZGUoMSk6ci5pc0xpbmVMb29wP2Quc2V0TW9kZSgyKTpkLnNldE1vZGUoMyl9ZWxzZSByLmlzUG9pbnRzP2Quc2V0TW9kZSgwKTpyLmlzU3ByaXRlJiZkLnNldE1vZGUoNCk7aWYoci5pc0luc3RhbmNlZE1lc2gpZC5yZW5kZXJJbnN0YW5jZXMoeSxfLHIuY291bnQpO2Vsc2UgaWYobi5pc0luc3RhbmNlZEJ1ZmZlckdlb21ldHJ5KXtjb25zdCB0PU1hdGgubWluKG4uaW5zdGFuY2VDb3VudCxuLl9tYXhJbnN0YW5jZUNvdW50KTtkLnJlbmRlckluc3RhbmNlcyh5LF8sdCl9ZWxzZSBkLnJlbmRlcih5LF8pfX0sdGhpcy5jb21waWxlPWZ1bmN0aW9uKHQsZSl7ZD1ydC5nZXQodCksZC5pbml0KCksdC50cmF2ZXJzZVZpc2libGUoKGZ1bmN0aW9uKHQpe3QuaXNMaWdodCYmdC5sYXllcnMudGVzdChlLmxheWVycykmJihkLnB1c2hMaWdodCh0KSx0LmNhc3RTaGFkb3cmJmQucHVzaFNoYWRvdyh0KSl9KSksZC5zZXR1cExpZ2h0cygpLHQudHJhdmVyc2UoKGZ1bmN0aW9uKGUpe2NvbnN0IG49ZS5tYXRlcmlhbDtpZihuKWlmKEFycmF5LmlzQXJyYXkobikpZm9yKGxldCBpPTA7aTxuLmxlbmd0aDtpKyspe1B0KG5baV0sdCxlKX1lbHNlIFB0KG4sdCxlKX0pKX07bGV0IGJ0PW51bGw7ZnVuY3Rpb24gTXQoKXtFdC5zdG9wKCl9ZnVuY3Rpb24gVHQoKXtFdC5zdGFydCgpfWNvbnN0IEV0PW5ldyBvaTtmdW5jdGlvbiBBdCh0LGUsbixpKXtpZighMT09PXQudmlzaWJsZSlyZXR1cm47aWYodC5sYXllcnMudGVzdChlLmxheWVycykpaWYodC5pc0dyb3VwKW49dC5yZW5kZXJPcmRlcjtlbHNlIGlmKHQuaXNMT0QpITA9PT10LmF1dG9VcGRhdGUmJnQudXBkYXRlKGUpO2Vsc2UgaWYodC5pc0xpZ2h0KWQucHVzaExpZ2h0KHQpLHQuY2FzdFNoYWRvdyYmZC5wdXNoU2hhZG93KHQpO2Vsc2UgaWYodC5pc1Nwcml0ZSl7aWYoIXQuZnJ1c3R1bUN1bGxlZHx8Ri5pbnRlcnNlY3RzU3ByaXRlKHQpKXtpJiZVLnNldEZyb21NYXRyaXhQb3NpdGlvbih0Lm1hdHJpeFdvcmxkKS5hcHBseU1hdHJpeDQoRyk7Y29uc3QgZT10dC51cGRhdGUodCkscj10Lm1hdGVyaWFsO3IudmlzaWJsZSYmdS5wdXNoKHQsZSxyLG4sVS56LG51bGwpfX1lbHNlIGlmKHQuaXNJbW1lZGlhdGVSZW5kZXJPYmplY3QpaSYmVS5zZXRGcm9tTWF0cml4UG9zaXRpb24odC5tYXRyaXhXb3JsZCkuYXBwbHlNYXRyaXg0KEcpLHUucHVzaCh0LG51bGwsdC5tYXRlcmlhbCxuLFUueixudWxsKTtlbHNlIGlmKCh0LmlzTWVzaHx8dC5pc0xpbmV8fHQuaXNQb2ludHMpJiYodC5pc1NraW5uZWRNZXNoJiZ0LnNrZWxldG9uLmZyYW1lIT09WS5yZW5kZXIuZnJhbWUmJih0LnNrZWxldG9uLnVwZGF0ZSgpLHQuc2tlbGV0b24uZnJhbWU9WS5yZW5kZXIuZnJhbWUpLCF0LmZydXN0dW1DdWxsZWR8fEYuaW50ZXJzZWN0c09iamVjdCh0KSkpe2kmJlUuc2V0RnJvbU1hdHJpeFBvc2l0aW9uKHQubWF0cml4V29ybGQpLmFwcGx5TWF0cml4NChHKTtjb25zdCBlPXR0LnVwZGF0ZSh0KSxyPXQubWF0ZXJpYWw7aWYoQXJyYXkuaXNBcnJheShyKSl7Y29uc3QgaT1lLmdyb3Vwcztmb3IobGV0IHM9MCxhPWkubGVuZ3RoO3M8YTtzKyspe2NvbnN0IGE9aVtzXSxvPXJbYS5tYXRlcmlhbEluZGV4XTtvJiZvLnZpc2libGUmJnUucHVzaCh0LGUsbyxuLFUueixhKX19ZWxzZSByLnZpc2libGUmJnUucHVzaCh0LGUscixuLFUueixudWxsKX1jb25zdCByPXQuY2hpbGRyZW47Zm9yKGxldCB0PTAscz1yLmxlbmd0aDt0PHM7dCsrKUF0KHJbdF0sZSxuLGkpfWZ1bmN0aW9uIFJ0KHQsZSxuKXtjb25zdCBpPSEwPT09ZS5pc1NjZW5lP2Uub3ZlcnJpZGVNYXRlcmlhbDpudWxsO2ZvcihsZXQgcj0wLHM9dC5sZW5ndGg7cjxzO3IrKyl7Y29uc3Qgcz10W3JdLGE9cy5vYmplY3Qsbz1zLmdlb21ldHJ5LGw9bnVsbD09PWk/cy5tYXRlcmlhbDppLGM9cy5ncm91cDtpZihuLmlzQXJyYXlDYW1lcmEpe2NvbnN0IHQ9bi5jYW1lcmFzO2ZvcihsZXQgbj0wLGk9dC5sZW5ndGg7bjxpO24rKyl7Y29uc3QgaT10W25dO2EubGF5ZXJzLnRlc3QoaS5sYXllcnMpJiYocS52aWV3cG9ydChULmNvcHkoaS52aWV3cG9ydCkpLGQuc2V0dXBMaWdodHNWaWV3KGkpLEN0KGEsZSxpLG8sbCxjKSl9fWVsc2UgQ3QoYSxlLG4sbyxsLGMpfX1mdW5jdGlvbiBDdCh0LGUsbixpLHIscyl7aWYodC5vbkJlZm9yZVJlbmRlcihmLGUsbixpLHIscyksdC5tb2RlbFZpZXdNYXRyaXgubXVsdGlwbHlNYXRyaWNlcyhuLm1hdHJpeFdvcmxkSW52ZXJzZSx0Lm1hdHJpeFdvcmxkKSx0Lm5vcm1hbE1hdHJpeC5nZXROb3JtYWxNYXRyaXgodC5tb2RlbFZpZXdNYXRyaXgpLHQuaXNJbW1lZGlhdGVSZW5kZXJPYmplY3Qpe2NvbnN0IGk9SXQobixlLHIsdCk7cS5zZXRNYXRlcmlhbChyKSxkdC5yZXNldCgpLGZ1bmN0aW9uKHQsZSl7dC5yZW5kZXIoKGZ1bmN0aW9uKHQpe2YucmVuZGVyQnVmZmVySW1tZWRpYXRlKHQsZSl9KSl9KHQsaSl9ZWxzZSBmLnJlbmRlckJ1ZmZlckRpcmVjdChuLGUsaSxyLHQscyk7dC5vbkFmdGVyUmVuZGVyKGYsZSxuLGkscixzKX1mdW5jdGlvbiBQdCh0LGUsbil7ITAhPT1lLmlzU2NlbmUmJihlPWspO2NvbnN0IGk9Wi5nZXQodCkscj1kLnN0YXRlLmxpZ2h0cyxzPWQuc3RhdGUuc2hhZG93c0FycmF5LGE9ci5zdGF0ZS52ZXJzaW9uLG89ZXQuZ2V0UGFyYW1ldGVycyh0LHIuc3RhdGUscyxlLG4pLGw9ZXQuZ2V0UHJvZ3JhbUNhY2hlS2V5KG8pO2xldCBjPWkucHJvZ3JhbXM7aS5lbnZpcm9ubWVudD10LmlzTWVzaFN0YW5kYXJkTWF0ZXJpYWw/ZS5lbnZpcm9ubWVudDpudWxsLGkuZm9nPWUuZm9nLGkuZW52TWFwPVEuZ2V0KHQuZW52TWFwfHxpLmVudmlyb25tZW50KSx2b2lkIDA9PT1jJiYodC5hZGRFdmVudExpc3RlbmVyKCJkaXNwb3NlIix3dCksYz1uZXcgTWFwLGkucHJvZ3JhbXM9Yyk7bGV0IGg9Yy5nZXQobCk7aWYodm9pZCAwIT09aCl7aWYoaS5jdXJyZW50UHJvZ3JhbT09PWgmJmkubGlnaHRzU3RhdGVWZXJzaW9uPT09YSlyZXR1cm4gRHQodCxvKSxofWVsc2Ugby51bmlmb3Jtcz1ldC5nZXRVbmlmb3Jtcyh0KSx0Lm9uQnVpbGQobyxmKSx0Lm9uQmVmb3JlQ29tcGlsZShvLGYpLGg9ZXQuYWNxdWlyZVByb2dyYW0obyxsKSxjLnNldChsLGgpLGkudW5pZm9ybXM9by51bmlmb3Jtcztjb25zdCB1PWkudW5pZm9ybXM7KHQuaXNTaGFkZXJNYXRlcmlhbHx8dC5pc1Jhd1NoYWRlck1hdGVyaWFsKSYmITAhPT10LmNsaXBwaW5nfHwodS5jbGlwcGluZ1BsYW5lcz1zdC51bmlmb3JtKSxEdCh0LG8pLGkubmVlZHNMaWdodHM9ZnVuY3Rpb24odCl7cmV0dXJuIHQuaXNNZXNoTGFtYmVydE1hdGVyaWFsfHx0LmlzTWVzaFRvb25NYXRlcmlhbHx8dC5pc01lc2hQaG9uZ01hdGVyaWFsfHx0LmlzTWVzaFN0YW5kYXJkTWF0ZXJpYWx8fHQuaXNTaGFkb3dNYXRlcmlhbHx8dC5pc1NoYWRlck1hdGVyaWFsJiYhMD09PXQubGlnaHRzfSh0KSxpLmxpZ2h0c1N0YXRlVmVyc2lvbj1hLGkubmVlZHNMaWdodHMmJih1LmFtYmllbnRMaWdodENvbG9yLnZhbHVlPXIuc3RhdGUuYW1iaWVudCx1LmxpZ2h0UHJvYmUudmFsdWU9ci5zdGF0ZS5wcm9iZSx1LmRpcmVjdGlvbmFsTGlnaHRzLnZhbHVlPXIuc3RhdGUuZGlyZWN0aW9uYWwsdS5kaXJlY3Rpb25hbExpZ2h0U2hhZG93cy52YWx1ZT1yLnN0YXRlLmRpcmVjdGlvbmFsU2hhZG93LHUuc3BvdExpZ2h0cy52YWx1ZT1yLnN0YXRlLnNwb3QsdS5zcG90TGlnaHRTaGFkb3dzLnZhbHVlPXIuc3RhdGUuc3BvdFNoYWRvdyx1LnJlY3RBcmVhTGlnaHRzLnZhbHVlPXIuc3RhdGUucmVjdEFyZWEsdS5sdGNfMS52YWx1ZT1yLnN0YXRlLnJlY3RBcmVhTFRDMSx1Lmx0Y18yLnZhbHVlPXIuc3RhdGUucmVjdEFyZWFMVEMyLHUucG9pbnRMaWdodHMudmFsdWU9ci5zdGF0ZS5wb2ludCx1LnBvaW50TGlnaHRTaGFkb3dzLnZhbHVlPXIuc3RhdGUucG9pbnRTaGFkb3csdS5oZW1pc3BoZXJlTGlnaHRzLnZhbHVlPXIuc3RhdGUuaGVtaSx1LmRpcmVjdGlvbmFsU2hhZG93TWFwLnZhbHVlPXIuc3RhdGUuZGlyZWN0aW9uYWxTaGFkb3dNYXAsdS5kaXJlY3Rpb25hbFNoYWRvd01hdHJpeC52YWx1ZT1yLnN0YXRlLmRpcmVjdGlvbmFsU2hhZG93TWF0cml4LHUuc3BvdFNoYWRvd01hcC52YWx1ZT1yLnN0YXRlLnNwb3RTaGFkb3dNYXAsdS5zcG90U2hhZG93TWF0cml4LnZhbHVlPXIuc3RhdGUuc3BvdFNoYWRvd01hdHJpeCx1LnBvaW50U2hhZG93TWFwLnZhbHVlPXIuc3RhdGUucG9pbnRTaGFkb3dNYXAsdS5wb2ludFNoYWRvd01hdHJpeC52YWx1ZT1yLnN0YXRlLnBvaW50U2hhZG93TWF0cml4KTtjb25zdCBwPWguZ2V0VW5pZm9ybXMoKSxtPUNyLnNlcVdpdGhWYWx1ZShwLnNlcSx1KTtyZXR1cm4gaS5jdXJyZW50UHJvZ3JhbT1oLGkudW5pZm9ybXNMaXN0PW0saH1mdW5jdGlvbiBEdCh0LGUpe2NvbnN0IG49Wi5nZXQodCk7bi5vdXRwdXRFbmNvZGluZz1lLm91dHB1dEVuY29kaW5nLG4uaW5zdGFuY2luZz1lLmluc3RhbmNpbmcsbi5udW1DbGlwcGluZ1BsYW5lcz1lLm51bUNsaXBwaW5nUGxhbmVzLG4ubnVtSW50ZXJzZWN0aW9uPWUubnVtQ2xpcEludGVyc2VjdGlvbixuLnZlcnRleEFscGhhcz1lLnZlcnRleEFscGhhc31mdW5jdGlvbiBJdCh0LGUsbixpKXshMCE9PWUuaXNTY2VuZSYmKGU9ayksSi5yZXNldFRleHR1cmVVbml0cygpO2NvbnN0IHI9ZS5mb2cscz1uLmlzTWVzaFN0YW5kYXJkTWF0ZXJpYWw/ZS5lbnZpcm9ubWVudDpudWxsLGE9bnVsbD09PV8/Zi5vdXRwdXRFbmNvZGluZzpfLnRleHR1cmUuZW5jb2Rpbmcsbz1RLmdldChuLmVudk1hcHx8cyksbD0hMD09PW4udmVydGV4Q29sb3JzJiZpLmdlb21ldHJ5JiZpLmdlb21ldHJ5LmF0dHJpYnV0ZXMuY29sb3ImJjQ9PT1pLmdlb21ldHJ5LmF0dHJpYnV0ZXMuY29sb3IuaXRlbVNpemUsYz1aLmdldChuKSxoPWQuc3RhdGUubGlnaHRzO2lmKCEwPT09TyYmKCEwPT09SHx8dCE9PVMpKXtjb25zdCBlPXQ9PT1TJiZuLmlkPT09dztzdC5zZXRTdGF0ZShuLHQsZSl9bGV0IHU9ITE7bi52ZXJzaW9uPT09Yy5fX3ZlcnNpb24/Yy5uZWVkc0xpZ2h0cyYmYy5saWdodHNTdGF0ZVZlcnNpb24hPT1oLnN0YXRlLnZlcnNpb258fGMub3V0cHV0RW5jb2RpbmchPT1hfHxpLmlzSW5zdGFuY2VkTWVzaCYmITE9PT1jLmluc3RhbmNpbmc/dT0hMDppLmlzSW5zdGFuY2VkTWVzaHx8ITAhPT1jLmluc3RhbmNpbmc/Yy5lbnZNYXAhPT1vfHxuLmZvZyYmYy5mb2chPT1yP3U9ITA6dm9pZCAwPT09Yy5udW1DbGlwcGluZ1BsYW5lc3x8Yy5udW1DbGlwcGluZ1BsYW5lcz09PXN0Lm51bVBsYW5lcyYmYy5udW1JbnRlcnNlY3Rpb249PT1zdC5udW1JbnRlcnNlY3Rpb24/Yy52ZXJ0ZXhBbHBoYXMhPT1sJiYodT0hMCk6dT0hMDp1PSEwOih1PSEwLGMuX192ZXJzaW9uPW4udmVyc2lvbik7bGV0IHA9Yy5jdXJyZW50UHJvZ3JhbTshMD09PXUmJihwPVB0KG4sZSxpKSk7bGV0IG09ITEsZz0hMSx2PSExO2NvbnN0IHk9cC5nZXRVbmlmb3JtcygpLHg9Yy51bmlmb3JtcztpZihxLnVzZVByb2dyYW0ocC5wcm9ncmFtKSYmKG09ITAsZz0hMCx2PSEwKSxuLmlkIT09dyYmKHc9bi5pZCxnPSEwKSxtfHxTIT09dCl7aWYoeS5zZXRWYWx1ZShwdCwicHJvamVjdGlvbk1hdHJpeCIsdC5wcm9qZWN0aW9uTWF0cml4KSxqLmxvZ2FyaXRobWljRGVwdGhCdWZmZXImJnkuc2V0VmFsdWUocHQsImxvZ0RlcHRoQnVmRkMiLDIvKE1hdGgubG9nKHQuZmFyKzEpL01hdGguTE4yKSksUyE9PXQmJihTPXQsZz0hMCx2PSEwKSxuLmlzU2hhZGVyTWF0ZXJpYWx8fG4uaXNNZXNoUGhvbmdNYXRlcmlhbHx8bi5pc01lc2hUb29uTWF0ZXJpYWx8fG4uaXNNZXNoU3RhbmRhcmRNYXRlcmlhbHx8bi5lbnZNYXApe2NvbnN0IGU9eS5tYXAuY2FtZXJhUG9zaXRpb247dm9pZCAwIT09ZSYmZS5zZXRWYWx1ZShwdCxVLnNldEZyb21NYXRyaXhQb3NpdGlvbih0Lm1hdHJpeFdvcmxkKSl9KG4uaXNNZXNoUGhvbmdNYXRlcmlhbHx8bi5pc01lc2hUb29uTWF0ZXJpYWx8fG4uaXNNZXNoTGFtYmVydE1hdGVyaWFsfHxuLmlzTWVzaEJhc2ljTWF0ZXJpYWx8fG4uaXNNZXNoU3RhbmRhcmRNYXRlcmlhbHx8bi5pc1NoYWRlck1hdGVyaWFsKSYmeS5zZXRWYWx1ZShwdCwiaXNPcnRob2dyYXBoaWMiLCEwPT09dC5pc09ydGhvZ3JhcGhpY0NhbWVyYSksKG4uaXNNZXNoUGhvbmdNYXRlcmlhbHx8bi5pc01lc2hUb29uTWF0ZXJpYWx8fG4uaXNNZXNoTGFtYmVydE1hdGVyaWFsfHxuLmlzTWVzaEJhc2ljTWF0ZXJpYWx8fG4uaXNNZXNoU3RhbmRhcmRNYXRlcmlhbHx8bi5pc1NoYWRlck1hdGVyaWFsfHxuLmlzU2hhZG93TWF0ZXJpYWx8fG4uc2tpbm5pbmcpJiZ5LnNldFZhbHVlKHB0LCJ2aWV3TWF0cml4Iix0Lm1hdHJpeFdvcmxkSW52ZXJzZSl9aWYobi5za2lubmluZyl7eS5zZXRPcHRpb25hbChwdCxpLCJiaW5kTWF0cml4IikseS5zZXRPcHRpb25hbChwdCxpLCJiaW5kTWF0cml4SW52ZXJzZSIpO2NvbnN0IHQ9aS5za2VsZXRvbjtpZih0KXtjb25zdCBlPXQuYm9uZXM7aWYoai5mbG9hdFZlcnRleFRleHR1cmVzKXtpZihudWxsPT09dC5ib25lVGV4dHVyZSl7bGV0IG49TWF0aC5zcXJ0KDQqZS5sZW5ndGgpO249bXQobiksbj1NYXRoLm1heChuLDQpO2NvbnN0IGk9bmV3IEZsb2F0MzJBcnJheShuKm4qNCk7aS5zZXQodC5ib25lTWF0cmljZXMpO2NvbnN0IHI9bmV3IGlpKGksbixuLEUsYik7dC5ib25lTWF0cmljZXM9aSx0LmJvbmVUZXh0dXJlPXIsdC5ib25lVGV4dHVyZVNpemU9bn15LnNldFZhbHVlKHB0LCJib25lVGV4dHVyZSIsdC5ib25lVGV4dHVyZSxKKSx5LnNldFZhbHVlKHB0LCJib25lVGV4dHVyZVNpemUiLHQuYm9uZVRleHR1cmVTaXplKX1lbHNlIHkuc2V0T3B0aW9uYWwocHQsdCwiYm9uZU1hdHJpY2VzIil9fXZhciBNLFQ7cmV0dXJuKGd8fGMucmVjZWl2ZVNoYWRvdyE9PWkucmVjZWl2ZVNoYWRvdykmJihjLnJlY2VpdmVTaGFkb3c9aS5yZWNlaXZlU2hhZG93LHkuc2V0VmFsdWUocHQsInJlY2VpdmVTaGFkb3ciLGkucmVjZWl2ZVNoYWRvdykpLGcmJih5LnNldFZhbHVlKHB0LCJ0b25lTWFwcGluZ0V4cG9zdXJlIixmLnRvbmVNYXBwaW5nRXhwb3N1cmUpLGMubmVlZHNMaWdodHMmJihUPXYsKE09eCkuYW1iaWVudExpZ2h0Q29sb3IubmVlZHNVcGRhdGU9VCxNLmxpZ2h0UHJvYmUubmVlZHNVcGRhdGU9VCxNLmRpcmVjdGlvbmFsTGlnaHRzLm5lZWRzVXBkYXRlPVQsTS5kaXJlY3Rpb25hbExpZ2h0U2hhZG93cy5uZWVkc1VwZGF0ZT1ULE0ucG9pbnRMaWdodHMubmVlZHNVcGRhdGU9VCxNLnBvaW50TGlnaHRTaGFkb3dzLm5lZWRzVXBkYXRlPVQsTS5zcG90TGlnaHRzLm5lZWRzVXBkYXRlPVQsTS5zcG90TGlnaHRTaGFkb3dzLm5lZWRzVXBkYXRlPVQsTS5yZWN0QXJlYUxpZ2h0cy5uZWVkc1VwZGF0ZT1ULE0uaGVtaXNwaGVyZUxpZ2h0cy5uZWVkc1VwZGF0ZT1UKSxyJiZuLmZvZyYmbnQucmVmcmVzaEZvZ1VuaWZvcm1zKHgsciksbnQucmVmcmVzaE1hdGVyaWFsVW5pZm9ybXMoeCxuLFAsQyksQ3IudXBsb2FkKHB0LGMudW5pZm9ybXNMaXN0LHgsSikpLG4uaXNTaGFkZXJNYXRlcmlhbCYmITA9PT1uLnVuaWZvcm1zTmVlZFVwZGF0ZSYmKENyLnVwbG9hZChwdCxjLnVuaWZvcm1zTGlzdCx4LEopLG4udW5pZm9ybXNOZWVkVXBkYXRlPSExKSxuLmlzU3ByaXRlTWF0ZXJpYWwmJnkuc2V0VmFsdWUocHQsImNlbnRlciIsaS5jZW50ZXIpLHkuc2V0VmFsdWUocHQsIm1vZGVsVmlld01hdHJpeCIsaS5tb2RlbFZpZXdNYXRyaXgpLHkuc2V0VmFsdWUocHQsIm5vcm1hbE1hdHJpeCIsaS5ub3JtYWxNYXRyaXgpLHkuc2V0VmFsdWUocHQsIm1vZGVsTWF0cml4IixpLm1hdHJpeFdvcmxkKSxwfUV0LnNldEFuaW1hdGlvbkxvb3AoKGZ1bmN0aW9uKHQpe2J0JiZidCh0KX0pKSwidW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdyYmRXQuc2V0Q29udGV4dCh3aW5kb3cpLHRoaXMuc2V0QW5pbWF0aW9uTG9vcD1mdW5jdGlvbih0KXtidD10LHl0LnNldEFuaW1hdGlvbkxvb3AodCksbnVsbD09PXQ/RXQuc3RvcCgpOkV0LnN0YXJ0KCl9LHl0LmFkZEV2ZW50TGlzdGVuZXIoInNlc3Npb25zdGFydCIsTXQpLHl0LmFkZEV2ZW50TGlzdGVuZXIoInNlc3Npb25lbmQiLFR0KSx0aGlzLnJlbmRlcj1mdW5jdGlvbih0LGUpe2xldCBuLGk7aWYodm9pZCAwIT09YXJndW1lbnRzWzJdJiYoY29uc29sZS53YXJuKCJUSFJFRS5XZWJHTFJlbmRlcmVyLnJlbmRlcigpOiB0aGUgcmVuZGVyVGFyZ2V0IGFyZ3VtZW50IGhhcyBiZWVuIHJlbW92ZWQuIFVzZSAuc2V0UmVuZGVyVGFyZ2V0KCkgaW5zdGVhZC4iKSxuPWFyZ3VtZW50c1syXSksdm9pZCAwIT09YXJndW1lbnRzWzNdJiYoY29uc29sZS53YXJuKCJUSFJFRS5XZWJHTFJlbmRlcmVyLnJlbmRlcigpOiB0aGUgZm9yY2VDbGVhciBhcmd1bWVudCBoYXMgYmVlbiByZW1vdmVkLiBVc2UgLmNsZWFyKCkgaW5zdGVhZC4iKSxpPWFyZ3VtZW50c1szXSksdm9pZCAwIT09ZSYmITAhPT1lLmlzQ2FtZXJhKXJldHVybiB2b2lkIGNvbnNvbGUuZXJyb3IoIlRIUkVFLldlYkdMUmVuZGVyZXIucmVuZGVyOiBjYW1lcmEgaXMgbm90IGFuIGluc3RhbmNlIG9mIFRIUkVFLkNhbWVyYS4iKTtpZighMD09PWcpcmV0dXJuOyEwPT09dC5hdXRvVXBkYXRlJiZ0LnVwZGF0ZU1hdHJpeFdvcmxkKCksbnVsbD09PWUucGFyZW50JiZlLnVwZGF0ZU1hdHJpeFdvcmxkKCksITA9PT15dC5lbmFibGVkJiYhMD09PXl0LmlzUHJlc2VudGluZyYmKGU9eXQuZ2V0Q2FtZXJhKGUpKSwhMD09PXQuaXNTY2VuZSYmdC5vbkJlZm9yZVJlbmRlcihmLHQsZSxufHxfKSxkPXJ0LmdldCh0LG0ubGVuZ3RoKSxkLmluaXQoKSxtLnB1c2goZCksRy5tdWx0aXBseU1hdHJpY2VzKGUucHJvamVjdGlvbk1hdHJpeCxlLm1hdHJpeFdvcmxkSW52ZXJzZSksRi5zZXRGcm9tUHJvamVjdGlvbk1hdHJpeChHKSxIPXRoaXMubG9jYWxDbGlwcGluZ0VuYWJsZWQsTz1zdC5pbml0KHRoaXMuY2xpcHBpbmdQbGFuZXMsSCxlKSx1PWl0LmdldCh0LHAubGVuZ3RoKSx1LmluaXQoKSxwLnB1c2godSksQXQodCxlLDAsZi5zb3J0T2JqZWN0cyksdS5maW5pc2goKSwhMD09PWYuc29ydE9iamVjdHMmJnUuc29ydChELEkpLCEwPT09TyYmc3QuYmVnaW5TaGFkb3dzKCk7Y29uc3Qgcj1kLnN0YXRlLnNoYWRvd3NBcnJheTthdC5yZW5kZXIocix0LGUpLGQuc2V0dXBMaWdodHMoKSxkLnNldHVwTGlnaHRzVmlldyhlKSwhMD09PU8mJnN0LmVuZFNoYWRvd3MoKSwhMD09PXRoaXMuaW5mby5hdXRvUmVzZXQmJnRoaXMuaW5mby5yZXNldCgpLHZvaWQgMCE9PW4mJnRoaXMuc2V0UmVuZGVyVGFyZ2V0KG4pLG90LnJlbmRlcih1LHQsZSxpKTtjb25zdCBzPXUub3BhcXVlLGE9dS50cmFuc3BhcmVudDtzLmxlbmd0aD4wJiZSdChzLHQsZSksYS5sZW5ndGg+MCYmUnQoYSx0LGUpLG51bGwhPT1fJiYoSi51cGRhdGVSZW5kZXJUYXJnZXRNaXBtYXAoXyksSi51cGRhdGVNdWx0aXNhbXBsZVJlbmRlclRhcmdldChfKSksITA9PT10LmlzU2NlbmUmJnQub25BZnRlclJlbmRlcihmLHQsZSkscS5idWZmZXJzLmRlcHRoLnNldFRlc3QoITApLHEuYnVmZmVycy5kZXB0aC5zZXRNYXNrKCEwKSxxLmJ1ZmZlcnMuY29sb3Iuc2V0TWFzayghMCkscS5zZXRQb2x5Z29uT2Zmc2V0KCExKSxkdC5yZXNldERlZmF1bHRTdGF0ZSgpLHc9LTEsUz1udWxsLG0ucG9wKCksZD1tLmxlbmd0aD4wP21bbS5sZW5ndGgtMV06bnVsbCxwLnBvcCgpLHU9cC5sZW5ndGg+MD9wW3AubGVuZ3RoLTFdOm51bGx9LHRoaXMuZ2V0QWN0aXZlQ3ViZUZhY2U9ZnVuY3Rpb24oKXtyZXR1cm4gdn0sdGhpcy5nZXRBY3RpdmVNaXBtYXBMZXZlbD1mdW5jdGlvbigpe3JldHVybiB5fSx0aGlzLmdldFJlbmRlclRhcmdldD1mdW5jdGlvbigpe3JldHVybiBffSx0aGlzLnNldFJlbmRlclRhcmdldD1mdW5jdGlvbih0LGU9MCxuPTApe189dCx2PWUseT1uLHQmJnZvaWQgMD09PVouZ2V0KHQpLl9fd2ViZ2xGcmFtZWJ1ZmZlciYmSi5zZXR1cFJlbmRlclRhcmdldCh0KTtsZXQgaT1udWxsLHI9ITEscz0hMTtpZih0KXtjb25zdCBuPXQudGV4dHVyZTsobi5pc0RhdGFUZXh0dXJlM0R8fG4uaXNEYXRhVGV4dHVyZTJEQXJyYXkpJiYocz0hMCk7Y29uc3QgYT1aLmdldCh0KS5fX3dlYmdsRnJhbWVidWZmZXI7dC5pc1dlYkdMQ3ViZVJlbmRlclRhcmdldD8oaT1hW2VdLHI9ITApOmk9dC5pc1dlYkdMTXVsdGlzYW1wbGVSZW5kZXJUYXJnZXQ/Wi5nZXQodCkuX193ZWJnbE11bHRpc2FtcGxlZEZyYW1lYnVmZmVyOmEsVC5jb3B5KHQudmlld3BvcnQpLEEuY29weSh0LnNjaXNzb3IpLEw9dC5zY2lzc29yVGVzdH1lbHNlIFQuY29weShOKS5tdWx0aXBseVNjYWxhcihQKS5mbG9vcigpLEEuY29weShCKS5tdWx0aXBseVNjYWxhcihQKS5mbG9vcigpLEw9ejtpZihxLmJpbmRGcmFtZWJ1ZmZlcigzNjE2MCxpKSxxLnZpZXdwb3J0KFQpLHEuc2Npc3NvcihBKSxxLnNldFNjaXNzb3JUZXN0KEwpLHIpe2NvbnN0IGk9Wi5nZXQodC50ZXh0dXJlKTtwdC5mcmFtZWJ1ZmZlclRleHR1cmUyRCgzNjE2MCwzNjA2NCwzNDA2OStlLGkuX193ZWJnbFRleHR1cmUsbil9ZWxzZSBpZihzKXtjb25zdCBpPVouZ2V0KHQudGV4dHVyZSkscj1lfHwwO3B0LmZyYW1lYnVmZmVyVGV4dHVyZUxheWVyKDM2MTYwLDM2MDY0LGkuX193ZWJnbFRleHR1cmUsbnx8MCxyKX19LHRoaXMucmVhZFJlbmRlclRhcmdldFBpeGVscz1mdW5jdGlvbih0LGUsbixpLHIscyxhKXtpZighdHx8IXQuaXNXZWJHTFJlbmRlclRhcmdldClyZXR1cm4gdm9pZCBjb25zb2xlLmVycm9yKCJUSFJFRS5XZWJHTFJlbmRlcmVyLnJlYWRSZW5kZXJUYXJnZXRQaXhlbHM6IHJlbmRlclRhcmdldCBpcyBub3QgVEhSRUUuV2ViR0xSZW5kZXJUYXJnZXQuIik7bGV0IG89Wi5nZXQodCkuX193ZWJnbEZyYW1lYnVmZmVyO2lmKHQuaXNXZWJHTEN1YmVSZW5kZXJUYXJnZXQmJnZvaWQgMCE9PWEmJihvPW9bYV0pLG8pe3EuYmluZEZyYW1lYnVmZmVyKDM2MTYwLG8pO3RyeXtjb25zdCBhPXQudGV4dHVyZSxvPWEuZm9ybWF0LGw9YS50eXBlO2lmKG8hPT1FJiZ1dC5jb252ZXJ0KG8pIT09cHQuZ2V0UGFyYW1ldGVyKDM1NzM5KSlyZXR1cm4gdm9pZCBjb25zb2xlLmVycm9yKCJUSFJFRS5XZWJHTFJlbmRlcmVyLnJlYWRSZW5kZXJUYXJnZXRQaXhlbHM6IHJlbmRlclRhcmdldCBpcyBub3QgaW4gUkdCQSBvciBpbXBsZW1lbnRhdGlvbiBkZWZpbmVkIGZvcm1hdC4iKTtjb25zdCBjPWw9PT1NJiYoVy5oYXMoIkVYVF9jb2xvcl9idWZmZXJfaGFsZl9mbG9hdCIpfHxqLmlzV2ViR0wyJiZXLmhhcygiRVhUX2NvbG9yX2J1ZmZlcl9mbG9hdCIpKTtpZighKGw9PT14fHx1dC5jb252ZXJ0KGwpPT09cHQuZ2V0UGFyYW1ldGVyKDM1NzM4KXx8bD09PWImJihqLmlzV2ViR0wyfHxXLmhhcygiT0VTX3RleHR1cmVfZmxvYXQiKXx8Vy5oYXMoIldFQkdMX2NvbG9yX2J1ZmZlcl9mbG9hdCIpKXx8YykpcmV0dXJuIHZvaWQgY29uc29sZS5lcnJvcigiVEhSRUUuV2ViR0xSZW5kZXJlci5yZWFkUmVuZGVyVGFyZ2V0UGl4ZWxzOiByZW5kZXJUYXJnZXQgaXMgbm90IGluIFVuc2lnbmVkQnl0ZVR5cGUgb3IgaW1wbGVtZW50YXRpb24gZGVmaW5lZCB0eXBlLiIpOzM2MDUzPT09cHQuY2hlY2tGcmFtZWJ1ZmZlclN0YXR1cygzNjE2MCk/ZT49MCYmZTw9dC53aWR0aC1pJiZuPj0wJiZuPD10LmhlaWdodC1yJiZwdC5yZWFkUGl4ZWxzKGUsbixpLHIsdXQuY29udmVydChvKSx1dC5jb252ZXJ0KGwpLHMpOmNvbnNvbGUuZXJyb3IoIlRIUkVFLldlYkdMUmVuZGVyZXIucmVhZFJlbmRlclRhcmdldFBpeGVsczogcmVhZFBpeGVscyBmcm9tIHJlbmRlclRhcmdldCBmYWlsZWQuIEZyYW1lYnVmZmVyIG5vdCBjb21wbGV0ZS4iKX1maW5hbGx5e2NvbnN0IHQ9bnVsbCE9PV8/Wi5nZXQoXykuX193ZWJnbEZyYW1lYnVmZmVyOm51bGw7cS5iaW5kRnJhbWVidWZmZXIoMzYxNjAsdCl9fX0sdGhpcy5jb3B5RnJhbWVidWZmZXJUb1RleHR1cmU9ZnVuY3Rpb24odCxlLG49MCl7Y29uc3QgaT1NYXRoLnBvdygyLC1uKSxyPU1hdGguZmxvb3IoZS5pbWFnZS53aWR0aCppKSxzPU1hdGguZmxvb3IoZS5pbWFnZS5oZWlnaHQqaSksYT11dC5jb252ZXJ0KGUuZm9ybWF0KTtKLnNldFRleHR1cmUyRChlLDApLHB0LmNvcHlUZXhJbWFnZTJEKDM1NTMsbixhLHQueCx0LnkscixzLDApLHEudW5iaW5kVGV4dHVyZSgpfSx0aGlzLmNvcHlUZXh0dXJlVG9UZXh0dXJlPWZ1bmN0aW9uKHQsZSxuLGk9MCl7Y29uc3Qgcj1lLmltYWdlLndpZHRoLHM9ZS5pbWFnZS5oZWlnaHQsYT11dC5jb252ZXJ0KG4uZm9ybWF0KSxvPXV0LmNvbnZlcnQobi50eXBlKTtKLnNldFRleHR1cmUyRChuLDApLHB0LnBpeGVsU3RvcmVpKDM3NDQwLG4uZmxpcFkpLHB0LnBpeGVsU3RvcmVpKDM3NDQxLG4ucHJlbXVsdGlwbHlBbHBoYSkscHQucGl4ZWxTdG9yZWkoMzMxNyxuLnVucGFja0FsaWdubWVudCksZS5pc0RhdGFUZXh0dXJlP3B0LnRleFN1YkltYWdlMkQoMzU1MyxpLHQueCx0LnkscixzLGEsbyxlLmltYWdlLmRhdGEpOmUuaXNDb21wcmVzc2VkVGV4dHVyZT9wdC5jb21wcmVzc2VkVGV4U3ViSW1hZ2UyRCgzNTUzLGksdC54LHQueSxlLm1pcG1hcHNbMF0ud2lkdGgsZS5taXBtYXBzWzBdLmhlaWdodCxhLGUubWlwbWFwc1swXS5kYXRhKTpwdC50ZXhTdWJJbWFnZTJEKDM1NTMsaSx0LngsdC55LGEsbyxlLmltYWdlKSwwPT09aSYmbi5nZW5lcmF0ZU1pcG1hcHMmJnB0LmdlbmVyYXRlTWlwbWFwKDM1NTMpLHEudW5iaW5kVGV4dHVyZSgpfSx0aGlzLmNvcHlUZXh0dXJlVG9UZXh0dXJlM0Q9ZnVuY3Rpb24odCxlLG4saSxyPTApe2lmKGYuaXNXZWJHTDFSZW5kZXJlcilyZXR1cm4gdm9pZCBjb25zb2xlLndhcm4oIlRIUkVFLldlYkdMUmVuZGVyZXIuY29weVRleHR1cmVUb1RleHR1cmUzRDogY2FuIG9ubHkgYmUgdXNlZCB3aXRoIFdlYkdMMi4iKTtjb25zdHt3aWR0aDpzLGhlaWdodDphLGRhdGE6b309bi5pbWFnZSxsPXV0LmNvbnZlcnQoaS5mb3JtYXQpLGM9dXQuY29udmVydChpLnR5cGUpO2xldCBoO2lmKGkuaXNEYXRhVGV4dHVyZTNEKUouc2V0VGV4dHVyZTNEKGksMCksaD0zMjg3OTtlbHNle2lmKCFpLmlzRGF0YVRleHR1cmUyREFycmF5KXJldHVybiB2b2lkIGNvbnNvbGUud2FybigiVEhSRUUuV2ViR0xSZW5kZXJlci5jb3B5VGV4dHVyZVRvVGV4dHVyZTNEOiBvbmx5IHN1cHBvcnRzIFRIUkVFLkRhdGFUZXh0dXJlM0QgYW5kIFRIUkVFLkRhdGFUZXh0dXJlMkRBcnJheS4iKTtKLnNldFRleHR1cmUyREFycmF5KGksMCksaD0zNTg2Nn1wdC5waXhlbFN0b3JlaSgzNzQ0MCxpLmZsaXBZKSxwdC5waXhlbFN0b3JlaSgzNzQ0MSxpLnByZW11bHRpcGx5QWxwaGEpLHB0LnBpeGVsU3RvcmVpKDMzMTcsaS51bnBhY2tBbGlnbm1lbnQpO2NvbnN0IHU9cHQuZ2V0UGFyYW1ldGVyKDMzMTQpLGQ9cHQuZ2V0UGFyYW1ldGVyKDMyODc4KSxwPXB0LmdldFBhcmFtZXRlcigzMzE2KSxtPXB0LmdldFBhcmFtZXRlcigzMzE1KSxnPXB0LmdldFBhcmFtZXRlcigzMjg3Nyk7cHQucGl4ZWxTdG9yZWkoMzMxNCxzKSxwdC5waXhlbFN0b3JlaSgzMjg3OCxhKSxwdC5waXhlbFN0b3JlaSgzMzE2LHQubWluLngpLHB0LnBpeGVsU3RvcmVpKDMzMTUsdC5taW4ueSkscHQucGl4ZWxTdG9yZWkoMzI4NzcsdC5taW4ueikscHQudGV4U3ViSW1hZ2UzRChoLHIsZS54LGUueSxlLnosdC5tYXgueC10Lm1pbi54KzEsdC5tYXgueS10Lm1pbi55KzEsdC5tYXguei10Lm1pbi56KzEsbCxjLG8pLHB0LnBpeGVsU3RvcmVpKDMzMTQsdSkscHQucGl4ZWxTdG9yZWkoMzI4NzgsZCkscHQucGl4ZWxTdG9yZWkoMzMxNixwKSxwdC5waXhlbFN0b3JlaSgzMzE1LG0pLHB0LnBpeGVsU3RvcmVpKDMyODc3LGcpLDA9PT1yJiZpLmdlbmVyYXRlTWlwbWFwcyYmcHQuZ2VuZXJhdGVNaXBtYXAoaCkscS51bmJpbmRUZXh0dXJlKCl9LHRoaXMuaW5pdFRleHR1cmU9ZnVuY3Rpb24odCl7Si5zZXRUZXh0dXJlMkQodCwwKSxxLnVuYmluZFRleHR1cmUoKX0sdGhpcy5yZXNldFN0YXRlPWZ1bmN0aW9uKCl7dj0wLHk9MCxfPW51bGwscS5yZXNldCgpLGR0LnJlc2V0KCl9LCJ1bmRlZmluZWQiIT10eXBlb2YgX19USFJFRV9ERVZUT09MU19fJiZfX1RIUkVFX0RFVlRPT0xTX18uZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoIm9ic2VydmUiLHtkZXRhaWw6dGhpc30pKX1jbGFzcyBicyBleHRlbmRzIHdze31icy5wcm90b3R5cGUuaXNXZWJHTDFSZW5kZXJlcj0hMDtjbGFzcyBNc3tjb25zdHJ1Y3Rvcih0LGU9MjVlLTUpe3RoaXMubmFtZT0iIix0aGlzLmNvbG9yPW5ldyB0bih0KSx0aGlzLmRlbnNpdHk9ZX1jbG9uZSgpe3JldHVybiBuZXcgTXModGhpcy5jb2xvcix0aGlzLmRlbnNpdHkpfXRvSlNPTigpe3JldHVybnt0eXBlOiJGb2dFeHAyIixjb2xvcjp0aGlzLmNvbG9yLmdldEhleCgpLGRlbnNpdHk6dGhpcy5kZW5zaXR5fX19TXMucHJvdG90eXBlLmlzRm9nRXhwMj0hMDtjbGFzcyBTc3tjb25zdHJ1Y3Rvcih0LGU9MSxuPTFlMyl7dGhpcy5uYW1lPSIiLHRoaXMuY29sb3I9bmV3IHRuKHQpLHRoaXMubmVhcj1lLHRoaXMuZmFyPW59Y2xvbmUoKXtyZXR1cm4gbmV3IFNzKHRoaXMuY29sb3IsdGhpcy5uZWFyLHRoaXMuZmFyKX10b0pTT04oKXtyZXR1cm57dHlwZToiRm9nIixjb2xvcjp0aGlzLmNvbG9yLmdldEhleCgpLG5lYXI6dGhpcy5uZWFyLGZhcjp0aGlzLmZhcn19fVNzLnByb3RvdHlwZS5pc0ZvZz0hMDtjbGFzcyBUcyBleHRlbmRzIENle2NvbnN0cnVjdG9yKCl7c3VwZXIoKSx0aGlzLnR5cGU9IlNjZW5lIix0aGlzLmJhY2tncm91bmQ9bnVsbCx0aGlzLmVudmlyb25tZW50PW51bGwsdGhpcy5mb2c9bnVsbCx0aGlzLm92ZXJyaWRlTWF0ZXJpYWw9bnVsbCx0aGlzLmF1dG9VcGRhdGU9ITAsInVuZGVmaW5lZCIhPXR5cGVvZiBfX1RIUkVFX0RFVlRPT0xTX18mJl9fVEhSRUVfREVWVE9PTFNfXy5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCgib2JzZXJ2ZSIse2RldGFpbDp0aGlzfSkpfWNvcHkodCxlKXtyZXR1cm4gc3VwZXIuY29weSh0LGUpLG51bGwhPT10LmJhY2tncm91bmQmJih0aGlzLmJhY2tncm91bmQ9dC5iYWNrZ3JvdW5kLmNsb25lKCkpLG51bGwhPT10LmVudmlyb25tZW50JiYodGhpcy5lbnZpcm9ubWVudD10LmVudmlyb25tZW50LmNsb25lKCkpLG51bGwhPT10LmZvZyYmKHRoaXMuZm9nPXQuZm9nLmNsb25lKCkpLG51bGwhPT10Lm92ZXJyaWRlTWF0ZXJpYWwmJih0aGlzLm92ZXJyaWRlTWF0ZXJpYWw9dC5vdmVycmlkZU1hdGVyaWFsLmNsb25lKCkpLHRoaXMuYXV0b1VwZGF0ZT10LmF1dG9VcGRhdGUsdGhpcy5tYXRyaXhBdXRvVXBkYXRlPXQubWF0cml4QXV0b1VwZGF0ZSx0aGlzfXRvSlNPTih0KXtjb25zdCBlPXN1cGVyLnRvSlNPTih0KTtyZXR1cm4gbnVsbCE9PXRoaXMuYmFja2dyb3VuZCYmKGUub2JqZWN0LmJhY2tncm91bmQ9dGhpcy5iYWNrZ3JvdW5kLnRvSlNPTih0KSksbnVsbCE9PXRoaXMuZW52aXJvbm1lbnQmJihlLm9iamVjdC5lbnZpcm9ubWVudD10aGlzLmVudmlyb25tZW50LnRvSlNPTih0KSksbnVsbCE9PXRoaXMuZm9nJiYoZS5vYmplY3QuZm9nPXRoaXMuZm9nLnRvSlNPTigpKSxlfX1Ucy5wcm90b3R5cGUuaXNTY2VuZT0hMDtjbGFzcyBFc3tjb25zdHJ1Y3Rvcih0LGUpe3RoaXMuYXJyYXk9dCx0aGlzLnN0cmlkZT1lLHRoaXMuY291bnQ9dm9pZCAwIT09dD90Lmxlbmd0aC9lOjAsdGhpcy51c2FnZT1ldCx0aGlzLnVwZGF0ZVJhbmdlPXtvZmZzZXQ6MCxjb3VudDotMX0sdGhpcy52ZXJzaW9uPTAsdGhpcy51dWlkPWN0KCksdGhpcy5vblVwbG9hZENhbGxiYWNrPWZ1bmN0aW9uKCl7fX1zZXQgbmVlZHNVcGRhdGUodCl7ITA9PT10JiZ0aGlzLnZlcnNpb24rK31zZXRVc2FnZSh0KXtyZXR1cm4gdGhpcy51c2FnZT10LHRoaXN9Y29weSh0KXtyZXR1cm4gdGhpcy5hcnJheT1uZXcgdC5hcnJheS5jb25zdHJ1Y3Rvcih0LmFycmF5KSx0aGlzLmNvdW50PXQuY291bnQsdGhpcy5zdHJpZGU9dC5zdHJpZGUsdGhpcy51c2FnZT10LnVzYWdlLHRoaXN9Y29weUF0KHQsZSxuKXt0Kj10aGlzLnN0cmlkZSxuKj1lLnN0cmlkZTtmb3IobGV0IGk9MCxyPXRoaXMuc3RyaWRlO2k8cjtpKyspdGhpcy5hcnJheVt0K2ldPWUuYXJyYXlbbitpXTtyZXR1cm4gdGhpc31zZXQodCxlPTApe3JldHVybiB0aGlzLmFycmF5LnNldCh0LGUpLHRoaXN9Y2xvbmUodCl7dm9pZCAwPT09dC5hcnJheUJ1ZmZlcnMmJih0LmFycmF5QnVmZmVycz17fSksdm9pZCAwPT09dGhpcy5hcnJheS5idWZmZXIuX3V1aWQmJih0aGlzLmFycmF5LmJ1ZmZlci5fdXVpZD1jdCgpKSx2b2lkIDA9PT10LmFycmF5QnVmZmVyc1t0aGlzLmFycmF5LmJ1ZmZlci5fdXVpZF0mJih0LmFycmF5QnVmZmVyc1t0aGlzLmFycmF5LmJ1ZmZlci5fdXVpZF09dGhpcy5hcnJheS5zbGljZSgwKS5idWZmZXIpO2NvbnN0IGU9bmV3IHRoaXMuYXJyYXkuY29uc3RydWN0b3IodC5hcnJheUJ1ZmZlcnNbdGhpcy5hcnJheS5idWZmZXIuX3V1aWRdKSxuPW5ldyBFcyhlLHRoaXMuc3RyaWRlKTtyZXR1cm4gbi5zZXRVc2FnZSh0aGlzLnVzYWdlKSxufW9uVXBsb2FkKHQpe3JldHVybiB0aGlzLm9uVXBsb2FkQ2FsbGJhY2s9dCx0aGlzfXRvSlNPTih0KXtyZXR1cm4gdm9pZCAwPT09dC5hcnJheUJ1ZmZlcnMmJih0LmFycmF5QnVmZmVycz17fSksdm9pZCAwPT09dGhpcy5hcnJheS5idWZmZXIuX3V1aWQmJih0aGlzLmFycmF5LmJ1ZmZlci5fdXVpZD1jdCgpKSx2b2lkIDA9PT10LmFycmF5QnVmZmVyc1t0aGlzLmFycmF5LmJ1ZmZlci5fdXVpZF0mJih0LmFycmF5QnVmZmVyc1t0aGlzLmFycmF5LmJ1ZmZlci5fdXVpZF09QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwobmV3IFVpbnQzMkFycmF5KHRoaXMuYXJyYXkuYnVmZmVyKSkpLHt1dWlkOnRoaXMudXVpZCxidWZmZXI6dGhpcy5hcnJheS5idWZmZXIuX3V1aWQsdHlwZTp0aGlzLmFycmF5LmNvbnN0cnVjdG9yLm5hbWUsc3RyaWRlOnRoaXMuc3RyaWRlfX19RXMucHJvdG90eXBlLmlzSW50ZXJsZWF2ZWRCdWZmZXI9ITA7Y29uc3QgQXM9bmV3IEx0O2NsYXNzIExze2NvbnN0cnVjdG9yKHQsZSxuLGkpe3RoaXMubmFtZT0iIix0aGlzLmRhdGE9dCx0aGlzLml0ZW1TaXplPWUsdGhpcy5vZmZzZXQ9bix0aGlzLm5vcm1hbGl6ZWQ9ITA9PT1pfWdldCBjb3VudCgpe3JldHVybiB0aGlzLmRhdGEuY291bnR9Z2V0IGFycmF5KCl7cmV0dXJuIHRoaXMuZGF0YS5hcnJheX1zZXQgbmVlZHNVcGRhdGUodCl7dGhpcy5kYXRhLm5lZWRzVXBkYXRlPXR9YXBwbHlNYXRyaXg0KHQpe2ZvcihsZXQgZT0wLG49dGhpcy5kYXRhLmNvdW50O2U8bjtlKyspQXMueD10aGlzLmdldFgoZSksQXMueT10aGlzLmdldFkoZSksQXMuej10aGlzLmdldFooZSksQXMuYXBwbHlNYXRyaXg0KHQpLHRoaXMuc2V0WFlaKGUsQXMueCxBcy55LEFzLnopO3JldHVybiB0aGlzfWFwcGx5Tm9ybWFsTWF0cml4KHQpe2ZvcihsZXQgZT0wLG49dGhpcy5jb3VudDtlPG47ZSsrKUFzLng9dGhpcy5nZXRYKGUpLEFzLnk9dGhpcy5nZXRZKGUpLEFzLno9dGhpcy5nZXRaKGUpLEFzLmFwcGx5Tm9ybWFsTWF0cml4KHQpLHRoaXMuc2V0WFlaKGUsQXMueCxBcy55LEFzLnopO3JldHVybiB0aGlzfXRyYW5zZm9ybURpcmVjdGlvbih0KXtmb3IobGV0IGU9MCxuPXRoaXMuY291bnQ7ZTxuO2UrKylBcy54PXRoaXMuZ2V0WChlKSxBcy55PXRoaXMuZ2V0WShlKSxBcy56PXRoaXMuZ2V0WihlKSxBcy50cmFuc2Zvcm1EaXJlY3Rpb24odCksdGhpcy5zZXRYWVooZSxBcy54LEFzLnksQXMueik7cmV0dXJuIHRoaXN9c2V0WCh0LGUpe3JldHVybiB0aGlzLmRhdGEuYXJyYXlbdCp0aGlzLmRhdGEuc3RyaWRlK3RoaXMub2Zmc2V0XT1lLHRoaXN9c2V0WSh0LGUpe3JldHVybiB0aGlzLmRhdGEuYXJyYXlbdCp0aGlzLmRhdGEuc3RyaWRlK3RoaXMub2Zmc2V0KzFdPWUsdGhpc31zZXRaKHQsZSl7cmV0dXJuIHRoaXMuZGF0YS5hcnJheVt0KnRoaXMuZGF0YS5zdHJpZGUrdGhpcy5vZmZzZXQrMl09ZSx0aGlzfXNldFcodCxlKXtyZXR1cm4gdGhpcy5kYXRhLmFycmF5W3QqdGhpcy5kYXRhLnN0cmlkZSt0aGlzLm9mZnNldCszXT1lLHRoaXN9Z2V0WCh0KXtyZXR1cm4gdGhpcy5kYXRhLmFycmF5W3QqdGhpcy5kYXRhLnN0cmlkZSt0aGlzLm9mZnNldF19Z2V0WSh0KXtyZXR1cm4gdGhpcy5kYXRhLmFycmF5W3QqdGhpcy5kYXRhLnN0cmlkZSt0aGlzLm9mZnNldCsxXX1nZXRaKHQpe3JldHVybiB0aGlzLmRhdGEuYXJyYXlbdCp0aGlzLmRhdGEuc3RyaWRlK3RoaXMub2Zmc2V0KzJdfWdldFcodCl7cmV0dXJuIHRoaXMuZGF0YS5hcnJheVt0KnRoaXMuZGF0YS5zdHJpZGUrdGhpcy5vZmZzZXQrM119c2V0WFkodCxlLG4pe3JldHVybiB0PXQqdGhpcy5kYXRhLnN0cmlkZSt0aGlzLm9mZnNldCx0aGlzLmRhdGEuYXJyYXlbdCswXT1lLHRoaXMuZGF0YS5hcnJheVt0KzFdPW4sdGhpc31zZXRYWVoodCxlLG4saSl7cmV0dXJuIHQ9dCp0aGlzLmRhdGEuc3RyaWRlK3RoaXMub2Zmc2V0LHRoaXMuZGF0YS5hcnJheVt0KzBdPWUsdGhpcy5kYXRhLmFycmF5W3QrMV09bix0aGlzLmRhdGEuYXJyYXlbdCsyXT1pLHRoaXN9c2V0WFlaVyh0LGUsbixpLHIpe3JldHVybiB0PXQqdGhpcy5kYXRhLnN0cmlkZSt0aGlzLm9mZnNldCx0aGlzLmRhdGEuYXJyYXlbdCswXT1lLHRoaXMuZGF0YS5hcnJheVt0KzFdPW4sdGhpcy5kYXRhLmFycmF5W3QrMl09aSx0aGlzLmRhdGEuYXJyYXlbdCszXT1yLHRoaXN9Y2xvbmUodCl7aWYodm9pZCAwPT09dCl7Y29uc29sZS5sb2coIlRIUkVFLkludGVybGVhdmVkQnVmZmVyQXR0cmlidXRlLmNsb25lKCk6IENsb25pbmcgYW4gaW50ZXJsYXZlZCBidWZmZXIgYXR0cmlidXRlIHdpbGwgZGVpbnRlcmxlYXZlIGJ1ZmZlciBkYXRhLiIpO2NvbnN0IHQ9W107Zm9yKGxldCBlPTA7ZTx0aGlzLmNvdW50O2UrKyl7Y29uc3Qgbj1lKnRoaXMuZGF0YS5zdHJpZGUrdGhpcy5vZmZzZXQ7Zm9yKGxldCBlPTA7ZTx0aGlzLml0ZW1TaXplO2UrKyl0LnB1c2godGhpcy5kYXRhLmFycmF5W24rZV0pfXJldHVybiBuZXcgc24obmV3IHRoaXMuYXJyYXkuY29uc3RydWN0b3IodCksdGhpcy5pdGVtU2l6ZSx0aGlzLm5vcm1hbGl6ZWQpfXJldHVybiB2b2lkIDA9PT10LmludGVybGVhdmVkQnVmZmVycyYmKHQuaW50ZXJsZWF2ZWRCdWZmZXJzPXt9KSx2b2lkIDA9PT10LmludGVybGVhdmVkQnVmZmVyc1t0aGlzLmRhdGEudXVpZF0mJih0LmludGVybGVhdmVkQnVmZmVyc1t0aGlzLmRhdGEudXVpZF09dGhpcy5kYXRhLmNsb25lKHQpKSxuZXcgTHModC5pbnRlcmxlYXZlZEJ1ZmZlcnNbdGhpcy5kYXRhLnV1aWRdLHRoaXMuaXRlbVNpemUsdGhpcy5vZmZzZXQsdGhpcy5ub3JtYWxpemVkKX10b0pTT04odCl7aWYodm9pZCAwPT09dCl7Y29uc29sZS5sb2coIlRIUkVFLkludGVybGVhdmVkQnVmZmVyQXR0cmlidXRlLnRvSlNPTigpOiBTZXJpYWxpemluZyBhbiBpbnRlcmxhdmVkIGJ1ZmZlciBhdHRyaWJ1dGUgd2lsbCBkZWludGVybGVhdmUgYnVmZmVyIGRhdGEuIik7Y29uc3QgdD1bXTtmb3IobGV0IGU9MDtlPHRoaXMuY291bnQ7ZSsrKXtjb25zdCBuPWUqdGhpcy5kYXRhLnN0cmlkZSt0aGlzLm9mZnNldDtmb3IobGV0IGU9MDtlPHRoaXMuaXRlbVNpemU7ZSsrKXQucHVzaCh0aGlzLmRhdGEuYXJyYXlbbitlXSl9cmV0dXJue2l0ZW1TaXplOnRoaXMuaXRlbVNpemUsdHlwZTp0aGlzLmFycmF5LmNvbnN0cnVjdG9yLm5hbWUsYXJyYXk6dCxub3JtYWxpemVkOnRoaXMubm9ybWFsaXplZH19cmV0dXJuIHZvaWQgMD09PXQuaW50ZXJsZWF2ZWRCdWZmZXJzJiYodC5pbnRlcmxlYXZlZEJ1ZmZlcnM9e30pLHZvaWQgMD09PXQuaW50ZXJsZWF2ZWRCdWZmZXJzW3RoaXMuZGF0YS51dWlkXSYmKHQuaW50ZXJsZWF2ZWRCdWZmZXJzW3RoaXMuZGF0YS51dWlkXT10aGlzLmRhdGEudG9KU09OKHQpKSx7aXNJbnRlcmxlYXZlZEJ1ZmZlckF0dHJpYnV0ZTohMCxpdGVtU2l6ZTp0aGlzLml0ZW1TaXplLGRhdGE6dGhpcy5kYXRhLnV1aWQsb2Zmc2V0OnRoaXMub2Zmc2V0LG5vcm1hbGl6ZWQ6dGhpcy5ub3JtYWxpemVkfX19THMucHJvdG90eXBlLmlzSW50ZXJsZWF2ZWRCdWZmZXJBdHRyaWJ1dGU9ITA7Y2xhc3MgUnMgZXh0ZW5kcyBYZXtjb25zdHJ1Y3Rvcih0KXtzdXBlcigpLHRoaXMudHlwZT0iU3ByaXRlTWF0ZXJpYWwiLHRoaXMuY29sb3I9bmV3IHRuKDE2Nzc3MjE1KSx0aGlzLm1hcD1udWxsLHRoaXMuYWxwaGFNYXA9bnVsbCx0aGlzLnJvdGF0aW9uPTAsdGhpcy5zaXplQXR0ZW51YXRpb249ITAsdGhpcy50cmFuc3BhcmVudD0hMCx0aGlzLnNldFZhbHVlcyh0KX1jb3B5KHQpe3JldHVybiBzdXBlci5jb3B5KHQpLHRoaXMuY29sb3IuY29weSh0LmNvbG9yKSx0aGlzLm1hcD10Lm1hcCx0aGlzLmFscGhhTWFwPXQuYWxwaGFNYXAsdGhpcy5yb3RhdGlvbj10LnJvdGF0aW9uLHRoaXMuc2l6ZUF0dGVudWF0aW9uPXQuc2l6ZUF0dGVudWF0aW9uLHRoaXN9fWxldCBDcztScy5wcm90b3R5cGUuaXNTcHJpdGVNYXRlcmlhbD0hMDtjb25zdCBQcz1uZXcgTHQsRHM9bmV3IEx0LElzPW5ldyBMdCxOcz1uZXcgdnQsQnM9bmV3IHZ0LHpzPW5ldyBzZSxGcz1uZXcgTHQsT3M9bmV3IEx0LEhzPW5ldyBMdCxHcz1uZXcgdnQsVXM9bmV3IHZ0LGtzPW5ldyB2dDtjbGFzcyBWcyBleHRlbmRzIENle2NvbnN0cnVjdG9yKHQpe2lmKHN1cGVyKCksdGhpcy50eXBlPSJTcHJpdGUiLHZvaWQgMD09PUNzKXtDcz1uZXcgRW47Y29uc3QgdD1uZXcgRmxvYXQzMkFycmF5KFstLjUsLS41LDAsMCwwLC41LC0uNSwwLDEsMCwuNSwuNSwwLDEsMSwtLjUsLjUsMCwwLDFdKSxlPW5ldyBFcyh0LDUpO0NzLnNldEluZGV4KFswLDEsMiwwLDIsM10pLENzLnNldEF0dHJpYnV0ZSgicG9zaXRpb24iLG5ldyBMcyhlLDMsMCwhMSkpLENzLnNldEF0dHJpYnV0ZSgidXYiLG5ldyBMcyhlLDIsMywhMSkpfXRoaXMuZ2VvbWV0cnk9Q3MsdGhpcy5tYXRlcmlhbD12b2lkIDAhPT10P3Q6bmV3IFJzLHRoaXMuY2VudGVyPW5ldyB2dCguNSwuNSl9cmF5Y2FzdCh0LGUpe251bGw9PT10LmNhbWVyYSYmY29uc29sZS5lcnJvcignVEhSRUUuU3ByaXRlOiAiUmF5Y2FzdGVyLmNhbWVyYSIgbmVlZHMgdG8gYmUgc2V0IGluIG9yZGVyIHRvIHJheWNhc3QgYWdhaW5zdCBzcHJpdGVzLicpLERzLnNldEZyb21NYXRyaXhTY2FsZSh0aGlzLm1hdHJpeFdvcmxkKSx6cy5jb3B5KHQuY2FtZXJhLm1hdHJpeFdvcmxkKSx0aGlzLm1vZGVsVmlld01hdHJpeC5tdWx0aXBseU1hdHJpY2VzKHQuY2FtZXJhLm1hdHJpeFdvcmxkSW52ZXJzZSx0aGlzLm1hdHJpeFdvcmxkKSxJcy5zZXRGcm9tTWF0cml4UG9zaXRpb24odGhpcy5tb2RlbFZpZXdNYXRyaXgpLHQuY2FtZXJhLmlzUGVyc3BlY3RpdmVDYW1lcmEmJiExPT09dGhpcy5tYXRlcmlhbC5zaXplQXR0ZW51YXRpb24mJkRzLm11bHRpcGx5U2NhbGFyKC1Jcy56KTtjb25zdCBuPXRoaXMubWF0ZXJpYWwucm90YXRpb247bGV0IGkscjswIT09biYmKHI9TWF0aC5jb3MobiksaT1NYXRoLnNpbihuKSk7Y29uc3Qgcz10aGlzLmNlbnRlcjtXcyhGcy5zZXQoLS41LC0uNSwwKSxJcyxzLERzLGksciksV3MoT3Muc2V0KC41LC0uNSwwKSxJcyxzLERzLGksciksV3MoSHMuc2V0KC41LC41LDApLElzLHMsRHMsaSxyKSxHcy5zZXQoMCwwKSxVcy5zZXQoMSwwKSxrcy5zZXQoMSwxKTtsZXQgYT10LnJheS5pbnRlcnNlY3RUcmlhbmdsZShGcyxPcyxIcywhMSxQcyk7aWYobnVsbD09PWEmJihXcyhPcy5zZXQoLS41LC41LDApLElzLHMsRHMsaSxyKSxVcy5zZXQoMCwxKSxhPXQucmF5LmludGVyc2VjdFRyaWFuZ2xlKEZzLEhzLE9zLCExLFBzKSxudWxsPT09YSkpcmV0dXJuO2NvbnN0IG89dC5yYXkub3JpZ2luLmRpc3RhbmNlVG8oUHMpO288dC5uZWFyfHxvPnQuZmFyfHxlLnB1c2goe2Rpc3RhbmNlOm8scG9pbnQ6UHMuY2xvbmUoKSx1djpqZS5nZXRVVihQcyxGcyxPcyxIcyxHcyxVcyxrcyxuZXcgdnQpLGZhY2U6bnVsbCxvYmplY3Q6dGhpc30pfWNvcHkodCl7cmV0dXJuIHN1cGVyLmNvcHkodCksdm9pZCAwIT09dC5jZW50ZXImJnRoaXMuY2VudGVyLmNvcHkodC5jZW50ZXIpLHRoaXMubWF0ZXJpYWw9dC5tYXRlcmlhbCx0aGlzfX1mdW5jdGlvbiBXcyh0LGUsbixpLHIscyl7TnMuc3ViVmVjdG9ycyh0LG4pLmFkZFNjYWxhciguNSkubXVsdGlwbHkoaSksdm9pZCAwIT09cj8oQnMueD1zKk5zLngtcipOcy55LEJzLnk9cipOcy54K3MqTnMueSk6QnMuY29weShOcyksdC5jb3B5KGUpLHQueCs9QnMueCx0LnkrPUJzLnksdC5hcHBseU1hdHJpeDQoenMpfVZzLnByb3RvdHlwZS5pc1Nwcml0ZT0hMDtjb25zdCBqcz1uZXcgTHQscXM9bmV3IEx0O2NsYXNzIFhzIGV4dGVuZHMgQ2V7Y29uc3RydWN0b3IoKXtzdXBlcigpLHRoaXMuX2N1cnJlbnRMZXZlbD0wLHRoaXMudHlwZT0iTE9EIixPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0aGlzLHtsZXZlbHM6e2VudW1lcmFibGU6ITAsdmFsdWU6W119LGlzTE9EOnt2YWx1ZTohMH19KSx0aGlzLmF1dG9VcGRhdGU9ITB9Y29weSh0KXtzdXBlci5jb3B5KHQsITEpO2NvbnN0IGU9dC5sZXZlbHM7Zm9yKGxldCB0PTAsbj1lLmxlbmd0aDt0PG47dCsrKXtjb25zdCBuPWVbdF07dGhpcy5hZGRMZXZlbChuLm9iamVjdC5jbG9uZSgpLG4uZGlzdGFuY2UpfXJldHVybiB0aGlzLmF1dG9VcGRhdGU9dC5hdXRvVXBkYXRlLHRoaXN9YWRkTGV2ZWwodCxlPTApe2U9TWF0aC5hYnMoZSk7Y29uc3Qgbj10aGlzLmxldmVscztsZXQgaTtmb3IoaT0wO2k8bi5sZW5ndGgmJiEoZTxuW2ldLmRpc3RhbmNlKTtpKyspO3JldHVybiBuLnNwbGljZShpLDAse2Rpc3RhbmNlOmUsb2JqZWN0OnR9KSx0aGlzLmFkZCh0KSx0aGlzfWdldEN1cnJlbnRMZXZlbCgpe3JldHVybiB0aGlzLl9jdXJyZW50TGV2ZWx9Z2V0T2JqZWN0Rm9yRGlzdGFuY2UodCl7Y29uc3QgZT10aGlzLmxldmVscztpZihlLmxlbmd0aD4wKXtsZXQgbixpO2ZvcihuPTEsaT1lLmxlbmd0aDtuPGkmJiEodDxlW25dLmRpc3RhbmNlKTtuKyspO3JldHVybiBlW24tMV0ub2JqZWN0fXJldHVybiBudWxsfXJheWNhc3QodCxlKXtpZih0aGlzLmxldmVscy5sZW5ndGg+MCl7anMuc2V0RnJvbU1hdHJpeFBvc2l0aW9uKHRoaXMubWF0cml4V29ybGQpO2NvbnN0IG49dC5yYXkub3JpZ2luLmRpc3RhbmNlVG8oanMpO3RoaXMuZ2V0T2JqZWN0Rm9yRGlzdGFuY2UobikucmF5Y2FzdCh0LGUpfX11cGRhdGUodCl7Y29uc3QgZT10aGlzLmxldmVscztpZihlLmxlbmd0aD4xKXtqcy5zZXRGcm9tTWF0cml4UG9zaXRpb24odC5tYXRyaXhXb3JsZCkscXMuc2V0RnJvbU1hdHJpeFBvc2l0aW9uKHRoaXMubWF0cml4V29ybGQpO2NvbnN0IG49anMuZGlzdGFuY2VUbyhxcykvdC56b29tO2xldCBpLHI7Zm9yKGVbMF0ub2JqZWN0LnZpc2libGU9ITAsaT0xLHI9ZS5sZW5ndGg7aTxyJiZuPj1lW2ldLmRpc3RhbmNlO2krKyllW2ktMV0ub2JqZWN0LnZpc2libGU9ITEsZVtpXS5vYmplY3QudmlzaWJsZT0hMDtmb3IodGhpcy5fY3VycmVudExldmVsPWktMTtpPHI7aSsrKWVbaV0ub2JqZWN0LnZpc2libGU9ITF9fXRvSlNPTih0KXtjb25zdCBlPXN1cGVyLnRvSlNPTih0KTshMT09PXRoaXMuYXV0b1VwZGF0ZSYmKGUub2JqZWN0LmF1dG9VcGRhdGU9ITEpLGUub2JqZWN0LmxldmVscz1bXTtjb25zdCBuPXRoaXMubGV2ZWxzO2ZvcihsZXQgdD0wLGk9bi5sZW5ndGg7dDxpO3QrKyl7Y29uc3QgaT1uW3RdO2Uub2JqZWN0LmxldmVscy5wdXNoKHtvYmplY3Q6aS5vYmplY3QudXVpZCxkaXN0YW5jZTppLmRpc3RhbmNlfSl9cmV0dXJuIGV9fWNvbnN0IFlzPW5ldyBMdCxacz1uZXcgU3QsSnM9bmV3IFN0LFFzPW5ldyBMdCxLcz1uZXcgc2U7Y2xhc3MgJHMgZXh0ZW5kcyBXbntjb25zdHJ1Y3Rvcih0LGUpe3N1cGVyKHQsZSksdGhpcy50eXBlPSJTa2lubmVkTWVzaCIsdGhpcy5iaW5kTW9kZT0iYXR0YWNoZWQiLHRoaXMuYmluZE1hdHJpeD1uZXcgc2UsdGhpcy5iaW5kTWF0cml4SW52ZXJzZT1uZXcgc2V9Y29weSh0KXtyZXR1cm4gc3VwZXIuY29weSh0KSx0aGlzLmJpbmRNb2RlPXQuYmluZE1vZGUsdGhpcy5iaW5kTWF0cml4LmNvcHkodC5iaW5kTWF0cml4KSx0aGlzLmJpbmRNYXRyaXhJbnZlcnNlLmNvcHkodC5iaW5kTWF0cml4SW52ZXJzZSksdGhpcy5za2VsZXRvbj10LnNrZWxldG9uLHRoaXN9YmluZCh0LGUpe3RoaXMuc2tlbGV0b249dCx2b2lkIDA9PT1lJiYodGhpcy51cGRhdGVNYXRyaXhXb3JsZCghMCksdGhpcy5za2VsZXRvbi5jYWxjdWxhdGVJbnZlcnNlcygpLGU9dGhpcy5tYXRyaXhXb3JsZCksdGhpcy5iaW5kTWF0cml4LmNvcHkoZSksdGhpcy5iaW5kTWF0cml4SW52ZXJzZS5jb3B5KGUpLmludmVydCgpfXBvc2UoKXt0aGlzLnNrZWxldG9uLnBvc2UoKX1ub3JtYWxpemVTa2luV2VpZ2h0cygpe2NvbnN0IHQ9bmV3IFN0LGU9dGhpcy5nZW9tZXRyeS5hdHRyaWJ1dGVzLnNraW5XZWlnaHQ7Zm9yKGxldCBuPTAsaT1lLmNvdW50O248aTtuKyspe3QueD1lLmdldFgobiksdC55PWUuZ2V0WShuKSx0Lno9ZS5nZXRaKG4pLHQudz1lLmdldFcobik7Y29uc3QgaT0xL3QubWFuaGF0dGFuTGVuZ3RoKCk7aSE9PTEvMD90Lm11bHRpcGx5U2NhbGFyKGkpOnQuc2V0KDEsMCwwLDApLGUuc2V0WFlaVyhuLHQueCx0LnksdC56LHQudyl9fXVwZGF0ZU1hdHJpeFdvcmxkKHQpe3N1cGVyLnVwZGF0ZU1hdHJpeFdvcmxkKHQpLCJhdHRhY2hlZCI9PT10aGlzLmJpbmRNb2RlP3RoaXMuYmluZE1hdHJpeEludmVyc2UuY29weSh0aGlzLm1hdHJpeFdvcmxkKS5pbnZlcnQoKToiZGV0YWNoZWQiPT09dGhpcy5iaW5kTW9kZT90aGlzLmJpbmRNYXRyaXhJbnZlcnNlLmNvcHkodGhpcy5iaW5kTWF0cml4KS5pbnZlcnQoKTpjb25zb2xlLndhcm4oIlRIUkVFLlNraW5uZWRNZXNoOiBVbnJlY29nbml6ZWQgYmluZE1vZGU6ICIrdGhpcy5iaW5kTW9kZSl9Ym9uZVRyYW5zZm9ybSh0LGUpe2NvbnN0IG49dGhpcy5za2VsZXRvbixpPXRoaXMuZ2VvbWV0cnk7WnMuZnJvbUJ1ZmZlckF0dHJpYnV0ZShpLmF0dHJpYnV0ZXMuc2tpbkluZGV4LHQpLEpzLmZyb21CdWZmZXJBdHRyaWJ1dGUoaS5hdHRyaWJ1dGVzLnNraW5XZWlnaHQsdCksWXMuZnJvbUJ1ZmZlckF0dHJpYnV0ZShpLmF0dHJpYnV0ZXMucG9zaXRpb24sdCkuYXBwbHlNYXRyaXg0KHRoaXMuYmluZE1hdHJpeCksZS5zZXQoMCwwLDApO2ZvcihsZXQgdD0wO3Q8NDt0Kyspe2NvbnN0IGk9SnMuZ2V0Q29tcG9uZW50KHQpO2lmKDAhPT1pKXtjb25zdCByPVpzLmdldENvbXBvbmVudCh0KTtLcy5tdWx0aXBseU1hdHJpY2VzKG4uYm9uZXNbcl0ubWF0cml4V29ybGQsbi5ib25lSW52ZXJzZXNbcl0pLGUuYWRkU2NhbGVkVmVjdG9yKFFzLmNvcHkoWXMpLmFwcGx5TWF0cml4NChLcyksaSl9fXJldHVybiBlLmFwcGx5TWF0cml4NCh0aGlzLmJpbmRNYXRyaXhJbnZlcnNlKX19JHMucHJvdG90eXBlLmlzU2tpbm5lZE1lc2g9ITA7Y2xhc3MgdGEgZXh0ZW5kcyBDZXtjb25zdHJ1Y3Rvcigpe3N1cGVyKCksdGhpcy50eXBlPSJCb25lIn19dGEucHJvdG90eXBlLmlzQm9uZT0hMDtjb25zdCBlYT1uZXcgc2UsbmE9bmV3IHNlO2NsYXNzIGlhe2NvbnN0cnVjdG9yKHQ9W10sZT1bXSl7dGhpcy51dWlkPWN0KCksdGhpcy5ib25lcz10LnNsaWNlKDApLHRoaXMuYm9uZUludmVyc2VzPWUsdGhpcy5ib25lTWF0cmljZXM9bnVsbCx0aGlzLmJvbmVUZXh0dXJlPW51bGwsdGhpcy5ib25lVGV4dHVyZVNpemU9MCx0aGlzLmZyYW1lPS0xLHRoaXMuaW5pdCgpfWluaXQoKXtjb25zdCB0PXRoaXMuYm9uZXMsZT10aGlzLmJvbmVJbnZlcnNlcztpZih0aGlzLmJvbmVNYXRyaWNlcz1uZXcgRmxvYXQzMkFycmF5KDE2KnQubGVuZ3RoKSwwPT09ZS5sZW5ndGgpdGhpcy5jYWxjdWxhdGVJbnZlcnNlcygpO2Vsc2UgaWYodC5sZW5ndGghPT1lLmxlbmd0aCl7Y29uc29sZS53YXJuKCJUSFJFRS5Ta2VsZXRvbjogTnVtYmVyIG9mIGludmVyc2UgYm9uZSBtYXRyaWNlcyBkb2VzIG5vdCBtYXRjaCBhbW91bnQgb2YgYm9uZXMuIiksdGhpcy5ib25lSW52ZXJzZXM9W107Zm9yKGxldCB0PTAsZT10aGlzLmJvbmVzLmxlbmd0aDt0PGU7dCsrKXRoaXMuYm9uZUludmVyc2VzLnB1c2gobmV3IHNlKX19Y2FsY3VsYXRlSW52ZXJzZXMoKXt0aGlzLmJvbmVJbnZlcnNlcy5sZW5ndGg9MDtmb3IobGV0IHQ9MCxlPXRoaXMuYm9uZXMubGVuZ3RoO3Q8ZTt0Kyspe2NvbnN0IGU9bmV3IHNlO3RoaXMuYm9uZXNbdF0mJmUuY29weSh0aGlzLmJvbmVzW3RdLm1hdHJpeFdvcmxkKS5pbnZlcnQoKSx0aGlzLmJvbmVJbnZlcnNlcy5wdXNoKGUpfX1wb3NlKCl7Zm9yKGxldCB0PTAsZT10aGlzLmJvbmVzLmxlbmd0aDt0PGU7dCsrKXtjb25zdCBlPXRoaXMuYm9uZXNbdF07ZSYmZS5tYXRyaXhXb3JsZC5jb3B5KHRoaXMuYm9uZUludmVyc2VzW3RdKS5pbnZlcnQoKX1mb3IobGV0IHQ9MCxlPXRoaXMuYm9uZXMubGVuZ3RoO3Q8ZTt0Kyspe2NvbnN0IGU9dGhpcy5ib25lc1t0XTtlJiYoZS5wYXJlbnQmJmUucGFyZW50LmlzQm9uZT8oZS5tYXRyaXguY29weShlLnBhcmVudC5tYXRyaXhXb3JsZCkuaW52ZXJ0KCksZS5tYXRyaXgubXVsdGlwbHkoZS5tYXRyaXhXb3JsZCkpOmUubWF0cml4LmNvcHkoZS5tYXRyaXhXb3JsZCksZS5tYXRyaXguZGVjb21wb3NlKGUucG9zaXRpb24sZS5xdWF0ZXJuaW9uLGUuc2NhbGUpKX19dXBkYXRlKCl7Y29uc3QgdD10aGlzLmJvbmVzLGU9dGhpcy5ib25lSW52ZXJzZXMsbj10aGlzLmJvbmVNYXRyaWNlcyxpPXRoaXMuYm9uZVRleHR1cmU7Zm9yKGxldCBpPTAscj10Lmxlbmd0aDtpPHI7aSsrKXtjb25zdCByPXRbaV0/dFtpXS5tYXRyaXhXb3JsZDpuYTtlYS5tdWx0aXBseU1hdHJpY2VzKHIsZVtpXSksZWEudG9BcnJheShuLDE2KmkpfW51bGwhPT1pJiYoaS5uZWVkc1VwZGF0ZT0hMCl9Y2xvbmUoKXtyZXR1cm4gbmV3IGlhKHRoaXMuYm9uZXMsdGhpcy5ib25lSW52ZXJzZXMpfWdldEJvbmVCeU5hbWUodCl7Zm9yKGxldCBlPTAsbj10aGlzLmJvbmVzLmxlbmd0aDtlPG47ZSsrKXtjb25zdCBuPXRoaXMuYm9uZXNbZV07aWYobi5uYW1lPT09dClyZXR1cm4gbn19ZGlzcG9zZSgpe251bGwhPT10aGlzLmJvbmVUZXh0dXJlJiYodGhpcy5ib25lVGV4dHVyZS5kaXNwb3NlKCksdGhpcy5ib25lVGV4dHVyZT1udWxsKX1mcm9tSlNPTih0LGUpe3RoaXMudXVpZD10LnV1aWQ7Zm9yKGxldCBuPTAsaT10LmJvbmVzLmxlbmd0aDtuPGk7bisrKXtjb25zdCBpPXQuYm9uZXNbbl07bGV0IHI9ZVtpXTt2b2lkIDA9PT1yJiYoY29uc29sZS53YXJuKCJUSFJFRS5Ta2VsZXRvbjogTm8gYm9uZSBmb3VuZCB3aXRoIFVVSUQ6IixpKSxyPW5ldyB0YSksdGhpcy5ib25lcy5wdXNoKHIpLHRoaXMuYm9uZUludmVyc2VzLnB1c2goKG5ldyBzZSkuZnJvbUFycmF5KHQuYm9uZUludmVyc2VzW25dKSl9cmV0dXJuIHRoaXMuaW5pdCgpLHRoaXN9dG9KU09OKCl7Y29uc3QgdD17bWV0YWRhdGE6e3ZlcnNpb246NC41LHR5cGU6IlNrZWxldG9uIixnZW5lcmF0b3I6IlNrZWxldG9uLnRvSlNPTiJ9LGJvbmVzOltdLGJvbmVJbnZlcnNlczpbXX07dC51dWlkPXRoaXMudXVpZDtjb25zdCBlPXRoaXMuYm9uZXMsbj10aGlzLmJvbmVJbnZlcnNlcztmb3IobGV0IGk9MCxyPWUubGVuZ3RoO2k8cjtpKyspe2NvbnN0IHI9ZVtpXTt0LmJvbmVzLnB1c2goci51dWlkKTtjb25zdCBzPW5baV07dC5ib25lSW52ZXJzZXMucHVzaChzLnRvQXJyYXkoKSl9cmV0dXJuIHR9fWNvbnN0IHJhPW5ldyBzZSxzYT1uZXcgc2UsYWE9W10sb2E9bmV3IFduO2NsYXNzIGxhIGV4dGVuZHMgV257Y29uc3RydWN0b3IodCxlLG4pe3N1cGVyKHQsZSksdGhpcy5pbnN0YW5jZU1hdHJpeD1uZXcgc24obmV3IEZsb2F0MzJBcnJheSgxNipuKSwxNiksdGhpcy5pbnN0YW5jZUNvbG9yPW51bGwsdGhpcy5jb3VudD1uLHRoaXMuZnJ1c3R1bUN1bGxlZD0hMX1jb3B5KHQpe3JldHVybiBzdXBlci5jb3B5KHQpLHRoaXMuaW5zdGFuY2VNYXRyaXguY29weSh0Lmluc3RhbmNlTWF0cml4KSxudWxsIT09dC5pbnN0YW5jZUNvbG9yJiYodGhpcy5pbnN0YW5jZUNvbG9yPXQuaW5zdGFuY2VDb2xvci5jbG9uZSgpKSx0aGlzLmNvdW50PXQuY291bnQsdGhpc31nZXRDb2xvckF0KHQsZSl7ZS5mcm9tQXJyYXkodGhpcy5pbnN0YW5jZUNvbG9yLmFycmF5LDMqdCl9Z2V0TWF0cml4QXQodCxlKXtlLmZyb21BcnJheSh0aGlzLmluc3RhbmNlTWF0cml4LmFycmF5LDE2KnQpfXJheWNhc3QodCxlKXtjb25zdCBuPXRoaXMubWF0cml4V29ybGQsaT10aGlzLmNvdW50O2lmKG9hLmdlb21ldHJ5PXRoaXMuZ2VvbWV0cnksb2EubWF0ZXJpYWw9dGhpcy5tYXRlcmlhbCx2b2lkIDAhPT1vYS5tYXRlcmlhbClmb3IobGV0IHI9MDtyPGk7cisrKXt0aGlzLmdldE1hdHJpeEF0KHIscmEpLHNhLm11bHRpcGx5TWF0cmljZXMobixyYSksb2EubWF0cml4V29ybGQ9c2Esb2EucmF5Y2FzdCh0LGFhKTtmb3IobGV0IHQ9MCxuPWFhLmxlbmd0aDt0PG47dCsrKXtjb25zdCBuPWFhW3RdO24uaW5zdGFuY2VJZD1yLG4ub2JqZWN0PXRoaXMsZS5wdXNoKG4pfWFhLmxlbmd0aD0wfX1zZXRDb2xvckF0KHQsZSl7bnVsbD09PXRoaXMuaW5zdGFuY2VDb2xvciYmKHRoaXMuaW5zdGFuY2VDb2xvcj1uZXcgc24obmV3IEZsb2F0MzJBcnJheSgzKnRoaXMuY291bnQpLDMpKSxlLnRvQXJyYXkodGhpcy5pbnN0YW5jZUNvbG9yLmFycmF5LDMqdCl9c2V0TWF0cml4QXQodCxlKXtlLnRvQXJyYXkodGhpcy5pbnN0YW5jZU1hdHJpeC5hcnJheSwxNip0KX11cGRhdGVNb3JwaFRhcmdldHMoKXt9ZGlzcG9zZSgpe3RoaXMuZGlzcGF0Y2hFdmVudCh7dHlwZToiZGlzcG9zZSJ9KX19bGEucHJvdG90eXBlLmlzSW5zdGFuY2VkTWVzaD0hMDtjbGFzcyBjYSBleHRlbmRzIFhle2NvbnN0cnVjdG9yKHQpe3N1cGVyKCksdGhpcy50eXBlPSJMaW5lQmFzaWNNYXRlcmlhbCIsdGhpcy5jb2xvcj1uZXcgdG4oMTY3NzcyMTUpLHRoaXMubGluZXdpZHRoPTEsdGhpcy5saW5lY2FwPSJyb3VuZCIsdGhpcy5saW5lam9pbj0icm91bmQiLHRoaXMubW9ycGhUYXJnZXRzPSExLHRoaXMuc2V0VmFsdWVzKHQpfWNvcHkodCl7cmV0dXJuIHN1cGVyLmNvcHkodCksdGhpcy5jb2xvci5jb3B5KHQuY29sb3IpLHRoaXMubGluZXdpZHRoPXQubGluZXdpZHRoLHRoaXMubGluZWNhcD10LmxpbmVjYXAsdGhpcy5saW5lam9pbj10LmxpbmVqb2luLHRoaXMubW9ycGhUYXJnZXRzPXQubW9ycGhUYXJnZXRzLHRoaXN9fWNhLnByb3RvdHlwZS5pc0xpbmVCYXNpY01hdGVyaWFsPSEwO2NvbnN0IGhhPW5ldyBMdCx1YT1uZXcgTHQsZGE9bmV3IHNlLHBhPW5ldyByZSxtYT1uZXcgSnQ7Y2xhc3MgZmEgZXh0ZW5kcyBDZXtjb25zdHJ1Y3Rvcih0PW5ldyBFbixlPW5ldyBjYSl7c3VwZXIoKSx0aGlzLnR5cGU9IkxpbmUiLHRoaXMuZ2VvbWV0cnk9dCx0aGlzLm1hdGVyaWFsPWUsdGhpcy51cGRhdGVNb3JwaFRhcmdldHMoKX1jb3B5KHQpe3JldHVybiBzdXBlci5jb3B5KHQpLHRoaXMubWF0ZXJpYWw9dC5tYXRlcmlhbCx0aGlzLmdlb21ldHJ5PXQuZ2VvbWV0cnksdGhpc31jb21wdXRlTGluZURpc3RhbmNlcygpe2NvbnN0IHQ9dGhpcy5nZW9tZXRyeTtpZih0LmlzQnVmZmVyR2VvbWV0cnkpaWYobnVsbD09PXQuaW5kZXgpe2NvbnN0IGU9dC5hdHRyaWJ1dGVzLnBvc2l0aW9uLG49WzBdO2ZvcihsZXQgdD0xLGk9ZS5jb3VudDt0PGk7dCsrKWhhLmZyb21CdWZmZXJBdHRyaWJ1dGUoZSx0LTEpLHVhLmZyb21CdWZmZXJBdHRyaWJ1dGUoZSx0KSxuW3RdPW5bdC0xXSxuW3RdKz1oYS5kaXN0YW5jZVRvKHVhKTt0LnNldEF0dHJpYnV0ZSgibGluZURpc3RhbmNlIixuZXcgbW4obiwxKSl9ZWxzZSBjb25zb2xlLndhcm4oIlRIUkVFLkxpbmUuY29tcHV0ZUxpbmVEaXN0YW5jZXMoKTogQ29tcHV0YXRpb24gb25seSBwb3NzaWJsZSB3aXRoIG5vbi1pbmRleGVkIEJ1ZmZlckdlb21ldHJ5LiIpO2Vsc2UgdC5pc0dlb21ldHJ5JiZjb25zb2xlLmVycm9yKCJUSFJFRS5MaW5lLmNvbXB1dGVMaW5lRGlzdGFuY2VzKCkgbm8gbG9uZ2VyIHN1cHBvcnRzIFRIUkVFLkdlb21ldHJ5LiBVc2UgVEhSRUUuQnVmZmVyR2VvbWV0cnkgaW5zdGVhZC4iKTtyZXR1cm4gdGhpc31yYXljYXN0KHQsZSl7Y29uc3Qgbj10aGlzLmdlb21ldHJ5LGk9dGhpcy5tYXRyaXhXb3JsZCxyPXQucGFyYW1zLkxpbmUudGhyZXNob2xkLHM9bi5kcmF3UmFuZ2U7aWYobnVsbD09PW4uYm91bmRpbmdTcGhlcmUmJm4uY29tcHV0ZUJvdW5kaW5nU3BoZXJlKCksbWEuY29weShuLmJvdW5kaW5nU3BoZXJlKSxtYS5hcHBseU1hdHJpeDQoaSksbWEucmFkaXVzKz1yLCExPT09dC5yYXkuaW50ZXJzZWN0c1NwaGVyZShtYSkpcmV0dXJuO2RhLmNvcHkoaSkuaW52ZXJ0KCkscGEuY29weSh0LnJheSkuYXBwbHlNYXRyaXg0KGRhKTtjb25zdCBhPXIvKCh0aGlzLnNjYWxlLngrdGhpcy5zY2FsZS55K3RoaXMuc2NhbGUueikvMyksbz1hKmEsbD1uZXcgTHQsYz1uZXcgTHQsaD1uZXcgTHQsdT1uZXcgTHQsZD10aGlzLmlzTGluZVNlZ21lbnRzPzI6MTtpZihuLmlzQnVmZmVyR2VvbWV0cnkpe2NvbnN0IGk9bi5pbmRleCxyPW4uYXR0cmlidXRlcy5wb3NpdGlvbjtpZihudWxsIT09aSl7Zm9yKGxldCBuPU1hdGgubWF4KDAscy5zdGFydCksYT1NYXRoLm1pbihpLmNvdW50LHMuc3RhcnQrcy5jb3VudCktMTtuPGE7bis9ZCl7Y29uc3Qgcz1pLmdldFgobiksYT1pLmdldFgobisxKTtsLmZyb21CdWZmZXJBdHRyaWJ1dGUocixzKSxjLmZyb21CdWZmZXJBdHRyaWJ1dGUocixhKTtpZihwYS5kaXN0YW5jZVNxVG9TZWdtZW50KGwsYyx1LGgpPm8pY29udGludWU7dS5hcHBseU1hdHJpeDQodGhpcy5tYXRyaXhXb3JsZCk7Y29uc3QgZD10LnJheS5vcmlnaW4uZGlzdGFuY2VUbyh1KTtkPHQubmVhcnx8ZD50LmZhcnx8ZS5wdXNoKHtkaXN0YW5jZTpkLHBvaW50OmguY2xvbmUoKS5hcHBseU1hdHJpeDQodGhpcy5tYXRyaXhXb3JsZCksaW5kZXg6bixmYWNlOm51bGwsZmFjZUluZGV4Om51bGwsb2JqZWN0OnRoaXN9KX19ZWxzZXtmb3IobGV0IG49TWF0aC5tYXgoMCxzLnN0YXJ0KSxpPU1hdGgubWluKHIuY291bnQscy5zdGFydCtzLmNvdW50KS0xO248aTtuKz1kKXtsLmZyb21CdWZmZXJBdHRyaWJ1dGUocixuKSxjLmZyb21CdWZmZXJBdHRyaWJ1dGUocixuKzEpO2lmKHBhLmRpc3RhbmNlU3FUb1NlZ21lbnQobCxjLHUsaCk+byljb250aW51ZTt1LmFwcGx5TWF0cml4NCh0aGlzLm1hdHJpeFdvcmxkKTtjb25zdCBpPXQucmF5Lm9yaWdpbi5kaXN0YW5jZVRvKHUpO2k8dC5uZWFyfHxpPnQuZmFyfHxlLnB1c2goe2Rpc3RhbmNlOmkscG9pbnQ6aC5jbG9uZSgpLmFwcGx5TWF0cml4NCh0aGlzLm1hdHJpeFdvcmxkKSxpbmRleDpuLGZhY2U6bnVsbCxmYWNlSW5kZXg6bnVsbCxvYmplY3Q6dGhpc30pfX19ZWxzZSBuLmlzR2VvbWV0cnkmJmNvbnNvbGUuZXJyb3IoIlRIUkVFLkxpbmUucmF5Y2FzdCgpIG5vIGxvbmdlciBzdXBwb3J0cyBUSFJFRS5HZW9tZXRyeS4gVXNlIFRIUkVFLkJ1ZmZlckdlb21ldHJ5IGluc3RlYWQuIil9dXBkYXRlTW9ycGhUYXJnZXRzKCl7Y29uc3QgdD10aGlzLmdlb21ldHJ5O2lmKHQuaXNCdWZmZXJHZW9tZXRyeSl7Y29uc3QgZT10Lm1vcnBoQXR0cmlidXRlcyxuPU9iamVjdC5rZXlzKGUpO2lmKG4ubGVuZ3RoPjApe2NvbnN0IHQ9ZVtuWzBdXTtpZih2b2lkIDAhPT10KXt0aGlzLm1vcnBoVGFyZ2V0SW5mbHVlbmNlcz1bXSx0aGlzLm1vcnBoVGFyZ2V0RGljdGlvbmFyeT17fTtmb3IobGV0IGU9MCxuPXQubGVuZ3RoO2U8bjtlKyspe2NvbnN0IG49dFtlXS5uYW1lfHxTdHJpbmcoZSk7dGhpcy5tb3JwaFRhcmdldEluZmx1ZW5jZXMucHVzaCgwKSx0aGlzLm1vcnBoVGFyZ2V0RGljdGlvbmFyeVtuXT1lfX19fWVsc2V7Y29uc3QgZT10Lm1vcnBoVGFyZ2V0czt2b2lkIDAhPT1lJiZlLmxlbmd0aD4wJiZjb25zb2xlLmVycm9yKCJUSFJFRS5MaW5lLnVwZGF0ZU1vcnBoVGFyZ2V0cygpIGRvZXMgbm90IHN1cHBvcnQgVEhSRUUuR2VvbWV0cnkuIFVzZSBUSFJFRS5CdWZmZXJHZW9tZXRyeSBpbnN0ZWFkLiIpfX19ZmEucHJvdG90eXBlLmlzTGluZT0hMDtjb25zdCBnYT1uZXcgTHQsdmE9bmV3IEx0O2NsYXNzIHlhIGV4dGVuZHMgZmF7Y29uc3RydWN0b3IodCxlKXtzdXBlcih0LGUpLHRoaXMudHlwZT0iTGluZVNlZ21lbnRzIn1jb21wdXRlTGluZURpc3RhbmNlcygpe2NvbnN0IHQ9dGhpcy5nZW9tZXRyeTtpZih0LmlzQnVmZmVyR2VvbWV0cnkpaWYobnVsbD09PXQuaW5kZXgpe2NvbnN0IGU9dC5hdHRyaWJ1dGVzLnBvc2l0aW9uLG49W107Zm9yKGxldCB0PTAsaT1lLmNvdW50O3Q8aTt0Kz0yKWdhLmZyb21CdWZmZXJBdHRyaWJ1dGUoZSx0KSx2YS5mcm9tQnVmZmVyQXR0cmlidXRlKGUsdCsxKSxuW3RdPTA9PT10PzA6blt0LTFdLG5bdCsxXT1uW3RdK2dhLmRpc3RhbmNlVG8odmEpO3Quc2V0QXR0cmlidXRlKCJsaW5lRGlzdGFuY2UiLG5ldyBtbihuLDEpKX1lbHNlIGNvbnNvbGUud2FybigiVEhSRUUuTGluZVNlZ21lbnRzLmNvbXB1dGVMaW5lRGlzdGFuY2VzKCk6IENvbXB1dGF0aW9uIG9ubHkgcG9zc2libGUgd2l0aCBub24taW5kZXhlZCBCdWZmZXJHZW9tZXRyeS4iKTtlbHNlIHQuaXNHZW9tZXRyeSYmY29uc29sZS5lcnJvcigiVEhSRUUuTGluZVNlZ21lbnRzLmNvbXB1dGVMaW5lRGlzdGFuY2VzKCkgbm8gbG9uZ2VyIHN1cHBvcnRzIFRIUkVFLkdlb21ldHJ5LiBVc2UgVEhSRUUuQnVmZmVyR2VvbWV0cnkgaW5zdGVhZC4iKTtyZXR1cm4gdGhpc319eWEucHJvdG90eXBlLmlzTGluZVNlZ21lbnRzPSEwO2NsYXNzIHhhIGV4dGVuZHMgZmF7Y29uc3RydWN0b3IodCxlKXtzdXBlcih0LGUpLHRoaXMudHlwZT0iTGluZUxvb3AifX14YS5wcm90b3R5cGUuaXNMaW5lTG9vcD0hMDtjbGFzcyBfYSBleHRlbmRzIFhle2NvbnN0cnVjdG9yKHQpe3N1cGVyKCksdGhpcy50eXBlPSJQb2ludHNNYXRlcmlhbCIsdGhpcy5jb2xvcj1uZXcgdG4oMTY3NzcyMTUpLHRoaXMubWFwPW51bGwsdGhpcy5hbHBoYU1hcD1udWxsLHRoaXMuc2l6ZT0xLHRoaXMuc2l6ZUF0dGVudWF0aW9uPSEwLHRoaXMubW9ycGhUYXJnZXRzPSExLHRoaXMuc2V0VmFsdWVzKHQpfWNvcHkodCl7cmV0dXJuIHN1cGVyLmNvcHkodCksdGhpcy5jb2xvci5jb3B5KHQuY29sb3IpLHRoaXMubWFwPXQubWFwLHRoaXMuYWxwaGFNYXA9dC5hbHBoYU1hcCx0aGlzLnNpemU9dC5zaXplLHRoaXMuc2l6ZUF0dGVudWF0aW9uPXQuc2l6ZUF0dGVudWF0aW9uLHRoaXMubW9ycGhUYXJnZXRzPXQubW9ycGhUYXJnZXRzLHRoaXN9fV9hLnByb3RvdHlwZS5pc1BvaW50c01hdGVyaWFsPSEwO2NvbnN0IHdhPW5ldyBzZSxiYT1uZXcgcmUsTWE9bmV3IEp0LFNhPW5ldyBMdDtjbGFzcyBUYSBleHRlbmRzIENle2NvbnN0cnVjdG9yKHQ9bmV3IEVuLGU9bmV3IF9hKXtzdXBlcigpLHRoaXMudHlwZT0iUG9pbnRzIix0aGlzLmdlb21ldHJ5PXQsdGhpcy5tYXRlcmlhbD1lLHRoaXMudXBkYXRlTW9ycGhUYXJnZXRzKCl9Y29weSh0KXtyZXR1cm4gc3VwZXIuY29weSh0KSx0aGlzLm1hdGVyaWFsPXQubWF0ZXJpYWwsdGhpcy5nZW9tZXRyeT10Lmdlb21ldHJ5LHRoaXN9cmF5Y2FzdCh0LGUpe2NvbnN0IG49dGhpcy5nZW9tZXRyeSxpPXRoaXMubWF0cml4V29ybGQscj10LnBhcmFtcy5Qb2ludHMudGhyZXNob2xkLHM9bi5kcmF3UmFuZ2U7aWYobnVsbD09PW4uYm91bmRpbmdTcGhlcmUmJm4uY29tcHV0ZUJvdW5kaW5nU3BoZXJlKCksTWEuY29weShuLmJvdW5kaW5nU3BoZXJlKSxNYS5hcHBseU1hdHJpeDQoaSksTWEucmFkaXVzKz1yLCExPT09dC5yYXkuaW50ZXJzZWN0c1NwaGVyZShNYSkpcmV0dXJuO3dhLmNvcHkoaSkuaW52ZXJ0KCksYmEuY29weSh0LnJheSkuYXBwbHlNYXRyaXg0KHdhKTtjb25zdCBhPXIvKCh0aGlzLnNjYWxlLngrdGhpcy5zY2FsZS55K3RoaXMuc2NhbGUueikvMyksbz1hKmE7aWYobi5pc0J1ZmZlckdlb21ldHJ5KXtjb25zdCByPW4uaW5kZXgsYT1uLmF0dHJpYnV0ZXMucG9zaXRpb247aWYobnVsbCE9PXIpe2ZvcihsZXQgbj1NYXRoLm1heCgwLHMuc3RhcnQpLGw9TWF0aC5taW4oci5jb3VudCxzLnN0YXJ0K3MuY291bnQpO248bDtuKyspe2NvbnN0IHM9ci5nZXRYKG4pO1NhLmZyb21CdWZmZXJBdHRyaWJ1dGUoYSxzKSxFYShTYSxzLG8saSx0LGUsdGhpcyl9fWVsc2V7Zm9yKGxldCBuPU1hdGgubWF4KDAscy5zdGFydCkscj1NYXRoLm1pbihhLmNvdW50LHMuc3RhcnQrcy5jb3VudCk7bjxyO24rKylTYS5mcm9tQnVmZmVyQXR0cmlidXRlKGEsbiksRWEoU2EsbixvLGksdCxlLHRoaXMpfX1lbHNlIGNvbnNvbGUuZXJyb3IoIlRIUkVFLlBvaW50cy5yYXljYXN0KCkgbm8gbG9uZ2VyIHN1cHBvcnRzIFRIUkVFLkdlb21ldHJ5LiBVc2UgVEhSRUUuQnVmZmVyR2VvbWV0cnkgaW5zdGVhZC4iKX11cGRhdGVNb3JwaFRhcmdldHMoKXtjb25zdCB0PXRoaXMuZ2VvbWV0cnk7aWYodC5pc0J1ZmZlckdlb21ldHJ5KXtjb25zdCBlPXQubW9ycGhBdHRyaWJ1dGVzLG49T2JqZWN0LmtleXMoZSk7aWYobi5sZW5ndGg+MCl7Y29uc3QgdD1lW25bMF1dO2lmKHZvaWQgMCE9PXQpe3RoaXMubW9ycGhUYXJnZXRJbmZsdWVuY2VzPVtdLHRoaXMubW9ycGhUYXJnZXREaWN0aW9uYXJ5PXt9O2ZvcihsZXQgZT0wLG49dC5sZW5ndGg7ZTxuO2UrKyl7Y29uc3Qgbj10W2VdLm5hbWV8fFN0cmluZyhlKTt0aGlzLm1vcnBoVGFyZ2V0SW5mbHVlbmNlcy5wdXNoKDApLHRoaXMubW9ycGhUYXJnZXREaWN0aW9uYXJ5W25dPWV9fX19ZWxzZXtjb25zdCBlPXQubW9ycGhUYXJnZXRzO3ZvaWQgMCE9PWUmJmUubGVuZ3RoPjAmJmNvbnNvbGUuZXJyb3IoIlRIUkVFLlBvaW50cy51cGRhdGVNb3JwaFRhcmdldHMoKSBkb2VzIG5vdCBzdXBwb3J0IFRIUkVFLkdlb21ldHJ5LiBVc2UgVEhSRUUuQnVmZmVyR2VvbWV0cnkgaW5zdGVhZC4iKX19fWZ1bmN0aW9uIEVhKHQsZSxuLGkscixzLGEpe2NvbnN0IG89YmEuZGlzdGFuY2VTcVRvUG9pbnQodCk7aWYobzxuKXtjb25zdCBuPW5ldyBMdDtiYS5jbG9zZXN0UG9pbnRUb1BvaW50KHQsbiksbi5hcHBseU1hdHJpeDQoaSk7Y29uc3QgbD1yLnJheS5vcmlnaW4uZGlzdGFuY2VUbyhuKTtpZihsPHIubmVhcnx8bD5yLmZhcilyZXR1cm47cy5wdXNoKHtkaXN0YW5jZTpsLGRpc3RhbmNlVG9SYXk6TWF0aC5zcXJ0KG8pLHBvaW50Om4saW5kZXg6ZSxmYWNlOm51bGwsb2JqZWN0OmF9KX19VGEucHJvdG90eXBlLmlzUG9pbnRzPSEwO2NsYXNzIEFhIGV4dGVuZHMgYnR7Y29uc3RydWN0b3IodCxlLG4saSxyLHMsYSxvLGwpe3N1cGVyKHQsZSxuLGkscixzLGEsbyxsKSx0aGlzLmZvcm1hdD12b2lkIDAhPT1hP2E6VCx0aGlzLm1pbkZpbHRlcj12b2lkIDAhPT1zP3M6Zyx0aGlzLm1hZ0ZpbHRlcj12b2lkIDAhPT1yP3I6Zyx0aGlzLmdlbmVyYXRlTWlwbWFwcz0hMTtjb25zdCBjPXRoaXM7InJlcXVlc3RWaWRlb0ZyYW1lQ2FsbGJhY2siaW4gdCYmdC5yZXF1ZXN0VmlkZW9GcmFtZUNhbGxiYWNrKChmdW5jdGlvbiBlKCl7Yy5uZWVkc1VwZGF0ZT0hMCx0LnJlcXVlc3RWaWRlb0ZyYW1lQ2FsbGJhY2soZSl9KSl9Y2xvbmUoKXtyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IodGhpcy5pbWFnZSkuY29weSh0aGlzKX11cGRhdGUoKXtjb25zdCB0PXRoaXMuaW1hZ2U7ITE9PT0icmVxdWVzdFZpZGVvRnJhbWVDYWxsYmFjayJpbiB0JiZ0LnJlYWR5U3RhdGU+PXQuSEFWRV9DVVJSRU5UX0RBVEEmJih0aGlzLm5lZWRzVXBkYXRlPSEwKX19QWEucHJvdG90eXBlLmlzVmlkZW9UZXh0dXJlPSEwO2NsYXNzIExhIGV4dGVuZHMgYnR7Y29uc3RydWN0b3IodCxlLG4saSxyLHMsYSxvLGwsYyxoLHUpe3N1cGVyKG51bGwscyxhLG8sbCxjLGkscixoLHUpLHRoaXMuaW1hZ2U9e3dpZHRoOmUsaGVpZ2h0Om59LHRoaXMubWlwbWFwcz10LHRoaXMuZmxpcFk9ITEsdGhpcy5nZW5lcmF0ZU1pcG1hcHM9ITF9fUxhLnByb3RvdHlwZS5pc0NvbXByZXNzZWRUZXh0dXJlPSEwO2NsYXNzIFJhIGV4dGVuZHMgYnR7Y29uc3RydWN0b3IodCxlLG4saSxyLHMsYSxvLGwpe3N1cGVyKHQsZSxuLGkscixzLGEsbyxsKSx0aGlzLm5lZWRzVXBkYXRlPSEwfX1SYS5wcm90b3R5cGUuaXNDYW52YXNUZXh0dXJlPSEwO2NsYXNzIENhIGV4dGVuZHMgYnR7Y29uc3RydWN0b3IodCxlLG4saSxyLHMsYSxvLGwsYyl7aWYoKGM9dm9pZCAwIT09Yz9jOkEpIT09QSYmYyE9PUwpdGhyb3cgbmV3IEVycm9yKCJEZXB0aFRleHR1cmUgZm9ybWF0IG11c3QgYmUgZWl0aGVyIFRIUkVFLkRlcHRoRm9ybWF0IG9yIFRIUkVFLkRlcHRoU3RlbmNpbEZvcm1hdCIpO3ZvaWQgMD09PW4mJmM9PT1BJiYobj1fKSx2b2lkIDA9PT1uJiZjPT09TCYmKG49Uyksc3VwZXIobnVsbCxpLHIscyxhLG8sYyxuLGwpLHRoaXMuaW1hZ2U9e3dpZHRoOnQsaGVpZ2h0OmV9LHRoaXMubWFnRmlsdGVyPXZvaWQgMCE9PWE/YTpwLHRoaXMubWluRmlsdGVyPXZvaWQgMCE9PW8/bzpwLHRoaXMuZmxpcFk9ITEsdGhpcy5nZW5lcmF0ZU1pcG1hcHM9ITF9fUNhLnByb3RvdHlwZS5pc0RlcHRoVGV4dHVyZT0hMDtjbGFzcyBQYSBleHRlbmRzIEVue2NvbnN0cnVjdG9yKHQ9MSxlPTgsbj0wLGk9MipNYXRoLlBJKXtzdXBlcigpLHRoaXMudHlwZT0iQ2lyY2xlR2VvbWV0cnkiLHRoaXMucGFyYW1ldGVycz17cmFkaXVzOnQsc2VnbWVudHM6ZSx0aGV0YVN0YXJ0Om4sdGhldGFMZW5ndGg6aX0sZT1NYXRoLm1heCgzLGUpO2NvbnN0IHI9W10scz1bXSxhPVtdLG89W10sbD1uZXcgTHQsYz1uZXcgdnQ7cy5wdXNoKDAsMCwwKSxhLnB1c2goMCwwLDEpLG8ucHVzaCguNSwuNSk7Zm9yKGxldCByPTAsaD0zO3I8PWU7cisrLGgrPTMpe2NvbnN0IHU9bityL2UqaTtsLng9dCpNYXRoLmNvcyh1KSxsLnk9dCpNYXRoLnNpbih1KSxzLnB1c2gobC54LGwueSxsLnopLGEucHVzaCgwLDAsMSksYy54PShzW2hdL3QrMSkvMixjLnk9KHNbaCsxXS90KzEpLzIsby5wdXNoKGMueCxjLnkpfWZvcihsZXQgdD0xO3Q8PWU7dCsrKXIucHVzaCh0LHQrMSwwKTt0aGlzLnNldEluZGV4KHIpLHRoaXMuc2V0QXR0cmlidXRlKCJwb3NpdGlvbiIsbmV3IG1uKHMsMykpLHRoaXMuc2V0QXR0cmlidXRlKCJub3JtYWwiLG5ldyBtbihhLDMpKSx0aGlzLnNldEF0dHJpYnV0ZSgidXYiLG5ldyBtbihvLDIpKX19Y2xhc3MgRGEgZXh0ZW5kcyBFbntjb25zdHJ1Y3Rvcih0PTEsZT0xLG49MSxpPTgscj0xLHM9ITEsYT0wLG89MipNYXRoLlBJKXtzdXBlcigpLHRoaXMudHlwZT0iQ3lsaW5kZXJHZW9tZXRyeSIsdGhpcy5wYXJhbWV0ZXJzPXtyYWRpdXNUb3A6dCxyYWRpdXNCb3R0b206ZSxoZWlnaHQ6bixyYWRpYWxTZWdtZW50czppLGhlaWdodFNlZ21lbnRzOnIsb3BlbkVuZGVkOnMsdGhldGFTdGFydDphLHRoZXRhTGVuZ3RoOm99O2NvbnN0IGw9dGhpcztpPU1hdGguZmxvb3IoaSkscj1NYXRoLmZsb29yKHIpO2NvbnN0IGM9W10saD1bXSx1PVtdLGQ9W107bGV0IHA9MDtjb25zdCBtPVtdLGY9bi8yO2xldCBnPTA7ZnVuY3Rpb24gdihuKXtjb25zdCByPXAscz1uZXcgdnQsbT1uZXcgTHQ7bGV0IHY9MDtjb25zdCB5PSEwPT09bj90OmUseD0hMD09PW4/MTotMTtmb3IobGV0IHQ9MTt0PD1pO3QrKyloLnB1c2goMCxmKngsMCksdS5wdXNoKDAseCwwKSxkLnB1c2goLjUsLjUpLHArKztjb25zdCBfPXA7Zm9yKGxldCB0PTA7dDw9aTt0Kyspe2NvbnN0IGU9dC9pKm8rYSxuPU1hdGguY29zKGUpLHI9TWF0aC5zaW4oZSk7bS54PXkqcixtLnk9Zip4LG0uej15Km4saC5wdXNoKG0ueCxtLnksbS56KSx1LnB1c2goMCx4LDApLHMueD0uNSpuKy41LHMueT0uNSpyKngrLjUsZC5wdXNoKHMueCxzLnkpLHArK31mb3IobGV0IHQ9MDt0PGk7dCsrKXtjb25zdCBlPXIrdCxpPV8rdDshMD09PW4/Yy5wdXNoKGksaSsxLGUpOmMucHVzaChpKzEsaSxlKSx2Kz0zfWwuYWRkR3JvdXAoZyx2LCEwPT09bj8xOjIpLGcrPXZ9IWZ1bmN0aW9uKCl7Y29uc3Qgcz1uZXcgTHQsdj1uZXcgTHQ7bGV0IHk9MDtjb25zdCB4PShlLXQpL247Zm9yKGxldCBsPTA7bDw9cjtsKyspe2NvbnN0IGM9W10sZz1sL3IseT1nKihlLXQpK3Q7Zm9yKGxldCB0PTA7dDw9aTt0Kyspe2NvbnN0IGU9dC9pLHI9ZSpvK2EsbD1NYXRoLnNpbihyKSxtPU1hdGguY29zKHIpO3YueD15Kmwsdi55PS1nKm4rZix2Lno9eSptLGgucHVzaCh2Lngsdi55LHYueikscy5zZXQobCx4LG0pLm5vcm1hbGl6ZSgpLHUucHVzaChzLngscy55LHMueiksZC5wdXNoKGUsMS1nKSxjLnB1c2gocCsrKX1tLnB1c2goYyl9Zm9yKGxldCB0PTA7dDxpO3QrKylmb3IobGV0IGU9MDtlPHI7ZSsrKXtjb25zdCBuPW1bZV1bdF0saT1tW2UrMV1bdF0scj1tW2UrMV1bdCsxXSxzPW1bZV1bdCsxXTtjLnB1c2gobixpLHMpLGMucHVzaChpLHIscykseSs9Nn1sLmFkZEdyb3VwKGcseSwwKSxnKz15fSgpLCExPT09cyYmKHQ+MCYmdighMCksZT4wJiZ2KCExKSksdGhpcy5zZXRJbmRleChjKSx0aGlzLnNldEF0dHJpYnV0ZSgicG9zaXRpb24iLG5ldyBtbihoLDMpKSx0aGlzLnNldEF0dHJpYnV0ZSgibm9ybWFsIixuZXcgbW4odSwzKSksdGhpcy5zZXRBdHRyaWJ1dGUoInV2IixuZXcgbW4oZCwyKSl9fWNsYXNzIElhIGV4dGVuZHMgRGF7Y29uc3RydWN0b3IodD0xLGU9MSxuPTgsaT0xLHI9ITEscz0wLGE9MipNYXRoLlBJKXtzdXBlcigwLHQsZSxuLGkscixzLGEpLHRoaXMudHlwZT0iQ29uZUdlb21ldHJ5Iix0aGlzLnBhcmFtZXRlcnM9e3JhZGl1czp0LGhlaWdodDplLHJhZGlhbFNlZ21lbnRzOm4saGVpZ2h0U2VnbWVudHM6aSxvcGVuRW5kZWQ6cix0aGV0YVN0YXJ0OnMsdGhldGFMZW5ndGg6YX19fWNsYXNzIE5hIGV4dGVuZHMgRW57Y29uc3RydWN0b3IodCxlLG49MSxpPTApe3N1cGVyKCksdGhpcy50eXBlPSJQb2x5aGVkcm9uR2VvbWV0cnkiLHRoaXMucGFyYW1ldGVycz17dmVydGljZXM6dCxpbmRpY2VzOmUscmFkaXVzOm4sZGV0YWlsOml9O2NvbnN0IHI9W10scz1bXTtmdW5jdGlvbiBhKHQsZSxuLGkpe2NvbnN0IHI9aSsxLHM9W107Zm9yKGxldCBpPTA7aTw9cjtpKyspe3NbaV09W107Y29uc3QgYT10LmNsb25lKCkubGVycChuLGkvciksbz1lLmNsb25lKCkubGVycChuLGkvciksbD1yLWk7Zm9yKGxldCB0PTA7dDw9bDt0Kyspc1tpXVt0XT0wPT09dCYmaT09PXI/YTphLmNsb25lKCkubGVycChvLHQvbCl9Zm9yKGxldCB0PTA7dDxyO3QrKylmb3IobGV0IGU9MDtlPDIqKHItdCktMTtlKyspe2NvbnN0IG49TWF0aC5mbG9vcihlLzIpO2UlMj09MD8obyhzW3RdW24rMV0pLG8oc1t0KzFdW25dKSxvKHNbdF1bbl0pKToobyhzW3RdW24rMV0pLG8oc1t0KzFdW24rMV0pLG8oc1t0KzFdW25dKSl9fWZ1bmN0aW9uIG8odCl7ci5wdXNoKHQueCx0LnksdC56KX1mdW5jdGlvbiBsKGUsbil7Y29uc3QgaT0zKmU7bi54PXRbaSswXSxuLnk9dFtpKzFdLG4uej10W2krMl19ZnVuY3Rpb24gYyh0LGUsbixpKXtpPDAmJjE9PT10LngmJihzW2VdPXQueC0xKSwwPT09bi54JiYwPT09bi56JiYoc1tlXT1pLzIvTWF0aC5QSSsuNSl9ZnVuY3Rpb24gaCh0KXtyZXR1cm4gTWF0aC5hdGFuMih0LnosLXQueCl9IWZ1bmN0aW9uKHQpe2NvbnN0IG49bmV3IEx0LGk9bmV3IEx0LHI9bmV3IEx0O2ZvcihsZXQgcz0wO3M8ZS5sZW5ndGg7cys9MylsKGVbcyswXSxuKSxsKGVbcysxXSxpKSxsKGVbcysyXSxyKSxhKG4saSxyLHQpfShpKSxmdW5jdGlvbih0KXtjb25zdCBlPW5ldyBMdDtmb3IobGV0IG49MDtuPHIubGVuZ3RoO24rPTMpZS54PXJbbiswXSxlLnk9cltuKzFdLGUuej1yW24rMl0sZS5ub3JtYWxpemUoKS5tdWx0aXBseVNjYWxhcih0KSxyW24rMF09ZS54LHJbbisxXT1lLnkscltuKzJdPWUuen0obiksZnVuY3Rpb24oKXtjb25zdCB0PW5ldyBMdDtmb3IobGV0IG49MDtuPHIubGVuZ3RoO24rPTMpe3QueD1yW24rMF0sdC55PXJbbisxXSx0Lno9cltuKzJdO2NvbnN0IGk9aCh0KS8yL01hdGguUEkrLjUsYT0oZT10LE1hdGguYXRhbjIoLWUueSxNYXRoLnNxcnQoZS54KmUueCtlLnoqZS56KSkvTWF0aC5QSSsuNSk7cy5wdXNoKGksMS1hKX12YXIgZTsoZnVuY3Rpb24oKXtjb25zdCB0PW5ldyBMdCxlPW5ldyBMdCxuPW5ldyBMdCxpPW5ldyBMdCxhPW5ldyB2dCxvPW5ldyB2dCxsPW5ldyB2dDtmb3IobGV0IHU9MCxkPTA7dTxyLmxlbmd0aDt1Kz05LGQrPTYpe3Quc2V0KHJbdSswXSxyW3UrMV0sclt1KzJdKSxlLnNldChyW3UrM10sclt1KzRdLHJbdSs1XSksbi5zZXQoclt1KzZdLHJbdSs3XSxyW3UrOF0pLGEuc2V0KHNbZCswXSxzW2QrMV0pLG8uc2V0KHNbZCsyXSxzW2QrM10pLGwuc2V0KHNbZCs0XSxzW2QrNV0pLGkuY29weSh0KS5hZGQoZSkuYWRkKG4pLmRpdmlkZVNjYWxhcigzKTtjb25zdCBwPWgoaSk7YyhhLGQrMCx0LHApLGMobyxkKzIsZSxwKSxjKGwsZCs0LG4scCl9fSkoKSxmdW5jdGlvbigpe2ZvcihsZXQgdD0wO3Q8cy5sZW5ndGg7dCs9Nil7Y29uc3QgZT1zW3QrMF0sbj1zW3QrMl0saT1zW3QrNF0scj1NYXRoLm1heChlLG4saSksYT1NYXRoLm1pbihlLG4saSk7cj4uOSYmYTwuMSYmKGU8LjImJihzW3QrMF0rPTEpLG48LjImJihzW3QrMl0rPTEpLGk8LjImJihzW3QrNF0rPTEpKX19KCl9KCksdGhpcy5zZXRBdHRyaWJ1dGUoInBvc2l0aW9uIixuZXcgbW4ociwzKSksdGhpcy5zZXRBdHRyaWJ1dGUoIm5vcm1hbCIsbmV3IG1uKHIuc2xpY2UoKSwzKSksdGhpcy5zZXRBdHRyaWJ1dGUoInV2IixuZXcgbW4ocywyKSksMD09PWk/dGhpcy5jb21wdXRlVmVydGV4Tm9ybWFscygpOnRoaXMubm9ybWFsaXplTm9ybWFscygpfX1jbGFzcyBCYSBleHRlbmRzIE5he2NvbnN0cnVjdG9yKHQ9MSxlPTApe2NvbnN0IG49KDErTWF0aC5zcXJ0KDUpKS8yLGk9MS9uO3N1cGVyKFstMSwtMSwtMSwtMSwtMSwxLC0xLDEsLTEsLTEsMSwxLDEsLTEsLTEsMSwtMSwxLDEsMSwtMSwxLDEsMSwwLC1pLC1uLDAsLWksbiwwLGksLW4sMCxpLG4sLWksLW4sMCwtaSxuLDAsaSwtbiwwLGksbiwwLC1uLDAsLWksbiwwLC1pLC1uLDAsaSxuLDAsaV0sWzMsMTEsNywzLDcsMTUsMywxNSwxMyw3LDE5LDE3LDcsMTcsNiw3LDYsMTUsMTcsNCw4LDE3LDgsMTAsMTcsMTAsNiw4LDAsMTYsOCwxNiwyLDgsMiwxMCwwLDEyLDEsMCwxLDE4LDAsMTgsMTYsNiwxMCwyLDYsMiwxMyw2LDEzLDE1LDIsMTYsMTgsMiwxOCwzLDIsMywxMywxOCwxLDksMTgsOSwxMSwxOCwxMSwzLDQsMTQsMTIsNCwxMiwwLDQsMCw4LDExLDksNSwxMSw1LDE5LDExLDE5LDcsMTksNSwxNCwxOSwxNCw0LDE5LDQsMTcsMSwxMiwxNCwxLDE0LDUsMSw1LDldLHQsZSksdGhpcy50eXBlPSJEb2RlY2FoZWRyb25HZW9tZXRyeSIsdGhpcy5wYXJhbWV0ZXJzPXtyYWRpdXM6dCxkZXRhaWw6ZX19fWNvbnN0IHphPW5ldyBMdCxGYT1uZXcgTHQsT2E9bmV3IEx0LEhhPW5ldyBqZTtjbGFzcyBHYSBleHRlbmRzIEVue2NvbnN0cnVjdG9yKHQsZSl7aWYoc3VwZXIoKSx0aGlzLnR5cGU9IkVkZ2VzR2VvbWV0cnkiLHRoaXMucGFyYW1ldGVycz17dGhyZXNob2xkQW5nbGU6ZX0sZT12b2lkIDAhPT1lP2U6MSwhMD09PXQuaXNHZW9tZXRyeSlyZXR1cm4gdm9pZCBjb25zb2xlLmVycm9yKCJUSFJFRS5FZGdlc0dlb21ldHJ5IG5vIGxvbmdlciBzdXBwb3J0cyBUSFJFRS5HZW9tZXRyeS4gVXNlIFRIUkVFLkJ1ZmZlckdlb21ldHJ5IGluc3RlYWQuIik7Y29uc3Qgbj1NYXRoLnBvdygxMCw0KSxpPU1hdGguY29zKG90KmUpLHI9dC5nZXRJbmRleCgpLHM9dC5nZXRBdHRyaWJ1dGUoInBvc2l0aW9uIiksYT1yP3IuY291bnQ6cy5jb3VudCxvPVswLDAsMF0sbD1bImEiLCJiIiwiYyJdLGM9bmV3IEFycmF5KDMpLGg9e30sdT1bXTtmb3IobGV0IHQ9MDt0PGE7dCs9Myl7cj8ob1swXT1yLmdldFgodCksb1sxXT1yLmdldFgodCsxKSxvWzJdPXIuZ2V0WCh0KzIpKToob1swXT10LG9bMV09dCsxLG9bMl09dCsyKTtjb25zdHthOmUsYjphLGM6ZH09SGE7aWYoZS5mcm9tQnVmZmVyQXR0cmlidXRlKHMsb1swXSksYS5mcm9tQnVmZmVyQXR0cmlidXRlKHMsb1sxXSksZC5mcm9tQnVmZmVyQXR0cmlidXRlKHMsb1syXSksSGEuZ2V0Tm9ybWFsKE9hKSxjWzBdPWAke01hdGgucm91bmQoZS54Km4pfSwke01hdGgucm91bmQoZS55Km4pfSwke01hdGgucm91bmQoZS56Km4pfWAsY1sxXT1gJHtNYXRoLnJvdW5kKGEueCpuKX0sJHtNYXRoLnJvdW5kKGEueSpuKX0sJHtNYXRoLnJvdW5kKGEueipuKX1gLGNbMl09YCR7TWF0aC5yb3VuZChkLngqbil9LCR7TWF0aC5yb3VuZChkLnkqbil9LCR7TWF0aC5yb3VuZChkLnoqbil9YCxjWzBdIT09Y1sxXSYmY1sxXSE9PWNbMl0mJmNbMl0hPT1jWzBdKWZvcihsZXQgdD0wO3Q8Mzt0Kyspe2NvbnN0IGU9KHQrMSklMyxuPWNbdF0scj1jW2VdLHM9SGFbbFt0XV0sYT1IYVtsW2VdXSxkPWAke259XyR7cn1gLHA9YCR7cn1fJHtufWA7cCBpbiBoJiZoW3BdPyhPYS5kb3QoaFtwXS5ub3JtYWwpPD1pJiYodS5wdXNoKHMueCxzLnkscy56KSx1LnB1c2goYS54LGEueSxhLnopKSxoW3BdPW51bGwpOmQgaW4gaHx8KGhbZF09e2luZGV4MDpvW3RdLGluZGV4MTpvW2VdLG5vcm1hbDpPYS5jbG9uZSgpfSl9fWZvcihjb25zdCB0IGluIGgpaWYoaFt0XSl7Y29uc3R7aW5kZXgwOmUsaW5kZXgxOm59PWhbdF07emEuZnJvbUJ1ZmZlckF0dHJpYnV0ZShzLGUpLEZhLmZyb21CdWZmZXJBdHRyaWJ1dGUocyxuKSx1LnB1c2goemEueCx6YS55LHphLnopLHUucHVzaChGYS54LEZhLnksRmEueil9dGhpcy5zZXRBdHRyaWJ1dGUoInBvc2l0aW9uIixuZXcgbW4odSwzKSl9fWNvbnN0IFVhPWZ1bmN0aW9uKHQsZSxuKXtuPW58fDI7Y29uc3QgaT1lJiZlLmxlbmd0aCxyPWk/ZVswXSpuOnQubGVuZ3RoO2xldCBzPWthKHQsMCxyLG4sITApO2NvbnN0IGE9W107aWYoIXN8fHMubmV4dD09PXMucHJldilyZXR1cm4gYTtsZXQgbyxsLGMsaCx1LGQscDtpZihpJiYocz1mdW5jdGlvbih0LGUsbixpKXtjb25zdCByPVtdO2xldCBzLGEsbyxsLGM7Zm9yKHM9MCxhPWUubGVuZ3RoO3M8YTtzKyspbz1lW3NdKmksbD1zPGEtMT9lW3MrMV0qaTp0Lmxlbmd0aCxjPWthKHQsbyxsLGksITEpLGM9PT1jLm5leHQmJihjLnN0ZWluZXI9ITApLHIucHVzaCgkYShjKSk7Zm9yKHIuc29ydChaYSkscz0wO3M8ci5sZW5ndGg7cysrKUphKHJbc10sbiksbj1WYShuLG4ubmV4dCk7cmV0dXJuIG59KHQsZSxzLG4pKSx0Lmxlbmd0aD44MCpuKXtvPWM9dFswXSxsPWg9dFsxXTtmb3IobGV0IGU9bjtlPHI7ZSs9bil1PXRbZV0sZD10W2UrMV0sdTxvJiYobz11KSxkPGwmJihsPWQpLHU+YyYmKGM9dSksZD5oJiYoaD1kKTtwPU1hdGgubWF4KGMtbyxoLWwpLHA9MCE9PXA/MS9wOjB9cmV0dXJuIFdhKHMsYSxuLG8sbCxwKSxhfTtmdW5jdGlvbiBrYSh0LGUsbixpLHIpe2xldCBzLGE7aWYocj09PWZ1bmN0aW9uKHQsZSxuLGkpe2xldCByPTA7Zm9yKGxldCBzPWUsYT1uLWk7czxuO3MrPWkpcis9KHRbYV0tdFtzXSkqKHRbcysxXSt0W2ErMV0pLGE9cztyZXR1cm4gcn0odCxlLG4saSk+MClmb3Iocz1lO3M8bjtzKz1pKWE9Y28ocyx0W3NdLHRbcysxXSxhKTtlbHNlIGZvcihzPW4taTtzPj1lO3MtPWkpYT1jbyhzLHRbc10sdFtzKzFdLGEpO3JldHVybiBhJiZpbyhhLGEubmV4dCkmJihobyhhKSxhPWEubmV4dCksYX1mdW5jdGlvbiBWYSh0LGUpe2lmKCF0KXJldHVybiB0O2V8fChlPXQpO2xldCBuLGk9dDtkb3tpZihuPSExLGkuc3RlaW5lcnx8IWlvKGksaS5uZXh0KSYmMCE9PW5vKGkucHJldixpLGkubmV4dCkpaT1pLm5leHQ7ZWxzZXtpZihobyhpKSxpPWU9aS5wcmV2LGk9PT1pLm5leHQpYnJlYWs7bj0hMH19d2hpbGUobnx8aSE9PWUpO3JldHVybiBlfWZ1bmN0aW9uIFdhKHQsZSxuLGkscixzLGEpe2lmKCF0KXJldHVybjshYSYmcyYmZnVuY3Rpb24odCxlLG4saSl7bGV0IHI9dDtkb3tudWxsPT09ci56JiYoci56PUthKHIueCxyLnksZSxuLGkpKSxyLnByZXZaPXIucHJldixyLm5leHRaPXIubmV4dCxyPXIubmV4dH13aGlsZShyIT09dCk7ci5wcmV2Wi5uZXh0Wj1udWxsLHIucHJldlo9bnVsbCxmdW5jdGlvbih0KXtsZXQgZSxuLGkscixzLGEsbyxsLGM9MTtkb3tmb3Iobj10LHQ9bnVsbCxzPW51bGwsYT0wO247KXtmb3IoYSsrLGk9bixvPTAsZT0wO2U8YyYmKG8rKyxpPWkubmV4dFosaSk7ZSsrKTtmb3IobD1jO28+MHx8bD4wJiZpOykwIT09byYmKDA9PT1sfHwhaXx8bi56PD1pLnopPyhyPW4sbj1uLm5leHRaLG8tLSk6KHI9aSxpPWkubmV4dFosbC0tKSxzP3MubmV4dFo9cjp0PXIsci5wcmV2Wj1zLHM9cjtuPWl9cy5uZXh0Wj1udWxsLGMqPTJ9d2hpbGUoYT4xKX0ocil9KHQsaSxyLHMpO2xldCBvLGwsYz10O2Zvcig7dC5wcmV2IT09dC5uZXh0OylpZihvPXQucHJldixsPXQubmV4dCxzP3FhKHQsaSxyLHMpOmphKHQpKWUucHVzaChvLmkvbiksZS5wdXNoKHQuaS9uKSxlLnB1c2gobC5pL24pLGhvKHQpLHQ9bC5uZXh0LGM9bC5uZXh0O2Vsc2UgaWYoKHQ9bCk9PT1jKXthPzE9PT1hP1dhKHQ9WGEoVmEodCksZSxuKSxlLG4saSxyLHMsMik6Mj09PWEmJllhKHQsZSxuLGkscixzKTpXYShWYSh0KSxlLG4saSxyLHMsMSk7YnJlYWt9fWZ1bmN0aW9uIGphKHQpe2NvbnN0IGU9dC5wcmV2LG49dCxpPXQubmV4dDtpZihubyhlLG4saSk+PTApcmV0dXJuITE7bGV0IHI9dC5uZXh0Lm5leHQ7Zm9yKDtyIT09dC5wcmV2Oyl7aWYodG8oZS54LGUueSxuLngsbi55LGkueCxpLnksci54LHIueSkmJm5vKHIucHJldixyLHIubmV4dCk+PTApcmV0dXJuITE7cj1yLm5leHR9cmV0dXJuITB9ZnVuY3Rpb24gcWEodCxlLG4saSl7Y29uc3Qgcj10LnByZXYscz10LGE9dC5uZXh0O2lmKG5vKHIscyxhKT49MClyZXR1cm4hMTtjb25zdCBvPXIueDxzLng/ci54PGEueD9yLng6YS54OnMueDxhLng/cy54OmEueCxsPXIueTxzLnk/ci55PGEueT9yLnk6YS55OnMueTxhLnk/cy55OmEueSxjPXIueD5zLng/ci54PmEueD9yLng6YS54OnMueD5hLng/cy54OmEueCxoPXIueT5zLnk/ci55PmEueT9yLnk6YS55OnMueT5hLnk/cy55OmEueSx1PUthKG8sbCxlLG4saSksZD1LYShjLGgsZSxuLGkpO2xldCBwPXQucHJldlosbT10Lm5leHRaO2Zvcig7cCYmcC56Pj11JiZtJiZtLno8PWQ7KXtpZihwIT09dC5wcmV2JiZwIT09dC5uZXh0JiZ0byhyLngsci55LHMueCxzLnksYS54LGEueSxwLngscC55KSYmbm8ocC5wcmV2LHAscC5uZXh0KT49MClyZXR1cm4hMTtpZihwPXAucHJldlosbSE9PXQucHJldiYmbSE9PXQubmV4dCYmdG8oci54LHIueSxzLngscy55LGEueCxhLnksbS54LG0ueSkmJm5vKG0ucHJldixtLG0ubmV4dCk+PTApcmV0dXJuITE7bT1tLm5leHRafWZvcig7cCYmcC56Pj11Oyl7aWYocCE9PXQucHJldiYmcCE9PXQubmV4dCYmdG8oci54LHIueSxzLngscy55LGEueCxhLnkscC54LHAueSkmJm5vKHAucHJldixwLHAubmV4dCk+PTApcmV0dXJuITE7cD1wLnByZXZafWZvcig7bSYmbS56PD1kOyl7aWYobSE9PXQucHJldiYmbSE9PXQubmV4dCYmdG8oci54LHIueSxzLngscy55LGEueCxhLnksbS54LG0ueSkmJm5vKG0ucHJldixtLG0ubmV4dCk+PTApcmV0dXJuITE7bT1tLm5leHRafXJldHVybiEwfWZ1bmN0aW9uIFhhKHQsZSxuKXtsZXQgaT10O2Rve2NvbnN0IHI9aS5wcmV2LHM9aS5uZXh0Lm5leHQ7IWlvKHIscykmJnJvKHIsaSxpLm5leHQscykmJm9vKHIscykmJm9vKHMscikmJihlLnB1c2goci5pL24pLGUucHVzaChpLmkvbiksZS5wdXNoKHMuaS9uKSxobyhpKSxobyhpLm5leHQpLGk9dD1zKSxpPWkubmV4dH13aGlsZShpIT09dCk7cmV0dXJuIFZhKGkpfWZ1bmN0aW9uIFlhKHQsZSxuLGkscixzKXtsZXQgYT10O2Rve2xldCB0PWEubmV4dC5uZXh0O2Zvcig7dCE9PWEucHJldjspe2lmKGEuaSE9PXQuaSYmZW8oYSx0KSl7bGV0IG89bG8oYSx0KTtyZXR1cm4gYT1WYShhLGEubmV4dCksbz1WYShvLG8ubmV4dCksV2EoYSxlLG4saSxyLHMpLHZvaWQgV2EobyxlLG4saSxyLHMpfXQ9dC5uZXh0fWE9YS5uZXh0fXdoaWxlKGEhPT10KX1mdW5jdGlvbiBaYSh0LGUpe3JldHVybiB0LngtZS54fWZ1bmN0aW9uIEphKHQsZSl7aWYoZT1mdW5jdGlvbih0LGUpe2xldCBuPWU7Y29uc3QgaT10Lngscj10Lnk7bGV0IHMsYT0tMS8wO2Rve2lmKHI8PW4ueSYmcj49bi5uZXh0LnkmJm4ubmV4dC55IT09bi55KXtjb25zdCB0PW4ueCsoci1uLnkpKihuLm5leHQueC1uLngpLyhuLm5leHQueS1uLnkpO2lmKHQ8PWkmJnQ+YSl7aWYoYT10LHQ9PT1pKXtpZihyPT09bi55KXJldHVybiBuO2lmKHI9PT1uLm5leHQueSlyZXR1cm4gbi5uZXh0fXM9bi54PG4ubmV4dC54P246bi5uZXh0fX1uPW4ubmV4dH13aGlsZShuIT09ZSk7aWYoIXMpcmV0dXJuIG51bGw7aWYoaT09PWEpcmV0dXJuIHM7Y29uc3Qgbz1zLGw9cy54LGM9cy55O2xldCBoLHU9MS8wO249cztkb3tpPj1uLngmJm4ueD49bCYmaSE9PW4ueCYmdG8ocjxjP2k6YSxyLGwsYyxyPGM/YTppLHIsbi54LG4ueSkmJihoPU1hdGguYWJzKHItbi55KS8oaS1uLngpLG9vKG4sdCkmJihoPHV8fGg9PT11JiYobi54PnMueHx8bi54PT09cy54JiZRYShzLG4pKSkmJihzPW4sdT1oKSksbj1uLm5leHR9d2hpbGUobiE9PW8pO3JldHVybiBzfSh0LGUpKXtjb25zdCBuPWxvKGUsdCk7VmEoZSxlLm5leHQpLFZhKG4sbi5uZXh0KX19ZnVuY3Rpb24gUWEodCxlKXtyZXR1cm4gbm8odC5wcmV2LHQsZS5wcmV2KTwwJiZubyhlLm5leHQsdCx0Lm5leHQpPDB9ZnVuY3Rpb24gS2EodCxlLG4saSxyKXtyZXR1cm4odD0xNDMxNjU1NzY1JigodD04NTg5OTM0NTkmKCh0PTI1MjY0NTEzNSYoKHQ9MTY3MTE5MzUmKCh0PTMyNzY3Kih0LW4pKnIpfHQ8PDgpKXx0PDw0KSl8dDw8MikpfHQ8PDEpKXwoZT0xNDMxNjU1NzY1JigoZT04NTg5OTM0NTkmKChlPTI1MjY0NTEzNSYoKGU9MTY3MTE5MzUmKChlPTMyNzY3KihlLWkpKnIpfGU8PDgpKXxlPDw0KSl8ZTw8MikpfGU8PDEpKTw8MX1mdW5jdGlvbiAkYSh0KXtsZXQgZT10LG49dDtkb3soZS54PG4ueHx8ZS54PT09bi54JiZlLnk8bi55KSYmKG49ZSksZT1lLm5leHR9d2hpbGUoZSE9PXQpO3JldHVybiBufWZ1bmN0aW9uIHRvKHQsZSxuLGkscixzLGEsbyl7cmV0dXJuKHItYSkqKGUtbyktKHQtYSkqKHMtbyk+PTAmJih0LWEpKihpLW8pLShuLWEpKihlLW8pPj0wJiYobi1hKSoocy1vKS0oci1hKSooaS1vKT49MH1mdW5jdGlvbiBlbyh0LGUpe3JldHVybiB0Lm5leHQuaSE9PWUuaSYmdC5wcmV2LmkhPT1lLmkmJiFmdW5jdGlvbih0LGUpe2xldCBuPXQ7ZG97aWYobi5pIT09dC5pJiZuLm5leHQuaSE9PXQuaSYmbi5pIT09ZS5pJiZuLm5leHQuaSE9PWUuaSYmcm8obixuLm5leHQsdCxlKSlyZXR1cm4hMDtuPW4ubmV4dH13aGlsZShuIT09dCk7cmV0dXJuITF9KHQsZSkmJihvbyh0LGUpJiZvbyhlLHQpJiZmdW5jdGlvbih0LGUpe2xldCBuPXQsaT0hMTtjb25zdCByPSh0LngrZS54KS8yLHM9KHQueStlLnkpLzI7ZG97bi55PnMhPW4ubmV4dC55PnMmJm4ubmV4dC55IT09bi55JiZyPChuLm5leHQueC1uLngpKihzLW4ueSkvKG4ubmV4dC55LW4ueSkrbi54JiYoaT0haSksbj1uLm5leHR9d2hpbGUobiE9PXQpO3JldHVybiBpfSh0LGUpJiYobm8odC5wcmV2LHQsZS5wcmV2KXx8bm8odCxlLnByZXYsZSkpfHxpbyh0LGUpJiZubyh0LnByZXYsdCx0Lm5leHQpPjAmJm5vKGUucHJldixlLGUubmV4dCk+MCl9ZnVuY3Rpb24gbm8odCxlLG4pe3JldHVybihlLnktdC55KSoobi54LWUueCktKGUueC10LngpKihuLnktZS55KX1mdW5jdGlvbiBpbyh0LGUpe3JldHVybiB0Lng9PT1lLngmJnQueT09PWUueX1mdW5jdGlvbiBybyh0LGUsbixpKXtjb25zdCByPWFvKG5vKHQsZSxuKSkscz1hbyhubyh0LGUsaSkpLGE9YW8obm8obixpLHQpKSxvPWFvKG5vKG4saSxlKSk7cmV0dXJuIHIhPT1zJiZhIT09b3x8KCEoMCE9PXJ8fCFzbyh0LG4sZSkpfHwoISgwIT09c3x8IXNvKHQsaSxlKSl8fCghKDAhPT1hfHwhc28obix0LGkpKXx8ISgwIT09b3x8IXNvKG4sZSxpKSkpKSl9ZnVuY3Rpb24gc28odCxlLG4pe3JldHVybiBlLng8PU1hdGgubWF4KHQueCxuLngpJiZlLng+PU1hdGgubWluKHQueCxuLngpJiZlLnk8PU1hdGgubWF4KHQueSxuLnkpJiZlLnk+PU1hdGgubWluKHQueSxuLnkpfWZ1bmN0aW9uIGFvKHQpe3JldHVybiB0PjA/MTp0PDA/LTE6MH1mdW5jdGlvbiBvbyh0LGUpe3JldHVybiBubyh0LnByZXYsdCx0Lm5leHQpPDA/bm8odCxlLHQubmV4dCk+PTAmJm5vKHQsdC5wcmV2LGUpPj0wOm5vKHQsZSx0LnByZXYpPDB8fG5vKHQsdC5uZXh0LGUpPDB9ZnVuY3Rpb24gbG8odCxlKXtjb25zdCBuPW5ldyB1byh0LmksdC54LHQueSksaT1uZXcgdW8oZS5pLGUueCxlLnkpLHI9dC5uZXh0LHM9ZS5wcmV2O3JldHVybiB0Lm5leHQ9ZSxlLnByZXY9dCxuLm5leHQ9cixyLnByZXY9bixpLm5leHQ9bixuLnByZXY9aSxzLm5leHQ9aSxpLnByZXY9cyxpfWZ1bmN0aW9uIGNvKHQsZSxuLGkpe2NvbnN0IHI9bmV3IHVvKHQsZSxuKTtyZXR1cm4gaT8oci5uZXh0PWkubmV4dCxyLnByZXY9aSxpLm5leHQucHJldj1yLGkubmV4dD1yKTooci5wcmV2PXIsci5uZXh0PXIpLHJ9ZnVuY3Rpb24gaG8odCl7dC5uZXh0LnByZXY9dC5wcmV2LHQucHJldi5uZXh0PXQubmV4dCx0LnByZXZaJiYodC5wcmV2Wi5uZXh0Wj10Lm5leHRaKSx0Lm5leHRaJiYodC5uZXh0Wi5wcmV2Wj10LnByZXZaKX1mdW5jdGlvbiB1byh0LGUsbil7dGhpcy5pPXQsdGhpcy54PWUsdGhpcy55PW4sdGhpcy5wcmV2PW51bGwsdGhpcy5uZXh0PW51bGwsdGhpcy56PW51bGwsdGhpcy5wcmV2Wj1udWxsLHRoaXMubmV4dFo9bnVsbCx0aGlzLnN0ZWluZXI9ITF9Y2xhc3MgcG97c3RhdGljIGFyZWEodCl7Y29uc3QgZT10Lmxlbmd0aDtsZXQgbj0wO2ZvcihsZXQgaT1lLTEscj0wO3I8ZTtpPXIrKyluKz10W2ldLngqdFtyXS55LXRbcl0ueCp0W2ldLnk7cmV0dXJuLjUqbn1zdGF0aWMgaXNDbG9ja1dpc2UodCl7cmV0dXJuIHBvLmFyZWEodCk8MH1zdGF0aWMgdHJpYW5ndWxhdGVTaGFwZSh0LGUpe2NvbnN0IG49W10saT1bXSxyPVtdO21vKHQpLGZvKG4sdCk7bGV0IHM9dC5sZW5ndGg7ZS5mb3JFYWNoKG1vKTtmb3IobGV0IHQ9MDt0PGUubGVuZ3RoO3QrKylpLnB1c2gocykscys9ZVt0XS5sZW5ndGgsZm8obixlW3RdKTtjb25zdCBhPVVhKG4saSk7Zm9yKGxldCB0PTA7dDxhLmxlbmd0aDt0Kz0zKXIucHVzaChhLnNsaWNlKHQsdCszKSk7cmV0dXJuIHJ9fWZ1bmN0aW9uIG1vKHQpe2NvbnN0IGU9dC5sZW5ndGg7ZT4yJiZ0W2UtMV0uZXF1YWxzKHRbMF0pJiZ0LnBvcCgpfWZ1bmN0aW9uIGZvKHQsZSl7Zm9yKGxldCBuPTA7bjxlLmxlbmd0aDtuKyspdC5wdXNoKGVbbl0ueCksdC5wdXNoKGVbbl0ueSl9Y2xhc3MgZ28gZXh0ZW5kcyBFbntjb25zdHJ1Y3Rvcih0LGUpe3N1cGVyKCksdGhpcy50eXBlPSJFeHRydWRlR2VvbWV0cnkiLHRoaXMucGFyYW1ldGVycz17c2hhcGVzOnQsb3B0aW9uczplfSx0PUFycmF5LmlzQXJyYXkodCk/dDpbdF07Y29uc3Qgbj10aGlzLGk9W10scj1bXTtmb3IobGV0IGU9MCxuPXQubGVuZ3RoO2U8bjtlKyspe3ModFtlXSl9ZnVuY3Rpb24gcyh0KXtjb25zdCBzPVtdLGE9dm9pZCAwIT09ZS5jdXJ2ZVNlZ21lbnRzP2UuY3VydmVTZWdtZW50czoxMixvPXZvaWQgMCE9PWUuc3RlcHM/ZS5zdGVwczoxO2xldCBsPXZvaWQgMCE9PWUuZGVwdGg/ZS5kZXB0aDoxMDAsYz12b2lkIDA9PT1lLmJldmVsRW5hYmxlZHx8ZS5iZXZlbEVuYWJsZWQsaD12b2lkIDAhPT1lLmJldmVsVGhpY2tuZXNzP2UuYmV2ZWxUaGlja25lc3M6Nix1PXZvaWQgMCE9PWUuYmV2ZWxTaXplP2UuYmV2ZWxTaXplOmgtMixkPXZvaWQgMCE9PWUuYmV2ZWxPZmZzZXQ/ZS5iZXZlbE9mZnNldDowLHA9dm9pZCAwIT09ZS5iZXZlbFNlZ21lbnRzP2UuYmV2ZWxTZWdtZW50czozO2NvbnN0IG09ZS5leHRydWRlUGF0aCxmPXZvaWQgMCE9PWUuVVZHZW5lcmF0b3I/ZS5VVkdlbmVyYXRvcjp2bzt2b2lkIDAhPT1lLmFtb3VudCYmKGNvbnNvbGUud2FybigiVEhSRUUuRXh0cnVkZUJ1ZmZlckdlb21ldHJ5OiBhbW91bnQgaGFzIGJlZW4gcmVuYW1lZCB0byBkZXB0aC4iKSxsPWUuYW1vdW50KTtsZXQgZyx2LHkseCxfLHc9ITE7bSYmKGc9bS5nZXRTcGFjZWRQb2ludHMobyksdz0hMCxjPSExLHY9bS5jb21wdXRlRnJlbmV0RnJhbWVzKG8sITEpLHk9bmV3IEx0LHg9bmV3IEx0LF89bmV3IEx0KSxjfHwocD0wLGg9MCx1PTAsZD0wKTtjb25zdCBiPXQuZXh0cmFjdFBvaW50cyhhKTtsZXQgTT1iLnNoYXBlO2NvbnN0IFM9Yi5ob2xlcztpZighcG8uaXNDbG9ja1dpc2UoTSkpe009TS5yZXZlcnNlKCk7Zm9yKGxldCB0PTAsZT1TLmxlbmd0aDt0PGU7dCsrKXtjb25zdCBlPVNbdF07cG8uaXNDbG9ja1dpc2UoZSkmJihTW3RdPWUucmV2ZXJzZSgpKX19Y29uc3QgVD1wby50cmlhbmd1bGF0ZVNoYXBlKE0sUyksRT1NO2ZvcihsZXQgdD0wLGU9Uy5sZW5ndGg7dDxlO3QrKyl7Y29uc3QgZT1TW3RdO009TS5jb25jYXQoZSl9ZnVuY3Rpb24gQSh0LGUsbil7cmV0dXJuIGV8fGNvbnNvbGUuZXJyb3IoIlRIUkVFLkV4dHJ1ZGVHZW9tZXRyeTogdmVjIGRvZXMgbm90IGV4aXN0IiksZS5jbG9uZSgpLm11bHRpcGx5U2NhbGFyKG4pLmFkZCh0KX1jb25zdCBMPU0ubGVuZ3RoLFI9VC5sZW5ndGg7ZnVuY3Rpb24gQyh0LGUsbil7bGV0IGkscixzO2NvbnN0IGE9dC54LWUueCxvPXQueS1lLnksbD1uLngtdC54LGM9bi55LXQueSxoPWEqYStvKm8sdT1hKmMtbypsO2lmKE1hdGguYWJzKHUpPk51bWJlci5FUFNJTE9OKXtjb25zdCB1PU1hdGguc3FydChoKSxkPU1hdGguc3FydChsKmwrYypjKSxwPWUueC1vL3UsbT1lLnkrYS91LGY9KChuLngtYy9kLXApKmMtKG4ueStsL2QtbSkqbCkvKGEqYy1vKmwpO2k9cCthKmYtdC54LHI9bStvKmYtdC55O2NvbnN0IGc9aSppK3IqcjtpZihnPD0yKXJldHVybiBuZXcgdnQoaSxyKTtzPU1hdGguc3FydChnLzIpfWVsc2V7bGV0IHQ9ITE7YT5OdW1iZXIuRVBTSUxPTj9sPk51bWJlci5FUFNJTE9OJiYodD0hMCk6YTwtTnVtYmVyLkVQU0lMT04/bDwtTnVtYmVyLkVQU0lMT04mJih0PSEwKTpNYXRoLnNpZ24obyk9PT1NYXRoLnNpZ24oYykmJih0PSEwKSx0PyhpPS1vLHI9YSxzPU1hdGguc3FydChoKSk6KGk9YSxyPW8scz1NYXRoLnNxcnQoaC8yKSl9cmV0dXJuIG5ldyB2dChpL3Msci9zKX1jb25zdCBQPVtdO2ZvcihsZXQgdD0wLGU9RS5sZW5ndGgsbj1lLTEsaT10KzE7dDxlO3QrKyxuKyssaSsrKW49PT1lJiYobj0wKSxpPT09ZSYmKGk9MCksUFt0XT1DKEVbdF0sRVtuXSxFW2ldKTtjb25zdCBEPVtdO2xldCBJLE49UC5jb25jYXQoKTtmb3IobGV0IHQ9MCxlPVMubGVuZ3RoO3Q8ZTt0Kyspe2NvbnN0IGU9U1t0XTtJPVtdO2ZvcihsZXQgdD0wLG49ZS5sZW5ndGgsaT1uLTEscj10KzE7dDxuO3QrKyxpKysscisrKWk9PT1uJiYoaT0wKSxyPT09biYmKHI9MCksSVt0XT1DKGVbdF0sZVtpXSxlW3JdKTtELnB1c2goSSksTj1OLmNvbmNhdChJKX1mb3IobGV0IHQ9MDt0PHA7dCsrKXtjb25zdCBlPXQvcCxuPWgqTWF0aC5jb3MoZSpNYXRoLlBJLzIpLGk9dSpNYXRoLnNpbihlKk1hdGguUEkvMikrZDtmb3IobGV0IHQ9MCxlPUUubGVuZ3RoO3Q8ZTt0Kyspe2NvbnN0IGU9QShFW3RdLFBbdF0saSk7RihlLngsZS55LC1uKX1mb3IobGV0IHQ9MCxlPVMubGVuZ3RoO3Q8ZTt0Kyspe2NvbnN0IGU9U1t0XTtJPURbdF07Zm9yKGxldCB0PTAscj1lLmxlbmd0aDt0PHI7dCsrKXtjb25zdCByPUEoZVt0XSxJW3RdLGkpO0Yoci54LHIueSwtbil9fX1jb25zdCBCPXUrZDtmb3IobGV0IHQ9MDt0PEw7dCsrKXtjb25zdCBlPWM/QShNW3RdLE5bdF0sQik6TVt0XTt3Pyh4LmNvcHkodi5ub3JtYWxzWzBdKS5tdWx0aXBseVNjYWxhcihlLngpLHkuY29weSh2LmJpbm9ybWFsc1swXSkubXVsdGlwbHlTY2FsYXIoZS55KSxfLmNvcHkoZ1swXSkuYWRkKHgpLmFkZCh5KSxGKF8ueCxfLnksXy56KSk6RihlLngsZS55LDApfWZvcihsZXQgdD0xO3Q8PW87dCsrKWZvcihsZXQgZT0wO2U8TDtlKyspe2NvbnN0IG49Yz9BKE1bZV0sTltlXSxCKTpNW2VdO3c/KHguY29weSh2Lm5vcm1hbHNbdF0pLm11bHRpcGx5U2NhbGFyKG4ueCkseS5jb3B5KHYuYmlub3JtYWxzW3RdKS5tdWx0aXBseVNjYWxhcihuLnkpLF8uY29weShnW3RdKS5hZGQoeCkuYWRkKHkpLEYoXy54LF8ueSxfLnopKTpGKG4ueCxuLnksbC9vKnQpfWZvcihsZXQgdD1wLTE7dD49MDt0LS0pe2NvbnN0IGU9dC9wLG49aCpNYXRoLmNvcyhlKk1hdGguUEkvMiksaT11Kk1hdGguc2luKGUqTWF0aC5QSS8yKStkO2ZvcihsZXQgdD0wLGU9RS5sZW5ndGg7dDxlO3QrKyl7Y29uc3QgZT1BKEVbdF0sUFt0XSxpKTtGKGUueCxlLnksbCtuKX1mb3IobGV0IHQ9MCxlPVMubGVuZ3RoO3Q8ZTt0Kyspe2NvbnN0IGU9U1t0XTtJPURbdF07Zm9yKGxldCB0PTAscj1lLmxlbmd0aDt0PHI7dCsrKXtjb25zdCByPUEoZVt0XSxJW3RdLGkpO3c/RihyLngsci55K2dbby0xXS55LGdbby0xXS54K24pOkYoci54LHIueSxsK24pfX19ZnVuY3Rpb24geih0LGUpe2xldCBuPXQubGVuZ3RoO2Zvcig7LS1uPj0wOyl7Y29uc3QgaT1uO2xldCByPW4tMTtyPDAmJihyPXQubGVuZ3RoLTEpO2ZvcihsZXQgdD0wLG49bysyKnA7dDxuO3QrKyl7Y29uc3Qgbj1MKnQscz1MKih0KzEpO0goZStpK24sZStyK24sZStyK3MsZStpK3MpfX19ZnVuY3Rpb24gRih0LGUsbil7cy5wdXNoKHQpLHMucHVzaChlKSxzLnB1c2gobil9ZnVuY3Rpb24gTyh0LGUscil7Ryh0KSxHKGUpLEcocik7Y29uc3Qgcz1pLmxlbmd0aC8zLGE9Zi5nZW5lcmF0ZVRvcFVWKG4saSxzLTMscy0yLHMtMSk7VShhWzBdKSxVKGFbMV0pLFUoYVsyXSl9ZnVuY3Rpb24gSCh0LGUscixzKXtHKHQpLEcoZSksRyhzKSxHKGUpLEcociksRyhzKTtjb25zdCBhPWkubGVuZ3RoLzMsbz1mLmdlbmVyYXRlU2lkZVdhbGxVVihuLGksYS02LGEtMyxhLTIsYS0xKTtVKG9bMF0pLFUob1sxXSksVShvWzNdKSxVKG9bMV0pLFUob1syXSksVShvWzNdKX1mdW5jdGlvbiBHKHQpe2kucHVzaChzWzMqdCswXSksaS5wdXNoKHNbMyp0KzFdKSxpLnB1c2goc1szKnQrMl0pfWZ1bmN0aW9uIFUodCl7ci5wdXNoKHQueCksci5wdXNoKHQueSl9IWZ1bmN0aW9uKCl7Y29uc3QgdD1pLmxlbmd0aC8zO2lmKGMpe2xldCB0PTAsZT1MKnQ7Zm9yKGxldCB0PTA7dDxSO3QrKyl7Y29uc3Qgbj1UW3RdO08oblsyXStlLG5bMV0rZSxuWzBdK2UpfXQ9bysyKnAsZT1MKnQ7Zm9yKGxldCB0PTA7dDxSO3QrKyl7Y29uc3Qgbj1UW3RdO08oblswXStlLG5bMV0rZSxuWzJdK2UpfX1lbHNle2ZvcihsZXQgdD0wO3Q8Ujt0Kyspe2NvbnN0IGU9VFt0XTtPKGVbMl0sZVsxXSxlWzBdKX1mb3IobGV0IHQ9MDt0PFI7dCsrKXtjb25zdCBlPVRbdF07TyhlWzBdK0wqbyxlWzFdK0wqbyxlWzJdK0wqbyl9fW4uYWRkR3JvdXAodCxpLmxlbmd0aC8zLXQsMCl9KCksZnVuY3Rpb24oKXtjb25zdCB0PWkubGVuZ3RoLzM7bGV0IGU9MDt6KEUsZSksZSs9RS5sZW5ndGg7Zm9yKGxldCB0PTAsbj1TLmxlbmd0aDt0PG47dCsrKXtjb25zdCBuPVNbdF07eihuLGUpLGUrPW4ubGVuZ3RofW4uYWRkR3JvdXAodCxpLmxlbmd0aC8zLXQsMSl9KCl9dGhpcy5zZXRBdHRyaWJ1dGUoInBvc2l0aW9uIixuZXcgbW4oaSwzKSksdGhpcy5zZXRBdHRyaWJ1dGUoInV2IixuZXcgbW4ociwyKSksdGhpcy5jb21wdXRlVmVydGV4Tm9ybWFscygpfXRvSlNPTigpe2NvbnN0IHQ9RW4ucHJvdG90eXBlLnRvSlNPTi5jYWxsKHRoaXMpO3JldHVybiBmdW5jdGlvbih0LGUsbil7aWYobi5zaGFwZXM9W10sQXJyYXkuaXNBcnJheSh0KSlmb3IobGV0IGU9MCxpPXQubGVuZ3RoO2U8aTtlKyspe2NvbnN0IGk9dFtlXTtuLnNoYXBlcy5wdXNoKGkudXVpZCl9ZWxzZSBuLnNoYXBlcy5wdXNoKHQudXVpZCk7dm9pZCAwIT09ZS5leHRydWRlUGF0aCYmKG4ub3B0aW9ucy5leHRydWRlUGF0aD1lLmV4dHJ1ZGVQYXRoLnRvSlNPTigpKTtyZXR1cm4gbn0odGhpcy5wYXJhbWV0ZXJzLnNoYXBlcyx0aGlzLnBhcmFtZXRlcnMub3B0aW9ucyx0KX19Y29uc3Qgdm89e2dlbmVyYXRlVG9wVVY6ZnVuY3Rpb24odCxlLG4saSxyKXtjb25zdCBzPWVbMypuXSxhPWVbMypuKzFdLG89ZVszKmldLGw9ZVszKmkrMV0sYz1lWzMqcl0saD1lWzMqcisxXTtyZXR1cm5bbmV3IHZ0KHMsYSksbmV3IHZ0KG8sbCksbmV3IHZ0KGMsaCldfSxnZW5lcmF0ZVNpZGVXYWxsVVY6ZnVuY3Rpb24odCxlLG4saSxyLHMpe2NvbnN0IGE9ZVszKm5dLG89ZVszKm4rMV0sbD1lWzMqbisyXSxjPWVbMyppXSxoPWVbMyppKzFdLHU9ZVszKmkrMl0sZD1lWzMqcl0scD1lWzMqcisxXSxtPWVbMypyKzJdLGY9ZVszKnNdLGc9ZVszKnMrMV0sdj1lWzMqcysyXTtyZXR1cm4gTWF0aC5hYnMoby1oKTwuMDE/W25ldyB2dChhLDEtbCksbmV3IHZ0KGMsMS11KSxuZXcgdnQoZCwxLW0pLG5ldyB2dChmLDEtdildOltuZXcgdnQobywxLWwpLG5ldyB2dChoLDEtdSksbmV3IHZ0KHAsMS1tKSxuZXcgdnQoZywxLXYpXX19O2NsYXNzIHlvIGV4dGVuZHMgTmF7Y29uc3RydWN0b3IodD0xLGU9MCl7Y29uc3Qgbj0oMStNYXRoLnNxcnQoNSkpLzI7c3VwZXIoWy0xLG4sMCwxLG4sMCwtMSwtbiwwLDEsLW4sMCwwLC0xLG4sMCwxLG4sMCwtMSwtbiwwLDEsLW4sbiwwLC0xLG4sMCwxLC1uLDAsLTEsLW4sMCwxXSxbMCwxMSw1LDAsNSwxLDAsMSw3LDAsNywxMCwwLDEwLDExLDEsNSw5LDUsMTEsNCwxMSwxMCwyLDEwLDcsNiw3LDEsOCwzLDksNCwzLDQsMiwzLDIsNiwzLDYsOCwzLDgsOSw0LDksNSwyLDQsMTEsNiwyLDEwLDgsNiw3LDksOCwxXSx0LGUpLHRoaXMudHlwZT0iSWNvc2FoZWRyb25HZW9tZXRyeSIsdGhpcy5wYXJhbWV0ZXJzPXtyYWRpdXM6dCxkZXRhaWw6ZX19fWNsYXNzIHhvIGV4dGVuZHMgRW57Y29uc3RydWN0b3IodCxlPTEyLG49MCxpPTIqTWF0aC5QSSl7c3VwZXIoKSx0aGlzLnR5cGU9IkxhdGhlR2VvbWV0cnkiLHRoaXMucGFyYW1ldGVycz17cG9pbnRzOnQsc2VnbWVudHM6ZSxwaGlTdGFydDpuLHBoaUxlbmd0aDppfSxlPU1hdGguZmxvb3IoZSksaT1odChpLDAsMipNYXRoLlBJKTtjb25zdCByPVtdLHM9W10sYT1bXSxvPTEvZSxsPW5ldyBMdCxjPW5ldyB2dDtmb3IobGV0IHI9MDtyPD1lO3IrKyl7Y29uc3QgaD1uK3IqbyppLHU9TWF0aC5zaW4oaCksZD1NYXRoLmNvcyhoKTtmb3IobGV0IG49MDtuPD10Lmxlbmd0aC0xO24rKylsLng9dFtuXS54KnUsbC55PXRbbl0ueSxsLno9dFtuXS54KmQscy5wdXNoKGwueCxsLnksbC56KSxjLng9ci9lLGMueT1uLyh0Lmxlbmd0aC0xKSxhLnB1c2goYy54LGMueSl9Zm9yKGxldCBuPTA7bjxlO24rKylmb3IobGV0IGU9MDtlPHQubGVuZ3RoLTE7ZSsrKXtjb25zdCBpPWUrbip0Lmxlbmd0aCxzPWksYT1pK3QubGVuZ3RoLG89aSt0Lmxlbmd0aCsxLGw9aSsxO3IucHVzaChzLGEsbCksci5wdXNoKGEsbyxsKX1pZih0aGlzLnNldEluZGV4KHIpLHRoaXMuc2V0QXR0cmlidXRlKCJwb3NpdGlvbiIsbmV3IG1uKHMsMykpLHRoaXMuc2V0QXR0cmlidXRlKCJ1diIsbmV3IG1uKGEsMikpLHRoaXMuY29tcHV0ZVZlcnRleE5vcm1hbHMoKSxpPT09MipNYXRoLlBJKXtjb25zdCBuPXRoaXMuYXR0cmlidXRlcy5ub3JtYWwuYXJyYXksaT1uZXcgTHQscj1uZXcgTHQscz1uZXcgTHQsYT1lKnQubGVuZ3RoKjM7Zm9yKGxldCBlPTAsbz0wO2U8dC5sZW5ndGg7ZSsrLG8rPTMpaS54PW5bbyswXSxpLnk9bltvKzFdLGkuej1uW28rMl0sci54PW5bYStvKzBdLHIueT1uW2ErbysxXSxyLno9blthK28rMl0scy5hZGRWZWN0b3JzKGkscikubm9ybWFsaXplKCksbltvKzBdPW5bYStvKzBdPXMueCxuW28rMV09blthK28rMV09cy55LG5bbysyXT1uW2ErbysyXT1zLnp9fX1jbGFzcyBfbyBleHRlbmRzIE5he2NvbnN0cnVjdG9yKHQ9MSxlPTApe3N1cGVyKFsxLDAsMCwtMSwwLDAsMCwxLDAsMCwtMSwwLDAsMCwxLDAsMCwtMV0sWzAsMiw0LDAsNCwzLDAsMyw1LDAsNSwyLDEsMiw1LDEsNSwzLDEsMyw0LDEsNCwyXSx0LGUpLHRoaXMudHlwZT0iT2N0YWhlZHJvbkdlb21ldHJ5Iix0aGlzLnBhcmFtZXRlcnM9e3JhZGl1czp0LGRldGFpbDplfX19Y2xhc3Mgd28gZXh0ZW5kcyBFbntjb25zdHJ1Y3Rvcih0LGUsbil7c3VwZXIoKSx0aGlzLnR5cGU9IlBhcmFtZXRyaWNHZW9tZXRyeSIsdGhpcy5wYXJhbWV0ZXJzPXtmdW5jOnQsc2xpY2VzOmUsc3RhY2tzOm59O2NvbnN0IGk9W10scj1bXSxzPVtdLGE9W10sbz0xZS01LGw9bmV3IEx0LGM9bmV3IEx0LGg9bmV3IEx0LHU9bmV3IEx0LGQ9bmV3IEx0O3QubGVuZ3RoPDMmJmNvbnNvbGUuZXJyb3IoIlRIUkVFLlBhcmFtZXRyaWNHZW9tZXRyeTogRnVuY3Rpb24gbXVzdCBub3cgbW9kaWZ5IGEgVmVjdG9yMyBhcyB0aGlyZCBwYXJhbWV0ZXIuIik7Y29uc3QgcD1lKzE7Zm9yKGxldCBpPTA7aTw9bjtpKyspe2NvbnN0IHA9aS9uO2ZvcihsZXQgbj0wO248PWU7bisrKXtjb25zdCBpPW4vZTt0KGkscCxjKSxyLnB1c2goYy54LGMueSxjLnopLGktbz49MD8odChpLW8scCxoKSx1LnN1YlZlY3RvcnMoYyxoKSk6KHQoaStvLHAsaCksdS5zdWJWZWN0b3JzKGgsYykpLHAtbz49MD8odChpLHAtbyxoKSxkLnN1YlZlY3RvcnMoYyxoKSk6KHQoaSxwK28saCksZC5zdWJWZWN0b3JzKGgsYykpLGwuY3Jvc3NWZWN0b3JzKHUsZCkubm9ybWFsaXplKCkscy5wdXNoKGwueCxsLnksbC56KSxhLnB1c2goaSxwKX19Zm9yKGxldCB0PTA7dDxuO3QrKylmb3IobGV0IG49MDtuPGU7bisrKXtjb25zdCBlPXQqcCtuLHI9dCpwK24rMSxzPSh0KzEpKnArbisxLGE9KHQrMSkqcCtuO2kucHVzaChlLHIsYSksaS5wdXNoKHIscyxhKX10aGlzLnNldEluZGV4KGkpLHRoaXMuc2V0QXR0cmlidXRlKCJwb3NpdGlvbiIsbmV3IG1uKHIsMykpLHRoaXMuc2V0QXR0cmlidXRlKCJub3JtYWwiLG5ldyBtbihzLDMpKSx0aGlzLnNldEF0dHJpYnV0ZSgidXYiLG5ldyBtbihhLDIpKX19Y2xhc3MgYm8gZXh0ZW5kcyBFbntjb25zdHJ1Y3Rvcih0PS41LGU9MSxuPTgsaT0xLHI9MCxzPTIqTWF0aC5QSSl7c3VwZXIoKSx0aGlzLnR5cGU9IlJpbmdHZW9tZXRyeSIsdGhpcy5wYXJhbWV0ZXJzPXtpbm5lclJhZGl1czp0LG91dGVyUmFkaXVzOmUsdGhldGFTZWdtZW50czpuLHBoaVNlZ21lbnRzOmksdGhldGFTdGFydDpyLHRoZXRhTGVuZ3RoOnN9LG49TWF0aC5tYXgoMyxuKTtjb25zdCBhPVtdLG89W10sbD1bXSxjPVtdO2xldCBoPXQ7Y29uc3QgdT0oZS10KS8oaT1NYXRoLm1heCgxLGkpKSxkPW5ldyBMdCxwPW5ldyB2dDtmb3IobGV0IHQ9MDt0PD1pO3QrKyl7Zm9yKGxldCB0PTA7dDw9bjt0Kyspe2NvbnN0IGk9cit0L24qcztkLng9aCpNYXRoLmNvcyhpKSxkLnk9aCpNYXRoLnNpbihpKSxvLnB1c2goZC54LGQueSxkLnopLGwucHVzaCgwLDAsMSkscC54PShkLngvZSsxKS8yLHAueT0oZC55L2UrMSkvMixjLnB1c2gocC54LHAueSl9aCs9dX1mb3IobGV0IHQ9MDt0PGk7dCsrKXtjb25zdCBlPXQqKG4rMSk7Zm9yKGxldCB0PTA7dDxuO3QrKyl7Y29uc3QgaT10K2Uscj1pLHM9aStuKzEsbz1pK24rMixsPWkrMTthLnB1c2gocixzLGwpLGEucHVzaChzLG8sbCl9fXRoaXMuc2V0SW5kZXgoYSksdGhpcy5zZXRBdHRyaWJ1dGUoInBvc2l0aW9uIixuZXcgbW4obywzKSksdGhpcy5zZXRBdHRyaWJ1dGUoIm5vcm1hbCIsbmV3IG1uKGwsMykpLHRoaXMuc2V0QXR0cmlidXRlKCJ1diIsbmV3IG1uKGMsMikpfX1jbGFzcyBNbyBleHRlbmRzIEVue2NvbnN0cnVjdG9yKHQsZT0xMil7c3VwZXIoKSx0aGlzLnR5cGU9IlNoYXBlR2VvbWV0cnkiLHRoaXMucGFyYW1ldGVycz17c2hhcGVzOnQsY3VydmVTZWdtZW50czplfTtjb25zdCBuPVtdLGk9W10scj1bXSxzPVtdO2xldCBhPTAsbz0wO2lmKCExPT09QXJyYXkuaXNBcnJheSh0KSlsKHQpO2Vsc2UgZm9yKGxldCBlPTA7ZTx0Lmxlbmd0aDtlKyspbCh0W2VdKSx0aGlzLmFkZEdyb3VwKGEsbyxlKSxhKz1vLG89MDtmdW5jdGlvbiBsKHQpe2NvbnN0IGE9aS5sZW5ndGgvMyxsPXQuZXh0cmFjdFBvaW50cyhlKTtsZXQgYz1sLnNoYXBlO2NvbnN0IGg9bC5ob2xlczshMT09PXBvLmlzQ2xvY2tXaXNlKGMpJiYoYz1jLnJldmVyc2UoKSk7Zm9yKGxldCB0PTAsZT1oLmxlbmd0aDt0PGU7dCsrKXtjb25zdCBlPWhbdF07ITA9PT1wby5pc0Nsb2NrV2lzZShlKSYmKGhbdF09ZS5yZXZlcnNlKCkpfWNvbnN0IHU9cG8udHJpYW5ndWxhdGVTaGFwZShjLGgpO2ZvcihsZXQgdD0wLGU9aC5sZW5ndGg7dDxlO3QrKyl7Y29uc3QgZT1oW3RdO2M9Yy5jb25jYXQoZSl9Zm9yKGxldCB0PTAsZT1jLmxlbmd0aDt0PGU7dCsrKXtjb25zdCBlPWNbdF07aS5wdXNoKGUueCxlLnksMCksci5wdXNoKDAsMCwxKSxzLnB1c2goZS54LGUueSl9Zm9yKGxldCB0PTAsZT11Lmxlbmd0aDt0PGU7dCsrKXtjb25zdCBlPXVbdF0saT1lWzBdK2Escj1lWzFdK2Escz1lWzJdK2E7bi5wdXNoKGkscixzKSxvKz0zfX10aGlzLnNldEluZGV4KG4pLHRoaXMuc2V0QXR0cmlidXRlKCJwb3NpdGlvbiIsbmV3IG1uKGksMykpLHRoaXMuc2V0QXR0cmlidXRlKCJub3JtYWwiLG5ldyBtbihyLDMpKSx0aGlzLnNldEF0dHJpYnV0ZSgidXYiLG5ldyBtbihzLDIpKX10b0pTT04oKXtjb25zdCB0PUVuLnByb3RvdHlwZS50b0pTT04uY2FsbCh0aGlzKTtyZXR1cm4gZnVuY3Rpb24odCxlKXtpZihlLnNoYXBlcz1bXSxBcnJheS5pc0FycmF5KHQpKWZvcihsZXQgbj0wLGk9dC5sZW5ndGg7bjxpO24rKyl7Y29uc3QgaT10W25dO2Uuc2hhcGVzLnB1c2goaS51dWlkKX1lbHNlIGUuc2hhcGVzLnB1c2godC51dWlkKTtyZXR1cm4gZX0odGhpcy5wYXJhbWV0ZXJzLnNoYXBlcyx0KX19Y2xhc3MgU28gZXh0ZW5kcyBFbntjb25zdHJ1Y3Rvcih0PTEsZT04LG49NixpPTAscj0yKk1hdGguUEkscz0wLGE9TWF0aC5QSSl7c3VwZXIoKSx0aGlzLnR5cGU9IlNwaGVyZUdlb21ldHJ5Iix0aGlzLnBhcmFtZXRlcnM9e3JhZGl1czp0LHdpZHRoU2VnbWVudHM6ZSxoZWlnaHRTZWdtZW50czpuLHBoaVN0YXJ0OmkscGhpTGVuZ3RoOnIsdGhldGFTdGFydDpzLHRoZXRhTGVuZ3RoOmF9LGU9TWF0aC5tYXgoMyxNYXRoLmZsb29yKGUpKSxuPU1hdGgubWF4KDIsTWF0aC5mbG9vcihuKSk7Y29uc3Qgbz1NYXRoLm1pbihzK2EsTWF0aC5QSSk7bGV0IGw9MDtjb25zdCBjPVtdLGg9bmV3IEx0LHU9bmV3IEx0LGQ9W10scD1bXSxtPVtdLGY9W107Zm9yKGxldCBkPTA7ZDw9bjtkKyspe2NvbnN0IGc9W10sdj1kL247bGV0IHk9MDswPT1kJiYwPT1zP3k9LjUvZTpkPT1uJiZvPT1NYXRoLlBJJiYoeT0tLjUvZSk7Zm9yKGxldCBuPTA7bjw9ZTtuKyspe2NvbnN0IG89bi9lO2gueD0tdCpNYXRoLmNvcyhpK28qcikqTWF0aC5zaW4ocyt2KmEpLGgueT10Kk1hdGguY29zKHMrdiphKSxoLno9dCpNYXRoLnNpbihpK28qcikqTWF0aC5zaW4ocyt2KmEpLHAucHVzaChoLngsaC55LGgueiksdS5jb3B5KGgpLm5vcm1hbGl6ZSgpLG0ucHVzaCh1LngsdS55LHUueiksZi5wdXNoKG8reSwxLXYpLGcucHVzaChsKyspfWMucHVzaChnKX1mb3IobGV0IHQ9MDt0PG47dCsrKWZvcihsZXQgaT0wO2k8ZTtpKyspe2NvbnN0IGU9Y1t0XVtpKzFdLHI9Y1t0XVtpXSxhPWNbdCsxXVtpXSxsPWNbdCsxXVtpKzFdOygwIT09dHx8cz4wKSYmZC5wdXNoKGUscixsKSwodCE9PW4tMXx8bzxNYXRoLlBJKSYmZC5wdXNoKHIsYSxsKX10aGlzLnNldEluZGV4KGQpLHRoaXMuc2V0QXR0cmlidXRlKCJwb3NpdGlvbiIsbmV3IG1uKHAsMykpLHRoaXMuc2V0QXR0cmlidXRlKCJub3JtYWwiLG5ldyBtbihtLDMpKSx0aGlzLnNldEF0dHJpYnV0ZSgidXYiLG5ldyBtbihmLDIpKX19Y2xhc3MgVG8gZXh0ZW5kcyBOYXtjb25zdHJ1Y3Rvcih0PTEsZT0wKXtzdXBlcihbMSwxLDEsLTEsLTEsMSwtMSwxLC0xLDEsLTEsLTFdLFsyLDEsMCwwLDMsMiwxLDMsMCwyLDMsMV0sdCxlKSx0aGlzLnR5cGU9IlRldHJhaGVkcm9uR2VvbWV0cnkiLHRoaXMucGFyYW1ldGVycz17cmFkaXVzOnQsZGV0YWlsOmV9fX1jbGFzcyBFbyBleHRlbmRzIGdve2NvbnN0cnVjdG9yKHQsZT17fSl7Y29uc3Qgbj1lLmZvbnQ7aWYoIW58fCFuLmlzRm9udClyZXR1cm4gY29uc29sZS5lcnJvcigiVEhSRUUuVGV4dEdlb21ldHJ5OiBmb250IHBhcmFtZXRlciBpcyBub3QgYW4gaW5zdGFuY2Ugb2YgVEhSRUUuRm9udC4iKSxuZXcgRW47Y29uc3QgaT1uLmdlbmVyYXRlU2hhcGVzKHQsZS5zaXplKTtlLmRlcHRoPXZvaWQgMCE9PWUuaGVpZ2h0P2UuaGVpZ2h0OjUwLHZvaWQgMD09PWUuYmV2ZWxUaGlja25lc3MmJihlLmJldmVsVGhpY2tuZXNzPTEwKSx2b2lkIDA9PT1lLmJldmVsU2l6ZSYmKGUuYmV2ZWxTaXplPTgpLHZvaWQgMD09PWUuYmV2ZWxFbmFibGVkJiYoZS5iZXZlbEVuYWJsZWQ9ITEpLHN1cGVyKGksZSksdGhpcy50eXBlPSJUZXh0R2VvbWV0cnkifX1jbGFzcyBBbyBleHRlbmRzIEVue2NvbnN0cnVjdG9yKHQ9MSxlPS40LG49OCxpPTYscj0yKk1hdGguUEkpe3N1cGVyKCksdGhpcy50eXBlPSJUb3J1c0dlb21ldHJ5Iix0aGlzLnBhcmFtZXRlcnM9e3JhZGl1czp0LHR1YmU6ZSxyYWRpYWxTZWdtZW50czpuLHR1YnVsYXJTZWdtZW50czppLGFyYzpyfSxuPU1hdGguZmxvb3IobiksaT1NYXRoLmZsb29yKGkpO2NvbnN0IHM9W10sYT1bXSxvPVtdLGw9W10sYz1uZXcgTHQsaD1uZXcgTHQsdT1uZXcgTHQ7Zm9yKGxldCBzPTA7czw9bjtzKyspZm9yKGxldCBkPTA7ZDw9aTtkKyspe2NvbnN0IHA9ZC9pKnIsbT1zL24qTWF0aC5QSSoyO2gueD0odCtlKk1hdGguY29zKG0pKSpNYXRoLmNvcyhwKSxoLnk9KHQrZSpNYXRoLmNvcyhtKSkqTWF0aC5zaW4ocCksaC56PWUqTWF0aC5zaW4obSksYS5wdXNoKGgueCxoLnksaC56KSxjLng9dCpNYXRoLmNvcyhwKSxjLnk9dCpNYXRoLnNpbihwKSx1LnN1YlZlY3RvcnMoaCxjKS5ub3JtYWxpemUoKSxvLnB1c2godS54LHUueSx1LnopLGwucHVzaChkL2kpLGwucHVzaChzL24pfWZvcihsZXQgdD0xO3Q8PW47dCsrKWZvcihsZXQgZT0xO2U8PWk7ZSsrKXtjb25zdCBuPShpKzEpKnQrZS0xLHI9KGkrMSkqKHQtMSkrZS0xLGE9KGkrMSkqKHQtMSkrZSxvPShpKzEpKnQrZTtzLnB1c2gobixyLG8pLHMucHVzaChyLGEsbyl9dGhpcy5zZXRJbmRleChzKSx0aGlzLnNldEF0dHJpYnV0ZSgicG9zaXRpb24iLG5ldyBtbihhLDMpKSx0aGlzLnNldEF0dHJpYnV0ZSgibm9ybWFsIixuZXcgbW4obywzKSksdGhpcy5zZXRBdHRyaWJ1dGUoInV2IixuZXcgbW4obCwyKSl9fWNsYXNzIExvIGV4dGVuZHMgRW57Y29uc3RydWN0b3IodD0xLGU9LjQsbj02NCxpPTgscj0yLHM9Myl7c3VwZXIoKSx0aGlzLnR5cGU9IlRvcnVzS25vdEdlb21ldHJ5Iix0aGlzLnBhcmFtZXRlcnM9e3JhZGl1czp0LHR1YmU6ZSx0dWJ1bGFyU2VnbWVudHM6bixyYWRpYWxTZWdtZW50czppLHA6cixxOnN9LG49TWF0aC5mbG9vcihuKSxpPU1hdGguZmxvb3IoaSk7Y29uc3QgYT1bXSxvPVtdLGw9W10sYz1bXSxoPW5ldyBMdCx1PW5ldyBMdCxkPW5ldyBMdCxwPW5ldyBMdCxtPW5ldyBMdCxmPW5ldyBMdCxnPW5ldyBMdDtmb3IobGV0IGE9MDthPD1uOysrYSl7Y29uc3QgeT1hL24qcipNYXRoLlBJKjI7dih5LHIscyx0LGQpLHYoeSsuMDEscixzLHQscCksZi5zdWJWZWN0b3JzKHAsZCksZy5hZGRWZWN0b3JzKHAsZCksbS5jcm9zc1ZlY3RvcnMoZixnKSxnLmNyb3NzVmVjdG9ycyhtLGYpLG0ubm9ybWFsaXplKCksZy5ub3JtYWxpemUoKTtmb3IobGV0IHQ9MDt0PD1pOysrdCl7Y29uc3Qgcj10L2kqTWF0aC5QSSoyLHM9LWUqTWF0aC5jb3MocikscD1lKk1hdGguc2luKHIpO2gueD1kLngrKHMqZy54K3AqbS54KSxoLnk9ZC55KyhzKmcueStwKm0ueSksaC56PWQueisocypnLnorcCptLnopLG8ucHVzaChoLngsaC55LGgueiksdS5zdWJWZWN0b3JzKGgsZCkubm9ybWFsaXplKCksbC5wdXNoKHUueCx1LnksdS56KSxjLnB1c2goYS9uKSxjLnB1c2godC9pKX19Zm9yKGxldCB0PTE7dDw9bjt0KyspZm9yKGxldCBlPTE7ZTw9aTtlKyspe2NvbnN0IG49KGkrMSkqKHQtMSkrKGUtMSkscj0oaSsxKSp0KyhlLTEpLHM9KGkrMSkqdCtlLG89KGkrMSkqKHQtMSkrZTthLnB1c2gobixyLG8pLGEucHVzaChyLHMsbyl9ZnVuY3Rpb24gdih0LGUsbixpLHIpe2NvbnN0IHM9TWF0aC5jb3ModCksYT1NYXRoLnNpbih0KSxvPW4vZSp0LGw9TWF0aC5jb3Mobyk7ci54PWkqKDIrbCkqLjUqcyxyLnk9aSooMitsKSphKi41LHIuej1pKk1hdGguc2luKG8pKi41fXRoaXMuc2V0SW5kZXgoYSksdGhpcy5zZXRBdHRyaWJ1dGUoInBvc2l0aW9uIixuZXcgbW4obywzKSksdGhpcy5zZXRBdHRyaWJ1dGUoIm5vcm1hbCIsbmV3IG1uKGwsMykpLHRoaXMuc2V0QXR0cmlidXRlKCJ1diIsbmV3IG1uKGMsMikpfX1jbGFzcyBSbyBleHRlbmRzIEVue2NvbnN0cnVjdG9yKHQsZT02NCxuPTEsaT04LHI9ITEpe3N1cGVyKCksdGhpcy50eXBlPSJUdWJlR2VvbWV0cnkiLHRoaXMucGFyYW1ldGVycz17cGF0aDp0LHR1YnVsYXJTZWdtZW50czplLHJhZGl1czpuLHJhZGlhbFNlZ21lbnRzOmksY2xvc2VkOnJ9O2NvbnN0IHM9dC5jb21wdXRlRnJlbmV0RnJhbWVzKGUscik7dGhpcy50YW5nZW50cz1zLnRhbmdlbnRzLHRoaXMubm9ybWFscz1zLm5vcm1hbHMsdGhpcy5iaW5vcm1hbHM9cy5iaW5vcm1hbHM7Y29uc3QgYT1uZXcgTHQsbz1uZXcgTHQsbD1uZXcgdnQ7bGV0IGM9bmV3IEx0O2NvbnN0IGg9W10sdT1bXSxkPVtdLHA9W107ZnVuY3Rpb24gbShyKXtjPXQuZ2V0UG9pbnRBdChyL2UsYyk7Y29uc3QgbD1zLm5vcm1hbHNbcl0sZD1zLmJpbm9ybWFsc1tyXTtmb3IobGV0IHQ9MDt0PD1pO3QrKyl7Y29uc3QgZT10L2kqTWF0aC5QSSoyLHI9TWF0aC5zaW4oZSkscz0tTWF0aC5jb3MoZSk7by54PXMqbC54K3IqZC54LG8ueT1zKmwueStyKmQueSxvLno9cypsLnorcipkLnosby5ub3JtYWxpemUoKSx1LnB1c2goby54LG8ueSxvLnopLGEueD1jLngrbipvLngsYS55PWMueStuKm8ueSxhLno9Yy56K24qby56LGgucHVzaChhLngsYS55LGEueil9fSFmdW5jdGlvbigpe2ZvcihsZXQgdD0wO3Q8ZTt0KyspbSh0KTttKCExPT09cj9lOjApLGZ1bmN0aW9uKCl7Zm9yKGxldCB0PTA7dDw9ZTt0KyspZm9yKGxldCBuPTA7bjw9aTtuKyspbC54PXQvZSxsLnk9bi9pLGQucHVzaChsLngsbC55KX0oKSxmdW5jdGlvbigpe2ZvcihsZXQgdD0xO3Q8PWU7dCsrKWZvcihsZXQgZT0xO2U8PWk7ZSsrKXtjb25zdCBuPShpKzEpKih0LTEpKyhlLTEpLHI9KGkrMSkqdCsoZS0xKSxzPShpKzEpKnQrZSxhPShpKzEpKih0LTEpK2U7cC5wdXNoKG4scixhKSxwLnB1c2gocixzLGEpfX0oKX0oKSx0aGlzLnNldEluZGV4KHApLHRoaXMuc2V0QXR0cmlidXRlKCJwb3NpdGlvbiIsbmV3IG1uKGgsMykpLHRoaXMuc2V0QXR0cmlidXRlKCJub3JtYWwiLG5ldyBtbih1LDMpKSx0aGlzLnNldEF0dHJpYnV0ZSgidXYiLG5ldyBtbihkLDIpKX10b0pTT04oKXtjb25zdCB0PUVuLnByb3RvdHlwZS50b0pTT04uY2FsbCh0aGlzKTtyZXR1cm4gdC5wYXRoPXRoaXMucGFyYW1ldGVycy5wYXRoLnRvSlNPTigpLHR9fWNsYXNzIENvIGV4dGVuZHMgRW57Y29uc3RydWN0b3IodCl7aWYoc3VwZXIoKSx0aGlzLnR5cGU9IldpcmVmcmFtZUdlb21ldHJ5IiwhMD09PXQuaXNHZW9tZXRyeSlyZXR1cm4gdm9pZCBjb25zb2xlLmVycm9yKCJUSFJFRS5XaXJlZnJhbWVHZW9tZXRyeSBubyBsb25nZXIgc3VwcG9ydHMgVEhSRUUuR2VvbWV0cnkuIFVzZSBUSFJFRS5CdWZmZXJHZW9tZXRyeSBpbnN0ZWFkLiIpO2NvbnN0IGU9W10sbj1bMCwwXSxpPXt9LHI9bmV3IEx0O2lmKG51bGwhPT10LmluZGV4KXtjb25zdCBzPXQuYXR0cmlidXRlcy5wb3NpdGlvbixhPXQuaW5kZXg7bGV0IG89dC5ncm91cHM7MD09PW8ubGVuZ3RoJiYobz1be3N0YXJ0OjAsY291bnQ6YS5jb3VudCxtYXRlcmlhbEluZGV4OjB9XSk7Zm9yKGxldCB0PTAsZT1vLmxlbmd0aDt0PGU7Kyt0KXtjb25zdCBlPW9bdF0scj1lLnN0YXJ0O2ZvcihsZXQgdD1yLHM9citlLmNvdW50O3Q8czt0Kz0zKWZvcihsZXQgZT0wO2U8MztlKyspe2NvbnN0IHI9YS5nZXRYKHQrZSkscz1hLmdldFgodCsoZSsxKSUzKTtuWzBdPU1hdGgubWluKHIscyksblsxXT1NYXRoLm1heChyLHMpO2NvbnN0IG89blswXSsiLCIrblsxXTt2b2lkIDA9PT1pW29dJiYoaVtvXT17aW5kZXgxOm5bMF0saW5kZXgyOm5bMV19KX19Zm9yKGNvbnN0IHQgaW4gaSl7Y29uc3Qgbj1pW3RdO3IuZnJvbUJ1ZmZlckF0dHJpYnV0ZShzLG4uaW5kZXgxKSxlLnB1c2goci54LHIueSxyLnopLHIuZnJvbUJ1ZmZlckF0dHJpYnV0ZShzLG4uaW5kZXgyKSxlLnB1c2goci54LHIueSxyLnopfX1lbHNle2NvbnN0IG49dC5hdHRyaWJ1dGVzLnBvc2l0aW9uO2ZvcihsZXQgdD0wLGk9bi5jb3VudC8zO3Q8aTt0KyspZm9yKGxldCBpPTA7aTwzO2krKyl7Y29uc3Qgcz0zKnQraTtyLmZyb21CdWZmZXJBdHRyaWJ1dGUobixzKSxlLnB1c2goci54LHIueSxyLnopO2NvbnN0IGE9Myp0KyhpKzEpJTM7ci5mcm9tQnVmZmVyQXR0cmlidXRlKG4sYSksZS5wdXNoKHIueCxyLnksci56KX19dGhpcy5zZXRBdHRyaWJ1dGUoInBvc2l0aW9uIixuZXcgbW4oZSwzKSl9fXZhciBQbz1PYmplY3QuZnJlZXplKHtfX3Byb3RvX186bnVsbCxCb3hHZW9tZXRyeTpxbixCb3hCdWZmZXJHZW9tZXRyeTpxbixDaXJjbGVHZW9tZXRyeTpQYSxDaXJjbGVCdWZmZXJHZW9tZXRyeTpQYSxDb25lR2VvbWV0cnk6SWEsQ29uZUJ1ZmZlckdlb21ldHJ5OklhLEN5bGluZGVyR2VvbWV0cnk6RGEsQ3lsaW5kZXJCdWZmZXJHZW9tZXRyeTpEYSxEb2RlY2FoZWRyb25HZW9tZXRyeTpCYSxEb2RlY2FoZWRyb25CdWZmZXJHZW9tZXRyeTpCYSxFZGdlc0dlb21ldHJ5OkdhLEV4dHJ1ZGVHZW9tZXRyeTpnbyxFeHRydWRlQnVmZmVyR2VvbWV0cnk6Z28sSWNvc2FoZWRyb25HZW9tZXRyeTp5byxJY29zYWhlZHJvbkJ1ZmZlckdlb21ldHJ5OnlvLExhdGhlR2VvbWV0cnk6eG8sTGF0aGVCdWZmZXJHZW9tZXRyeTp4byxPY3RhaGVkcm9uR2VvbWV0cnk6X28sT2N0YWhlZHJvbkJ1ZmZlckdlb21ldHJ5Ol9vLFBhcmFtZXRyaWNHZW9tZXRyeTp3byxQYXJhbWV0cmljQnVmZmVyR2VvbWV0cnk6d28sUGxhbmVHZW9tZXRyeTpjaSxQbGFuZUJ1ZmZlckdlb21ldHJ5OmNpLFBvbHloZWRyb25HZW9tZXRyeTpOYSxQb2x5aGVkcm9uQnVmZmVyR2VvbWV0cnk6TmEsUmluZ0dlb21ldHJ5OmJvLFJpbmdCdWZmZXJHZW9tZXRyeTpibyxTaGFwZUdlb21ldHJ5Ok1vLFNoYXBlQnVmZmVyR2VvbWV0cnk6TW8sU3BoZXJlR2VvbWV0cnk6U28sU3BoZXJlQnVmZmVyR2VvbWV0cnk6U28sVGV0cmFoZWRyb25HZW9tZXRyeTpUbyxUZXRyYWhlZHJvbkJ1ZmZlckdlb21ldHJ5OlRvLFRleHRHZW9tZXRyeTpFbyxUZXh0QnVmZmVyR2VvbWV0cnk6RW8sVG9ydXNHZW9tZXRyeTpBbyxUb3J1c0J1ZmZlckdlb21ldHJ5OkFvLFRvcnVzS25vdEdlb21ldHJ5OkxvLFRvcnVzS25vdEJ1ZmZlckdlb21ldHJ5OkxvLFR1YmVHZW9tZXRyeTpSbyxUdWJlQnVmZmVyR2VvbWV0cnk6Um8sV2lyZWZyYW1lR2VvbWV0cnk6Q299KTtjbGFzcyBEbyBleHRlbmRzIFhle2NvbnN0cnVjdG9yKHQpe3N1cGVyKCksdGhpcy50eXBlPSJTaGFkb3dNYXRlcmlhbCIsdGhpcy5jb2xvcj1uZXcgdG4oMCksdGhpcy50cmFuc3BhcmVudD0hMCx0aGlzLnNldFZhbHVlcyh0KX1jb3B5KHQpe3JldHVybiBzdXBlci5jb3B5KHQpLHRoaXMuY29sb3IuY29weSh0LmNvbG9yKSx0aGlzfX1Eby5wcm90b3R5cGUuaXNTaGFkb3dNYXRlcmlhbD0hMDtjbGFzcyBJbyBleHRlbmRzIEpue2NvbnN0cnVjdG9yKHQpe3N1cGVyKHQpLHRoaXMudHlwZT0iUmF3U2hhZGVyTWF0ZXJpYWwifX1Jby5wcm90b3R5cGUuaXNSYXdTaGFkZXJNYXRlcmlhbD0hMDtjbGFzcyBObyBleHRlbmRzIFhle2NvbnN0cnVjdG9yKHQpe3N1cGVyKCksdGhpcy5kZWZpbmVzPXtTVEFOREFSRDoiIn0sdGhpcy50eXBlPSJNZXNoU3RhbmRhcmRNYXRlcmlhbCIsdGhpcy5jb2xvcj1uZXcgdG4oMTY3NzcyMTUpLHRoaXMucm91Z2huZXNzPTEsdGhpcy5tZXRhbG5lc3M9MCx0aGlzLm1hcD1udWxsLHRoaXMubGlnaHRNYXA9bnVsbCx0aGlzLmxpZ2h0TWFwSW50ZW5zaXR5PTEsdGhpcy5hb01hcD1udWxsLHRoaXMuYW9NYXBJbnRlbnNpdHk9MSx0aGlzLmVtaXNzaXZlPW5ldyB0bigwKSx0aGlzLmVtaXNzaXZlSW50ZW5zaXR5PTEsdGhpcy5lbWlzc2l2ZU1hcD1udWxsLHRoaXMuYnVtcE1hcD1udWxsLHRoaXMuYnVtcFNjYWxlPTEsdGhpcy5ub3JtYWxNYXA9bnVsbCx0aGlzLm5vcm1hbE1hcFR5cGU9MCx0aGlzLm5vcm1hbFNjYWxlPW5ldyB2dCgxLDEpLHRoaXMuZGlzcGxhY2VtZW50TWFwPW51bGwsdGhpcy5kaXNwbGFjZW1lbnRTY2FsZT0xLHRoaXMuZGlzcGxhY2VtZW50Qmlhcz0wLHRoaXMucm91Z2huZXNzTWFwPW51bGwsdGhpcy5tZXRhbG5lc3NNYXA9bnVsbCx0aGlzLmFscGhhTWFwPW51bGwsdGhpcy5lbnZNYXA9bnVsbCx0aGlzLmVudk1hcEludGVuc2l0eT0xLHRoaXMucmVmcmFjdGlvblJhdGlvPS45OCx0aGlzLndpcmVmcmFtZT0hMSx0aGlzLndpcmVmcmFtZUxpbmV3aWR0aD0xLHRoaXMud2lyZWZyYW1lTGluZWNhcD0icm91bmQiLHRoaXMud2lyZWZyYW1lTGluZWpvaW49InJvdW5kIix0aGlzLnNraW5uaW5nPSExLHRoaXMubW9ycGhUYXJnZXRzPSExLHRoaXMubW9ycGhOb3JtYWxzPSExLHRoaXMuZmxhdFNoYWRpbmc9ITEsdGhpcy52ZXJ0ZXhUYW5nZW50cz0hMSx0aGlzLnNldFZhbHVlcyh0KX1jb3B5KHQpe3JldHVybiBzdXBlci5jb3B5KHQpLHRoaXMuZGVmaW5lcz17U1RBTkRBUkQ6IiJ9LHRoaXMuY29sb3IuY29weSh0LmNvbG9yKSx0aGlzLnJvdWdobmVzcz10LnJvdWdobmVzcyx0aGlzLm1ldGFsbmVzcz10Lm1ldGFsbmVzcyx0aGlzLm1hcD10Lm1hcCx0aGlzLmxpZ2h0TWFwPXQubGlnaHRNYXAsdGhpcy5saWdodE1hcEludGVuc2l0eT10LmxpZ2h0TWFwSW50ZW5zaXR5LHRoaXMuYW9NYXA9dC5hb01hcCx0aGlzLmFvTWFwSW50ZW5zaXR5PXQuYW9NYXBJbnRlbnNpdHksdGhpcy5lbWlzc2l2ZS5jb3B5KHQuZW1pc3NpdmUpLHRoaXMuZW1pc3NpdmVNYXA9dC5lbWlzc2l2ZU1hcCx0aGlzLmVtaXNzaXZlSW50ZW5zaXR5PXQuZW1pc3NpdmVJbnRlbnNpdHksdGhpcy5idW1wTWFwPXQuYnVtcE1hcCx0aGlzLmJ1bXBTY2FsZT10LmJ1bXBTY2FsZSx0aGlzLm5vcm1hbE1hcD10Lm5vcm1hbE1hcCx0aGlzLm5vcm1hbE1hcFR5cGU9dC5ub3JtYWxNYXBUeXBlLHRoaXMubm9ybWFsU2NhbGUuY29weSh0Lm5vcm1hbFNjYWxlKSx0aGlzLmRpc3BsYWNlbWVudE1hcD10LmRpc3BsYWNlbWVudE1hcCx0aGlzLmRpc3BsYWNlbWVudFNjYWxlPXQuZGlzcGxhY2VtZW50U2NhbGUsdGhpcy5kaXNwbGFjZW1lbnRCaWFzPXQuZGlzcGxhY2VtZW50Qmlhcyx0aGlzLnJvdWdobmVzc01hcD10LnJvdWdobmVzc01hcCx0aGlzLm1ldGFsbmVzc01hcD10Lm1ldGFsbmVzc01hcCx0aGlzLmFscGhhTWFwPXQuYWxwaGFNYXAsdGhpcy5lbnZNYXA9dC5lbnZNYXAsdGhpcy5lbnZNYXBJbnRlbnNpdHk9dC5lbnZNYXBJbnRlbnNpdHksdGhpcy5yZWZyYWN0aW9uUmF0aW89dC5yZWZyYWN0aW9uUmF0aW8sdGhpcy53aXJlZnJhbWU9dC53aXJlZnJhbWUsdGhpcy53aXJlZnJhbWVMaW5ld2lkdGg9dC53aXJlZnJhbWVMaW5ld2lkdGgsdGhpcy53aXJlZnJhbWVMaW5lY2FwPXQud2lyZWZyYW1lTGluZWNhcCx0aGlzLndpcmVmcmFtZUxpbmVqb2luPXQud2lyZWZyYW1lTGluZWpvaW4sdGhpcy5za2lubmluZz10LnNraW5uaW5nLHRoaXMubW9ycGhUYXJnZXRzPXQubW9ycGhUYXJnZXRzLHRoaXMubW9ycGhOb3JtYWxzPXQubW9ycGhOb3JtYWxzLHRoaXMuZmxhdFNoYWRpbmc9dC5mbGF0U2hhZGluZyx0aGlzLnZlcnRleFRhbmdlbnRzPXQudmVydGV4VGFuZ2VudHMsdGhpc319Tm8ucHJvdG90eXBlLmlzTWVzaFN0YW5kYXJkTWF0ZXJpYWw9ITA7Y2xhc3MgQm8gZXh0ZW5kcyBOb3tjb25zdHJ1Y3Rvcih0KXtzdXBlcigpLHRoaXMuZGVmaW5lcz17U1RBTkRBUkQ6IiIsUEhZU0lDQUw6IiJ9LHRoaXMudHlwZT0iTWVzaFBoeXNpY2FsTWF0ZXJpYWwiLHRoaXMuY2xlYXJjb2F0PTAsdGhpcy5jbGVhcmNvYXRNYXA9bnVsbCx0aGlzLmNsZWFyY29hdFJvdWdobmVzcz0wLHRoaXMuY2xlYXJjb2F0Um91Z2huZXNzTWFwPW51bGwsdGhpcy5jbGVhcmNvYXROb3JtYWxTY2FsZT1uZXcgdnQoMSwxKSx0aGlzLmNsZWFyY29hdE5vcm1hbE1hcD1udWxsLHRoaXMucmVmbGVjdGl2aXR5PS41LE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCJpb3IiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4oMSsuNCp0aGlzLnJlZmxlY3Rpdml0eSkvKDEtLjQqdGhpcy5yZWZsZWN0aXZpdHkpfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5yZWZsZWN0aXZpdHk9aHQoMi41Kih0LTEpLyh0KzEpLDAsMSl9fSksdGhpcy5zaGVlbj1udWxsLHRoaXMudHJhbnNtaXNzaW9uPTAsdGhpcy50cmFuc21pc3Npb25NYXA9bnVsbCx0aGlzLnNldFZhbHVlcyh0KX1jb3B5KHQpe3JldHVybiBzdXBlci5jb3B5KHQpLHRoaXMuZGVmaW5lcz17U1RBTkRBUkQ6IiIsUEhZU0lDQUw6IiJ9LHRoaXMuY2xlYXJjb2F0PXQuY2xlYXJjb2F0LHRoaXMuY2xlYXJjb2F0TWFwPXQuY2xlYXJjb2F0TWFwLHRoaXMuY2xlYXJjb2F0Um91Z2huZXNzPXQuY2xlYXJjb2F0Um91Z2huZXNzLHRoaXMuY2xlYXJjb2F0Um91Z2huZXNzTWFwPXQuY2xlYXJjb2F0Um91Z2huZXNzTWFwLHRoaXMuY2xlYXJjb2F0Tm9ybWFsTWFwPXQuY2xlYXJjb2F0Tm9ybWFsTWFwLHRoaXMuY2xlYXJjb2F0Tm9ybWFsU2NhbGUuY29weSh0LmNsZWFyY29hdE5vcm1hbFNjYWxlKSx0aGlzLnJlZmxlY3Rpdml0eT10LnJlZmxlY3Rpdml0eSx0LnNoZWVuP3RoaXMuc2hlZW49KHRoaXMuc2hlZW58fG5ldyB0bikuY29weSh0LnNoZWVuKTp0aGlzLnNoZWVuPW51bGwsdGhpcy50cmFuc21pc3Npb249dC50cmFuc21pc3Npb24sdGhpcy50cmFuc21pc3Npb25NYXA9dC50cmFuc21pc3Npb25NYXAsdGhpc319Qm8ucHJvdG90eXBlLmlzTWVzaFBoeXNpY2FsTWF0ZXJpYWw9ITA7Y2xhc3Mgem8gZXh0ZW5kcyBYZXtjb25zdHJ1Y3Rvcih0KXtzdXBlcigpLHRoaXMudHlwZT0iTWVzaFBob25nTWF0ZXJpYWwiLHRoaXMuY29sb3I9bmV3IHRuKDE2Nzc3MjE1KSx0aGlzLnNwZWN1bGFyPW5ldyB0bigxMTE4NDgxKSx0aGlzLnNoaW5pbmVzcz0zMCx0aGlzLm1hcD1udWxsLHRoaXMubGlnaHRNYXA9bnVsbCx0aGlzLmxpZ2h0TWFwSW50ZW5zaXR5PTEsdGhpcy5hb01hcD1udWxsLHRoaXMuYW9NYXBJbnRlbnNpdHk9MSx0aGlzLmVtaXNzaXZlPW5ldyB0bigwKSx0aGlzLmVtaXNzaXZlSW50ZW5zaXR5PTEsdGhpcy5lbWlzc2l2ZU1hcD1udWxsLHRoaXMuYnVtcE1hcD1udWxsLHRoaXMuYnVtcFNjYWxlPTEsdGhpcy5ub3JtYWxNYXA9bnVsbCx0aGlzLm5vcm1hbE1hcFR5cGU9MCx0aGlzLm5vcm1hbFNjYWxlPW5ldyB2dCgxLDEpLHRoaXMuZGlzcGxhY2VtZW50TWFwPW51bGwsdGhpcy5kaXNwbGFjZW1lbnRTY2FsZT0xLHRoaXMuZGlzcGxhY2VtZW50Qmlhcz0wLHRoaXMuc3BlY3VsYXJNYXA9bnVsbCx0aGlzLmFscGhhTWFwPW51bGwsdGhpcy5lbnZNYXA9bnVsbCx0aGlzLmNvbWJpbmU9MCx0aGlzLnJlZmxlY3Rpdml0eT0xLHRoaXMucmVmcmFjdGlvblJhdGlvPS45OCx0aGlzLndpcmVmcmFtZT0hMSx0aGlzLndpcmVmcmFtZUxpbmV3aWR0aD0xLHRoaXMud2lyZWZyYW1lTGluZWNhcD0icm91bmQiLHRoaXMud2lyZWZyYW1lTGluZWpvaW49InJvdW5kIix0aGlzLnNraW5uaW5nPSExLHRoaXMubW9ycGhUYXJnZXRzPSExLHRoaXMubW9ycGhOb3JtYWxzPSExLHRoaXMuZmxhdFNoYWRpbmc9ITEsdGhpcy5zZXRWYWx1ZXModCl9Y29weSh0KXtyZXR1cm4gc3VwZXIuY29weSh0KSx0aGlzLmNvbG9yLmNvcHkodC5jb2xvciksdGhpcy5zcGVjdWxhci5jb3B5KHQuc3BlY3VsYXIpLHRoaXMuc2hpbmluZXNzPXQuc2hpbmluZXNzLHRoaXMubWFwPXQubWFwLHRoaXMubGlnaHRNYXA9dC5saWdodE1hcCx0aGlzLmxpZ2h0TWFwSW50ZW5zaXR5PXQubGlnaHRNYXBJbnRlbnNpdHksdGhpcy5hb01hcD10LmFvTWFwLHRoaXMuYW9NYXBJbnRlbnNpdHk9dC5hb01hcEludGVuc2l0eSx0aGlzLmVtaXNzaXZlLmNvcHkodC5lbWlzc2l2ZSksdGhpcy5lbWlzc2l2ZU1hcD10LmVtaXNzaXZlTWFwLHRoaXMuZW1pc3NpdmVJbnRlbnNpdHk9dC5lbWlzc2l2ZUludGVuc2l0eSx0aGlzLmJ1bXBNYXA9dC5idW1wTWFwLHRoaXMuYnVtcFNjYWxlPXQuYnVtcFNjYWxlLHRoaXMubm9ybWFsTWFwPXQubm9ybWFsTWFwLHRoaXMubm9ybWFsTWFwVHlwZT10Lm5vcm1hbE1hcFR5cGUsdGhpcy5ub3JtYWxTY2FsZS5jb3B5KHQubm9ybWFsU2NhbGUpLHRoaXMuZGlzcGxhY2VtZW50TWFwPXQuZGlzcGxhY2VtZW50TWFwLHRoaXMuZGlzcGxhY2VtZW50U2NhbGU9dC5kaXNwbGFjZW1lbnRTY2FsZSx0aGlzLmRpc3BsYWNlbWVudEJpYXM9dC5kaXNwbGFjZW1lbnRCaWFzLHRoaXMuc3BlY3VsYXJNYXA9dC5zcGVjdWxhck1hcCx0aGlzLmFscGhhTWFwPXQuYWxwaGFNYXAsdGhpcy5lbnZNYXA9dC5lbnZNYXAsdGhpcy5jb21iaW5lPXQuY29tYmluZSx0aGlzLnJlZmxlY3Rpdml0eT10LnJlZmxlY3Rpdml0eSx0aGlzLnJlZnJhY3Rpb25SYXRpbz10LnJlZnJhY3Rpb25SYXRpbyx0aGlzLndpcmVmcmFtZT10LndpcmVmcmFtZSx0aGlzLndpcmVmcmFtZUxpbmV3aWR0aD10LndpcmVmcmFtZUxpbmV3aWR0aCx0aGlzLndpcmVmcmFtZUxpbmVjYXA9dC53aXJlZnJhbWVMaW5lY2FwLHRoaXMud2lyZWZyYW1lTGluZWpvaW49dC53aXJlZnJhbWVMaW5lam9pbix0aGlzLnNraW5uaW5nPXQuc2tpbm5pbmcsdGhpcy5tb3JwaFRhcmdldHM9dC5tb3JwaFRhcmdldHMsdGhpcy5tb3JwaE5vcm1hbHM9dC5tb3JwaE5vcm1hbHMsdGhpcy5mbGF0U2hhZGluZz10LmZsYXRTaGFkaW5nLHRoaXN9fXpvLnByb3RvdHlwZS5pc01lc2hQaG9uZ01hdGVyaWFsPSEwO2NsYXNzIEZvIGV4dGVuZHMgWGV7Y29uc3RydWN0b3IodCl7c3VwZXIoKSx0aGlzLmRlZmluZXM9e1RPT046IiJ9LHRoaXMudHlwZT0iTWVzaFRvb25NYXRlcmlhbCIsdGhpcy5jb2xvcj1uZXcgdG4oMTY3NzcyMTUpLHRoaXMubWFwPW51bGwsdGhpcy5ncmFkaWVudE1hcD1udWxsLHRoaXMubGlnaHRNYXA9bnVsbCx0aGlzLmxpZ2h0TWFwSW50ZW5zaXR5PTEsdGhpcy5hb01hcD1udWxsLHRoaXMuYW9NYXBJbnRlbnNpdHk9MSx0aGlzLmVtaXNzaXZlPW5ldyB0bigwKSx0aGlzLmVtaXNzaXZlSW50ZW5zaXR5PTEsdGhpcy5lbWlzc2l2ZU1hcD1udWxsLHRoaXMuYnVtcE1hcD1udWxsLHRoaXMuYnVtcFNjYWxlPTEsdGhpcy5ub3JtYWxNYXA9bnVsbCx0aGlzLm5vcm1hbE1hcFR5cGU9MCx0aGlzLm5vcm1hbFNjYWxlPW5ldyB2dCgxLDEpLHRoaXMuZGlzcGxhY2VtZW50TWFwPW51bGwsdGhpcy5kaXNwbGFjZW1lbnRTY2FsZT0xLHRoaXMuZGlzcGxhY2VtZW50Qmlhcz0wLHRoaXMuYWxwaGFNYXA9bnVsbCx0aGlzLndpcmVmcmFtZT0hMSx0aGlzLndpcmVmcmFtZUxpbmV3aWR0aD0xLHRoaXMud2lyZWZyYW1lTGluZWNhcD0icm91bmQiLHRoaXMud2lyZWZyYW1lTGluZWpvaW49InJvdW5kIix0aGlzLnNraW5uaW5nPSExLHRoaXMubW9ycGhUYXJnZXRzPSExLHRoaXMubW9ycGhOb3JtYWxzPSExLHRoaXMuc2V0VmFsdWVzKHQpfWNvcHkodCl7cmV0dXJuIHN1cGVyLmNvcHkodCksdGhpcy5jb2xvci5jb3B5KHQuY29sb3IpLHRoaXMubWFwPXQubWFwLHRoaXMuZ3JhZGllbnRNYXA9dC5ncmFkaWVudE1hcCx0aGlzLmxpZ2h0TWFwPXQubGlnaHRNYXAsdGhpcy5saWdodE1hcEludGVuc2l0eT10LmxpZ2h0TWFwSW50ZW5zaXR5LHRoaXMuYW9NYXA9dC5hb01hcCx0aGlzLmFvTWFwSW50ZW5zaXR5PXQuYW9NYXBJbnRlbnNpdHksdGhpcy5lbWlzc2l2ZS5jb3B5KHQuZW1pc3NpdmUpLHRoaXMuZW1pc3NpdmVNYXA9dC5lbWlzc2l2ZU1hcCx0aGlzLmVtaXNzaXZlSW50ZW5zaXR5PXQuZW1pc3NpdmVJbnRlbnNpdHksdGhpcy5idW1wTWFwPXQuYnVtcE1hcCx0aGlzLmJ1bXBTY2FsZT10LmJ1bXBTY2FsZSx0aGlzLm5vcm1hbE1hcD10Lm5vcm1hbE1hcCx0aGlzLm5vcm1hbE1hcFR5cGU9dC5ub3JtYWxNYXBUeXBlLHRoaXMubm9ybWFsU2NhbGUuY29weSh0Lm5vcm1hbFNjYWxlKSx0aGlzLmRpc3BsYWNlbWVudE1hcD10LmRpc3BsYWNlbWVudE1hcCx0aGlzLmRpc3BsYWNlbWVudFNjYWxlPXQuZGlzcGxhY2VtZW50U2NhbGUsdGhpcy5kaXNwbGFjZW1lbnRCaWFzPXQuZGlzcGxhY2VtZW50Qmlhcyx0aGlzLmFscGhhTWFwPXQuYWxwaGFNYXAsdGhpcy53aXJlZnJhbWU9dC53aXJlZnJhbWUsdGhpcy53aXJlZnJhbWVMaW5ld2lkdGg9dC53aXJlZnJhbWVMaW5ld2lkdGgsdGhpcy53aXJlZnJhbWVMaW5lY2FwPXQud2lyZWZyYW1lTGluZWNhcCx0aGlzLndpcmVmcmFtZUxpbmVqb2luPXQud2lyZWZyYW1lTGluZWpvaW4sdGhpcy5za2lubmluZz10LnNraW5uaW5nLHRoaXMubW9ycGhUYXJnZXRzPXQubW9ycGhUYXJnZXRzLHRoaXMubW9ycGhOb3JtYWxzPXQubW9ycGhOb3JtYWxzLHRoaXN9fUZvLnByb3RvdHlwZS5pc01lc2hUb29uTWF0ZXJpYWw9ITA7Y2xhc3MgT28gZXh0ZW5kcyBYZXtjb25zdHJ1Y3Rvcih0KXtzdXBlcigpLHRoaXMudHlwZT0iTWVzaE5vcm1hbE1hdGVyaWFsIix0aGlzLmJ1bXBNYXA9bnVsbCx0aGlzLmJ1bXBTY2FsZT0xLHRoaXMubm9ybWFsTWFwPW51bGwsdGhpcy5ub3JtYWxNYXBUeXBlPTAsdGhpcy5ub3JtYWxTY2FsZT1uZXcgdnQoMSwxKSx0aGlzLmRpc3BsYWNlbWVudE1hcD1udWxsLHRoaXMuZGlzcGxhY2VtZW50U2NhbGU9MSx0aGlzLmRpc3BsYWNlbWVudEJpYXM9MCx0aGlzLndpcmVmcmFtZT0hMSx0aGlzLndpcmVmcmFtZUxpbmV3aWR0aD0xLHRoaXMuZm9nPSExLHRoaXMuc2tpbm5pbmc9ITEsdGhpcy5tb3JwaFRhcmdldHM9ITEsdGhpcy5tb3JwaE5vcm1hbHM9ITEsdGhpcy5mbGF0U2hhZGluZz0hMSx0aGlzLnNldFZhbHVlcyh0KX1jb3B5KHQpe3JldHVybiBzdXBlci5jb3B5KHQpLHRoaXMuYnVtcE1hcD10LmJ1bXBNYXAsdGhpcy5idW1wU2NhbGU9dC5idW1wU2NhbGUsdGhpcy5ub3JtYWxNYXA9dC5ub3JtYWxNYXAsdGhpcy5ub3JtYWxNYXBUeXBlPXQubm9ybWFsTWFwVHlwZSx0aGlzLm5vcm1hbFNjYWxlLmNvcHkodC5ub3JtYWxTY2FsZSksdGhpcy5kaXNwbGFjZW1lbnRNYXA9dC5kaXNwbGFjZW1lbnRNYXAsdGhpcy5kaXNwbGFjZW1lbnRTY2FsZT10LmRpc3BsYWNlbWVudFNjYWxlLHRoaXMuZGlzcGxhY2VtZW50Qmlhcz10LmRpc3BsYWNlbWVudEJpYXMsdGhpcy53aXJlZnJhbWU9dC53aXJlZnJhbWUsdGhpcy53aXJlZnJhbWVMaW5ld2lkdGg9dC53aXJlZnJhbWVMaW5ld2lkdGgsdGhpcy5za2lubmluZz10LnNraW5uaW5nLHRoaXMubW9ycGhUYXJnZXRzPXQubW9ycGhUYXJnZXRzLHRoaXMubW9ycGhOb3JtYWxzPXQubW9ycGhOb3JtYWxzLHRoaXMuZmxhdFNoYWRpbmc9dC5mbGF0U2hhZGluZyx0aGlzfX1Pby5wcm90b3R5cGUuaXNNZXNoTm9ybWFsTWF0ZXJpYWw9ITA7Y2xhc3MgSG8gZXh0ZW5kcyBYZXtjb25zdHJ1Y3Rvcih0KXtzdXBlcigpLHRoaXMudHlwZT0iTWVzaExhbWJlcnRNYXRlcmlhbCIsdGhpcy5jb2xvcj1uZXcgdG4oMTY3NzcyMTUpLHRoaXMubWFwPW51bGwsdGhpcy5saWdodE1hcD1udWxsLHRoaXMubGlnaHRNYXBJbnRlbnNpdHk9MSx0aGlzLmFvTWFwPW51bGwsdGhpcy5hb01hcEludGVuc2l0eT0xLHRoaXMuZW1pc3NpdmU9bmV3IHRuKDApLHRoaXMuZW1pc3NpdmVJbnRlbnNpdHk9MSx0aGlzLmVtaXNzaXZlTWFwPW51bGwsdGhpcy5zcGVjdWxhck1hcD1udWxsLHRoaXMuYWxwaGFNYXA9bnVsbCx0aGlzLmVudk1hcD1udWxsLHRoaXMuY29tYmluZT0wLHRoaXMucmVmbGVjdGl2aXR5PTEsdGhpcy5yZWZyYWN0aW9uUmF0aW89Ljk4LHRoaXMud2lyZWZyYW1lPSExLHRoaXMud2lyZWZyYW1lTGluZXdpZHRoPTEsdGhpcy53aXJlZnJhbWVMaW5lY2FwPSJyb3VuZCIsdGhpcy53aXJlZnJhbWVMaW5lam9pbj0icm91bmQiLHRoaXMuc2tpbm5pbmc9ITEsdGhpcy5tb3JwaFRhcmdldHM9ITEsdGhpcy5tb3JwaE5vcm1hbHM9ITEsdGhpcy5zZXRWYWx1ZXModCl9Y29weSh0KXtyZXR1cm4gc3VwZXIuY29weSh0KSx0aGlzLmNvbG9yLmNvcHkodC5jb2xvciksdGhpcy5tYXA9dC5tYXAsdGhpcy5saWdodE1hcD10LmxpZ2h0TWFwLHRoaXMubGlnaHRNYXBJbnRlbnNpdHk9dC5saWdodE1hcEludGVuc2l0eSx0aGlzLmFvTWFwPXQuYW9NYXAsdGhpcy5hb01hcEludGVuc2l0eT10LmFvTWFwSW50ZW5zaXR5LHRoaXMuZW1pc3NpdmUuY29weSh0LmVtaXNzaXZlKSx0aGlzLmVtaXNzaXZlTWFwPXQuZW1pc3NpdmVNYXAsdGhpcy5lbWlzc2l2ZUludGVuc2l0eT10LmVtaXNzaXZlSW50ZW5zaXR5LHRoaXMuc3BlY3VsYXJNYXA9dC5zcGVjdWxhck1hcCx0aGlzLmFscGhhTWFwPXQuYWxwaGFNYXAsdGhpcy5lbnZNYXA9dC5lbnZNYXAsdGhpcy5jb21iaW5lPXQuY29tYmluZSx0aGlzLnJlZmxlY3Rpdml0eT10LnJlZmxlY3Rpdml0eSx0aGlzLnJlZnJhY3Rpb25SYXRpbz10LnJlZnJhY3Rpb25SYXRpbyx0aGlzLndpcmVmcmFtZT10LndpcmVmcmFtZSx0aGlzLndpcmVmcmFtZUxpbmV3aWR0aD10LndpcmVmcmFtZUxpbmV3aWR0aCx0aGlzLndpcmVmcmFtZUxpbmVjYXA9dC53aXJlZnJhbWVMaW5lY2FwLHRoaXMud2lyZWZyYW1lTGluZWpvaW49dC53aXJlZnJhbWVMaW5lam9pbix0aGlzLnNraW5uaW5nPXQuc2tpbm5pbmcsdGhpcy5tb3JwaFRhcmdldHM9dC5tb3JwaFRhcmdldHMsdGhpcy5tb3JwaE5vcm1hbHM9dC5tb3JwaE5vcm1hbHMsdGhpc319SG8ucHJvdG90eXBlLmlzTWVzaExhbWJlcnRNYXRlcmlhbD0hMDtjbGFzcyBHbyBleHRlbmRzIFhle2NvbnN0cnVjdG9yKHQpe3N1cGVyKCksdGhpcy5kZWZpbmVzPXtNQVRDQVA6IiJ9LHRoaXMudHlwZT0iTWVzaE1hdGNhcE1hdGVyaWFsIix0aGlzLmNvbG9yPW5ldyB0bigxNjc3NzIxNSksdGhpcy5tYXRjYXA9bnVsbCx0aGlzLm1hcD1udWxsLHRoaXMuYnVtcE1hcD1udWxsLHRoaXMuYnVtcFNjYWxlPTEsdGhpcy5ub3JtYWxNYXA9bnVsbCx0aGlzLm5vcm1hbE1hcFR5cGU9MCx0aGlzLm5vcm1hbFNjYWxlPW5ldyB2dCgxLDEpLHRoaXMuZGlzcGxhY2VtZW50TWFwPW51bGwsdGhpcy5kaXNwbGFjZW1lbnRTY2FsZT0xLHRoaXMuZGlzcGxhY2VtZW50Qmlhcz0wLHRoaXMuYWxwaGFNYXA9bnVsbCx0aGlzLnNraW5uaW5nPSExLHRoaXMubW9ycGhUYXJnZXRzPSExLHRoaXMubW9ycGhOb3JtYWxzPSExLHRoaXMuZmxhdFNoYWRpbmc9ITEsdGhpcy5zZXRWYWx1ZXModCl9Y29weSh0KXtyZXR1cm4gc3VwZXIuY29weSh0KSx0aGlzLmRlZmluZXM9e01BVENBUDoiIn0sdGhpcy5jb2xvci5jb3B5KHQuY29sb3IpLHRoaXMubWF0Y2FwPXQubWF0Y2FwLHRoaXMubWFwPXQubWFwLHRoaXMuYnVtcE1hcD10LmJ1bXBNYXAsdGhpcy5idW1wU2NhbGU9dC5idW1wU2NhbGUsdGhpcy5ub3JtYWxNYXA9dC5ub3JtYWxNYXAsdGhpcy5ub3JtYWxNYXBUeXBlPXQubm9ybWFsTWFwVHlwZSx0aGlzLm5vcm1hbFNjYWxlLmNvcHkodC5ub3JtYWxTY2FsZSksdGhpcy5kaXNwbGFjZW1lbnRNYXA9dC5kaXNwbGFjZW1lbnRNYXAsdGhpcy5kaXNwbGFjZW1lbnRTY2FsZT10LmRpc3BsYWNlbWVudFNjYWxlLHRoaXMuZGlzcGxhY2VtZW50Qmlhcz10LmRpc3BsYWNlbWVudEJpYXMsdGhpcy5hbHBoYU1hcD10LmFscGhhTWFwLHRoaXMuc2tpbm5pbmc9dC5za2lubmluZyx0aGlzLm1vcnBoVGFyZ2V0cz10Lm1vcnBoVGFyZ2V0cyx0aGlzLm1vcnBoTm9ybWFscz10Lm1vcnBoTm9ybWFscyx0aGlzLmZsYXRTaGFkaW5nPXQuZmxhdFNoYWRpbmcsdGhpc319R28ucHJvdG90eXBlLmlzTWVzaE1hdGNhcE1hdGVyaWFsPSEwO2NsYXNzIFVvIGV4dGVuZHMgY2F7Y29uc3RydWN0b3IodCl7c3VwZXIoKSx0aGlzLnR5cGU9IkxpbmVEYXNoZWRNYXRlcmlhbCIsdGhpcy5zY2FsZT0xLHRoaXMuZGFzaFNpemU9Myx0aGlzLmdhcFNpemU9MSx0aGlzLnNldFZhbHVlcyh0KX1jb3B5KHQpe3JldHVybiBzdXBlci5jb3B5KHQpLHRoaXMuc2NhbGU9dC5zY2FsZSx0aGlzLmRhc2hTaXplPXQuZGFzaFNpemUsdGhpcy5nYXBTaXplPXQuZ2FwU2l6ZSx0aGlzfX1Vby5wcm90b3R5cGUuaXNMaW5lRGFzaGVkTWF0ZXJpYWw9ITA7dmFyIGtvPU9iamVjdC5mcmVlemUoe19fcHJvdG9fXzpudWxsLFNoYWRvd01hdGVyaWFsOkRvLFNwcml0ZU1hdGVyaWFsOlJzLFJhd1NoYWRlck1hdGVyaWFsOklvLFNoYWRlck1hdGVyaWFsOkpuLFBvaW50c01hdGVyaWFsOl9hLE1lc2hQaHlzaWNhbE1hdGVyaWFsOkJvLE1lc2hTdGFuZGFyZE1hdGVyaWFsOk5vLE1lc2hQaG9uZ01hdGVyaWFsOnpvLE1lc2hUb29uTWF0ZXJpYWw6Rm8sTWVzaE5vcm1hbE1hdGVyaWFsOk9vLE1lc2hMYW1iZXJ0TWF0ZXJpYWw6SG8sTWVzaERlcHRoTWF0ZXJpYWw6Y3MsTWVzaERpc3RhbmNlTWF0ZXJpYWw6aHMsTWVzaEJhc2ljTWF0ZXJpYWw6ZW4sTWVzaE1hdGNhcE1hdGVyaWFsOkdvLExpbmVEYXNoZWRNYXRlcmlhbDpVbyxMaW5lQmFzaWNNYXRlcmlhbDpjYSxNYXRlcmlhbDpYZX0pO2NvbnN0IFZvPXthcnJheVNsaWNlOmZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gVm8uaXNUeXBlZEFycmF5KHQpP25ldyB0LmNvbnN0cnVjdG9yKHQuc3ViYXJyYXkoZSx2b2lkIDAhPT1uP246dC5sZW5ndGgpKTp0LnNsaWNlKGUsbil9LGNvbnZlcnRBcnJheTpmdW5jdGlvbih0LGUsbil7cmV0dXJuIXR8fCFuJiZ0LmNvbnN0cnVjdG9yPT09ZT90OiJudW1iZXIiPT10eXBlb2YgZS5CWVRFU19QRVJfRUxFTUVOVD9uZXcgZSh0KTpBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbCh0KX0saXNUeXBlZEFycmF5OmZ1bmN0aW9uKHQpe3JldHVybiBBcnJheUJ1ZmZlci5pc1ZpZXcodCkmJiEodCBpbnN0YW5jZW9mIERhdGFWaWV3KX0sZ2V0S2V5ZnJhbWVPcmRlcjpmdW5jdGlvbih0KXtjb25zdCBlPXQubGVuZ3RoLG49bmV3IEFycmF5KGUpO2ZvcihsZXQgdD0wO3QhPT1lOysrdCluW3RdPXQ7cmV0dXJuIG4uc29ydCgoZnVuY3Rpb24oZSxuKXtyZXR1cm4gdFtlXS10W25dfSkpLG59LHNvcnRlZEFycmF5OmZ1bmN0aW9uKHQsZSxuKXtjb25zdCBpPXQubGVuZ3RoLHI9bmV3IHQuY29uc3RydWN0b3IoaSk7Zm9yKGxldCBzPTAsYT0wO2EhPT1pOysrcyl7Y29uc3QgaT1uW3NdKmU7Zm9yKGxldCBuPTA7biE9PWU7KytuKXJbYSsrXT10W2krbl19cmV0dXJuIHJ9LGZsYXR0ZW5KU09OOmZ1bmN0aW9uKHQsZSxuLGkpe2xldCByPTEscz10WzBdO2Zvcig7dm9pZCAwIT09cyYmdm9pZCAwPT09c1tpXTspcz10W3IrK107aWYodm9pZCAwPT09cylyZXR1cm47bGV0IGE9c1tpXTtpZih2b2lkIDAhPT1hKWlmKEFycmF5LmlzQXJyYXkoYSkpZG97YT1zW2ldLHZvaWQgMCE9PWEmJihlLnB1c2gocy50aW1lKSxuLnB1c2guYXBwbHkobixhKSkscz10W3IrK119d2hpbGUodm9pZCAwIT09cyk7ZWxzZSBpZih2b2lkIDAhPT1hLnRvQXJyYXkpZG97YT1zW2ldLHZvaWQgMCE9PWEmJihlLnB1c2gocy50aW1lKSxhLnRvQXJyYXkobixuLmxlbmd0aCkpLHM9dFtyKytdfXdoaWxlKHZvaWQgMCE9PXMpO2Vsc2UgZG97YT1zW2ldLHZvaWQgMCE9PWEmJihlLnB1c2gocy50aW1lKSxuLnB1c2goYSkpLHM9dFtyKytdfXdoaWxlKHZvaWQgMCE9PXMpfSxzdWJjbGlwOmZ1bmN0aW9uKHQsZSxuLGkscj0zMCl7Y29uc3Qgcz10LmNsb25lKCk7cy5uYW1lPWU7Y29uc3QgYT1bXTtmb3IobGV0IHQ9MDt0PHMudHJhY2tzLmxlbmd0aDsrK3Qpe2NvbnN0IGU9cy50cmFja3NbdF0sbz1lLmdldFZhbHVlU2l6ZSgpLGw9W10sYz1bXTtmb3IobGV0IHQ9MDt0PGUudGltZXMubGVuZ3RoOysrdCl7Y29uc3Qgcz1lLnRpbWVzW3RdKnI7aWYoIShzPG58fHM+PWkpKXtsLnB1c2goZS50aW1lc1t0XSk7Zm9yKGxldCBuPTA7bjxvOysrbiljLnB1c2goZS52YWx1ZXNbdCpvK25dKX19MCE9PWwubGVuZ3RoJiYoZS50aW1lcz1Wby5jb252ZXJ0QXJyYXkobCxlLnRpbWVzLmNvbnN0cnVjdG9yKSxlLnZhbHVlcz1Wby5jb252ZXJ0QXJyYXkoYyxlLnZhbHVlcy5jb25zdHJ1Y3RvciksYS5wdXNoKGUpKX1zLnRyYWNrcz1hO2xldCBvPTEvMDtmb3IobGV0IHQ9MDt0PHMudHJhY2tzLmxlbmd0aDsrK3Qpbz5zLnRyYWNrc1t0XS50aW1lc1swXSYmKG89cy50cmFja3NbdF0udGltZXNbMF0pO2ZvcihsZXQgdD0wO3Q8cy50cmFja3MubGVuZ3RoOysrdClzLnRyYWNrc1t0XS5zaGlmdCgtMSpvKTtyZXR1cm4gcy5yZXNldER1cmF0aW9uKCksc30sbWFrZUNsaXBBZGRpdGl2ZTpmdW5jdGlvbih0LGU9MCxuPXQsaT0zMCl7aTw9MCYmKGk9MzApO2NvbnN0IHI9bi50cmFja3MubGVuZ3RoLHM9ZS9pO2ZvcihsZXQgZT0wO2U8cjsrK2Upe2NvbnN0IGk9bi50cmFja3NbZV0scj1pLlZhbHVlVHlwZU5hbWU7aWYoImJvb2wiPT09cnx8InN0cmluZyI9PT1yKWNvbnRpbnVlO2NvbnN0IGE9dC50cmFja3MuZmluZCgoZnVuY3Rpb24odCl7cmV0dXJuIHQubmFtZT09PWkubmFtZSYmdC5WYWx1ZVR5cGVOYW1lPT09cn0pKTtpZih2b2lkIDA9PT1hKWNvbnRpbnVlO2xldCBvPTA7Y29uc3QgbD1pLmdldFZhbHVlU2l6ZSgpO2kuY3JlYXRlSW50ZXJwb2xhbnQuaXNJbnRlcnBvbGFudEZhY3RvcnlNZXRob2RHTFRGQ3ViaWNTcGxpbmUmJihvPWwvMyk7bGV0IGM9MDtjb25zdCBoPWEuZ2V0VmFsdWVTaXplKCk7YS5jcmVhdGVJbnRlcnBvbGFudC5pc0ludGVycG9sYW50RmFjdG9yeU1ldGhvZEdMVEZDdWJpY1NwbGluZSYmKGM9aC8zKTtjb25zdCB1PWkudGltZXMubGVuZ3RoLTE7bGV0IGQ7aWYoczw9aS50aW1lc1swXSl7Y29uc3QgdD1vLGU9bC1vO2Q9Vm8uYXJyYXlTbGljZShpLnZhbHVlcyx0LGUpfWVsc2UgaWYocz49aS50aW1lc1t1XSl7Y29uc3QgdD11KmwrbyxlPXQrbC1vO2Q9Vm8uYXJyYXlTbGljZShpLnZhbHVlcyx0LGUpfWVsc2V7Y29uc3QgdD1pLmNyZWF0ZUludGVycG9sYW50KCksZT1vLG49bC1vO3QuZXZhbHVhdGUocyksZD1Wby5hcnJheVNsaWNlKHQucmVzdWx0QnVmZmVyLGUsbil9aWYoInF1YXRlcm5pb24iPT09cil7KG5ldyBBdCkuZnJvbUFycmF5KGQpLm5vcm1hbGl6ZSgpLmNvbmp1Z2F0ZSgpLnRvQXJyYXkoZCl9Y29uc3QgcD1hLnRpbWVzLmxlbmd0aDtmb3IobGV0IHQ9MDt0PHA7Kyt0KXtjb25zdCBlPXQqaCtjO2lmKCJxdWF0ZXJuaW9uIj09PXIpQXQubXVsdGlwbHlRdWF0ZXJuaW9uc0ZsYXQoYS52YWx1ZXMsZSxkLDAsYS52YWx1ZXMsZSk7ZWxzZXtjb25zdCB0PWgtMipjO2ZvcihsZXQgbj0wO248dDsrK24pYS52YWx1ZXNbZStuXS09ZFtuXX19fXJldHVybiB0LmJsZW5kTW9kZT1xLHR9fTtjbGFzcyBXb3tjb25zdHJ1Y3Rvcih0LGUsbixpKXt0aGlzLnBhcmFtZXRlclBvc2l0aW9ucz10LHRoaXMuX2NhY2hlZEluZGV4PTAsdGhpcy5yZXN1bHRCdWZmZXI9dm9pZCAwIT09aT9pOm5ldyBlLmNvbnN0cnVjdG9yKG4pLHRoaXMuc2FtcGxlVmFsdWVzPWUsdGhpcy52YWx1ZVNpemU9bix0aGlzLnNldHRpbmdzPW51bGwsdGhpcy5EZWZhdWx0U2V0dGluZ3NfPXt9fWV2YWx1YXRlKHQpe2NvbnN0IGU9dGhpcy5wYXJhbWV0ZXJQb3NpdGlvbnM7bGV0IG49dGhpcy5fY2FjaGVkSW5kZXgsaT1lW25dLHI9ZVtuLTFdO3Q6e2U6e2xldCBzO246e2k6aWYoISh0PGkpKXtmb3IobGV0IHM9bisyOzspe2lmKHZvaWQgMD09PWkpe2lmKHQ8cilicmVhayBpO3JldHVybiBuPWUubGVuZ3RoLHRoaXMuX2NhY2hlZEluZGV4PW4sdGhpcy5hZnRlckVuZF8obi0xLHQscil9aWYobj09PXMpYnJlYWs7aWYocj1pLGk9ZVsrK25dLHQ8aSlicmVhayBlfXM9ZS5sZW5ndGg7YnJlYWsgbn1pZih0Pj1yKWJyZWFrIHQ7e2NvbnN0IGE9ZVsxXTt0PGEmJihuPTIscj1hKTtmb3IobGV0IHM9bi0yOzspe2lmKHZvaWQgMD09PXIpcmV0dXJuIHRoaXMuX2NhY2hlZEluZGV4PTAsdGhpcy5iZWZvcmVTdGFydF8oMCx0LGkpO2lmKG49PT1zKWJyZWFrO2lmKGk9cixyPWVbLS1uLTFdLHQ+PXIpYnJlYWsgZX1zPW4sbj0wfX1mb3IoO248czspe2NvbnN0IGk9bitzPj4+MTt0PGVbaV0/cz1pOm49aSsxfWlmKGk9ZVtuXSxyPWVbbi0xXSx2b2lkIDA9PT1yKXJldHVybiB0aGlzLl9jYWNoZWRJbmRleD0wLHRoaXMuYmVmb3JlU3RhcnRfKDAsdCxpKTtpZih2b2lkIDA9PT1pKXJldHVybiBuPWUubGVuZ3RoLHRoaXMuX2NhY2hlZEluZGV4PW4sdGhpcy5hZnRlckVuZF8obi0xLHIsdCl9dGhpcy5fY2FjaGVkSW5kZXg9bix0aGlzLmludGVydmFsQ2hhbmdlZF8obixyLGkpfXJldHVybiB0aGlzLmludGVycG9sYXRlXyhuLHIsdCxpKX1nZXRTZXR0aW5nc18oKXtyZXR1cm4gdGhpcy5zZXR0aW5nc3x8dGhpcy5EZWZhdWx0U2V0dGluZ3NffWNvcHlTYW1wbGVWYWx1ZV8odCl7Y29uc3QgZT10aGlzLnJlc3VsdEJ1ZmZlcixuPXRoaXMuc2FtcGxlVmFsdWVzLGk9dGhpcy52YWx1ZVNpemUscj10Kmk7Zm9yKGxldCB0PTA7dCE9PWk7Kyt0KWVbdF09bltyK3RdO3JldHVybiBlfWludGVycG9sYXRlXygpe3Rocm93IG5ldyBFcnJvcigiY2FsbCB0byBhYnN0cmFjdCBtZXRob2QiKX1pbnRlcnZhbENoYW5nZWRfKCl7fX1Xby5wcm90b3R5cGUuYmVmb3JlU3RhcnRfPVdvLnByb3RvdHlwZS5jb3B5U2FtcGxlVmFsdWVfLFdvLnByb3RvdHlwZS5hZnRlckVuZF89V28ucHJvdG90eXBlLmNvcHlTYW1wbGVWYWx1ZV87Y2xhc3Mgam8gZXh0ZW5kcyBXb3tjb25zdHJ1Y3Rvcih0LGUsbixpKXtzdXBlcih0LGUsbixpKSx0aGlzLl93ZWlnaHRQcmV2PS0wLHRoaXMuX29mZnNldFByZXY9LTAsdGhpcy5fd2VpZ2h0TmV4dD0tMCx0aGlzLl9vZmZzZXROZXh0PS0wLHRoaXMuRGVmYXVsdFNldHRpbmdzXz17ZW5kaW5nU3RhcnQ6ayxlbmRpbmdFbmQ6a319aW50ZXJ2YWxDaGFuZ2VkXyh0LGUsbil7Y29uc3QgaT10aGlzLnBhcmFtZXRlclBvc2l0aW9ucztsZXQgcj10LTIscz10KzEsYT1pW3JdLG89aVtzXTtpZih2b2lkIDA9PT1hKXN3aXRjaCh0aGlzLmdldFNldHRpbmdzXygpLmVuZGluZ1N0YXJ0KXtjYXNlIFY6cj10LGE9MiplLW47YnJlYWs7Y2FzZSBXOnI9aS5sZW5ndGgtMixhPWUraVtyXS1pW3IrMV07YnJlYWs7ZGVmYXVsdDpyPXQsYT1ufWlmKHZvaWQgMD09PW8pc3dpdGNoKHRoaXMuZ2V0U2V0dGluZ3NfKCkuZW5kaW5nRW5kKXtjYXNlIFY6cz10LG89MipuLWU7YnJlYWs7Y2FzZSBXOnM9MSxvPW4raVsxXS1pWzBdO2JyZWFrO2RlZmF1bHQ6cz10LTEsbz1lfWNvbnN0IGw9LjUqKG4tZSksYz10aGlzLnZhbHVlU2l6ZTt0aGlzLl93ZWlnaHRQcmV2PWwvKGUtYSksdGhpcy5fd2VpZ2h0TmV4dD1sLyhvLW4pLHRoaXMuX29mZnNldFByZXY9cipjLHRoaXMuX29mZnNldE5leHQ9cypjfWludGVycG9sYXRlXyh0LGUsbixpKXtjb25zdCByPXRoaXMucmVzdWx0QnVmZmVyLHM9dGhpcy5zYW1wbGVWYWx1ZXMsYT10aGlzLnZhbHVlU2l6ZSxvPXQqYSxsPW8tYSxjPXRoaXMuX29mZnNldFByZXYsaD10aGlzLl9vZmZzZXROZXh0LHU9dGhpcy5fd2VpZ2h0UHJldixkPXRoaXMuX3dlaWdodE5leHQscD0obi1lKS8oaS1lKSxtPXAqcCxmPW0qcCxnPS11KmYrMip1Km0tdSpwLHY9KDErdSkqZisoLTEuNS0yKnUpKm0rKC0uNSt1KSpwKzEseT0oLTEtZCkqZisoMS41K2QpKm0rLjUqcCx4PWQqZi1kKm07Zm9yKGxldCB0PTA7dCE9PWE7Kyt0KXJbdF09ZypzW2MrdF0rdipzW2wrdF0reSpzW28rdF0reCpzW2grdF07cmV0dXJuIHJ9fWNsYXNzIHFvIGV4dGVuZHMgV297Y29uc3RydWN0b3IodCxlLG4saSl7c3VwZXIodCxlLG4saSl9aW50ZXJwb2xhdGVfKHQsZSxuLGkpe2NvbnN0IHI9dGhpcy5yZXN1bHRCdWZmZXIscz10aGlzLnNhbXBsZVZhbHVlcyxhPXRoaXMudmFsdWVTaXplLG89dCphLGw9by1hLGM9KG4tZSkvKGktZSksaD0xLWM7Zm9yKGxldCB0PTA7dCE9PWE7Kyt0KXJbdF09c1tsK3RdKmgrc1tvK3RdKmM7cmV0dXJuIHJ9fWNsYXNzIFhvIGV4dGVuZHMgV297Y29uc3RydWN0b3IodCxlLG4saSl7c3VwZXIodCxlLG4saSl9aW50ZXJwb2xhdGVfKHQpe3JldHVybiB0aGlzLmNvcHlTYW1wbGVWYWx1ZV8odC0xKX19Y2xhc3MgWW97Y29uc3RydWN0b3IodCxlLG4saSl7aWYodm9pZCAwPT09dCl0aHJvdyBuZXcgRXJyb3IoIlRIUkVFLktleWZyYW1lVHJhY2s6IHRyYWNrIG5hbWUgaXMgdW5kZWZpbmVkIik7aWYodm9pZCAwPT09ZXx8MD09PWUubGVuZ3RoKXRocm93IG5ldyBFcnJvcigiVEhSRUUuS2V5ZnJhbWVUcmFjazogbm8ga2V5ZnJhbWVzIGluIHRyYWNrIG5hbWVkICIrdCk7dGhpcy5uYW1lPXQsdGhpcy50aW1lcz1Wby5jb252ZXJ0QXJyYXkoZSx0aGlzLlRpbWVCdWZmZXJUeXBlKSx0aGlzLnZhbHVlcz1Wby5jb252ZXJ0QXJyYXkobix0aGlzLlZhbHVlQnVmZmVyVHlwZSksdGhpcy5zZXRJbnRlcnBvbGF0aW9uKGl8fHRoaXMuRGVmYXVsdEludGVycG9sYXRpb24pfXN0YXRpYyB0b0pTT04odCl7Y29uc3QgZT10LmNvbnN0cnVjdG9yO2xldCBuO2lmKGUudG9KU09OIT09dGhpcy50b0pTT04pbj1lLnRvSlNPTih0KTtlbHNle249e25hbWU6dC5uYW1lLHRpbWVzOlZvLmNvbnZlcnRBcnJheSh0LnRpbWVzLEFycmF5KSx2YWx1ZXM6Vm8uY29udmVydEFycmF5KHQudmFsdWVzLEFycmF5KX07Y29uc3QgZT10LmdldEludGVycG9sYXRpb24oKTtlIT09dC5EZWZhdWx0SW50ZXJwb2xhdGlvbiYmKG4uaW50ZXJwb2xhdGlvbj1lKX1yZXR1cm4gbi50eXBlPXQuVmFsdWVUeXBlTmFtZSxufUludGVycG9sYW50RmFjdG9yeU1ldGhvZERpc2NyZXRlKHQpe3JldHVybiBuZXcgWG8odGhpcy50aW1lcyx0aGlzLnZhbHVlcyx0aGlzLmdldFZhbHVlU2l6ZSgpLHQpfUludGVycG9sYW50RmFjdG9yeU1ldGhvZExpbmVhcih0KXtyZXR1cm4gbmV3IHFvKHRoaXMudGltZXMsdGhpcy52YWx1ZXMsdGhpcy5nZXRWYWx1ZVNpemUoKSx0KX1JbnRlcnBvbGFudEZhY3RvcnlNZXRob2RTbW9vdGgodCl7cmV0dXJuIG5ldyBqbyh0aGlzLnRpbWVzLHRoaXMudmFsdWVzLHRoaXMuZ2V0VmFsdWVTaXplKCksdCl9c2V0SW50ZXJwb2xhdGlvbih0KXtsZXQgZTtzd2l0Y2godCl7Y2FzZSBIOmU9dGhpcy5JbnRlcnBvbGFudEZhY3RvcnlNZXRob2REaXNjcmV0ZTticmVhaztjYXNlIEc6ZT10aGlzLkludGVycG9sYW50RmFjdG9yeU1ldGhvZExpbmVhcjticmVhaztjYXNlIFU6ZT10aGlzLkludGVycG9sYW50RmFjdG9yeU1ldGhvZFNtb290aH1pZih2b2lkIDA9PT1lKXtjb25zdCBlPSJ1bnN1cHBvcnRlZCBpbnRlcnBvbGF0aW9uIGZvciAiK3RoaXMuVmFsdWVUeXBlTmFtZSsiIGtleWZyYW1lIHRyYWNrIG5hbWVkICIrdGhpcy5uYW1lO2lmKHZvaWQgMD09PXRoaXMuY3JlYXRlSW50ZXJwb2xhbnQpe2lmKHQ9PT10aGlzLkRlZmF1bHRJbnRlcnBvbGF0aW9uKXRocm93IG5ldyBFcnJvcihlKTt0aGlzLnNldEludGVycG9sYXRpb24odGhpcy5EZWZhdWx0SW50ZXJwb2xhdGlvbil9cmV0dXJuIGNvbnNvbGUud2FybigiVEhSRUUuS2V5ZnJhbWVUcmFjazoiLGUpLHRoaXN9cmV0dXJuIHRoaXMuY3JlYXRlSW50ZXJwb2xhbnQ9ZSx0aGlzfWdldEludGVycG9sYXRpb24oKXtzd2l0Y2godGhpcy5jcmVhdGVJbnRlcnBvbGFudCl7Y2FzZSB0aGlzLkludGVycG9sYW50RmFjdG9yeU1ldGhvZERpc2NyZXRlOnJldHVybiBIO2Nhc2UgdGhpcy5JbnRlcnBvbGFudEZhY3RvcnlNZXRob2RMaW5lYXI6cmV0dXJuIEc7Y2FzZSB0aGlzLkludGVycG9sYW50RmFjdG9yeU1ldGhvZFNtb290aDpyZXR1cm4gVX19Z2V0VmFsdWVTaXplKCl7cmV0dXJuIHRoaXMudmFsdWVzLmxlbmd0aC90aGlzLnRpbWVzLmxlbmd0aH1zaGlmdCh0KXtpZigwIT09dCl7Y29uc3QgZT10aGlzLnRpbWVzO2ZvcihsZXQgbj0wLGk9ZS5sZW5ndGg7biE9PWk7KytuKWVbbl0rPXR9cmV0dXJuIHRoaXN9c2NhbGUodCl7aWYoMSE9PXQpe2NvbnN0IGU9dGhpcy50aW1lcztmb3IobGV0IG49MCxpPWUubGVuZ3RoO24hPT1pOysrbillW25dKj10fXJldHVybiB0aGlzfXRyaW0odCxlKXtjb25zdCBuPXRoaXMudGltZXMsaT1uLmxlbmd0aDtsZXQgcj0wLHM9aS0xO2Zvcig7ciE9PWkmJm5bcl08dDspKytyO2Zvcig7LTEhPT1zJiZuW3NdPmU7KS0tcztpZigrK3MsMCE9PXJ8fHMhPT1pKXtyPj1zJiYocz1NYXRoLm1heChzLDEpLHI9cy0xKTtjb25zdCB0PXRoaXMuZ2V0VmFsdWVTaXplKCk7dGhpcy50aW1lcz1Wby5hcnJheVNsaWNlKG4scixzKSx0aGlzLnZhbHVlcz1Wby5hcnJheVNsaWNlKHRoaXMudmFsdWVzLHIqdCxzKnQpfXJldHVybiB0aGlzfXZhbGlkYXRlKCl7bGV0IHQ9ITA7Y29uc3QgZT10aGlzLmdldFZhbHVlU2l6ZSgpO2UtTWF0aC5mbG9vcihlKSE9MCYmKGNvbnNvbGUuZXJyb3IoIlRIUkVFLktleWZyYW1lVHJhY2s6IEludmFsaWQgdmFsdWUgc2l6ZSBpbiB0cmFjay4iLHRoaXMpLHQ9ITEpO2NvbnN0IG49dGhpcy50aW1lcyxpPXRoaXMudmFsdWVzLHI9bi5sZW5ndGg7MD09PXImJihjb25zb2xlLmVycm9yKCJUSFJFRS5LZXlmcmFtZVRyYWNrOiBUcmFjayBpcyBlbXB0eS4iLHRoaXMpLHQ9ITEpO2xldCBzPW51bGw7Zm9yKGxldCBlPTA7ZSE9PXI7ZSsrKXtjb25zdCBpPW5bZV07aWYoIm51bWJlciI9PXR5cGVvZiBpJiZpc05hTihpKSl7Y29uc29sZS5lcnJvcigiVEhSRUUuS2V5ZnJhbWVUcmFjazogVGltZSBpcyBub3QgYSB2YWxpZCBudW1iZXIuIix0aGlzLGUsaSksdD0hMTticmVha31pZihudWxsIT09cyYmcz5pKXtjb25zb2xlLmVycm9yKCJUSFJFRS5LZXlmcmFtZVRyYWNrOiBPdXQgb2Ygb3JkZXIga2V5cy4iLHRoaXMsZSxpLHMpLHQ9ITE7YnJlYWt9cz1pfWlmKHZvaWQgMCE9PWkmJlZvLmlzVHlwZWRBcnJheShpKSlmb3IobGV0IGU9MCxuPWkubGVuZ3RoO2UhPT1uOysrZSl7Y29uc3Qgbj1pW2VdO2lmKGlzTmFOKG4pKXtjb25zb2xlLmVycm9yKCJUSFJFRS5LZXlmcmFtZVRyYWNrOiBWYWx1ZSBpcyBub3QgYSB2YWxpZCBudW1iZXIuIix0aGlzLGUsbiksdD0hMTticmVha319cmV0dXJuIHR9b3B0aW1pemUoKXtjb25zdCB0PVZvLmFycmF5U2xpY2UodGhpcy50aW1lcyksZT1Wby5hcnJheVNsaWNlKHRoaXMudmFsdWVzKSxuPXRoaXMuZ2V0VmFsdWVTaXplKCksaT10aGlzLmdldEludGVycG9sYXRpb24oKT09PVUscj10Lmxlbmd0aC0xO2xldCBzPTE7Zm9yKGxldCBhPTE7YTxyOysrYSl7bGV0IHI9ITE7Y29uc3Qgbz10W2FdO2lmKG8hPT10W2ErMV0mJigxIT09YXx8byE9PXRbMF0pKWlmKGkpcj0hMDtlbHNle2NvbnN0IHQ9YSpuLGk9dC1uLHM9dCtuO2ZvcihsZXQgYT0wO2EhPT1uOysrYSl7Y29uc3Qgbj1lW3QrYV07aWYobiE9PWVbaSthXXx8biE9PWVbcythXSl7cj0hMDticmVha319fWlmKHIpe2lmKGEhPT1zKXt0W3NdPXRbYV07Y29uc3QgaT1hKm4scj1zKm47Zm9yKGxldCB0PTA7dCE9PW47Kyt0KWVbcit0XT1lW2krdF19KytzfX1pZihyPjApe3Rbc109dFtyXTtmb3IobGV0IHQ9cipuLGk9cypuLGE9MDthIT09bjsrK2EpZVtpK2FdPWVbdCthXTsrK3N9cmV0dXJuIHMhPT10Lmxlbmd0aD8odGhpcy50aW1lcz1Wby5hcnJheVNsaWNlKHQsMCxzKSx0aGlzLnZhbHVlcz1Wby5hcnJheVNsaWNlKGUsMCxzKm4pKToodGhpcy50aW1lcz10LHRoaXMudmFsdWVzPWUpLHRoaXN9Y2xvbmUoKXtjb25zdCB0PVZvLmFycmF5U2xpY2UodGhpcy50aW1lcywwKSxlPVZvLmFycmF5U2xpY2UodGhpcy52YWx1ZXMsMCksbj1uZXcoMCx0aGlzLmNvbnN0cnVjdG9yKSh0aGlzLm5hbWUsdCxlKTtyZXR1cm4gbi5jcmVhdGVJbnRlcnBvbGFudD10aGlzLmNyZWF0ZUludGVycG9sYW50LG59fVlvLnByb3RvdHlwZS5UaW1lQnVmZmVyVHlwZT1GbG9hdDMyQXJyYXksWW8ucHJvdG90eXBlLlZhbHVlQnVmZmVyVHlwZT1GbG9hdDMyQXJyYXksWW8ucHJvdG90eXBlLkRlZmF1bHRJbnRlcnBvbGF0aW9uPUc7Y2xhc3MgWm8gZXh0ZW5kcyBZb3t9Wm8ucHJvdG90eXBlLlZhbHVlVHlwZU5hbWU9ImJvb2wiLFpvLnByb3RvdHlwZS5WYWx1ZUJ1ZmZlclR5cGU9QXJyYXksWm8ucHJvdG90eXBlLkRlZmF1bHRJbnRlcnBvbGF0aW9uPUgsWm8ucHJvdG90eXBlLkludGVycG9sYW50RmFjdG9yeU1ldGhvZExpbmVhcj12b2lkIDAsWm8ucHJvdG90eXBlLkludGVycG9sYW50RmFjdG9yeU1ldGhvZFNtb290aD12b2lkIDA7Y2xhc3MgSm8gZXh0ZW5kcyBZb3t9Sm8ucHJvdG90eXBlLlZhbHVlVHlwZU5hbWU9ImNvbG9yIjtjbGFzcyBRbyBleHRlbmRzIFlve31Rby5wcm90b3R5cGUuVmFsdWVUeXBlTmFtZT0ibnVtYmVyIjtjbGFzcyBLbyBleHRlbmRzIFdve2NvbnN0cnVjdG9yKHQsZSxuLGkpe3N1cGVyKHQsZSxuLGkpfWludGVycG9sYXRlXyh0LGUsbixpKXtjb25zdCByPXRoaXMucmVzdWx0QnVmZmVyLHM9dGhpcy5zYW1wbGVWYWx1ZXMsYT10aGlzLnZhbHVlU2l6ZSxvPShuLWUpLyhpLWUpO2xldCBsPXQqYTtmb3IobGV0IHQ9bCthO2whPT10O2wrPTQpQXQuc2xlcnBGbGF0KHIsMCxzLGwtYSxzLGwsbyk7cmV0dXJuIHJ9fWNsYXNzICRvIGV4dGVuZHMgWW97SW50ZXJwb2xhbnRGYWN0b3J5TWV0aG9kTGluZWFyKHQpe3JldHVybiBuZXcgS28odGhpcy50aW1lcyx0aGlzLnZhbHVlcyx0aGlzLmdldFZhbHVlU2l6ZSgpLHQpfX0kby5wcm90b3R5cGUuVmFsdWVUeXBlTmFtZT0icXVhdGVybmlvbiIsJG8ucHJvdG90eXBlLkRlZmF1bHRJbnRlcnBvbGF0aW9uPUcsJG8ucHJvdG90eXBlLkludGVycG9sYW50RmFjdG9yeU1ldGhvZFNtb290aD12b2lkIDA7Y2xhc3MgdGwgZXh0ZW5kcyBZb3t9dGwucHJvdG90eXBlLlZhbHVlVHlwZU5hbWU9InN0cmluZyIsdGwucHJvdG90eXBlLlZhbHVlQnVmZmVyVHlwZT1BcnJheSx0bC5wcm90b3R5cGUuRGVmYXVsdEludGVycG9sYXRpb249SCx0bC5wcm90b3R5cGUuSW50ZXJwb2xhbnRGYWN0b3J5TWV0aG9kTGluZWFyPXZvaWQgMCx0bC5wcm90b3R5cGUuSW50ZXJwb2xhbnRGYWN0b3J5TWV0aG9kU21vb3RoPXZvaWQgMDtjbGFzcyBlbCBleHRlbmRzIFlve31lbC5wcm90b3R5cGUuVmFsdWVUeXBlTmFtZT0idmVjdG9yIjtjbGFzcyBubHtjb25zdHJ1Y3Rvcih0LGU9LTEsbixpPTI1MDApe3RoaXMubmFtZT10LHRoaXMudHJhY2tzPW4sdGhpcy5kdXJhdGlvbj1lLHRoaXMuYmxlbmRNb2RlPWksdGhpcy51dWlkPWN0KCksdGhpcy5kdXJhdGlvbjwwJiZ0aGlzLnJlc2V0RHVyYXRpb24oKX1zdGF0aWMgcGFyc2UodCl7Y29uc3QgZT1bXSxuPXQudHJhY2tzLGk9MS8odC5mcHN8fDEpO2ZvcihsZXQgdD0wLHI9bi5sZW5ndGg7dCE9PXI7Kyt0KWUucHVzaChpbChuW3RdKS5zY2FsZShpKSk7Y29uc3Qgcj1uZXcgdGhpcyh0Lm5hbWUsdC5kdXJhdGlvbixlLHQuYmxlbmRNb2RlKTtyZXR1cm4gci51dWlkPXQudXVpZCxyfXN0YXRpYyB0b0pTT04odCl7Y29uc3QgZT1bXSxuPXQudHJhY2tzLGk9e25hbWU6dC5uYW1lLGR1cmF0aW9uOnQuZHVyYXRpb24sdHJhY2tzOmUsdXVpZDp0LnV1aWQsYmxlbmRNb2RlOnQuYmxlbmRNb2RlfTtmb3IobGV0IHQ9MCxpPW4ubGVuZ3RoO3QhPT1pOysrdCllLnB1c2goWW8udG9KU09OKG5bdF0pKTtyZXR1cm4gaX1zdGF0aWMgQ3JlYXRlRnJvbU1vcnBoVGFyZ2V0U2VxdWVuY2UodCxlLG4saSl7Y29uc3Qgcj1lLmxlbmd0aCxzPVtdO2ZvcihsZXQgdD0wO3Q8cjt0Kyspe2xldCBhPVtdLG89W107YS5wdXNoKCh0K3ItMSklcix0LCh0KzEpJXIpLG8ucHVzaCgwLDEsMCk7Y29uc3QgbD1Wby5nZXRLZXlmcmFtZU9yZGVyKGEpO2E9Vm8uc29ydGVkQXJyYXkoYSwxLGwpLG89Vm8uc29ydGVkQXJyYXkobywxLGwpLGl8fDAhPT1hWzBdfHwoYS5wdXNoKHIpLG8ucHVzaChvWzBdKSkscy5wdXNoKG5ldyBRbygiLm1vcnBoVGFyZ2V0SW5mbHVlbmNlc1siK2VbdF0ubmFtZSsiXSIsYSxvKS5zY2FsZSgxL24pKX1yZXR1cm4gbmV3IHRoaXModCwtMSxzKX1zdGF0aWMgZmluZEJ5TmFtZSh0LGUpe2xldCBuPXQ7aWYoIUFycmF5LmlzQXJyYXkodCkpe2NvbnN0IGU9dDtuPWUuZ2VvbWV0cnkmJmUuZ2VvbWV0cnkuYW5pbWF0aW9uc3x8ZS5hbmltYXRpb25zfWZvcihsZXQgdD0wO3Q8bi5sZW5ndGg7dCsrKWlmKG5bdF0ubmFtZT09PWUpcmV0dXJuIG5bdF07cmV0dXJuIG51bGx9c3RhdGljIENyZWF0ZUNsaXBzRnJvbU1vcnBoVGFyZ2V0U2VxdWVuY2VzKHQsZSxuKXtjb25zdCBpPXt9LHI9L14oW1x3LV0qPykoW1xkXSspJC87Zm9yKGxldCBlPTAsbj10Lmxlbmd0aDtlPG47ZSsrKXtjb25zdCBuPXRbZV0scz1uLm5hbWUubWF0Y2gocik7aWYocyYmcy5sZW5ndGg+MSl7Y29uc3QgdD1zWzFdO2xldCBlPWlbdF07ZXx8KGlbdF09ZT1bXSksZS5wdXNoKG4pfX1jb25zdCBzPVtdO2Zvcihjb25zdCB0IGluIGkpcy5wdXNoKHRoaXMuQ3JlYXRlRnJvbU1vcnBoVGFyZ2V0U2VxdWVuY2UodCxpW3RdLGUsbikpO3JldHVybiBzfXN0YXRpYyBwYXJzZUFuaW1hdGlvbih0LGUpe2lmKCF0KXJldHVybiBjb25zb2xlLmVycm9yKCJUSFJFRS5BbmltYXRpb25DbGlwOiBObyBhbmltYXRpb24gaW4gSlNPTkxvYWRlciBkYXRhLiIpLG51bGw7Y29uc3Qgbj1mdW5jdGlvbih0LGUsbixpLHIpe2lmKDAhPT1uLmxlbmd0aCl7Y29uc3Qgcz1bXSxhPVtdO1ZvLmZsYXR0ZW5KU09OKG4scyxhLGkpLDAhPT1zLmxlbmd0aCYmci5wdXNoKG5ldyB0KGUscyxhKSl9fSxpPVtdLHI9dC5uYW1lfHwiZGVmYXVsdCIscz10LmZwc3x8MzAsYT10LmJsZW5kTW9kZTtsZXQgbz10Lmxlbmd0aHx8LTE7Y29uc3QgbD10LmhpZXJhcmNoeXx8W107Zm9yKGxldCB0PTA7dDxsLmxlbmd0aDt0Kyspe2NvbnN0IHI9bFt0XS5rZXlzO2lmKHImJjAhPT1yLmxlbmd0aClpZihyWzBdLm1vcnBoVGFyZ2V0cyl7Y29uc3QgdD17fTtsZXQgZTtmb3IoZT0wO2U8ci5sZW5ndGg7ZSsrKWlmKHJbZV0ubW9ycGhUYXJnZXRzKWZvcihsZXQgbj0wO248cltlXS5tb3JwaFRhcmdldHMubGVuZ3RoO24rKyl0W3JbZV0ubW9ycGhUYXJnZXRzW25dXT0tMTtmb3IoY29uc3QgbiBpbiB0KXtjb25zdCB0PVtdLHM9W107Zm9yKGxldCBpPTA7aSE9PXJbZV0ubW9ycGhUYXJnZXRzLmxlbmd0aDsrK2kpe2NvbnN0IGk9cltlXTt0LnB1c2goaS50aW1lKSxzLnB1c2goaS5tb3JwaFRhcmdldD09PW4/MTowKX1pLnB1c2gobmV3IFFvKCIubW9ycGhUYXJnZXRJbmZsdWVuY2VbIituKyJdIix0LHMpKX1vPXQubGVuZ3RoKihzfHwxKX1lbHNle2NvbnN0IHM9Ii5ib25lc1siK2VbdF0ubmFtZSsiXSI7bihlbCxzKyIucG9zaXRpb24iLHIsInBvcyIsaSksbigkbyxzKyIucXVhdGVybmlvbiIsciwicm90IixpKSxuKGVsLHMrIi5zY2FsZSIsciwic2NsIixpKX19aWYoMD09PWkubGVuZ3RoKXJldHVybiBudWxsO3JldHVybiBuZXcgdGhpcyhyLG8saSxhKX1yZXNldER1cmF0aW9uKCl7bGV0IHQ9MDtmb3IobGV0IGU9MCxuPXRoaXMudHJhY2tzLmxlbmd0aDtlIT09bjsrK2Upe2NvbnN0IG49dGhpcy50cmFja3NbZV07dD1NYXRoLm1heCh0LG4udGltZXNbbi50aW1lcy5sZW5ndGgtMV0pfXJldHVybiB0aGlzLmR1cmF0aW9uPXQsdGhpc310cmltKCl7Zm9yKGxldCB0PTA7dDx0aGlzLnRyYWNrcy5sZW5ndGg7dCsrKXRoaXMudHJhY2tzW3RdLnRyaW0oMCx0aGlzLmR1cmF0aW9uKTtyZXR1cm4gdGhpc312YWxpZGF0ZSgpe2xldCB0PSEwO2ZvcihsZXQgZT0wO2U8dGhpcy50cmFja3MubGVuZ3RoO2UrKyl0PXQmJnRoaXMudHJhY2tzW2VdLnZhbGlkYXRlKCk7cmV0dXJuIHR9b3B0aW1pemUoKXtmb3IobGV0IHQ9MDt0PHRoaXMudHJhY2tzLmxlbmd0aDt0KyspdGhpcy50cmFja3NbdF0ub3B0aW1pemUoKTtyZXR1cm4gdGhpc31jbG9uZSgpe2NvbnN0IHQ9W107Zm9yKGxldCBlPTA7ZTx0aGlzLnRyYWNrcy5sZW5ndGg7ZSsrKXQucHVzaCh0aGlzLnRyYWNrc1tlXS5jbG9uZSgpKTtyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IodGhpcy5uYW1lLHRoaXMuZHVyYXRpb24sdCx0aGlzLmJsZW5kTW9kZSl9dG9KU09OKCl7cmV0dXJuIHRoaXMuY29uc3RydWN0b3IudG9KU09OKHRoaXMpfX1mdW5jdGlvbiBpbCh0KXtpZih2b2lkIDA9PT10LnR5cGUpdGhyb3cgbmV3IEVycm9yKCJUSFJFRS5LZXlmcmFtZVRyYWNrOiB0cmFjayB0eXBlIHVuZGVmaW5lZCwgY2FuIG5vdCBwYXJzZSIpO2NvbnN0IGU9ZnVuY3Rpb24odCl7c3dpdGNoKHQudG9Mb3dlckNhc2UoKSl7Y2FzZSJzY2FsYXIiOmNhc2UiZG91YmxlIjpjYXNlImZsb2F0IjpjYXNlIm51bWJlciI6Y2FzZSJpbnRlZ2VyIjpyZXR1cm4gUW87Y2FzZSJ2ZWN0b3IiOmNhc2UidmVjdG9yMiI6Y2FzZSJ2ZWN0b3IzIjpjYXNlInZlY3RvcjQiOnJldHVybiBlbDtjYXNlImNvbG9yIjpyZXR1cm4gSm87Y2FzZSJxdWF0ZXJuaW9uIjpyZXR1cm4gJG87Y2FzZSJib29sIjpjYXNlImJvb2xlYW4iOnJldHVybiBabztjYXNlInN0cmluZyI6cmV0dXJuIHRsfXRocm93IG5ldyBFcnJvcigiVEhSRUUuS2V5ZnJhbWVUcmFjazogVW5zdXBwb3J0ZWQgdHlwZU5hbWU6ICIrdCl9KHQudHlwZSk7aWYodm9pZCAwPT09dC50aW1lcyl7Y29uc3QgZT1bXSxuPVtdO1ZvLmZsYXR0ZW5KU09OKHQua2V5cyxlLG4sInZhbHVlIiksdC50aW1lcz1lLHQudmFsdWVzPW59cmV0dXJuIHZvaWQgMCE9PWUucGFyc2U/ZS5wYXJzZSh0KTpuZXcgZSh0Lm5hbWUsdC50aW1lcyx0LnZhbHVlcyx0LmludGVycG9sYXRpb24pfWNvbnN0IHJsPXtlbmFibGVkOiExLGZpbGVzOnt9LGFkZDpmdW5jdGlvbih0LGUpeyExIT09dGhpcy5lbmFibGVkJiYodGhpcy5maWxlc1t0XT1lKX0sZ2V0OmZ1bmN0aW9uKHQpe2lmKCExIT09dGhpcy5lbmFibGVkKXJldHVybiB0aGlzLmZpbGVzW3RdfSxyZW1vdmU6ZnVuY3Rpb24odCl7ZGVsZXRlIHRoaXMuZmlsZXNbdF19LGNsZWFyOmZ1bmN0aW9uKCl7dGhpcy5maWxlcz17fX19O2NsYXNzIHNse2NvbnN0cnVjdG9yKHQsZSxuKXtjb25zdCBpPXRoaXM7bGV0IHIscz0hMSxhPTAsbz0wO2NvbnN0IGw9W107dGhpcy5vblN0YXJ0PXZvaWQgMCx0aGlzLm9uTG9hZD10LHRoaXMub25Qcm9ncmVzcz1lLHRoaXMub25FcnJvcj1uLHRoaXMuaXRlbVN0YXJ0PWZ1bmN0aW9uKHQpe28rKywhMT09PXMmJnZvaWQgMCE9PWkub25TdGFydCYmaS5vblN0YXJ0KHQsYSxvKSxzPSEwfSx0aGlzLml0ZW1FbmQ9ZnVuY3Rpb24odCl7YSsrLHZvaWQgMCE9PWkub25Qcm9ncmVzcyYmaS5vblByb2dyZXNzKHQsYSxvKSxhPT09byYmKHM9ITEsdm9pZCAwIT09aS5vbkxvYWQmJmkub25Mb2FkKCkpfSx0aGlzLml0ZW1FcnJvcj1mdW5jdGlvbih0KXt2b2lkIDAhPT1pLm9uRXJyb3ImJmkub25FcnJvcih0KX0sdGhpcy5yZXNvbHZlVVJMPWZ1bmN0aW9uKHQpe3JldHVybiByP3IodCk6dH0sdGhpcy5zZXRVUkxNb2RpZmllcj1mdW5jdGlvbih0KXtyZXR1cm4gcj10LHRoaXN9LHRoaXMuYWRkSGFuZGxlcj1mdW5jdGlvbih0LGUpe3JldHVybiBsLnB1c2godCxlKSx0aGlzfSx0aGlzLnJlbW92ZUhhbmRsZXI9ZnVuY3Rpb24odCl7Y29uc3QgZT1sLmluZGV4T2YodCk7cmV0dXJuLTEhPT1lJiZsLnNwbGljZShlLDIpLHRoaXN9LHRoaXMuZ2V0SGFuZGxlcj1mdW5jdGlvbih0KXtmb3IobGV0IGU9MCxuPWwubGVuZ3RoO2U8bjtlKz0yKXtjb25zdCBuPWxbZV0saT1sW2UrMV07aWYobi5nbG9iYWwmJihuLmxhc3RJbmRleD0wKSxuLnRlc3QodCkpcmV0dXJuIGl9cmV0dXJuIG51bGx9fX1jb25zdCBhbD1uZXcgc2w7Y2xhc3Mgb2x7Y29uc3RydWN0b3IodCl7dGhpcy5tYW5hZ2VyPXZvaWQgMCE9PXQ/dDphbCx0aGlzLmNyb3NzT3JpZ2luPSJhbm9ueW1vdXMiLHRoaXMud2l0aENyZWRlbnRpYWxzPSExLHRoaXMucGF0aD0iIix0aGlzLnJlc291cmNlUGF0aD0iIix0aGlzLnJlcXVlc3RIZWFkZXI9e319bG9hZCgpe31sb2FkQXN5bmModCxlKXtjb25zdCBuPXRoaXM7cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbihpLHIpe24ubG9hZCh0LGksZSxyKX0pKX1wYXJzZSgpe31zZXRDcm9zc09yaWdpbih0KXtyZXR1cm4gdGhpcy5jcm9zc09yaWdpbj10LHRoaXN9c2V0V2l0aENyZWRlbnRpYWxzKHQpe3JldHVybiB0aGlzLndpdGhDcmVkZW50aWFscz10LHRoaXN9c2V0UGF0aCh0KXtyZXR1cm4gdGhpcy5wYXRoPXQsdGhpc31zZXRSZXNvdXJjZVBhdGgodCl7cmV0dXJuIHRoaXMucmVzb3VyY2VQYXRoPXQsdGhpc31zZXRSZXF1ZXN0SGVhZGVyKHQpe3JldHVybiB0aGlzLnJlcXVlc3RIZWFkZXI9dCx0aGlzfX1jb25zdCBsbD17fTtjbGFzcyBjbCBleHRlbmRzIG9se2NvbnN0cnVjdG9yKHQpe3N1cGVyKHQpfWxvYWQodCxlLG4saSl7dm9pZCAwPT09dCYmKHQ9IiIpLHZvaWQgMCE9PXRoaXMucGF0aCYmKHQ9dGhpcy5wYXRoK3QpLHQ9dGhpcy5tYW5hZ2VyLnJlc29sdmVVUkwodCk7Y29uc3Qgcj10aGlzLHM9cmwuZ2V0KHQpO2lmKHZvaWQgMCE9PXMpcmV0dXJuIHIubWFuYWdlci5pdGVtU3RhcnQodCksc2V0VGltZW91dCgoZnVuY3Rpb24oKXtlJiZlKHMpLHIubWFuYWdlci5pdGVtRW5kKHQpfSksMCkscztpZih2b2lkIDAhPT1sbFt0XSlyZXR1cm4gdm9pZCBsbFt0XS5wdXNoKHtvbkxvYWQ6ZSxvblByb2dyZXNzOm4sb25FcnJvcjppfSk7Y29uc3QgYT10Lm1hdGNoKC9eZGF0YTooLio/KSg7YmFzZTY0KT8sKC4qKSQvKTtsZXQgbztpZihhKXtjb25zdCBuPWFbMV0scz0hIWFbMl07bGV0IG89YVszXTtvPWRlY29kZVVSSUNvbXBvbmVudChvKSxzJiYobz1hdG9iKG8pKTt0cnl7bGV0IGk7Y29uc3Qgcz0odGhpcy5yZXNwb25zZVR5cGV8fCIiKS50b0xvd2VyQ2FzZSgpO3N3aXRjaChzKXtjYXNlImFycmF5YnVmZmVyIjpjYXNlImJsb2IiOmNvbnN0IHQ9bmV3IFVpbnQ4QXJyYXkoby5sZW5ndGgpO2ZvcihsZXQgZT0wO2U8by5sZW5ndGg7ZSsrKXRbZV09by5jaGFyQ29kZUF0KGUpO2k9ImJsb2IiPT09cz9uZXcgQmxvYihbdC5idWZmZXJdLHt0eXBlOm59KTp0LmJ1ZmZlcjticmVhaztjYXNlImRvY3VtZW50Ijpjb25zdCBlPW5ldyBET01QYXJzZXI7aT1lLnBhcnNlRnJvbVN0cmluZyhvLG4pO2JyZWFrO2Nhc2UianNvbiI6aT1KU09OLnBhcnNlKG8pO2JyZWFrO2RlZmF1bHQ6aT1vfXNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7ZSYmZShpKSxyLm1hbmFnZXIuaXRlbUVuZCh0KX0pLDApfWNhdGNoKGUpe3NldFRpbWVvdXQoKGZ1bmN0aW9uKCl7aSYmaShlKSxyLm1hbmFnZXIuaXRlbUVycm9yKHQpLHIubWFuYWdlci5pdGVtRW5kKHQpfSksMCl9fWVsc2V7bGxbdF09W10sbGxbdF0ucHVzaCh7b25Mb2FkOmUsb25Qcm9ncmVzczpuLG9uRXJyb3I6aX0pLG89bmV3IFhNTEh0dHBSZXF1ZXN0LG8ub3BlbigiR0VUIix0LCEwKSxvLmFkZEV2ZW50TGlzdGVuZXIoImxvYWQiLChmdW5jdGlvbihlKXtjb25zdCBuPXRoaXMucmVzcG9uc2UsaT1sbFt0XTtpZihkZWxldGUgbGxbdF0sMjAwPT09dGhpcy5zdGF0dXN8fDA9PT10aGlzLnN0YXR1cyl7MD09PXRoaXMuc3RhdHVzJiZjb25zb2xlLndhcm4oIlRIUkVFLkZpbGVMb2FkZXI6IEhUVFAgU3RhdHVzIDAgcmVjZWl2ZWQuIikscmwuYWRkKHQsbik7Zm9yKGxldCB0PTAsZT1pLmxlbmd0aDt0PGU7dCsrKXtjb25zdCBlPWlbdF07ZS5vbkxvYWQmJmUub25Mb2FkKG4pfXIubWFuYWdlci5pdGVtRW5kKHQpfWVsc2V7Zm9yKGxldCB0PTAsbj1pLmxlbmd0aDt0PG47dCsrKXtjb25zdCBuPWlbdF07bi5vbkVycm9yJiZuLm9uRXJyb3IoZSl9ci5tYW5hZ2VyLml0ZW1FcnJvcih0KSxyLm1hbmFnZXIuaXRlbUVuZCh0KX19KSwhMSksby5hZGRFdmVudExpc3RlbmVyKCJwcm9ncmVzcyIsKGZ1bmN0aW9uKGUpe2NvbnN0IG49bGxbdF07Zm9yKGxldCB0PTAsaT1uLmxlbmd0aDt0PGk7dCsrKXtjb25zdCBpPW5bdF07aS5vblByb2dyZXNzJiZpLm9uUHJvZ3Jlc3MoZSl9fSksITEpLG8uYWRkRXZlbnRMaXN0ZW5lcigiZXJyb3IiLChmdW5jdGlvbihlKXtjb25zdCBuPWxsW3RdO2RlbGV0ZSBsbFt0XTtmb3IobGV0IHQ9MCxpPW4ubGVuZ3RoO3Q8aTt0Kyspe2NvbnN0IGk9blt0XTtpLm9uRXJyb3ImJmkub25FcnJvcihlKX1yLm1hbmFnZXIuaXRlbUVycm9yKHQpLHIubWFuYWdlci5pdGVtRW5kKHQpfSksITEpLG8uYWRkRXZlbnRMaXN0ZW5lcigiYWJvcnQiLChmdW5jdGlvbihlKXtjb25zdCBuPWxsW3RdO2RlbGV0ZSBsbFt0XTtmb3IobGV0IHQ9MCxpPW4ubGVuZ3RoO3Q8aTt0Kyspe2NvbnN0IGk9blt0XTtpLm9uRXJyb3ImJmkub25FcnJvcihlKX1yLm1hbmFnZXIuaXRlbUVycm9yKHQpLHIubWFuYWdlci5pdGVtRW5kKHQpfSksITEpLHZvaWQgMCE9PXRoaXMucmVzcG9uc2VUeXBlJiYoby5yZXNwb25zZVR5cGU9dGhpcy5yZXNwb25zZVR5cGUpLHZvaWQgMCE9PXRoaXMud2l0aENyZWRlbnRpYWxzJiYoby53aXRoQ3JlZGVudGlhbHM9dGhpcy53aXRoQ3JlZGVudGlhbHMpLG8ub3ZlcnJpZGVNaW1lVHlwZSYmby5vdmVycmlkZU1pbWVUeXBlKHZvaWQgMCE9PXRoaXMubWltZVR5cGU/dGhpcy5taW1lVHlwZToidGV4dC9wbGFpbiIpO2Zvcihjb25zdCB0IGluIHRoaXMucmVxdWVzdEhlYWRlcilvLnNldFJlcXVlc3RIZWFkZXIodCx0aGlzLnJlcXVlc3RIZWFkZXJbdF0pO28uc2VuZChudWxsKX1yZXR1cm4gci5tYW5hZ2VyLml0ZW1TdGFydCh0KSxvfXNldFJlc3BvbnNlVHlwZSh0KXtyZXR1cm4gdGhpcy5yZXNwb25zZVR5cGU9dCx0aGlzfXNldE1pbWVUeXBlKHQpe3JldHVybiB0aGlzLm1pbWVUeXBlPXQsdGhpc319Y2xhc3MgaGwgZXh0ZW5kcyBvbHtjb25zdHJ1Y3Rvcih0KXtzdXBlcih0KX1sb2FkKHQsZSxuLGkpe3ZvaWQgMCE9PXRoaXMucGF0aCYmKHQ9dGhpcy5wYXRoK3QpLHQ9dGhpcy5tYW5hZ2VyLnJlc29sdmVVUkwodCk7Y29uc3Qgcj10aGlzLHM9cmwuZ2V0KHQpO2lmKHZvaWQgMCE9PXMpcmV0dXJuIHIubWFuYWdlci5pdGVtU3RhcnQodCksc2V0VGltZW91dCgoZnVuY3Rpb24oKXtlJiZlKHMpLHIubWFuYWdlci5pdGVtRW5kKHQpfSksMCkscztjb25zdCBhPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUygiaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIsImltZyIpO2Z1bmN0aW9uIG8oKXthLnJlbW92ZUV2ZW50TGlzdGVuZXIoImxvYWQiLG8sITEpLGEucmVtb3ZlRXZlbnRMaXN0ZW5lcigiZXJyb3IiLGwsITEpLHJsLmFkZCh0LHRoaXMpLGUmJmUodGhpcyksci5tYW5hZ2VyLml0ZW1FbmQodCl9ZnVuY3Rpb24gbChlKXthLnJlbW92ZUV2ZW50TGlzdGVuZXIoImxvYWQiLG8sITEpLGEucmVtb3ZlRXZlbnRMaXN0ZW5lcigiZXJyb3IiLGwsITEpLGkmJmkoZSksci5tYW5hZ2VyLml0ZW1FcnJvcih0KSxyLm1hbmFnZXIuaXRlbUVuZCh0KX1yZXR1cm4gYS5hZGRFdmVudExpc3RlbmVyKCJsb2FkIixvLCExKSxhLmFkZEV2ZW50TGlzdGVuZXIoImVycm9yIixsLCExKSwiZGF0YToiIT09dC5zdWJzdHIoMCw1KSYmdm9pZCAwIT09dGhpcy5jcm9zc09yaWdpbiYmKGEuY3Jvc3NPcmlnaW49dGhpcy5jcm9zc09yaWdpbiksci5tYW5hZ2VyLml0ZW1TdGFydCh0KSxhLnNyYz10LGF9fWNsYXNzIHVsIGV4dGVuZHMgb2x7Y29uc3RydWN0b3IodCl7c3VwZXIodCl9bG9hZCh0LGUsbixpKXtjb25zdCByPW5ldyBlaSxzPW5ldyBobCh0aGlzLm1hbmFnZXIpO3Muc2V0Q3Jvc3NPcmlnaW4odGhpcy5jcm9zc09yaWdpbikscy5zZXRQYXRoKHRoaXMucGF0aCk7bGV0IGE9MDtmdW5jdGlvbiBvKG4pe3MubG9hZCh0W25dLChmdW5jdGlvbih0KXtyLmltYWdlc1tuXT10LGErKyw2PT09YSYmKHIubmVlZHNVcGRhdGU9ITAsZSYmZShyKSl9KSx2b2lkIDAsaSl9Zm9yKGxldCBlPTA7ZTx0Lmxlbmd0aDsrK2UpbyhlKTtyZXR1cm4gcn19Y2xhc3MgZGwgZXh0ZW5kcyBvbHtjb25zdHJ1Y3Rvcih0KXtzdXBlcih0KX1sb2FkKHQsZSxuLGkpe2NvbnN0IHI9dGhpcyxzPW5ldyBpaSxhPW5ldyBjbCh0aGlzLm1hbmFnZXIpO3JldHVybiBhLnNldFJlc3BvbnNlVHlwZSgiYXJyYXlidWZmZXIiKSxhLnNldFJlcXVlc3RIZWFkZXIodGhpcy5yZXF1ZXN0SGVhZGVyKSxhLnNldFBhdGgodGhpcy5wYXRoKSxhLnNldFdpdGhDcmVkZW50aWFscyhyLndpdGhDcmVkZW50aWFscyksYS5sb2FkKHQsKGZ1bmN0aW9uKHQpe2NvbnN0IG49ci5wYXJzZSh0KTtuJiYodm9pZCAwIT09bi5pbWFnZT9zLmltYWdlPW4uaW1hZ2U6dm9pZCAwIT09bi5kYXRhJiYocy5pbWFnZS53aWR0aD1uLndpZHRoLHMuaW1hZ2UuaGVpZ2h0PW4uaGVpZ2h0LHMuaW1hZ2UuZGF0YT1uLmRhdGEpLHMud3JhcFM9dm9pZCAwIT09bi53cmFwUz9uLndyYXBTOnUscy53cmFwVD12b2lkIDAhPT1uLndyYXBUP24ud3JhcFQ6dSxzLm1hZ0ZpbHRlcj12b2lkIDAhPT1uLm1hZ0ZpbHRlcj9uLm1hZ0ZpbHRlcjpnLHMubWluRmlsdGVyPXZvaWQgMCE9PW4ubWluRmlsdGVyP24ubWluRmlsdGVyOmcscy5hbmlzb3Ryb3B5PXZvaWQgMCE9PW4uYW5pc290cm9weT9uLmFuaXNvdHJvcHk6MSx2b2lkIDAhPT1uLmVuY29kaW5nJiYocy5lbmNvZGluZz1uLmVuY29kaW5nKSx2b2lkIDAhPT1uLmZsaXBZJiYocy5mbGlwWT1uLmZsaXBZKSx2b2lkIDAhPT1uLmZvcm1hdCYmKHMuZm9ybWF0PW4uZm9ybWF0KSx2b2lkIDAhPT1uLnR5cGUmJihzLnR5cGU9bi50eXBlKSx2b2lkIDAhPT1uLm1pcG1hcHMmJihzLm1pcG1hcHM9bi5taXBtYXBzLHMubWluRmlsdGVyPXkpLDE9PT1uLm1pcG1hcENvdW50JiYocy5taW5GaWx0ZXI9Zyksdm9pZCAwIT09bi5nZW5lcmF0ZU1pcG1hcHMmJihzLmdlbmVyYXRlTWlwbWFwcz1uLmdlbmVyYXRlTWlwbWFwcykscy5uZWVkc1VwZGF0ZT0hMCxlJiZlKHMsbikpfSksbixpKSxzfX1jbGFzcyBwbCBleHRlbmRzIG9se2NvbnN0cnVjdG9yKHQpe3N1cGVyKHQpfWxvYWQodCxlLG4saSl7Y29uc3Qgcj1uZXcgYnQscz1uZXcgaGwodGhpcy5tYW5hZ2VyKTtyZXR1cm4gcy5zZXRDcm9zc09yaWdpbih0aGlzLmNyb3NzT3JpZ2luKSxzLnNldFBhdGgodGhpcy5wYXRoKSxzLmxvYWQodCwoZnVuY3Rpb24obil7ci5pbWFnZT1uO2NvbnN0IGk9dC5zZWFyY2goL1wuanBlP2coJHxcPykvaSk+MHx8MD09PXQuc2VhcmNoKC9eZGF0YVw6aW1hZ2VcL2pwZWcvKTtyLmZvcm1hdD1pP1Q6RSxyLm5lZWRzVXBkYXRlPSEwLHZvaWQgMCE9PWUmJmUocil9KSxuLGkpLHJ9fWNsYXNzIG1se2NvbnN0cnVjdG9yKCl7dGhpcy50eXBlPSJDdXJ2ZSIsdGhpcy5hcmNMZW5ndGhEaXZpc2lvbnM9MjAwfWdldFBvaW50KCl7cmV0dXJuIGNvbnNvbGUud2FybigiVEhSRUUuQ3VydmU6IC5nZXRQb2ludCgpIG5vdCBpbXBsZW1lbnRlZC4iKSxudWxsfWdldFBvaW50QXQodCxlKXtjb25zdCBuPXRoaXMuZ2V0VXRvVG1hcHBpbmcodCk7cmV0dXJuIHRoaXMuZ2V0UG9pbnQobixlKX1nZXRQb2ludHModD01KXtjb25zdCBlPVtdO2ZvcihsZXQgbj0wO248PXQ7bisrKWUucHVzaCh0aGlzLmdldFBvaW50KG4vdCkpO3JldHVybiBlfWdldFNwYWNlZFBvaW50cyh0PTUpe2NvbnN0IGU9W107Zm9yKGxldCBuPTA7bjw9dDtuKyspZS5wdXNoKHRoaXMuZ2V0UG9pbnRBdChuL3QpKTtyZXR1cm4gZX1nZXRMZW5ndGgoKXtjb25zdCB0PXRoaXMuZ2V0TGVuZ3RocygpO3JldHVybiB0W3QubGVuZ3RoLTFdfWdldExlbmd0aHModD10aGlzLmFyY0xlbmd0aERpdmlzaW9ucyl7aWYodGhpcy5jYWNoZUFyY0xlbmd0aHMmJnRoaXMuY2FjaGVBcmNMZW5ndGhzLmxlbmd0aD09PXQrMSYmIXRoaXMubmVlZHNVcGRhdGUpcmV0dXJuIHRoaXMuY2FjaGVBcmNMZW5ndGhzO3RoaXMubmVlZHNVcGRhdGU9ITE7Y29uc3QgZT1bXTtsZXQgbixpPXRoaXMuZ2V0UG9pbnQoMCkscj0wO2UucHVzaCgwKTtmb3IobGV0IHM9MTtzPD10O3MrKyluPXRoaXMuZ2V0UG9pbnQocy90KSxyKz1uLmRpc3RhbmNlVG8oaSksZS5wdXNoKHIpLGk9bjtyZXR1cm4gdGhpcy5jYWNoZUFyY0xlbmd0aHM9ZSxlfXVwZGF0ZUFyY0xlbmd0aHMoKXt0aGlzLm5lZWRzVXBkYXRlPSEwLHRoaXMuZ2V0TGVuZ3RocygpfWdldFV0b1RtYXBwaW5nKHQsZSl7Y29uc3Qgbj10aGlzLmdldExlbmd0aHMoKTtsZXQgaT0wO2NvbnN0IHI9bi5sZW5ndGg7bGV0IHM7cz1lfHx0Km5bci0xXTtsZXQgYSxvPTAsbD1yLTE7Zm9yKDtvPD1sOylpZihpPU1hdGguZmxvb3IobysobC1vKS8yKSxhPW5baV0tcyxhPDApbz1pKzE7ZWxzZXtpZighKGE+MCkpe2w9aTticmVha31sPWktMX1pZihpPWwsbltpXT09PXMpcmV0dXJuIGkvKHItMSk7Y29uc3QgYz1uW2ldO3JldHVybihpKyhzLWMpLyhuW2krMV0tYykpLyhyLTEpfWdldFRhbmdlbnQodCxlKXtjb25zdCBuPTFlLTQ7bGV0IGk9dC1uLHI9dCtuO2k8MCYmKGk9MCkscj4xJiYocj0xKTtjb25zdCBzPXRoaXMuZ2V0UG9pbnQoaSksYT10aGlzLmdldFBvaW50KHIpLG89ZXx8KHMuaXNWZWN0b3IyP25ldyB2dDpuZXcgTHQpO3JldHVybiBvLmNvcHkoYSkuc3ViKHMpLm5vcm1hbGl6ZSgpLG99Z2V0VGFuZ2VudEF0KHQsZSl7Y29uc3Qgbj10aGlzLmdldFV0b1RtYXBwaW5nKHQpO3JldHVybiB0aGlzLmdldFRhbmdlbnQobixlKX1jb21wdXRlRnJlbmV0RnJhbWVzKHQsZSl7Y29uc3Qgbj1uZXcgTHQsaT1bXSxyPVtdLHM9W10sYT1uZXcgTHQsbz1uZXcgc2U7Zm9yKGxldCBlPTA7ZTw9dDtlKyspe2NvbnN0IG49ZS90O2lbZV09dGhpcy5nZXRUYW5nZW50QXQobixuZXcgTHQpLGlbZV0ubm9ybWFsaXplKCl9clswXT1uZXcgTHQsc1swXT1uZXcgTHQ7bGV0IGw9TnVtYmVyLk1BWF9WQUxVRTtjb25zdCBjPU1hdGguYWJzKGlbMF0ueCksaD1NYXRoLmFicyhpWzBdLnkpLHU9TWF0aC5hYnMoaVswXS56KTtjPD1sJiYobD1jLG4uc2V0KDEsMCwwKSksaDw9bCYmKGw9aCxuLnNldCgwLDEsMCkpLHU8PWwmJm4uc2V0KDAsMCwxKSxhLmNyb3NzVmVjdG9ycyhpWzBdLG4pLm5vcm1hbGl6ZSgpLHJbMF0uY3Jvc3NWZWN0b3JzKGlbMF0sYSksc1swXS5jcm9zc1ZlY3RvcnMoaVswXSxyWzBdKTtmb3IobGV0IGU9MTtlPD10O2UrKyl7aWYocltlXT1yW2UtMV0uY2xvbmUoKSxzW2VdPXNbZS0xXS5jbG9uZSgpLGEuY3Jvc3NWZWN0b3JzKGlbZS0xXSxpW2VdKSxhLmxlbmd0aCgpPk51bWJlci5FUFNJTE9OKXthLm5vcm1hbGl6ZSgpO2NvbnN0IHQ9TWF0aC5hY29zKGh0KGlbZS0xXS5kb3QoaVtlXSksLTEsMSkpO3JbZV0uYXBwbHlNYXRyaXg0KG8ubWFrZVJvdGF0aW9uQXhpcyhhLHQpKX1zW2VdLmNyb3NzVmVjdG9ycyhpW2VdLHJbZV0pfWlmKCEwPT09ZSl7bGV0IGU9TWF0aC5hY29zKGh0KHJbMF0uZG90KHJbdF0pLC0xLDEpKTtlLz10LGlbMF0uZG90KGEuY3Jvc3NWZWN0b3JzKHJbMF0sclt0XSkpPjAmJihlPS1lKTtmb3IobGV0IG49MTtuPD10O24rKylyW25dLmFwcGx5TWF0cml4NChvLm1ha2VSb3RhdGlvbkF4aXMoaVtuXSxlKm4pKSxzW25dLmNyb3NzVmVjdG9ycyhpW25dLHJbbl0pfXJldHVybnt0YW5nZW50czppLG5vcm1hbHM6cixiaW5vcm1hbHM6c319Y2xvbmUoKXtyZXR1cm4obmV3IHRoaXMuY29uc3RydWN0b3IpLmNvcHkodGhpcyl9Y29weSh0KXtyZXR1cm4gdGhpcy5hcmNMZW5ndGhEaXZpc2lvbnM9dC5hcmNMZW5ndGhEaXZpc2lvbnMsdGhpc310b0pTT04oKXtjb25zdCB0PXttZXRhZGF0YTp7dmVyc2lvbjo0LjUsdHlwZToiQ3VydmUiLGdlbmVyYXRvcjoiQ3VydmUudG9KU09OIn19O3JldHVybiB0LmFyY0xlbmd0aERpdmlzaW9ucz10aGlzLmFyY0xlbmd0aERpdmlzaW9ucyx0LnR5cGU9dGhpcy50eXBlLHR9ZnJvbUpTT04odCl7cmV0dXJuIHRoaXMuYXJjTGVuZ3RoRGl2aXNpb25zPXQuYXJjTGVuZ3RoRGl2aXNpb25zLHRoaXN9fWNsYXNzIGZsIGV4dGVuZHMgbWx7Y29uc3RydWN0b3IodD0wLGU9MCxuPTEsaT0xLHI9MCxzPTIqTWF0aC5QSSxhPSExLG89MCl7c3VwZXIoKSx0aGlzLnR5cGU9IkVsbGlwc2VDdXJ2ZSIsdGhpcy5hWD10LHRoaXMuYVk9ZSx0aGlzLnhSYWRpdXM9bix0aGlzLnlSYWRpdXM9aSx0aGlzLmFTdGFydEFuZ2xlPXIsdGhpcy5hRW5kQW5nbGU9cyx0aGlzLmFDbG9ja3dpc2U9YSx0aGlzLmFSb3RhdGlvbj1vfWdldFBvaW50KHQsZSl7Y29uc3Qgbj1lfHxuZXcgdnQsaT0yKk1hdGguUEk7bGV0IHI9dGhpcy5hRW5kQW5nbGUtdGhpcy5hU3RhcnRBbmdsZTtjb25zdCBzPU1hdGguYWJzKHIpPE51bWJlci5FUFNJTE9OO2Zvcig7cjwwOylyKz1pO2Zvcig7cj5pOylyLT1pO3I8TnVtYmVyLkVQU0lMT04mJihyPXM/MDppKSwhMCE9PXRoaXMuYUNsb2Nrd2lzZXx8c3x8KHI9PT1pP3I9LWk6ci09aSk7Y29uc3QgYT10aGlzLmFTdGFydEFuZ2xlK3QqcjtsZXQgbz10aGlzLmFYK3RoaXMueFJhZGl1cypNYXRoLmNvcyhhKSxsPXRoaXMuYVkrdGhpcy55UmFkaXVzKk1hdGguc2luKGEpO2lmKDAhPT10aGlzLmFSb3RhdGlvbil7Y29uc3QgdD1NYXRoLmNvcyh0aGlzLmFSb3RhdGlvbiksZT1NYXRoLnNpbih0aGlzLmFSb3RhdGlvbiksbj1vLXRoaXMuYVgsaT1sLXRoaXMuYVk7bz1uKnQtaSplK3RoaXMuYVgsbD1uKmUraSp0K3RoaXMuYVl9cmV0dXJuIG4uc2V0KG8sbCl9Y29weSh0KXtyZXR1cm4gc3VwZXIuY29weSh0KSx0aGlzLmFYPXQuYVgsdGhpcy5hWT10LmFZLHRoaXMueFJhZGl1cz10LnhSYWRpdXMsdGhpcy55UmFkaXVzPXQueVJhZGl1cyx0aGlzLmFTdGFydEFuZ2xlPXQuYVN0YXJ0QW5nbGUsdGhpcy5hRW5kQW5nbGU9dC5hRW5kQW5nbGUsdGhpcy5hQ2xvY2t3aXNlPXQuYUNsb2Nrd2lzZSx0aGlzLmFSb3RhdGlvbj10LmFSb3RhdGlvbix0aGlzfXRvSlNPTigpe2NvbnN0IHQ9c3VwZXIudG9KU09OKCk7cmV0dXJuIHQuYVg9dGhpcy5hWCx0LmFZPXRoaXMuYVksdC54UmFkaXVzPXRoaXMueFJhZGl1cyx0LnlSYWRpdXM9dGhpcy55UmFkaXVzLHQuYVN0YXJ0QW5nbGU9dGhpcy5hU3RhcnRBbmdsZSx0LmFFbmRBbmdsZT10aGlzLmFFbmRBbmdsZSx0LmFDbG9ja3dpc2U9dGhpcy5hQ2xvY2t3aXNlLHQuYVJvdGF0aW9uPXRoaXMuYVJvdGF0aW9uLHR9ZnJvbUpTT04odCl7cmV0dXJuIHN1cGVyLmZyb21KU09OKHQpLHRoaXMuYVg9dC5hWCx0aGlzLmFZPXQuYVksdGhpcy54UmFkaXVzPXQueFJhZGl1cyx0aGlzLnlSYWRpdXM9dC55UmFkaXVzLHRoaXMuYVN0YXJ0QW5nbGU9dC5hU3RhcnRBbmdsZSx0aGlzLmFFbmRBbmdsZT10LmFFbmRBbmdsZSx0aGlzLmFDbG9ja3dpc2U9dC5hQ2xvY2t3aXNlLHRoaXMuYVJvdGF0aW9uPXQuYVJvdGF0aW9uLHRoaXN9fWZsLnByb3RvdHlwZS5pc0VsbGlwc2VDdXJ2ZT0hMDtjbGFzcyBnbCBleHRlbmRzIGZse2NvbnN0cnVjdG9yKHQsZSxuLGkscixzKXtzdXBlcih0LGUsbixuLGkscixzKSx0aGlzLnR5cGU9IkFyY0N1cnZlIn19ZnVuY3Rpb24gdmwoKXtsZXQgdD0wLGU9MCxuPTAsaT0wO2Z1bmN0aW9uIHIocixzLGEsbyl7dD1yLGU9YSxuPS0zKnIrMypzLTIqYS1vLGk9MipyLTIqcythK299cmV0dXJue2luaXRDYXRtdWxsUm9tOmZ1bmN0aW9uKHQsZSxuLGkscyl7cihlLG4scyoobi10KSxzKihpLWUpKX0saW5pdE5vbnVuaWZvcm1DYXRtdWxsUm9tOmZ1bmN0aW9uKHQsZSxuLGkscyxhLG8pe2xldCBsPShlLXQpL3MtKG4tdCkvKHMrYSkrKG4tZSkvYSxjPShuLWUpL2EtKGktZSkvKGErbykrKGktbikvbztsKj1hLGMqPWEscihlLG4sbCxjKX0sY2FsYzpmdW5jdGlvbihyKXtjb25zdCBzPXIqcjtyZXR1cm4gdCtlKnIrbipzK2kqKHMqcil9fX1nbC5wcm90b3R5cGUuaXNBcmNDdXJ2ZT0hMDtjb25zdCB5bD1uZXcgTHQseGw9bmV3IHZsLF9sPW5ldyB2bCx3bD1uZXcgdmw7Y2xhc3MgYmwgZXh0ZW5kcyBtbHtjb25zdHJ1Y3Rvcih0PVtdLGU9ITEsbj0iY2VudHJpcGV0YWwiLGk9LjUpe3N1cGVyKCksdGhpcy50eXBlPSJDYXRtdWxsUm9tQ3VydmUzIix0aGlzLnBvaW50cz10LHRoaXMuY2xvc2VkPWUsdGhpcy5jdXJ2ZVR5cGU9bix0aGlzLnRlbnNpb249aX1nZXRQb2ludCh0LGU9bmV3IEx0KXtjb25zdCBuPWUsaT10aGlzLnBvaW50cyxyPWkubGVuZ3RoLHM9KHItKHRoaXMuY2xvc2VkPzA6MSkpKnQ7bGV0IGEsbyxsPU1hdGguZmxvb3IocyksYz1zLWw7dGhpcy5jbG9zZWQ/bCs9bD4wPzA6KE1hdGguZmxvb3IoTWF0aC5hYnMobCkvcikrMSkqcjowPT09YyYmbD09PXItMSYmKGw9ci0yLGM9MSksdGhpcy5jbG9zZWR8fGw+MD9hPWlbKGwtMSklcl06KHlsLnN1YlZlY3RvcnMoaVswXSxpWzFdKS5hZGQoaVswXSksYT15bCk7Y29uc3QgaD1pW2wlcl0sdT1pWyhsKzEpJXJdO2lmKHRoaXMuY2xvc2VkfHxsKzI8cj9vPWlbKGwrMiklcl06KHlsLnN1YlZlY3RvcnMoaVtyLTFdLGlbci0yXSkuYWRkKGlbci0xXSksbz15bCksImNlbnRyaXBldGFsIj09PXRoaXMuY3VydmVUeXBlfHwiY2hvcmRhbCI9PT10aGlzLmN1cnZlVHlwZSl7Y29uc3QgdD0iY2hvcmRhbCI9PT10aGlzLmN1cnZlVHlwZT8uNTouMjU7bGV0IGU9TWF0aC5wb3coYS5kaXN0YW5jZVRvU3F1YXJlZChoKSx0KSxuPU1hdGgucG93KGguZGlzdGFuY2VUb1NxdWFyZWQodSksdCksaT1NYXRoLnBvdyh1LmRpc3RhbmNlVG9TcXVhcmVkKG8pLHQpO248MWUtNCYmKG49MSksZTwxZS00JiYoZT1uKSxpPDFlLTQmJihpPW4pLHhsLmluaXROb251bmlmb3JtQ2F0bXVsbFJvbShhLngsaC54LHUueCxvLngsZSxuLGkpLF9sLmluaXROb251bmlmb3JtQ2F0bXVsbFJvbShhLnksaC55LHUueSxvLnksZSxuLGkpLHdsLmluaXROb251bmlmb3JtQ2F0bXVsbFJvbShhLnosaC56LHUueixvLnosZSxuLGkpfWVsc2UiY2F0bXVsbHJvbSI9PT10aGlzLmN1cnZlVHlwZSYmKHhsLmluaXRDYXRtdWxsUm9tKGEueCxoLngsdS54LG8ueCx0aGlzLnRlbnNpb24pLF9sLmluaXRDYXRtdWxsUm9tKGEueSxoLnksdS55LG8ueSx0aGlzLnRlbnNpb24pLHdsLmluaXRDYXRtdWxsUm9tKGEueixoLnosdS56LG8ueix0aGlzLnRlbnNpb24pKTtyZXR1cm4gbi5zZXQoeGwuY2FsYyhjKSxfbC5jYWxjKGMpLHdsLmNhbGMoYykpLG59Y29weSh0KXtzdXBlci5jb3B5KHQpLHRoaXMucG9pbnRzPVtdO2ZvcihsZXQgZT0wLG49dC5wb2ludHMubGVuZ3RoO2U8bjtlKyspe2NvbnN0IG49dC5wb2ludHNbZV07dGhpcy5wb2ludHMucHVzaChuLmNsb25lKCkpfXJldHVybiB0aGlzLmNsb3NlZD10LmNsb3NlZCx0aGlzLmN1cnZlVHlwZT10LmN1cnZlVHlwZSx0aGlzLnRlbnNpb249dC50ZW5zaW9uLHRoaXN9dG9KU09OKCl7Y29uc3QgdD1zdXBlci50b0pTT04oKTt0LnBvaW50cz1bXTtmb3IobGV0IGU9MCxuPXRoaXMucG9pbnRzLmxlbmd0aDtlPG47ZSsrKXtjb25zdCBuPXRoaXMucG9pbnRzW2VdO3QucG9pbnRzLnB1c2gobi50b0FycmF5KCkpfXJldHVybiB0LmNsb3NlZD10aGlzLmNsb3NlZCx0LmN1cnZlVHlwZT10aGlzLmN1cnZlVHlwZSx0LnRlbnNpb249dGhpcy50ZW5zaW9uLHR9ZnJvbUpTT04odCl7c3VwZXIuZnJvbUpTT04odCksdGhpcy5wb2ludHM9W107Zm9yKGxldCBlPTAsbj10LnBvaW50cy5sZW5ndGg7ZTxuO2UrKyl7Y29uc3Qgbj10LnBvaW50c1tlXTt0aGlzLnBvaW50cy5wdXNoKChuZXcgTHQpLmZyb21BcnJheShuKSl9cmV0dXJuIHRoaXMuY2xvc2VkPXQuY2xvc2VkLHRoaXMuY3VydmVUeXBlPXQuY3VydmVUeXBlLHRoaXMudGVuc2lvbj10LnRlbnNpb24sdGhpc319ZnVuY3Rpb24gTWwodCxlLG4saSxyKXtjb25zdCBzPS41KihpLWUpLGE9LjUqKHItbiksbz10KnQ7cmV0dXJuKDIqbi0yKmkrcythKSoodCpvKSsoLTMqbiszKmktMipzLWEpKm8rcyp0K259ZnVuY3Rpb24gU2wodCxlLG4saSl7cmV0dXJuIGZ1bmN0aW9uKHQsZSl7Y29uc3Qgbj0xLXQ7cmV0dXJuIG4qbiplfSh0LGUpK2Z1bmN0aW9uKHQsZSl7cmV0dXJuIDIqKDEtdCkqdCplfSh0LG4pK2Z1bmN0aW9uKHQsZSl7cmV0dXJuIHQqdCplfSh0LGkpfWZ1bmN0aW9uIFRsKHQsZSxuLGkscil7cmV0dXJuIGZ1bmN0aW9uKHQsZSl7Y29uc3Qgbj0xLXQ7cmV0dXJuIG4qbipuKmV9KHQsZSkrZnVuY3Rpb24odCxlKXtjb25zdCBuPTEtdDtyZXR1cm4gMypuKm4qdCplfSh0LG4pK2Z1bmN0aW9uKHQsZSl7cmV0dXJuIDMqKDEtdCkqdCp0KmV9KHQsaSkrZnVuY3Rpb24odCxlKXtyZXR1cm4gdCp0KnQqZX0odCxyKX1ibC5wcm90b3R5cGUuaXNDYXRtdWxsUm9tQ3VydmUzPSEwO2NsYXNzIEVsIGV4dGVuZHMgbWx7Y29uc3RydWN0b3IodD1uZXcgdnQsZT1uZXcgdnQsbj1uZXcgdnQsaT1uZXcgdnQpe3N1cGVyKCksdGhpcy50eXBlPSJDdWJpY0JlemllckN1cnZlIix0aGlzLnYwPXQsdGhpcy52MT1lLHRoaXMudjI9bix0aGlzLnYzPWl9Z2V0UG9pbnQodCxlPW5ldyB2dCl7Y29uc3Qgbj1lLGk9dGhpcy52MCxyPXRoaXMudjEscz10aGlzLnYyLGE9dGhpcy52MztyZXR1cm4gbi5zZXQoVGwodCxpLngsci54LHMueCxhLngpLFRsKHQsaS55LHIueSxzLnksYS55KSksbn1jb3B5KHQpe3JldHVybiBzdXBlci5jb3B5KHQpLHRoaXMudjAuY29weSh0LnYwKSx0aGlzLnYxLmNvcHkodC52MSksdGhpcy52Mi5jb3B5KHQudjIpLHRoaXMudjMuY29weSh0LnYzKSx0aGlzfXRvSlNPTigpe2NvbnN0IHQ9c3VwZXIudG9KU09OKCk7cmV0dXJuIHQudjA9dGhpcy52MC50b0FycmF5KCksdC52MT10aGlzLnYxLnRvQXJyYXkoKSx0LnYyPXRoaXMudjIudG9BcnJheSgpLHQudjM9dGhpcy52My50b0FycmF5KCksdH1mcm9tSlNPTih0KXtyZXR1cm4gc3VwZXIuZnJvbUpTT04odCksdGhpcy52MC5mcm9tQXJyYXkodC52MCksdGhpcy52MS5mcm9tQXJyYXkodC52MSksdGhpcy52Mi5mcm9tQXJyYXkodC52MiksdGhpcy52My5mcm9tQXJyYXkodC52MyksdGhpc319RWwucHJvdG90eXBlLmlzQ3ViaWNCZXppZXJDdXJ2ZT0hMDtjbGFzcyBBbCBleHRlbmRzIG1se2NvbnN0cnVjdG9yKHQ9bmV3IEx0LGU9bmV3IEx0LG49bmV3IEx0LGk9bmV3IEx0KXtzdXBlcigpLHRoaXMudHlwZT0iQ3ViaWNCZXppZXJDdXJ2ZTMiLHRoaXMudjA9dCx0aGlzLnYxPWUsdGhpcy52Mj1uLHRoaXMudjM9aX1nZXRQb2ludCh0LGU9bmV3IEx0KXtjb25zdCBuPWUsaT10aGlzLnYwLHI9dGhpcy52MSxzPXRoaXMudjIsYT10aGlzLnYzO3JldHVybiBuLnNldChUbCh0LGkueCxyLngscy54LGEueCksVGwodCxpLnksci55LHMueSxhLnkpLFRsKHQsaS56LHIueixzLnosYS56KSksbn1jb3B5KHQpe3JldHVybiBzdXBlci5jb3B5KHQpLHRoaXMudjAuY29weSh0LnYwKSx0aGlzLnYxLmNvcHkodC52MSksdGhpcy52Mi5jb3B5KHQudjIpLHRoaXMudjMuY29weSh0LnYzKSx0aGlzfXRvSlNPTigpe2NvbnN0IHQ9c3VwZXIudG9KU09OKCk7cmV0dXJuIHQudjA9dGhpcy52MC50b0FycmF5KCksdC52MT10aGlzLnYxLnRvQXJyYXkoKSx0LnYyPXRoaXMudjIudG9BcnJheSgpLHQudjM9dGhpcy52My50b0FycmF5KCksdH1mcm9tSlNPTih0KXtyZXR1cm4gc3VwZXIuZnJvbUpTT04odCksdGhpcy52MC5mcm9tQXJyYXkodC52MCksdGhpcy52MS5mcm9tQXJyYXkodC52MSksdGhpcy52Mi5mcm9tQXJyYXkodC52MiksdGhpcy52My5mcm9tQXJyYXkodC52MyksdGhpc319QWwucHJvdG90eXBlLmlzQ3ViaWNCZXppZXJDdXJ2ZTM9ITA7Y2xhc3MgTGwgZXh0ZW5kcyBtbHtjb25zdHJ1Y3Rvcih0PW5ldyB2dCxlPW5ldyB2dCl7c3VwZXIoKSx0aGlzLnR5cGU9IkxpbmVDdXJ2ZSIsdGhpcy52MT10LHRoaXMudjI9ZX1nZXRQb2ludCh0LGU9bmV3IHZ0KXtjb25zdCBuPWU7cmV0dXJuIDE9PT10P24uY29weSh0aGlzLnYyKToobi5jb3B5KHRoaXMudjIpLnN1Yih0aGlzLnYxKSxuLm11bHRpcGx5U2NhbGFyKHQpLmFkZCh0aGlzLnYxKSksbn1nZXRQb2ludEF0KHQsZSl7cmV0dXJuIHRoaXMuZ2V0UG9pbnQodCxlKX1nZXRUYW5nZW50KHQsZSl7Y29uc3Qgbj1lfHxuZXcgdnQ7cmV0dXJuIG4uY29weSh0aGlzLnYyKS5zdWIodGhpcy52MSkubm9ybWFsaXplKCksbn1jb3B5KHQpe3JldHVybiBzdXBlci5jb3B5KHQpLHRoaXMudjEuY29weSh0LnYxKSx0aGlzLnYyLmNvcHkodC52MiksdGhpc310b0pTT04oKXtjb25zdCB0PXN1cGVyLnRvSlNPTigpO3JldHVybiB0LnYxPXRoaXMudjEudG9BcnJheSgpLHQudjI9dGhpcy52Mi50b0FycmF5KCksdH1mcm9tSlNPTih0KXtyZXR1cm4gc3VwZXIuZnJvbUpTT04odCksdGhpcy52MS5mcm9tQXJyYXkodC52MSksdGhpcy52Mi5mcm9tQXJyYXkodC52MiksdGhpc319TGwucHJvdG90eXBlLmlzTGluZUN1cnZlPSEwO2NsYXNzIFJsIGV4dGVuZHMgbWx7Y29uc3RydWN0b3IodD1uZXcgTHQsZT1uZXcgTHQpe3N1cGVyKCksdGhpcy50eXBlPSJMaW5lQ3VydmUzIix0aGlzLmlzTGluZUN1cnZlMz0hMCx0aGlzLnYxPXQsdGhpcy52Mj1lfWdldFBvaW50KHQsZT1uZXcgTHQpe2NvbnN0IG49ZTtyZXR1cm4gMT09PXQ/bi5jb3B5KHRoaXMudjIpOihuLmNvcHkodGhpcy52Mikuc3ViKHRoaXMudjEpLG4ubXVsdGlwbHlTY2FsYXIodCkuYWRkKHRoaXMudjEpKSxufWdldFBvaW50QXQodCxlKXtyZXR1cm4gdGhpcy5nZXRQb2ludCh0LGUpfWNvcHkodCl7cmV0dXJuIHN1cGVyLmNvcHkodCksdGhpcy52MS5jb3B5KHQudjEpLHRoaXMudjIuY29weSh0LnYyKSx0aGlzfXRvSlNPTigpe2NvbnN0IHQ9c3VwZXIudG9KU09OKCk7cmV0dXJuIHQudjE9dGhpcy52MS50b0FycmF5KCksdC52Mj10aGlzLnYyLnRvQXJyYXkoKSx0fWZyb21KU09OKHQpe3JldHVybiBzdXBlci5mcm9tSlNPTih0KSx0aGlzLnYxLmZyb21BcnJheSh0LnYxKSx0aGlzLnYyLmZyb21BcnJheSh0LnYyKSx0aGlzfX1jbGFzcyBDbCBleHRlbmRzIG1se2NvbnN0cnVjdG9yKHQ9bmV3IHZ0LGU9bmV3IHZ0LG49bmV3IHZ0KXtzdXBlcigpLHRoaXMudHlwZT0iUXVhZHJhdGljQmV6aWVyQ3VydmUiLHRoaXMudjA9dCx0aGlzLnYxPWUsdGhpcy52Mj1ufWdldFBvaW50KHQsZT1uZXcgdnQpe2NvbnN0IG49ZSxpPXRoaXMudjAscj10aGlzLnYxLHM9dGhpcy52MjtyZXR1cm4gbi5zZXQoU2wodCxpLngsci54LHMueCksU2wodCxpLnksci55LHMueSkpLG59Y29weSh0KXtyZXR1cm4gc3VwZXIuY29weSh0KSx0aGlzLnYwLmNvcHkodC52MCksdGhpcy52MS5jb3B5KHQudjEpLHRoaXMudjIuY29weSh0LnYyKSx0aGlzfXRvSlNPTigpe2NvbnN0IHQ9c3VwZXIudG9KU09OKCk7cmV0dXJuIHQudjA9dGhpcy52MC50b0FycmF5KCksdC52MT10aGlzLnYxLnRvQXJyYXkoKSx0LnYyPXRoaXMudjIudG9BcnJheSgpLHR9ZnJvbUpTT04odCl7cmV0dXJuIHN1cGVyLmZyb21KU09OKHQpLHRoaXMudjAuZnJvbUFycmF5KHQudjApLHRoaXMudjEuZnJvbUFycmF5KHQudjEpLHRoaXMudjIuZnJvbUFycmF5KHQudjIpLHRoaXN9fUNsLnByb3RvdHlwZS5pc1F1YWRyYXRpY0JlemllckN1cnZlPSEwO2NsYXNzIFBsIGV4dGVuZHMgbWx7Y29uc3RydWN0b3IodD1uZXcgTHQsZT1uZXcgTHQsbj1uZXcgTHQpe3N1cGVyKCksdGhpcy50eXBlPSJRdWFkcmF0aWNCZXppZXJDdXJ2ZTMiLHRoaXMudjA9dCx0aGlzLnYxPWUsdGhpcy52Mj1ufWdldFBvaW50KHQsZT1uZXcgTHQpe2NvbnN0IG49ZSxpPXRoaXMudjAscj10aGlzLnYxLHM9dGhpcy52MjtyZXR1cm4gbi5zZXQoU2wodCxpLngsci54LHMueCksU2wodCxpLnksci55LHMueSksU2wodCxpLnosci56LHMueikpLG59Y29weSh0KXtyZXR1cm4gc3VwZXIuY29weSh0KSx0aGlzLnYwLmNvcHkodC52MCksdGhpcy52MS5jb3B5KHQudjEpLHRoaXMudjIuY29weSh0LnYyKSx0aGlzfXRvSlNPTigpe2NvbnN0IHQ9c3VwZXIudG9KU09OKCk7cmV0dXJuIHQudjA9dGhpcy52MC50b0FycmF5KCksdC52MT10aGlzLnYxLnRvQXJyYXkoKSx0LnYyPXRoaXMudjIudG9BcnJheSgpLHR9ZnJvbUpTT04odCl7cmV0dXJuIHN1cGVyLmZyb21KU09OKHQpLHRoaXMudjAuZnJvbUFycmF5KHQudjApLHRoaXMudjEuZnJvbUFycmF5KHQudjEpLHRoaXMudjIuZnJvbUFycmF5KHQudjIpLHRoaXN9fVBsLnByb3RvdHlwZS5pc1F1YWRyYXRpY0JlemllckN1cnZlMz0hMDtjbGFzcyBEbCBleHRlbmRzIG1se2NvbnN0cnVjdG9yKHQ9W10pe3N1cGVyKCksdGhpcy50eXBlPSJTcGxpbmVDdXJ2ZSIsdGhpcy5wb2ludHM9dH1nZXRQb2ludCh0LGU9bmV3IHZ0KXtjb25zdCBuPWUsaT10aGlzLnBvaW50cyxyPShpLmxlbmd0aC0xKSp0LHM9TWF0aC5mbG9vcihyKSxhPXItcyxvPWlbMD09PXM/czpzLTFdLGw9aVtzXSxjPWlbcz5pLmxlbmd0aC0yP2kubGVuZ3RoLTE6cysxXSxoPWlbcz5pLmxlbmd0aC0zP2kubGVuZ3RoLTE6cysyXTtyZXR1cm4gbi5zZXQoTWwoYSxvLngsbC54LGMueCxoLngpLE1sKGEsby55LGwueSxjLnksaC55KSksbn1jb3B5KHQpe3N1cGVyLmNvcHkodCksdGhpcy5wb2ludHM9W107Zm9yKGxldCBlPTAsbj10LnBvaW50cy5sZW5ndGg7ZTxuO2UrKyl7Y29uc3Qgbj10LnBvaW50c1tlXTt0aGlzLnBvaW50cy5wdXNoKG4uY2xvbmUoKSl9cmV0dXJuIHRoaXN9dG9KU09OKCl7Y29uc3QgdD1zdXBlci50b0pTT04oKTt0LnBvaW50cz1bXTtmb3IobGV0IGU9MCxuPXRoaXMucG9pbnRzLmxlbmd0aDtlPG47ZSsrKXtjb25zdCBuPXRoaXMucG9pbnRzW2VdO3QucG9pbnRzLnB1c2gobi50b0FycmF5KCkpfXJldHVybiB0fWZyb21KU09OKHQpe3N1cGVyLmZyb21KU09OKHQpLHRoaXMucG9pbnRzPVtdO2ZvcihsZXQgZT0wLG49dC5wb2ludHMubGVuZ3RoO2U8bjtlKyspe2NvbnN0IG49dC5wb2ludHNbZV07dGhpcy5wb2ludHMucHVzaCgobmV3IHZ0KS5mcm9tQXJyYXkobikpfXJldHVybiB0aGlzfX1EbC5wcm90b3R5cGUuaXNTcGxpbmVDdXJ2ZT0hMDt2YXIgSWw9T2JqZWN0LmZyZWV6ZSh7X19wcm90b19fOm51bGwsQXJjQ3VydmU6Z2wsQ2F0bXVsbFJvbUN1cnZlMzpibCxDdWJpY0JlemllckN1cnZlOkVsLEN1YmljQmV6aWVyQ3VydmUzOkFsLEVsbGlwc2VDdXJ2ZTpmbCxMaW5lQ3VydmU6TGwsTGluZUN1cnZlMzpSbCxRdWFkcmF0aWNCZXppZXJDdXJ2ZTpDbCxRdWFkcmF0aWNCZXppZXJDdXJ2ZTM6UGwsU3BsaW5lQ3VydmU6RGx9KTtjbGFzcyBObCBleHRlbmRzIG1se2NvbnN0cnVjdG9yKCl7c3VwZXIoKSx0aGlzLnR5cGU9IkN1cnZlUGF0aCIsdGhpcy5jdXJ2ZXM9W10sdGhpcy5hdXRvQ2xvc2U9ITF9YWRkKHQpe3RoaXMuY3VydmVzLnB1c2godCl9Y2xvc2VQYXRoKCl7Y29uc3QgdD10aGlzLmN1cnZlc1swXS5nZXRQb2ludCgwKSxlPXRoaXMuY3VydmVzW3RoaXMuY3VydmVzLmxlbmd0aC0xXS5nZXRQb2ludCgxKTt0LmVxdWFscyhlKXx8dGhpcy5jdXJ2ZXMucHVzaChuZXcgTGwoZSx0KSl9Z2V0UG9pbnQodCl7Y29uc3QgZT10KnRoaXMuZ2V0TGVuZ3RoKCksbj10aGlzLmdldEN1cnZlTGVuZ3RocygpO2xldCBpPTA7Zm9yKDtpPG4ubGVuZ3RoOyl7aWYobltpXT49ZSl7Y29uc3QgdD1uW2ldLWUscj10aGlzLmN1cnZlc1tpXSxzPXIuZ2V0TGVuZ3RoKCksYT0wPT09cz8wOjEtdC9zO3JldHVybiByLmdldFBvaW50QXQoYSl9aSsrfXJldHVybiBudWxsfWdldExlbmd0aCgpe2NvbnN0IHQ9dGhpcy5nZXRDdXJ2ZUxlbmd0aHMoKTtyZXR1cm4gdFt0Lmxlbmd0aC0xXX11cGRhdGVBcmNMZW5ndGhzKCl7dGhpcy5uZWVkc1VwZGF0ZT0hMCx0aGlzLmNhY2hlTGVuZ3Rocz1udWxsLHRoaXMuZ2V0Q3VydmVMZW5ndGhzKCl9Z2V0Q3VydmVMZW5ndGhzKCl7aWYodGhpcy5jYWNoZUxlbmd0aHMmJnRoaXMuY2FjaGVMZW5ndGhzLmxlbmd0aD09PXRoaXMuY3VydmVzLmxlbmd0aClyZXR1cm4gdGhpcy5jYWNoZUxlbmd0aHM7Y29uc3QgdD1bXTtsZXQgZT0wO2ZvcihsZXQgbj0wLGk9dGhpcy5jdXJ2ZXMubGVuZ3RoO248aTtuKyspZSs9dGhpcy5jdXJ2ZXNbbl0uZ2V0TGVuZ3RoKCksdC5wdXNoKGUpO3JldHVybiB0aGlzLmNhY2hlTGVuZ3Rocz10LHR9Z2V0U3BhY2VkUG9pbnRzKHQ9NDApe2NvbnN0IGU9W107Zm9yKGxldCBuPTA7bjw9dDtuKyspZS5wdXNoKHRoaXMuZ2V0UG9pbnQobi90KSk7cmV0dXJuIHRoaXMuYXV0b0Nsb3NlJiZlLnB1c2goZVswXSksZX1nZXRQb2ludHModD0xMil7Y29uc3QgZT1bXTtsZXQgbjtmb3IobGV0IGk9MCxyPXRoaXMuY3VydmVzO2k8ci5sZW5ndGg7aSsrKXtjb25zdCBzPXJbaV0sYT1zJiZzLmlzRWxsaXBzZUN1cnZlPzIqdDpzJiYocy5pc0xpbmVDdXJ2ZXx8cy5pc0xpbmVDdXJ2ZTMpPzE6cyYmcy5pc1NwbGluZUN1cnZlP3Qqcy5wb2ludHMubGVuZ3RoOnQsbz1zLmdldFBvaW50cyhhKTtmb3IobGV0IHQ9MDt0PG8ubGVuZ3RoO3QrKyl7Y29uc3QgaT1vW3RdO24mJm4uZXF1YWxzKGkpfHwoZS5wdXNoKGkpLG49aSl9fXJldHVybiB0aGlzLmF1dG9DbG9zZSYmZS5sZW5ndGg+MSYmIWVbZS5sZW5ndGgtMV0uZXF1YWxzKGVbMF0pJiZlLnB1c2goZVswXSksZX1jb3B5KHQpe3N1cGVyLmNvcHkodCksdGhpcy5jdXJ2ZXM9W107Zm9yKGxldCBlPTAsbj10LmN1cnZlcy5sZW5ndGg7ZTxuO2UrKyl7Y29uc3Qgbj10LmN1cnZlc1tlXTt0aGlzLmN1cnZlcy5wdXNoKG4uY2xvbmUoKSl9cmV0dXJuIHRoaXMuYXV0b0Nsb3NlPXQuYXV0b0Nsb3NlLHRoaXN9dG9KU09OKCl7Y29uc3QgdD1zdXBlci50b0pTT04oKTt0LmF1dG9DbG9zZT10aGlzLmF1dG9DbG9zZSx0LmN1cnZlcz1bXTtmb3IobGV0IGU9MCxuPXRoaXMuY3VydmVzLmxlbmd0aDtlPG47ZSsrKXtjb25zdCBuPXRoaXMuY3VydmVzW2VdO3QuY3VydmVzLnB1c2gobi50b0pTT04oKSl9cmV0dXJuIHR9ZnJvbUpTT04odCl7c3VwZXIuZnJvbUpTT04odCksdGhpcy5hdXRvQ2xvc2U9dC5hdXRvQ2xvc2UsdGhpcy5jdXJ2ZXM9W107Zm9yKGxldCBlPTAsbj10LmN1cnZlcy5sZW5ndGg7ZTxuO2UrKyl7Y29uc3Qgbj10LmN1cnZlc1tlXTt0aGlzLmN1cnZlcy5wdXNoKChuZXcgSWxbbi50eXBlXSkuZnJvbUpTT04obikpfXJldHVybiB0aGlzfX1jbGFzcyBCbCBleHRlbmRzIE5se2NvbnN0cnVjdG9yKHQpe3N1cGVyKCksdGhpcy50eXBlPSJQYXRoIix0aGlzLmN1cnJlbnRQb2ludD1uZXcgdnQsdCYmdGhpcy5zZXRGcm9tUG9pbnRzKHQpfXNldEZyb21Qb2ludHModCl7dGhpcy5tb3ZlVG8odFswXS54LHRbMF0ueSk7Zm9yKGxldCBlPTEsbj10Lmxlbmd0aDtlPG47ZSsrKXRoaXMubGluZVRvKHRbZV0ueCx0W2VdLnkpO3JldHVybiB0aGlzfW1vdmVUbyh0LGUpe3JldHVybiB0aGlzLmN1cnJlbnRQb2ludC5zZXQodCxlKSx0aGlzfWxpbmVUbyh0LGUpe2NvbnN0IG49bmV3IExsKHRoaXMuY3VycmVudFBvaW50LmNsb25lKCksbmV3IHZ0KHQsZSkpO3JldHVybiB0aGlzLmN1cnZlcy5wdXNoKG4pLHRoaXMuY3VycmVudFBvaW50LnNldCh0LGUpLHRoaXN9cXVhZHJhdGljQ3VydmVUbyh0LGUsbixpKXtjb25zdCByPW5ldyBDbCh0aGlzLmN1cnJlbnRQb2ludC5jbG9uZSgpLG5ldyB2dCh0LGUpLG5ldyB2dChuLGkpKTtyZXR1cm4gdGhpcy5jdXJ2ZXMucHVzaChyKSx0aGlzLmN1cnJlbnRQb2ludC5zZXQobixpKSx0aGlzfWJlemllckN1cnZlVG8odCxlLG4saSxyLHMpe2NvbnN0IGE9bmV3IEVsKHRoaXMuY3VycmVudFBvaW50LmNsb25lKCksbmV3IHZ0KHQsZSksbmV3IHZ0KG4saSksbmV3IHZ0KHIscykpO3JldHVybiB0aGlzLmN1cnZlcy5wdXNoKGEpLHRoaXMuY3VycmVudFBvaW50LnNldChyLHMpLHRoaXN9c3BsaW5lVGhydSh0KXtjb25zdCBlPVt0aGlzLmN1cnJlbnRQb2ludC5jbG9uZSgpXS5jb25jYXQodCksbj1uZXcgRGwoZSk7cmV0dXJuIHRoaXMuY3VydmVzLnB1c2gobiksdGhpcy5jdXJyZW50UG9pbnQuY29weSh0W3QubGVuZ3RoLTFdKSx0aGlzfWFyYyh0LGUsbixpLHIscyl7Y29uc3QgYT10aGlzLmN1cnJlbnRQb2ludC54LG89dGhpcy5jdXJyZW50UG9pbnQueTtyZXR1cm4gdGhpcy5hYnNhcmModCthLGUrbyxuLGkscixzKSx0aGlzfWFic2FyYyh0LGUsbixpLHIscyl7cmV0dXJuIHRoaXMuYWJzZWxsaXBzZSh0LGUsbixuLGkscixzKSx0aGlzfWVsbGlwc2UodCxlLG4saSxyLHMsYSxvKXtjb25zdCBsPXRoaXMuY3VycmVudFBvaW50LngsYz10aGlzLmN1cnJlbnRQb2ludC55O3JldHVybiB0aGlzLmFic2VsbGlwc2UodCtsLGUrYyxuLGkscixzLGEsbyksdGhpc31hYnNlbGxpcHNlKHQsZSxuLGkscixzLGEsbyl7Y29uc3QgbD1uZXcgZmwodCxlLG4saSxyLHMsYSxvKTtpZih0aGlzLmN1cnZlcy5sZW5ndGg+MCl7Y29uc3QgdD1sLmdldFBvaW50KDApO3QuZXF1YWxzKHRoaXMuY3VycmVudFBvaW50KXx8dGhpcy5saW5lVG8odC54LHQueSl9dGhpcy5jdXJ2ZXMucHVzaChsKTtjb25zdCBjPWwuZ2V0UG9pbnQoMSk7cmV0dXJuIHRoaXMuY3VycmVudFBvaW50LmNvcHkoYyksdGhpc31jb3B5KHQpe3JldHVybiBzdXBlci5jb3B5KHQpLHRoaXMuY3VycmVudFBvaW50LmNvcHkodC5jdXJyZW50UG9pbnQpLHRoaXN9dG9KU09OKCl7Y29uc3QgdD1zdXBlci50b0pTT04oKTtyZXR1cm4gdC5jdXJyZW50UG9pbnQ9dGhpcy5jdXJyZW50UG9pbnQudG9BcnJheSgpLHR9ZnJvbUpTT04odCl7cmV0dXJuIHN1cGVyLmZyb21KU09OKHQpLHRoaXMuY3VycmVudFBvaW50LmZyb21BcnJheSh0LmN1cnJlbnRQb2ludCksdGhpc319Y2xhc3MgemwgZXh0ZW5kcyBCbHtjb25zdHJ1Y3Rvcih0KXtzdXBlcih0KSx0aGlzLnV1aWQ9Y3QoKSx0aGlzLnR5cGU9IlNoYXBlIix0aGlzLmhvbGVzPVtdfWdldFBvaW50c0hvbGVzKHQpe2NvbnN0IGU9W107Zm9yKGxldCBuPTAsaT10aGlzLmhvbGVzLmxlbmd0aDtuPGk7bisrKWVbbl09dGhpcy5ob2xlc1tuXS5nZXRQb2ludHModCk7cmV0dXJuIGV9ZXh0cmFjdFBvaW50cyh0KXtyZXR1cm57c2hhcGU6dGhpcy5nZXRQb2ludHModCksaG9sZXM6dGhpcy5nZXRQb2ludHNIb2xlcyh0KX19Y29weSh0KXtzdXBlci5jb3B5KHQpLHRoaXMuaG9sZXM9W107Zm9yKGxldCBlPTAsbj10LmhvbGVzLmxlbmd0aDtlPG47ZSsrKXtjb25zdCBuPXQuaG9sZXNbZV07dGhpcy5ob2xlcy5wdXNoKG4uY2xvbmUoKSl9cmV0dXJuIHRoaXN9dG9KU09OKCl7Y29uc3QgdD1zdXBlci50b0pTT04oKTt0LnV1aWQ9dGhpcy51dWlkLHQuaG9sZXM9W107Zm9yKGxldCBlPTAsbj10aGlzLmhvbGVzLmxlbmd0aDtlPG47ZSsrKXtjb25zdCBuPXRoaXMuaG9sZXNbZV07dC5ob2xlcy5wdXNoKG4udG9KU09OKCkpfXJldHVybiB0fWZyb21KU09OKHQpe3N1cGVyLmZyb21KU09OKHQpLHRoaXMudXVpZD10LnV1aWQsdGhpcy5ob2xlcz1bXTtmb3IobGV0IGU9MCxuPXQuaG9sZXMubGVuZ3RoO2U8bjtlKyspe2NvbnN0IG49dC5ob2xlc1tlXTt0aGlzLmhvbGVzLnB1c2goKG5ldyBCbCkuZnJvbUpTT04obikpfXJldHVybiB0aGlzfX1jbGFzcyBGbCBleHRlbmRzIENle2NvbnN0cnVjdG9yKHQsZT0xKXtzdXBlcigpLHRoaXMudHlwZT0iTGlnaHQiLHRoaXMuY29sb3I9bmV3IHRuKHQpLHRoaXMuaW50ZW5zaXR5PWV9ZGlzcG9zZSgpe31jb3B5KHQpe3JldHVybiBzdXBlci5jb3B5KHQpLHRoaXMuY29sb3IuY29weSh0LmNvbG9yKSx0aGlzLmludGVuc2l0eT10LmludGVuc2l0eSx0aGlzfXRvSlNPTih0KXtjb25zdCBlPXN1cGVyLnRvSlNPTih0KTtyZXR1cm4gZS5vYmplY3QuY29sb3I9dGhpcy5jb2xvci5nZXRIZXgoKSxlLm9iamVjdC5pbnRlbnNpdHk9dGhpcy5pbnRlbnNpdHksdm9pZCAwIT09dGhpcy5ncm91bmRDb2xvciYmKGUub2JqZWN0Lmdyb3VuZENvbG9yPXRoaXMuZ3JvdW5kQ29sb3IuZ2V0SGV4KCkpLHZvaWQgMCE9PXRoaXMuZGlzdGFuY2UmJihlLm9iamVjdC5kaXN0YW5jZT10aGlzLmRpc3RhbmNlKSx2b2lkIDAhPT10aGlzLmFuZ2xlJiYoZS5vYmplY3QuYW5nbGU9dGhpcy5hbmdsZSksdm9pZCAwIT09dGhpcy5kZWNheSYmKGUub2JqZWN0LmRlY2F5PXRoaXMuZGVjYXkpLHZvaWQgMCE9PXRoaXMucGVudW1icmEmJihlLm9iamVjdC5wZW51bWJyYT10aGlzLnBlbnVtYnJhKSx2b2lkIDAhPT10aGlzLnNoYWRvdyYmKGUub2JqZWN0LnNoYWRvdz10aGlzLnNoYWRvdy50b0pTT04oKSksZX19RmwucHJvdG90eXBlLmlzTGlnaHQ9ITA7Y2xhc3MgT2wgZXh0ZW5kcyBGbHtjb25zdHJ1Y3Rvcih0LGUsbil7c3VwZXIodCxuKSx0aGlzLnR5cGU9IkhlbWlzcGhlcmVMaWdodCIsdGhpcy5wb3NpdGlvbi5jb3B5KENlLkRlZmF1bHRVcCksdGhpcy51cGRhdGVNYXRyaXgoKSx0aGlzLmdyb3VuZENvbG9yPW5ldyB0bihlKX1jb3B5KHQpe3JldHVybiBGbC5wcm90b3R5cGUuY29weS5jYWxsKHRoaXMsdCksdGhpcy5ncm91bmRDb2xvci5jb3B5KHQuZ3JvdW5kQ29sb3IpLHRoaXN9fU9sLnByb3RvdHlwZS5pc0hlbWlzcGhlcmVMaWdodD0hMDtjb25zdCBIbD1uZXcgc2UsR2w9bmV3IEx0LFVsPW5ldyBMdDtjbGFzcyBrbHtjb25zdHJ1Y3Rvcih0KXt0aGlzLmNhbWVyYT10LHRoaXMuYmlhcz0wLHRoaXMubm9ybWFsQmlhcz0wLHRoaXMucmFkaXVzPTEsdGhpcy5tYXBTaXplPW5ldyB2dCg1MTIsNTEyKSx0aGlzLm1hcD1udWxsLHRoaXMubWFwUGFzcz1udWxsLHRoaXMubWF0cml4PW5ldyBzZSx0aGlzLmF1dG9VcGRhdGU9ITAsdGhpcy5uZWVkc1VwZGF0ZT0hMSx0aGlzLl9mcnVzdHVtPW5ldyBhaSx0aGlzLl9mcmFtZUV4dGVudHM9bmV3IHZ0KDEsMSksdGhpcy5fdmlld3BvcnRDb3VudD0xLHRoaXMuX3ZpZXdwb3J0cz1bbmV3IFN0KDAsMCwxLDEpXX1nZXRWaWV3cG9ydENvdW50KCl7cmV0dXJuIHRoaXMuX3ZpZXdwb3J0Q291bnR9Z2V0RnJ1c3R1bSgpe3JldHVybiB0aGlzLl9mcnVzdHVtfXVwZGF0ZU1hdHJpY2VzKHQpe2NvbnN0IGU9dGhpcy5jYW1lcmEsbj10aGlzLm1hdHJpeDtHbC5zZXRGcm9tTWF0cml4UG9zaXRpb24odC5tYXRyaXhXb3JsZCksZS5wb3NpdGlvbi5jb3B5KEdsKSxVbC5zZXRGcm9tTWF0cml4UG9zaXRpb24odC50YXJnZXQubWF0cml4V29ybGQpLGUubG9va0F0KFVsKSxlLnVwZGF0ZU1hdHJpeFdvcmxkKCksSGwubXVsdGlwbHlNYXRyaWNlcyhlLnByb2plY3Rpb25NYXRyaXgsZS5tYXRyaXhXb3JsZEludmVyc2UpLHRoaXMuX2ZydXN0dW0uc2V0RnJvbVByb2plY3Rpb25NYXRyaXgoSGwpLG4uc2V0KC41LDAsMCwuNSwwLC41LDAsLjUsMCwwLC41LC41LDAsMCwwLDEpLG4ubXVsdGlwbHkoZS5wcm9qZWN0aW9uTWF0cml4KSxuLm11bHRpcGx5KGUubWF0cml4V29ybGRJbnZlcnNlKX1nZXRWaWV3cG9ydCh0KXtyZXR1cm4gdGhpcy5fdmlld3BvcnRzW3RdfWdldEZyYW1lRXh0ZW50cygpe3JldHVybiB0aGlzLl9mcmFtZUV4dGVudHN9ZGlzcG9zZSgpe3RoaXMubWFwJiZ0aGlzLm1hcC5kaXNwb3NlKCksdGhpcy5tYXBQYXNzJiZ0aGlzLm1hcFBhc3MuZGlzcG9zZSgpfWNvcHkodCl7cmV0dXJuIHRoaXMuY2FtZXJhPXQuY2FtZXJhLmNsb25lKCksdGhpcy5iaWFzPXQuYmlhcyx0aGlzLnJhZGl1cz10LnJhZGl1cyx0aGlzLm1hcFNpemUuY29weSh0Lm1hcFNpemUpLHRoaXN9Y2xvbmUoKXtyZXR1cm4obmV3IHRoaXMuY29uc3RydWN0b3IpLmNvcHkodGhpcyl9dG9KU09OKCl7Y29uc3QgdD17fTtyZXR1cm4gMCE9PXRoaXMuYmlhcyYmKHQuYmlhcz10aGlzLmJpYXMpLDAhPT10aGlzLm5vcm1hbEJpYXMmJih0Lm5vcm1hbEJpYXM9dGhpcy5ub3JtYWxCaWFzKSwxIT09dGhpcy5yYWRpdXMmJih0LnJhZGl1cz10aGlzLnJhZGl1cyksNTEyPT09dGhpcy5tYXBTaXplLngmJjUxMj09PXRoaXMubWFwU2l6ZS55fHwodC5tYXBTaXplPXRoaXMubWFwU2l6ZS50b0FycmF5KCkpLHQuY2FtZXJhPXRoaXMuY2FtZXJhLnRvSlNPTighMSkub2JqZWN0LGRlbGV0ZSB0LmNhbWVyYS5tYXRyaXgsdH19Y2xhc3MgVmwgZXh0ZW5kcyBrbHtjb25zdHJ1Y3Rvcigpe3N1cGVyKG5ldyBLbig1MCwxLC41LDUwMCkpLHRoaXMuZm9jdXM9MX11cGRhdGVNYXRyaWNlcyh0KXtjb25zdCBlPXRoaXMuY2FtZXJhLG49MipsdCp0LmFuZ2xlKnRoaXMuZm9jdXMsaT10aGlzLm1hcFNpemUud2lkdGgvdGhpcy5tYXBTaXplLmhlaWdodCxyPXQuZGlzdGFuY2V8fGUuZmFyO249PT1lLmZvdiYmaT09PWUuYXNwZWN0JiZyPT09ZS5mYXJ8fChlLmZvdj1uLGUuYXNwZWN0PWksZS5mYXI9cixlLnVwZGF0ZVByb2plY3Rpb25NYXRyaXgoKSksc3VwZXIudXBkYXRlTWF0cmljZXModCl9Y29weSh0KXtyZXR1cm4gc3VwZXIuY29weSh0KSx0aGlzLmZvY3VzPXQuZm9jdXMsdGhpc319VmwucHJvdG90eXBlLmlzU3BvdExpZ2h0U2hhZG93PSEwO2NsYXNzIFdsIGV4dGVuZHMgRmx7Y29uc3RydWN0b3IodCxlLG49MCxpPU1hdGguUEkvMyxyPTAscz0xKXtzdXBlcih0LGUpLHRoaXMudHlwZT0iU3BvdExpZ2h0Iix0aGlzLnBvc2l0aW9uLmNvcHkoQ2UuRGVmYXVsdFVwKSx0aGlzLnVwZGF0ZU1hdHJpeCgpLHRoaXMudGFyZ2V0PW5ldyBDZSx0aGlzLmRpc3RhbmNlPW4sdGhpcy5hbmdsZT1pLHRoaXMucGVudW1icmE9cix0aGlzLmRlY2F5PXMsdGhpcy5zaGFkb3c9bmV3IFZsfWdldCBwb3dlcigpe3JldHVybiB0aGlzLmludGVuc2l0eSpNYXRoLlBJfXNldCBwb3dlcih0KXt0aGlzLmludGVuc2l0eT10L01hdGguUEl9ZGlzcG9zZSgpe3RoaXMuc2hhZG93LmRpc3Bvc2UoKX1jb3B5KHQpe3JldHVybiBzdXBlci5jb3B5KHQpLHRoaXMuZGlzdGFuY2U9dC5kaXN0YW5jZSx0aGlzLmFuZ2xlPXQuYW5nbGUsdGhpcy5wZW51bWJyYT10LnBlbnVtYnJhLHRoaXMuZGVjYXk9dC5kZWNheSx0aGlzLnRhcmdldD10LnRhcmdldC5jbG9uZSgpLHRoaXMuc2hhZG93PXQuc2hhZG93LmNsb25lKCksdGhpc319V2wucHJvdG90eXBlLmlzU3BvdExpZ2h0PSEwO2NvbnN0IGpsPW5ldyBzZSxxbD1uZXcgTHQsWGw9bmV3IEx0O2NsYXNzIFlsIGV4dGVuZHMga2x7Y29uc3RydWN0b3IoKXtzdXBlcihuZXcgS24oOTAsMSwuNSw1MDApKSx0aGlzLl9mcmFtZUV4dGVudHM9bmV3IHZ0KDQsMiksdGhpcy5fdmlld3BvcnRDb3VudD02LHRoaXMuX3ZpZXdwb3J0cz1bbmV3IFN0KDIsMSwxLDEpLG5ldyBTdCgwLDEsMSwxKSxuZXcgU3QoMywxLDEsMSksbmV3IFN0KDEsMSwxLDEpLG5ldyBTdCgzLDAsMSwxKSxuZXcgU3QoMSwwLDEsMSldLHRoaXMuX2N1YmVEaXJlY3Rpb25zPVtuZXcgTHQoMSwwLDApLG5ldyBMdCgtMSwwLDApLG5ldyBMdCgwLDAsMSksbmV3IEx0KDAsMCwtMSksbmV3IEx0KDAsMSwwKSxuZXcgTHQoMCwtMSwwKV0sdGhpcy5fY3ViZVVwcz1bbmV3IEx0KDAsMSwwKSxuZXcgTHQoMCwxLDApLG5ldyBMdCgwLDEsMCksbmV3IEx0KDAsMSwwKSxuZXcgTHQoMCwwLDEpLG5ldyBMdCgwLDAsLTEpXX11cGRhdGVNYXRyaWNlcyh0LGU9MCl7Y29uc3Qgbj10aGlzLmNhbWVyYSxpPXRoaXMubWF0cml4LHI9dC5kaXN0YW5jZXx8bi5mYXI7ciE9PW4uZmFyJiYobi5mYXI9cixuLnVwZGF0ZVByb2plY3Rpb25NYXRyaXgoKSkscWwuc2V0RnJvbU1hdHJpeFBvc2l0aW9uKHQubWF0cml4V29ybGQpLG4ucG9zaXRpb24uY29weShxbCksWGwuY29weShuLnBvc2l0aW9uKSxYbC5hZGQodGhpcy5fY3ViZURpcmVjdGlvbnNbZV0pLG4udXAuY29weSh0aGlzLl9jdWJlVXBzW2VdKSxuLmxvb2tBdChYbCksbi51cGRhdGVNYXRyaXhXb3JsZCgpLGkubWFrZVRyYW5zbGF0aW9uKC1xbC54LC1xbC55LC1xbC56KSxqbC5tdWx0aXBseU1hdHJpY2VzKG4ucHJvamVjdGlvbk1hdHJpeCxuLm1hdHJpeFdvcmxkSW52ZXJzZSksdGhpcy5fZnJ1c3R1bS5zZXRGcm9tUHJvamVjdGlvbk1hdHJpeChqbCl9fVlsLnByb3RvdHlwZS5pc1BvaW50TGlnaHRTaGFkb3c9ITA7Y2xhc3MgWmwgZXh0ZW5kcyBGbHtjb25zdHJ1Y3Rvcih0LGUsbj0wLGk9MSl7c3VwZXIodCxlKSx0aGlzLnR5cGU9IlBvaW50TGlnaHQiLHRoaXMuZGlzdGFuY2U9bix0aGlzLmRlY2F5PWksdGhpcy5zaGFkb3c9bmV3IFlsfWdldCBwb3dlcigpe3JldHVybiA0KnRoaXMuaW50ZW5zaXR5Kk1hdGguUEl9c2V0IHBvd2VyKHQpe3RoaXMuaW50ZW5zaXR5PXQvKDQqTWF0aC5QSSl9ZGlzcG9zZSgpe3RoaXMuc2hhZG93LmRpc3Bvc2UoKX1jb3B5KHQpe3JldHVybiBzdXBlci5jb3B5KHQpLHRoaXMuZGlzdGFuY2U9dC5kaXN0YW5jZSx0aGlzLmRlY2F5PXQuZGVjYXksdGhpcy5zaGFkb3c9dC5zaGFkb3cuY2xvbmUoKSx0aGlzfX1abC5wcm90b3R5cGUuaXNQb2ludExpZ2h0PSEwO2NsYXNzIEpsIGV4dGVuZHMgUW57Y29uc3RydWN0b3IodD0tMSxlPTEsbj0xLGk9LTEscj0uMSxzPTJlMyl7c3VwZXIoKSx0aGlzLnR5cGU9Ik9ydGhvZ3JhcGhpY0NhbWVyYSIsdGhpcy56b29tPTEsdGhpcy52aWV3PW51bGwsdGhpcy5sZWZ0PXQsdGhpcy5yaWdodD1lLHRoaXMudG9wPW4sdGhpcy5ib3R0b209aSx0aGlzLm5lYXI9cix0aGlzLmZhcj1zLHRoaXMudXBkYXRlUHJvamVjdGlvbk1hdHJpeCgpfWNvcHkodCxlKXtyZXR1cm4gc3VwZXIuY29weSh0LGUpLHRoaXMubGVmdD10LmxlZnQsdGhpcy5yaWdodD10LnJpZ2h0LHRoaXMudG9wPXQudG9wLHRoaXMuYm90dG9tPXQuYm90dG9tLHRoaXMubmVhcj10Lm5lYXIsdGhpcy5mYXI9dC5mYXIsdGhpcy56b29tPXQuem9vbSx0aGlzLnZpZXc9bnVsbD09PXQudmlldz9udWxsOk9iamVjdC5hc3NpZ24oe30sdC52aWV3KSx0aGlzfXNldFZpZXdPZmZzZXQodCxlLG4saSxyLHMpe251bGw9PT10aGlzLnZpZXcmJih0aGlzLnZpZXc9e2VuYWJsZWQ6ITAsZnVsbFdpZHRoOjEsZnVsbEhlaWdodDoxLG9mZnNldFg6MCxvZmZzZXRZOjAsd2lkdGg6MSxoZWlnaHQ6MX0pLHRoaXMudmlldy5lbmFibGVkPSEwLHRoaXMudmlldy5mdWxsV2lkdGg9dCx0aGlzLnZpZXcuZnVsbEhlaWdodD1lLHRoaXMudmlldy5vZmZzZXRYPW4sdGhpcy52aWV3Lm9mZnNldFk9aSx0aGlzLnZpZXcud2lkdGg9cix0aGlzLnZpZXcuaGVpZ2h0PXMsdGhpcy51cGRhdGVQcm9qZWN0aW9uTWF0cml4KCl9Y2xlYXJWaWV3T2Zmc2V0KCl7bnVsbCE9PXRoaXMudmlldyYmKHRoaXMudmlldy5lbmFibGVkPSExKSx0aGlzLnVwZGF0ZVByb2plY3Rpb25NYXRyaXgoKX11cGRhdGVQcm9qZWN0aW9uTWF0cml4KCl7Y29uc3QgdD0odGhpcy5yaWdodC10aGlzLmxlZnQpLygyKnRoaXMuem9vbSksZT0odGhpcy50b3AtdGhpcy5ib3R0b20pLygyKnRoaXMuem9vbSksbj0odGhpcy5yaWdodCt0aGlzLmxlZnQpLzIsaT0odGhpcy50b3ArdGhpcy5ib3R0b20pLzI7bGV0IHI9bi10LHM9bit0LGE9aStlLG89aS1lO2lmKG51bGwhPT10aGlzLnZpZXcmJnRoaXMudmlldy5lbmFibGVkKXtjb25zdCB0PSh0aGlzLnJpZ2h0LXRoaXMubGVmdCkvdGhpcy52aWV3LmZ1bGxXaWR0aC90aGlzLnpvb20sZT0odGhpcy50b3AtdGhpcy5ib3R0b20pL3RoaXMudmlldy5mdWxsSGVpZ2h0L3RoaXMuem9vbTtyKz10KnRoaXMudmlldy5vZmZzZXRYLHM9cit0KnRoaXMudmlldy53aWR0aCxhLT1lKnRoaXMudmlldy5vZmZzZXRZLG89YS1lKnRoaXMudmlldy5oZWlnaHR9dGhpcy5wcm9qZWN0aW9uTWF0cml4Lm1ha2VPcnRob2dyYXBoaWMocixzLGEsbyx0aGlzLm5lYXIsdGhpcy5mYXIpLHRoaXMucHJvamVjdGlvbk1hdHJpeEludmVyc2UuY29weSh0aGlzLnByb2plY3Rpb25NYXRyaXgpLmludmVydCgpfXRvSlNPTih0KXtjb25zdCBlPXN1cGVyLnRvSlNPTih0KTtyZXR1cm4gZS5vYmplY3Quem9vbT10aGlzLnpvb20sZS5vYmplY3QubGVmdD10aGlzLmxlZnQsZS5vYmplY3QucmlnaHQ9dGhpcy5yaWdodCxlLm9iamVjdC50b3A9dGhpcy50b3AsZS5vYmplY3QuYm90dG9tPXRoaXMuYm90dG9tLGUub2JqZWN0Lm5lYXI9dGhpcy5uZWFyLGUub2JqZWN0LmZhcj10aGlzLmZhcixudWxsIT09dGhpcy52aWV3JiYoZS5vYmplY3Qudmlldz1PYmplY3QuYXNzaWduKHt9LHRoaXMudmlldykpLGV9fUpsLnByb3RvdHlwZS5pc09ydGhvZ3JhcGhpY0NhbWVyYT0hMDtjbGFzcyBRbCBleHRlbmRzIGtse2NvbnN0cnVjdG9yKCl7c3VwZXIobmV3IEpsKC01LDUsNSwtNSwuNSw1MDApKX19UWwucHJvdG90eXBlLmlzRGlyZWN0aW9uYWxMaWdodFNoYWRvdz0hMDtjbGFzcyBLbCBleHRlbmRzIEZse2NvbnN0cnVjdG9yKHQsZSl7c3VwZXIodCxlKSx0aGlzLnR5cGU9IkRpcmVjdGlvbmFsTGlnaHQiLHRoaXMucG9zaXRpb24uY29weShDZS5EZWZhdWx0VXApLHRoaXMudXBkYXRlTWF0cml4KCksdGhpcy50YXJnZXQ9bmV3IENlLHRoaXMuc2hhZG93PW5ldyBRbH1kaXNwb3NlKCl7dGhpcy5zaGFkb3cuZGlzcG9zZSgpfWNvcHkodCl7cmV0dXJuIHN1cGVyLmNvcHkodCksdGhpcy50YXJnZXQ9dC50YXJnZXQuY2xvbmUoKSx0aGlzLnNoYWRvdz10LnNoYWRvdy5jbG9uZSgpLHRoaXN9fUtsLnByb3RvdHlwZS5pc0RpcmVjdGlvbmFsTGlnaHQ9ITA7Y2xhc3MgJGwgZXh0ZW5kcyBGbHtjb25zdHJ1Y3Rvcih0LGUpe3N1cGVyKHQsZSksdGhpcy50eXBlPSJBbWJpZW50TGlnaHQifX0kbC5wcm90b3R5cGUuaXNBbWJpZW50TGlnaHQ9ITA7Y2xhc3MgdGMgZXh0ZW5kcyBGbHtjb25zdHJ1Y3Rvcih0LGUsbj0xMCxpPTEwKXtzdXBlcih0LGUpLHRoaXMudHlwZT0iUmVjdEFyZWFMaWdodCIsdGhpcy53aWR0aD1uLHRoaXMuaGVpZ2h0PWl9Y29weSh0KXtyZXR1cm4gc3VwZXIuY29weSh0KSx0aGlzLndpZHRoPXQud2lkdGgsdGhpcy5oZWlnaHQ9dC5oZWlnaHQsdGhpc310b0pTT04odCl7Y29uc3QgZT1zdXBlci50b0pTT04odCk7cmV0dXJuIGUub2JqZWN0LndpZHRoPXRoaXMud2lkdGgsZS5vYmplY3QuaGVpZ2h0PXRoaXMuaGVpZ2h0LGV9fXRjLnByb3RvdHlwZS5pc1JlY3RBcmVhTGlnaHQ9ITA7Y2xhc3MgZWN7Y29uc3RydWN0b3IoKXt0aGlzLmNvZWZmaWNpZW50cz1bXTtmb3IobGV0IHQ9MDt0PDk7dCsrKXRoaXMuY29lZmZpY2llbnRzLnB1c2gobmV3IEx0KX1zZXQodCl7Zm9yKGxldCBlPTA7ZTw5O2UrKyl0aGlzLmNvZWZmaWNpZW50c1tlXS5jb3B5KHRbZV0pO3JldHVybiB0aGlzfXplcm8oKXtmb3IobGV0IHQ9MDt0PDk7dCsrKXRoaXMuY29lZmZpY2llbnRzW3RdLnNldCgwLDAsMCk7cmV0dXJuIHRoaXN9Z2V0QXQodCxlKXtjb25zdCBuPXQueCxpPXQueSxyPXQueixzPXRoaXMuY29lZmZpY2llbnRzO3JldHVybiBlLmNvcHkoc1swXSkubXVsdGlwbHlTY2FsYXIoLjI4MjA5NSksZS5hZGRTY2FsZWRWZWN0b3Ioc1sxXSwuNDg4NjAzKmkpLGUuYWRkU2NhbGVkVmVjdG9yKHNbMl0sLjQ4ODYwMypyKSxlLmFkZFNjYWxlZFZlY3RvcihzWzNdLC40ODg2MDMqbiksZS5hZGRTY2FsZWRWZWN0b3Ioc1s0XSxuKmkqMS4wOTI1NDgpLGUuYWRkU2NhbGVkVmVjdG9yKHNbNV0saSpyKjEuMDkyNTQ4KSxlLmFkZFNjYWxlZFZlY3RvcihzWzZdLC4zMTUzOTIqKDMqcipyLTEpKSxlLmFkZFNjYWxlZFZlY3RvcihzWzddLG4qcioxLjA5MjU0OCksZS5hZGRTY2FsZWRWZWN0b3Ioc1s4XSwuNTQ2Mjc0KihuKm4taSppKSksZX1nZXRJcnJhZGlhbmNlQXQodCxlKXtjb25zdCBuPXQueCxpPXQueSxyPXQueixzPXRoaXMuY29lZmZpY2llbnRzO3JldHVybiBlLmNvcHkoc1swXSkubXVsdGlwbHlTY2FsYXIoLjg4NjIyNyksZS5hZGRTY2FsZWRWZWN0b3Ioc1sxXSwxLjAyMzMyOCppKSxlLmFkZFNjYWxlZFZlY3RvcihzWzJdLDEuMDIzMzI4KnIpLGUuYWRkU2NhbGVkVmVjdG9yKHNbM10sMS4wMjMzMjgqbiksZS5hZGRTY2FsZWRWZWN0b3Ioc1s0XSwuODU4MDg2Km4qaSksZS5hZGRTY2FsZWRWZWN0b3Ioc1s1XSwuODU4MDg2KmkqciksZS5hZGRTY2FsZWRWZWN0b3Ioc1s2XSwuNzQzMTI1KnIqci0uMjQ3NzA4KSxlLmFkZFNjYWxlZFZlY3RvcihzWzddLC44NTgwODYqbipyKSxlLmFkZFNjYWxlZFZlY3RvcihzWzhdLC40MjkwNDMqKG4qbi1pKmkpKSxlfWFkZCh0KXtmb3IobGV0IGU9MDtlPDk7ZSsrKXRoaXMuY29lZmZpY2llbnRzW2VdLmFkZCh0LmNvZWZmaWNpZW50c1tlXSk7cmV0dXJuIHRoaXN9YWRkU2NhbGVkU0godCxlKXtmb3IobGV0IG49MDtuPDk7bisrKXRoaXMuY29lZmZpY2llbnRzW25dLmFkZFNjYWxlZFZlY3Rvcih0LmNvZWZmaWNpZW50c1tuXSxlKTtyZXR1cm4gdGhpc31zY2FsZSh0KXtmb3IobGV0IGU9MDtlPDk7ZSsrKXRoaXMuY29lZmZpY2llbnRzW2VdLm11bHRpcGx5U2NhbGFyKHQpO3JldHVybiB0aGlzfWxlcnAodCxlKXtmb3IobGV0IG49MDtuPDk7bisrKXRoaXMuY29lZmZpY2llbnRzW25dLmxlcnAodC5jb2VmZmljaWVudHNbbl0sZSk7cmV0dXJuIHRoaXN9ZXF1YWxzKHQpe2ZvcihsZXQgZT0wO2U8OTtlKyspaWYoIXRoaXMuY29lZmZpY2llbnRzW2VdLmVxdWFscyh0LmNvZWZmaWNpZW50c1tlXSkpcmV0dXJuITE7cmV0dXJuITB9Y29weSh0KXtyZXR1cm4gdGhpcy5zZXQodC5jb2VmZmljaWVudHMpfWNsb25lKCl7cmV0dXJuKG5ldyB0aGlzLmNvbnN0cnVjdG9yKS5jb3B5KHRoaXMpfWZyb21BcnJheSh0LGU9MCl7Y29uc3Qgbj10aGlzLmNvZWZmaWNpZW50cztmb3IobGV0IGk9MDtpPDk7aSsrKW5baV0uZnJvbUFycmF5KHQsZSszKmkpO3JldHVybiB0aGlzfXRvQXJyYXkodD1bXSxlPTApe2NvbnN0IG49dGhpcy5jb2VmZmljaWVudHM7Zm9yKGxldCBpPTA7aTw5O2krKyluW2ldLnRvQXJyYXkodCxlKzMqaSk7cmV0dXJuIHR9c3RhdGljIGdldEJhc2lzQXQodCxlKXtjb25zdCBuPXQueCxpPXQueSxyPXQuejtlWzBdPS4yODIwOTUsZVsxXT0uNDg4NjAzKmksZVsyXT0uNDg4NjAzKnIsZVszXT0uNDg4NjAzKm4sZVs0XT0xLjA5MjU0OCpuKmksZVs1XT0xLjA5MjU0OCppKnIsZVs2XT0uMzE1MzkyKigzKnIqci0xKSxlWzddPTEuMDkyNTQ4Km4qcixlWzhdPS41NDYyNzQqKG4qbi1pKmkpfX1lYy5wcm90b3R5cGUuaXNTcGhlcmljYWxIYXJtb25pY3MzPSEwO2NsYXNzIG5jIGV4dGVuZHMgRmx7Y29uc3RydWN0b3IodD1uZXcgZWMsZT0xKXtzdXBlcih2b2lkIDAsZSksdGhpcy5zaD10fWNvcHkodCl7cmV0dXJuIHN1cGVyLmNvcHkodCksdGhpcy5zaC5jb3B5KHQuc2gpLHRoaXN9ZnJvbUpTT04odCl7cmV0dXJuIHRoaXMuaW50ZW5zaXR5PXQuaW50ZW5zaXR5LHRoaXMuc2guZnJvbUFycmF5KHQuc2gpLHRoaXN9dG9KU09OKHQpe2NvbnN0IGU9c3VwZXIudG9KU09OKHQpO3JldHVybiBlLm9iamVjdC5zaD10aGlzLnNoLnRvQXJyYXkoKSxlfX1uYy5wcm90b3R5cGUuaXNMaWdodFByb2JlPSEwO2NsYXNzIGljIGV4dGVuZHMgb2x7Y29uc3RydWN0b3IodCl7c3VwZXIodCksdGhpcy50ZXh0dXJlcz17fX1sb2FkKHQsZSxuLGkpe2NvbnN0IHI9dGhpcyxzPW5ldyBjbChyLm1hbmFnZXIpO3Muc2V0UGF0aChyLnBhdGgpLHMuc2V0UmVxdWVzdEhlYWRlcihyLnJlcXVlc3RIZWFkZXIpLHMuc2V0V2l0aENyZWRlbnRpYWxzKHIud2l0aENyZWRlbnRpYWxzKSxzLmxvYWQodCwoZnVuY3Rpb24obil7dHJ5e2Uoci5wYXJzZShKU09OLnBhcnNlKG4pKSl9Y2F0Y2goZSl7aT9pKGUpOmNvbnNvbGUuZXJyb3IoZSksci5tYW5hZ2VyLml0ZW1FcnJvcih0KX19KSxuLGkpfXBhcnNlKHQpe2NvbnN0IGU9dGhpcy50ZXh0dXJlcztmdW5jdGlvbiBuKHQpe3JldHVybiB2b2lkIDA9PT1lW3RdJiZjb25zb2xlLndhcm4oIlRIUkVFLk1hdGVyaWFsTG9hZGVyOiBVbmRlZmluZWQgdGV4dHVyZSIsdCksZVt0XX1jb25zdCBpPW5ldyBrb1t0LnR5cGVdO2lmKHZvaWQgMCE9PXQudXVpZCYmKGkudXVpZD10LnV1aWQpLHZvaWQgMCE9PXQubmFtZSYmKGkubmFtZT10Lm5hbWUpLHZvaWQgMCE9PXQuY29sb3ImJnZvaWQgMCE9PWkuY29sb3ImJmkuY29sb3Iuc2V0SGV4KHQuY29sb3IpLHZvaWQgMCE9PXQucm91Z2huZXNzJiYoaS5yb3VnaG5lc3M9dC5yb3VnaG5lc3MpLHZvaWQgMCE9PXQubWV0YWxuZXNzJiYoaS5tZXRhbG5lc3M9dC5tZXRhbG5lc3MpLHZvaWQgMCE9PXQuc2hlZW4mJihpLnNoZWVuPShuZXcgdG4pLnNldEhleCh0LnNoZWVuKSksdm9pZCAwIT09dC5lbWlzc2l2ZSYmdm9pZCAwIT09aS5lbWlzc2l2ZSYmaS5lbWlzc2l2ZS5zZXRIZXgodC5lbWlzc2l2ZSksdm9pZCAwIT09dC5zcGVjdWxhciYmdm9pZCAwIT09aS5zcGVjdWxhciYmaS5zcGVjdWxhci5zZXRIZXgodC5zcGVjdWxhciksdm9pZCAwIT09dC5zaGluaW5lc3MmJihpLnNoaW5pbmVzcz10LnNoaW5pbmVzcyksdm9pZCAwIT09dC5jbGVhcmNvYXQmJihpLmNsZWFyY29hdD10LmNsZWFyY29hdCksdm9pZCAwIT09dC5jbGVhcmNvYXRSb3VnaG5lc3MmJihpLmNsZWFyY29hdFJvdWdobmVzcz10LmNsZWFyY29hdFJvdWdobmVzcyksdm9pZCAwIT09dC5mb2cmJihpLmZvZz10LmZvZyksdm9pZCAwIT09dC5mbGF0U2hhZGluZyYmKGkuZmxhdFNoYWRpbmc9dC5mbGF0U2hhZGluZyksdm9pZCAwIT09dC5ibGVuZGluZyYmKGkuYmxlbmRpbmc9dC5ibGVuZGluZyksdm9pZCAwIT09dC5jb21iaW5lJiYoaS5jb21iaW5lPXQuY29tYmluZSksdm9pZCAwIT09dC5zaWRlJiYoaS5zaWRlPXQuc2lkZSksdm9pZCAwIT09dC5zaGFkb3dTaWRlJiYoaS5zaGFkb3dTaWRlPXQuc2hhZG93U2lkZSksdm9pZCAwIT09dC5vcGFjaXR5JiYoaS5vcGFjaXR5PXQub3BhY2l0eSksdm9pZCAwIT09dC50cmFuc3BhcmVudCYmKGkudHJhbnNwYXJlbnQ9dC50cmFuc3BhcmVudCksdm9pZCAwIT09dC5hbHBoYVRlc3QmJihpLmFscGhhVGVzdD10LmFscGhhVGVzdCksdm9pZCAwIT09dC5kZXB0aFRlc3QmJihpLmRlcHRoVGVzdD10LmRlcHRoVGVzdCksdm9pZCAwIT09dC5kZXB0aFdyaXRlJiYoaS5kZXB0aFdyaXRlPXQuZGVwdGhXcml0ZSksdm9pZCAwIT09dC5jb2xvcldyaXRlJiYoaS5jb2xvcldyaXRlPXQuY29sb3JXcml0ZSksdm9pZCAwIT09dC5zdGVuY2lsV3JpdGUmJihpLnN0ZW5jaWxXcml0ZT10LnN0ZW5jaWxXcml0ZSksdm9pZCAwIT09dC5zdGVuY2lsV3JpdGVNYXNrJiYoaS5zdGVuY2lsV3JpdGVNYXNrPXQuc3RlbmNpbFdyaXRlTWFzayksdm9pZCAwIT09dC5zdGVuY2lsRnVuYyYmKGkuc3RlbmNpbEZ1bmM9dC5zdGVuY2lsRnVuYyksdm9pZCAwIT09dC5zdGVuY2lsUmVmJiYoaS5zdGVuY2lsUmVmPXQuc3RlbmNpbFJlZiksdm9pZCAwIT09dC5zdGVuY2lsRnVuY01hc2smJihpLnN0ZW5jaWxGdW5jTWFzaz10LnN0ZW5jaWxGdW5jTWFzayksdm9pZCAwIT09dC5zdGVuY2lsRmFpbCYmKGkuc3RlbmNpbEZhaWw9dC5zdGVuY2lsRmFpbCksdm9pZCAwIT09dC5zdGVuY2lsWkZhaWwmJihpLnN0ZW5jaWxaRmFpbD10LnN0ZW5jaWxaRmFpbCksdm9pZCAwIT09dC5zdGVuY2lsWlBhc3MmJihpLnN0ZW5jaWxaUGFzcz10LnN0ZW5jaWxaUGFzcyksdm9pZCAwIT09dC53aXJlZnJhbWUmJihpLndpcmVmcmFtZT10LndpcmVmcmFtZSksdm9pZCAwIT09dC53aXJlZnJhbWVMaW5ld2lkdGgmJihpLndpcmVmcmFtZUxpbmV3aWR0aD10LndpcmVmcmFtZUxpbmV3aWR0aCksdm9pZCAwIT09dC53aXJlZnJhbWVMaW5lY2FwJiYoaS53aXJlZnJhbWVMaW5lY2FwPXQud2lyZWZyYW1lTGluZWNhcCksdm9pZCAwIT09dC53aXJlZnJhbWVMaW5lam9pbiYmKGkud2lyZWZyYW1lTGluZWpvaW49dC53aXJlZnJhbWVMaW5lam9pbiksdm9pZCAwIT09dC5yb3RhdGlvbiYmKGkucm90YXRpb249dC5yb3RhdGlvbiksMSE9PXQubGluZXdpZHRoJiYoaS5saW5ld2lkdGg9dC5saW5ld2lkdGgpLHZvaWQgMCE9PXQuZGFzaFNpemUmJihpLmRhc2hTaXplPXQuZGFzaFNpemUpLHZvaWQgMCE9PXQuZ2FwU2l6ZSYmKGkuZ2FwU2l6ZT10LmdhcFNpemUpLHZvaWQgMCE9PXQuc2NhbGUmJihpLnNjYWxlPXQuc2NhbGUpLHZvaWQgMCE9PXQucG9seWdvbk9mZnNldCYmKGkucG9seWdvbk9mZnNldD10LnBvbHlnb25PZmZzZXQpLHZvaWQgMCE9PXQucG9seWdvbk9mZnNldEZhY3RvciYmKGkucG9seWdvbk9mZnNldEZhY3Rvcj10LnBvbHlnb25PZmZzZXRGYWN0b3IpLHZvaWQgMCE9PXQucG9seWdvbk9mZnNldFVuaXRzJiYoaS5wb2x5Z29uT2Zmc2V0VW5pdHM9dC5wb2x5Z29uT2Zmc2V0VW5pdHMpLHZvaWQgMCE9PXQuc2tpbm5pbmcmJihpLnNraW5uaW5nPXQuc2tpbm5pbmcpLHZvaWQgMCE9PXQubW9ycGhUYXJnZXRzJiYoaS5tb3JwaFRhcmdldHM9dC5tb3JwaFRhcmdldHMpLHZvaWQgMCE9PXQubW9ycGhOb3JtYWxzJiYoaS5tb3JwaE5vcm1hbHM9dC5tb3JwaE5vcm1hbHMpLHZvaWQgMCE9PXQuZGl0aGVyaW5nJiYoaS5kaXRoZXJpbmc9dC5kaXRoZXJpbmcpLHZvaWQgMCE9PXQuYWxwaGFUb0NvdmVyYWdlJiYoaS5hbHBoYVRvQ292ZXJhZ2U9dC5hbHBoYVRvQ292ZXJhZ2UpLHZvaWQgMCE9PXQucHJlbXVsdGlwbGllZEFscGhhJiYoaS5wcmVtdWx0aXBsaWVkQWxwaGE9dC5wcmVtdWx0aXBsaWVkQWxwaGEpLHZvaWQgMCE9PXQudmVydGV4VGFuZ2VudHMmJihpLnZlcnRleFRhbmdlbnRzPXQudmVydGV4VGFuZ2VudHMpLHZvaWQgMCE9PXQudmlzaWJsZSYmKGkudmlzaWJsZT10LnZpc2libGUpLHZvaWQgMCE9PXQudG9uZU1hcHBlZCYmKGkudG9uZU1hcHBlZD10LnRvbmVNYXBwZWQpLHZvaWQgMCE9PXQudXNlckRhdGEmJihpLnVzZXJEYXRhPXQudXNlckRhdGEpLHZvaWQgMCE9PXQudmVydGV4Q29sb3JzJiYoIm51bWJlciI9PXR5cGVvZiB0LnZlcnRleENvbG9ycz9pLnZlcnRleENvbG9ycz10LnZlcnRleENvbG9ycz4wOmkudmVydGV4Q29sb3JzPXQudmVydGV4Q29sb3JzKSx2b2lkIDAhPT10LnVuaWZvcm1zKWZvcihjb25zdCBlIGluIHQudW5pZm9ybXMpe2NvbnN0IHI9dC51bmlmb3Jtc1tlXTtzd2l0Y2goaS51bmlmb3Jtc1tlXT17fSxyLnR5cGUpe2Nhc2UidCI6aS51bmlmb3Jtc1tlXS52YWx1ZT1uKHIudmFsdWUpO2JyZWFrO2Nhc2UiYyI6aS51bmlmb3Jtc1tlXS52YWx1ZT0obmV3IHRuKS5zZXRIZXgoci52YWx1ZSk7YnJlYWs7Y2FzZSJ2MiI6aS51bmlmb3Jtc1tlXS52YWx1ZT0obmV3IHZ0KS5mcm9tQXJyYXkoci52YWx1ZSk7YnJlYWs7Y2FzZSJ2MyI6aS51bmlmb3Jtc1tlXS52YWx1ZT0obmV3IEx0KS5mcm9tQXJyYXkoci52YWx1ZSk7YnJlYWs7Y2FzZSJ2NCI6aS51bmlmb3Jtc1tlXS52YWx1ZT0obmV3IFN0KS5mcm9tQXJyYXkoci52YWx1ZSk7YnJlYWs7Y2FzZSJtMyI6aS51bmlmb3Jtc1tlXS52YWx1ZT0obmV3IHl0KS5mcm9tQXJyYXkoci52YWx1ZSk7YnJlYWs7Y2FzZSJtNCI6aS51bmlmb3Jtc1tlXS52YWx1ZT0obmV3IHNlKS5mcm9tQXJyYXkoci52YWx1ZSk7YnJlYWs7ZGVmYXVsdDppLnVuaWZvcm1zW2VdLnZhbHVlPXIudmFsdWV9fWlmKHZvaWQgMCE9PXQuZGVmaW5lcyYmKGkuZGVmaW5lcz10LmRlZmluZXMpLHZvaWQgMCE9PXQudmVydGV4U2hhZGVyJiYoaS52ZXJ0ZXhTaGFkZXI9dC52ZXJ0ZXhTaGFkZXIpLHZvaWQgMCE9PXQuZnJhZ21lbnRTaGFkZXImJihpLmZyYWdtZW50U2hhZGVyPXQuZnJhZ21lbnRTaGFkZXIpLHZvaWQgMCE9PXQuZXh0ZW5zaW9ucylmb3IoY29uc3QgZSBpbiB0LmV4dGVuc2lvbnMpaS5leHRlbnNpb25zW2VdPXQuZXh0ZW5zaW9uc1tlXTtpZih2b2lkIDAhPT10LnNoYWRpbmcmJihpLmZsYXRTaGFkaW5nPTE9PT10LnNoYWRpbmcpLHZvaWQgMCE9PXQuc2l6ZSYmKGkuc2l6ZT10LnNpemUpLHZvaWQgMCE9PXQuc2l6ZUF0dGVudWF0aW9uJiYoaS5zaXplQXR0ZW51YXRpb249dC5zaXplQXR0ZW51YXRpb24pLHZvaWQgMCE9PXQubWFwJiYoaS5tYXA9bih0Lm1hcCkpLHZvaWQgMCE9PXQubWF0Y2FwJiYoaS5tYXRjYXA9bih0Lm1hdGNhcCkpLHZvaWQgMCE9PXQuYWxwaGFNYXAmJihpLmFscGhhTWFwPW4odC5hbHBoYU1hcCkpLHZvaWQgMCE9PXQuYnVtcE1hcCYmKGkuYnVtcE1hcD1uKHQuYnVtcE1hcCkpLHZvaWQgMCE9PXQuYnVtcFNjYWxlJiYoaS5idW1wU2NhbGU9dC5idW1wU2NhbGUpLHZvaWQgMCE9PXQubm9ybWFsTWFwJiYoaS5ub3JtYWxNYXA9bih0Lm5vcm1hbE1hcCkpLHZvaWQgMCE9PXQubm9ybWFsTWFwVHlwZSYmKGkubm9ybWFsTWFwVHlwZT10Lm5vcm1hbE1hcFR5cGUpLHZvaWQgMCE9PXQubm9ybWFsU2NhbGUpe2xldCBlPXQubm9ybWFsU2NhbGU7ITE9PT1BcnJheS5pc0FycmF5KGUpJiYoZT1bZSxlXSksaS5ub3JtYWxTY2FsZT0obmV3IHZ0KS5mcm9tQXJyYXkoZSl9cmV0dXJuIHZvaWQgMCE9PXQuZGlzcGxhY2VtZW50TWFwJiYoaS5kaXNwbGFjZW1lbnRNYXA9bih0LmRpc3BsYWNlbWVudE1hcCkpLHZvaWQgMCE9PXQuZGlzcGxhY2VtZW50U2NhbGUmJihpLmRpc3BsYWNlbWVudFNjYWxlPXQuZGlzcGxhY2VtZW50U2NhbGUpLHZvaWQgMCE9PXQuZGlzcGxhY2VtZW50QmlhcyYmKGkuZGlzcGxhY2VtZW50Qmlhcz10LmRpc3BsYWNlbWVudEJpYXMpLHZvaWQgMCE9PXQucm91Z2huZXNzTWFwJiYoaS5yb3VnaG5lc3NNYXA9bih0LnJvdWdobmVzc01hcCkpLHZvaWQgMCE9PXQubWV0YWxuZXNzTWFwJiYoaS5tZXRhbG5lc3NNYXA9bih0Lm1ldGFsbmVzc01hcCkpLHZvaWQgMCE9PXQuZW1pc3NpdmVNYXAmJihpLmVtaXNzaXZlTWFwPW4odC5lbWlzc2l2ZU1hcCkpLHZvaWQgMCE9PXQuZW1pc3NpdmVJbnRlbnNpdHkmJihpLmVtaXNzaXZlSW50ZW5zaXR5PXQuZW1pc3NpdmVJbnRlbnNpdHkpLHZvaWQgMCE9PXQuc3BlY3VsYXJNYXAmJihpLnNwZWN1bGFyTWFwPW4odC5zcGVjdWxhck1hcCkpLHZvaWQgMCE9PXQuZW52TWFwJiYoaS5lbnZNYXA9bih0LmVudk1hcCkpLHZvaWQgMCE9PXQuZW52TWFwSW50ZW5zaXR5JiYoaS5lbnZNYXBJbnRlbnNpdHk9dC5lbnZNYXBJbnRlbnNpdHkpLHZvaWQgMCE9PXQucmVmbGVjdGl2aXR5JiYoaS5yZWZsZWN0aXZpdHk9dC5yZWZsZWN0aXZpdHkpLHZvaWQgMCE9PXQucmVmcmFjdGlvblJhdGlvJiYoaS5yZWZyYWN0aW9uUmF0aW89dC5yZWZyYWN0aW9uUmF0aW8pLHZvaWQgMCE9PXQubGlnaHRNYXAmJihpLmxpZ2h0TWFwPW4odC5saWdodE1hcCkpLHZvaWQgMCE9PXQubGlnaHRNYXBJbnRlbnNpdHkmJihpLmxpZ2h0TWFwSW50ZW5zaXR5PXQubGlnaHRNYXBJbnRlbnNpdHkpLHZvaWQgMCE9PXQuYW9NYXAmJihpLmFvTWFwPW4odC5hb01hcCkpLHZvaWQgMCE9PXQuYW9NYXBJbnRlbnNpdHkmJihpLmFvTWFwSW50ZW5zaXR5PXQuYW9NYXBJbnRlbnNpdHkpLHZvaWQgMCE9PXQuZ3JhZGllbnRNYXAmJihpLmdyYWRpZW50TWFwPW4odC5ncmFkaWVudE1hcCkpLHZvaWQgMCE9PXQuY2xlYXJjb2F0TWFwJiYoaS5jbGVhcmNvYXRNYXA9bih0LmNsZWFyY29hdE1hcCkpLHZvaWQgMCE9PXQuY2xlYXJjb2F0Um91Z2huZXNzTWFwJiYoaS5jbGVhcmNvYXRSb3VnaG5lc3NNYXA9bih0LmNsZWFyY29hdFJvdWdobmVzc01hcCkpLHZvaWQgMCE9PXQuY2xlYXJjb2F0Tm9ybWFsTWFwJiYoaS5jbGVhcmNvYXROb3JtYWxNYXA9bih0LmNsZWFyY29hdE5vcm1hbE1hcCkpLHZvaWQgMCE9PXQuY2xlYXJjb2F0Tm9ybWFsU2NhbGUmJihpLmNsZWFyY29hdE5vcm1hbFNjYWxlPShuZXcgdnQpLmZyb21BcnJheSh0LmNsZWFyY29hdE5vcm1hbFNjYWxlKSksdm9pZCAwIT09dC50cmFuc21pc3Npb24mJihpLnRyYW5zbWlzc2lvbj10LnRyYW5zbWlzc2lvbiksdm9pZCAwIT09dC50cmFuc21pc3Npb25NYXAmJihpLnRyYW5zbWlzc2lvbk1hcD1uKHQudHJhbnNtaXNzaW9uTWFwKSksaX1zZXRUZXh0dXJlcyh0KXtyZXR1cm4gdGhpcy50ZXh0dXJlcz10LHRoaXN9fWNsYXNzIHJje3N0YXRpYyBkZWNvZGVUZXh0KHQpe2lmKCJ1bmRlZmluZWQiIT10eXBlb2YgVGV4dERlY29kZXIpcmV0dXJuKG5ldyBUZXh0RGVjb2RlcikuZGVjb2RlKHQpO2xldCBlPSIiO2ZvcihsZXQgbj0wLGk9dC5sZW5ndGg7bjxpO24rKyllKz1TdHJpbmcuZnJvbUNoYXJDb2RlKHRbbl0pO3RyeXtyZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KGVzY2FwZShlKSl9Y2F0Y2godCl7cmV0dXJuIGV9fXN0YXRpYyBleHRyYWN0VXJsQmFzZSh0KXtjb25zdCBlPXQubGFzdEluZGV4T2YoIi8iKTtyZXR1cm4tMT09PWU/Ii4vIjp0LnN1YnN0cigwLGUrMSl9fWNsYXNzIHNjIGV4dGVuZHMgRW57Y29uc3RydWN0b3IoKXtzdXBlcigpLHRoaXMudHlwZT0iSW5zdGFuY2VkQnVmZmVyR2VvbWV0cnkiLHRoaXMuaW5zdGFuY2VDb3VudD0xLzB9Y29weSh0KXtyZXR1cm4gc3VwZXIuY29weSh0KSx0aGlzLmluc3RhbmNlQ291bnQ9dC5pbnN0YW5jZUNvdW50LHRoaXN9Y2xvbmUoKXtyZXR1cm4obmV3IHRoaXMuY29uc3RydWN0b3IpLmNvcHkodGhpcyl9dG9KU09OKCl7Y29uc3QgdD1zdXBlci50b0pTT04odGhpcyk7cmV0dXJuIHQuaW5zdGFuY2VDb3VudD10aGlzLmluc3RhbmNlQ291bnQsdC5pc0luc3RhbmNlZEJ1ZmZlckdlb21ldHJ5PSEwLHR9fXNjLnByb3RvdHlwZS5pc0luc3RhbmNlZEJ1ZmZlckdlb21ldHJ5PSEwO2NsYXNzIGFjIGV4dGVuZHMgc257Y29uc3RydWN0b3IodCxlLG4saSl7Im51bWJlciI9PXR5cGVvZiBuJiYoaT1uLG49ITEsY29uc29sZS5lcnJvcigiVEhSRUUuSW5zdGFuY2VkQnVmZmVyQXR0cmlidXRlOiBUaGUgY29uc3RydWN0b3Igbm93IGV4cGVjdHMgbm9ybWFsaXplZCBhcyB0aGUgdGhpcmQgYXJndW1lbnQuIikpLHN1cGVyKHQsZSxuKSx0aGlzLm1lc2hQZXJBdHRyaWJ1dGU9aXx8MX1jb3B5KHQpe3JldHVybiBzdXBlci5jb3B5KHQpLHRoaXMubWVzaFBlckF0dHJpYnV0ZT10Lm1lc2hQZXJBdHRyaWJ1dGUsdGhpc310b0pTT04oKXtjb25zdCB0PXN1cGVyLnRvSlNPTigpO3JldHVybiB0Lm1lc2hQZXJBdHRyaWJ1dGU9dGhpcy5tZXNoUGVyQXR0cmlidXRlLHQuaXNJbnN0YW5jZWRCdWZmZXJBdHRyaWJ1dGU9ITAsdH19YWMucHJvdG90eXBlLmlzSW5zdGFuY2VkQnVmZmVyQXR0cmlidXRlPSEwO2NsYXNzIG9jIGV4dGVuZHMgb2x7Y29uc3RydWN0b3IodCl7c3VwZXIodCl9bG9hZCh0LGUsbixpKXtjb25zdCByPXRoaXMscz1uZXcgY2woci5tYW5hZ2VyKTtzLnNldFBhdGgoci5wYXRoKSxzLnNldFJlcXVlc3RIZWFkZXIoci5yZXF1ZXN0SGVhZGVyKSxzLnNldFdpdGhDcmVkZW50aWFscyhyLndpdGhDcmVkZW50aWFscykscy5sb2FkKHQsKGZ1bmN0aW9uKG4pe3RyeXtlKHIucGFyc2UoSlNPTi5wYXJzZShuKSkpfWNhdGNoKGUpe2k/aShlKTpjb25zb2xlLmVycm9yKGUpLHIubWFuYWdlci5pdGVtRXJyb3IodCl9fSksbixpKX1wYXJzZSh0KXtjb25zdCBlPXt9LG49e307ZnVuY3Rpb24gaSh0LGkpe2lmKHZvaWQgMCE9PWVbaV0pcmV0dXJuIGVbaV07Y29uc3Qgcj10LmludGVybGVhdmVkQnVmZmVyc1tpXSxzPWZ1bmN0aW9uKHQsZSl7aWYodm9pZCAwIT09bltlXSlyZXR1cm4gbltlXTtjb25zdCBpPXQuYXJyYXlCdWZmZXJzW2VdLHI9bmV3IFVpbnQzMkFycmF5KGkpLmJ1ZmZlcjtyZXR1cm4gbltlXT1yLHJ9KHQsci5idWZmZXIpLGE9eW4oci50eXBlLHMpLG89bmV3IEVzKGEsci5zdHJpZGUpO3JldHVybiBvLnV1aWQ9ci51dWlkLGVbaV09byxvfWNvbnN0IHI9dC5pc0luc3RhbmNlZEJ1ZmZlckdlb21ldHJ5P25ldyBzYzpuZXcgRW4scz10LmRhdGEuaW5kZXg7aWYodm9pZCAwIT09cyl7Y29uc3QgdD15bihzLnR5cGUscy5hcnJheSk7ci5zZXRJbmRleChuZXcgc24odCwxKSl9Y29uc3QgYT10LmRhdGEuYXR0cmlidXRlcztmb3IoY29uc3QgZSBpbiBhKXtjb25zdCBuPWFbZV07bGV0IHM7aWYobi5pc0ludGVybGVhdmVkQnVmZmVyQXR0cmlidXRlKXtjb25zdCBlPWkodC5kYXRhLG4uZGF0YSk7cz1uZXcgTHMoZSxuLml0ZW1TaXplLG4ub2Zmc2V0LG4ubm9ybWFsaXplZCl9ZWxzZXtjb25zdCB0PXluKG4udHlwZSxuLmFycmF5KTtzPW5ldyhuLmlzSW5zdGFuY2VkQnVmZmVyQXR0cmlidXRlP2FjOnNuKSh0LG4uaXRlbVNpemUsbi5ub3JtYWxpemVkKX12b2lkIDAhPT1uLm5hbWUmJihzLm5hbWU9bi5uYW1lKSx2b2lkIDAhPT1uLnVzYWdlJiZzLnNldFVzYWdlKG4udXNhZ2UpLHZvaWQgMCE9PW4udXBkYXRlUmFuZ2UmJihzLnVwZGF0ZVJhbmdlLm9mZnNldD1uLnVwZGF0ZVJhbmdlLm9mZnNldCxzLnVwZGF0ZVJhbmdlLmNvdW50PW4udXBkYXRlUmFuZ2UuY291bnQpLHIuc2V0QXR0cmlidXRlKGUscyl9Y29uc3Qgbz10LmRhdGEubW9ycGhBdHRyaWJ1dGVzO2lmKG8pZm9yKGNvbnN0IGUgaW4gbyl7Y29uc3Qgbj1vW2VdLHM9W107Zm9yKGxldCBlPTAscj1uLmxlbmd0aDtlPHI7ZSsrKXtjb25zdCByPW5bZV07bGV0IGE7aWYoci5pc0ludGVybGVhdmVkQnVmZmVyQXR0cmlidXRlKXtjb25zdCBlPWkodC5kYXRhLHIuZGF0YSk7YT1uZXcgTHMoZSxyLml0ZW1TaXplLHIub2Zmc2V0LHIubm9ybWFsaXplZCl9ZWxzZXtjb25zdCB0PXluKHIudHlwZSxyLmFycmF5KTthPW5ldyBzbih0LHIuaXRlbVNpemUsci5ub3JtYWxpemVkKX12b2lkIDAhPT1yLm5hbWUmJihhLm5hbWU9ci5uYW1lKSxzLnB1c2goYSl9ci5tb3JwaEF0dHJpYnV0ZXNbZV09c310LmRhdGEubW9ycGhUYXJnZXRzUmVsYXRpdmUmJihyLm1vcnBoVGFyZ2V0c1JlbGF0aXZlPSEwKTtjb25zdCBsPXQuZGF0YS5ncm91cHN8fHQuZGF0YS5kcmF3Y2FsbHN8fHQuZGF0YS5vZmZzZXRzO2lmKHZvaWQgMCE9PWwpZm9yKGxldCB0PTAsZT1sLmxlbmd0aDt0IT09ZTsrK3Qpe2NvbnN0IGU9bFt0XTtyLmFkZEdyb3VwKGUuc3RhcnQsZS5jb3VudCxlLm1hdGVyaWFsSW5kZXgpfWNvbnN0IGM9dC5kYXRhLmJvdW5kaW5nU3BoZXJlO2lmKHZvaWQgMCE9PWMpe2NvbnN0IHQ9bmV3IEx0O3ZvaWQgMCE9PWMuY2VudGVyJiZ0LmZyb21BcnJheShjLmNlbnRlciksci5ib3VuZGluZ1NwaGVyZT1uZXcgSnQodCxjLnJhZGl1cyl9cmV0dXJuIHQubmFtZSYmKHIubmFtZT10Lm5hbWUpLHQudXNlckRhdGEmJihyLnVzZXJEYXRhPXQudXNlckRhdGEpLHJ9fWNvbnN0IGxjPXtVVk1hcHBpbmc6aSxDdWJlUmVmbGVjdGlvbk1hcHBpbmc6cixDdWJlUmVmcmFjdGlvbk1hcHBpbmc6cyxFcXVpcmVjdGFuZ3VsYXJSZWZsZWN0aW9uTWFwcGluZzphLEVxdWlyZWN0YW5ndWxhclJlZnJhY3Rpb25NYXBwaW5nOm8sQ3ViZVVWUmVmbGVjdGlvbk1hcHBpbmc6bCxDdWJlVVZSZWZyYWN0aW9uTWFwcGluZzpjfSxjYz17UmVwZWF0V3JhcHBpbmc6aCxDbGFtcFRvRWRnZVdyYXBwaW5nOnUsTWlycm9yZWRSZXBlYXRXcmFwcGluZzpkfSxoYz17TmVhcmVzdEZpbHRlcjpwLE5lYXJlc3RNaXBtYXBOZWFyZXN0RmlsdGVyOm0sTmVhcmVzdE1pcG1hcExpbmVhckZpbHRlcjpmLExpbmVhckZpbHRlcjpnLExpbmVhck1pcG1hcE5lYXJlc3RGaWx0ZXI6dixMaW5lYXJNaXBtYXBMaW5lYXJGaWx0ZXI6eX07Y2xhc3MgdWMgZXh0ZW5kcyBvbHtjb25zdHJ1Y3Rvcih0KXtzdXBlcih0KSwidW5kZWZpbmVkIj09dHlwZW9mIGNyZWF0ZUltYWdlQml0bWFwJiZjb25zb2xlLndhcm4oIlRIUkVFLkltYWdlQml0bWFwTG9hZGVyOiBjcmVhdGVJbWFnZUJpdG1hcCgpIG5vdCBzdXBwb3J0ZWQuIiksInVuZGVmaW5lZCI9PXR5cGVvZiBmZXRjaCYmY29uc29sZS53YXJuKCJUSFJFRS5JbWFnZUJpdG1hcExvYWRlcjogZmV0Y2goKSBub3Qgc3VwcG9ydGVkLiIpLHRoaXMub3B0aW9ucz17cHJlbXVsdGlwbHlBbHBoYToibm9uZSJ9fXNldE9wdGlvbnModCl7cmV0dXJuIHRoaXMub3B0aW9ucz10LHRoaXN9bG9hZCh0LGUsbixpKXt2b2lkIDA9PT10JiYodD0iIiksdm9pZCAwIT09dGhpcy5wYXRoJiYodD10aGlzLnBhdGgrdCksdD10aGlzLm1hbmFnZXIucmVzb2x2ZVVSTCh0KTtjb25zdCByPXRoaXMscz1ybC5nZXQodCk7aWYodm9pZCAwIT09cylyZXR1cm4gci5tYW5hZ2VyLml0ZW1TdGFydCh0KSxzZXRUaW1lb3V0KChmdW5jdGlvbigpe2UmJmUocyksci5tYW5hZ2VyLml0ZW1FbmQodCl9KSwwKSxzO2NvbnN0IGE9e307YS5jcmVkZW50aWFscz0iYW5vbnltb3VzIj09PXRoaXMuY3Jvc3NPcmlnaW4/InNhbWUtb3JpZ2luIjoiaW5jbHVkZSIsYS5oZWFkZXJzPXRoaXMucmVxdWVzdEhlYWRlcixmZXRjaCh0LGEpLnRoZW4oKGZ1bmN0aW9uKHQpe3JldHVybiB0LmJsb2IoKX0pKS50aGVuKChmdW5jdGlvbih0KXtyZXR1cm4gY3JlYXRlSW1hZ2VCaXRtYXAodCxPYmplY3QuYXNzaWduKHIub3B0aW9ucyx7Y29sb3JTcGFjZUNvbnZlcnNpb246Im5vbmUifSkpfSkpLnRoZW4oKGZ1bmN0aW9uKG4pe3JsLmFkZCh0LG4pLGUmJmUobiksci5tYW5hZ2VyLml0ZW1FbmQodCl9KSkuY2F0Y2goKGZ1bmN0aW9uKGUpe2kmJmkoZSksci5tYW5hZ2VyLml0ZW1FcnJvcih0KSxyLm1hbmFnZXIuaXRlbUVuZCh0KX0pKSxyLm1hbmFnZXIuaXRlbVN0YXJ0KHQpfX11Yy5wcm90b3R5cGUuaXNJbWFnZUJpdG1hcExvYWRlcj0hMDtjbGFzcyBkY3tjb25zdHJ1Y3Rvcigpe3RoaXMudHlwZT0iU2hhcGVQYXRoIix0aGlzLmNvbG9yPW5ldyB0bix0aGlzLnN1YlBhdGhzPVtdLHRoaXMuY3VycmVudFBhdGg9bnVsbH1tb3ZlVG8odCxlKXtyZXR1cm4gdGhpcy5jdXJyZW50UGF0aD1uZXcgQmwsdGhpcy5zdWJQYXRocy5wdXNoKHRoaXMuY3VycmVudFBhdGgpLHRoaXMuY3VycmVudFBhdGgubW92ZVRvKHQsZSksdGhpc31saW5lVG8odCxlKXtyZXR1cm4gdGhpcy5jdXJyZW50UGF0aC5saW5lVG8odCxlKSx0aGlzfXF1YWRyYXRpY0N1cnZlVG8odCxlLG4saSl7cmV0dXJuIHRoaXMuY3VycmVudFBhdGgucXVhZHJhdGljQ3VydmVUbyh0LGUsbixpKSx0aGlzfWJlemllckN1cnZlVG8odCxlLG4saSxyLHMpe3JldHVybiB0aGlzLmN1cnJlbnRQYXRoLmJlemllckN1cnZlVG8odCxlLG4saSxyLHMpLHRoaXN9c3BsaW5lVGhydSh0KXtyZXR1cm4gdGhpcy5jdXJyZW50UGF0aC5zcGxpbmVUaHJ1KHQpLHRoaXN9dG9TaGFwZXModCxlKXtmdW5jdGlvbiBuKHQpe2NvbnN0IGU9W107Zm9yKGxldCBuPTAsaT10Lmxlbmd0aDtuPGk7bisrKXtjb25zdCBpPXRbbl0scj1uZXcgemw7ci5jdXJ2ZXM9aS5jdXJ2ZXMsZS5wdXNoKHIpfXJldHVybiBlfWZ1bmN0aW9uIGkodCxlKXtjb25zdCBuPWUubGVuZ3RoO2xldCBpPSExO2ZvcihsZXQgcj1uLTEscz0wO3M8bjtyPXMrKyl7bGV0IG49ZVtyXSxhPWVbc10sbz1hLngtbi54LGw9YS55LW4ueTtpZihNYXRoLmFicyhsKT5OdW1iZXIuRVBTSUxPTil7aWYobDwwJiYobj1lW3NdLG89LW8sYT1lW3JdLGw9LWwpLHQueTxuLnl8fHQueT5hLnkpY29udGludWU7aWYodC55PT09bi55KXtpZih0Lng9PT1uLngpcmV0dXJuITB9ZWxzZXtjb25zdCBlPWwqKHQueC1uLngpLW8qKHQueS1uLnkpO2lmKDA9PT1lKXJldHVybiEwO2lmKGU8MCljb250aW51ZTtpPSFpfX1lbHNle2lmKHQueSE9PW4ueSljb250aW51ZTtpZihhLng8PXQueCYmdC54PD1uLnh8fG4ueDw9dC54JiZ0Lng8PWEueClyZXR1cm4hMH19cmV0dXJuIGl9Y29uc3Qgcj1wby5pc0Nsb2NrV2lzZSxzPXRoaXMuc3ViUGF0aHM7aWYoMD09PXMubGVuZ3RoKXJldHVybltdO2lmKCEwPT09ZSlyZXR1cm4gbihzKTtsZXQgYSxvLGw7Y29uc3QgYz1bXTtpZigxPT09cy5sZW5ndGgpcmV0dXJuIG89c1swXSxsPW5ldyB6bCxsLmN1cnZlcz1vLmN1cnZlcyxjLnB1c2gobCksYztsZXQgaD0hcihzWzBdLmdldFBvaW50cygpKTtoPXQ/IWg6aDtjb25zdCB1PVtdLGQ9W107bGV0IHAsbSxmPVtdLGc9MDtkW2ddPXZvaWQgMCxmW2ddPVtdO2ZvcihsZXQgZT0wLG49cy5sZW5ndGg7ZTxuO2UrKylvPXNbZV0scD1vLmdldFBvaW50cygpLGE9cihwKSxhPXQ/IWE6YSxhPyghaCYmZFtnXSYmZysrLGRbZ109e3M6bmV3IHpsLHA6cH0sZFtnXS5zLmN1cnZlcz1vLmN1cnZlcyxoJiZnKyssZltnXT1bXSk6ZltnXS5wdXNoKHtoOm8scDpwWzBdfSk7aWYoIWRbMF0pcmV0dXJuIG4ocyk7aWYoZC5sZW5ndGg+MSl7bGV0IHQ9ITE7Y29uc3QgZT1bXTtmb3IobGV0IHQ9MCxlPWQubGVuZ3RoO3Q8ZTt0KyspdVt0XT1bXTtmb3IobGV0IG49MCxyPWQubGVuZ3RoO248cjtuKyspe2NvbnN0IHI9ZltuXTtmb3IobGV0IHM9MDtzPHIubGVuZ3RoO3MrKyl7Y29uc3QgYT1yW3NdO2xldCBvPSEwO2ZvcihsZXQgcj0wO3I8ZC5sZW5ndGg7cisrKWkoYS5wLGRbcl0ucCkmJihuIT09ciYmZS5wdXNoKHtmcm9tczpuLHRvczpyLGhvbGU6c30pLG8/KG89ITEsdVtyXS5wdXNoKGEpKTp0PSEwKTtvJiZ1W25dLnB1c2goYSl9fWUubGVuZ3RoPjAmJih0fHwoZj11KSl9Zm9yKGxldCB0PTAsZT1kLmxlbmd0aDt0PGU7dCsrKXtsPWRbdF0ucyxjLnB1c2gobCksbT1mW3RdO2ZvcihsZXQgdD0wLGU9bS5sZW5ndGg7dDxlO3QrKylsLmhvbGVzLnB1c2gobVt0XS5oKX1yZXR1cm4gY319Y2xhc3MgcGN7Y29uc3RydWN0b3IodCl7dGhpcy50eXBlPSJGb250Iix0aGlzLmRhdGE9dH1nZW5lcmF0ZVNoYXBlcyh0LGU9MTAwKXtjb25zdCBuPVtdLGk9ZnVuY3Rpb24odCxlLG4pe2NvbnN0IGk9QXJyYXkuZnJvbSh0KSxyPWUvbi5yZXNvbHV0aW9uLHM9KG4uYm91bmRpbmdCb3gueU1heC1uLmJvdW5kaW5nQm94LnlNaW4rbi51bmRlcmxpbmVUaGlja25lc3MpKnIsYT1bXTtsZXQgbz0wLGw9MDtmb3IobGV0IHQ9MDt0PGkubGVuZ3RoO3QrKyl7Y29uc3QgZT1pW3RdO2lmKCJcbiI9PT1lKW89MCxsLT1zO2Vsc2V7Y29uc3QgdD1tYyhlLHIsbyxsLG4pO28rPXQub2Zmc2V0WCxhLnB1c2godC5wYXRoKX19cmV0dXJuIGF9KHQsZSx0aGlzLmRhdGEpO2ZvcihsZXQgdD0wLGU9aS5sZW5ndGg7dDxlO3QrKylBcnJheS5wcm90b3R5cGUucHVzaC5hcHBseShuLGlbdF0udG9TaGFwZXMoKSk7cmV0dXJuIG59fWZ1bmN0aW9uIG1jKHQsZSxuLGkscil7Y29uc3Qgcz1yLmdseXBoc1t0XXx8ci5nbHlwaHNbIj8iXTtpZighcylyZXR1cm4gdm9pZCBjb25zb2xlLmVycm9yKCdUSFJFRS5Gb250OiBjaGFyYWN0ZXIgIicrdCsnIiBkb2VzIG5vdCBleGlzdHMgaW4gZm9udCBmYW1pbHkgJytyLmZhbWlseU5hbWUrIi4iKTtjb25zdCBhPW5ldyBkYztsZXQgbyxsLGMsaCx1LGQscCxtO2lmKHMubyl7Y29uc3QgdD1zLl9jYWNoZWRPdXRsaW5lfHwocy5fY2FjaGVkT3V0bGluZT1zLm8uc3BsaXQoIiAiKSk7Zm9yKGxldCByPTAscz10Lmxlbmd0aDtyPHM7KXtzd2l0Y2godFtyKytdKXtjYXNlIm0iOm89dFtyKytdKmUrbixsPXRbcisrXSplK2ksYS5tb3ZlVG8obyxsKTticmVhaztjYXNlImwiOm89dFtyKytdKmUrbixsPXRbcisrXSplK2ksYS5saW5lVG8obyxsKTticmVhaztjYXNlInEiOmM9dFtyKytdKmUrbixoPXRbcisrXSplK2ksdT10W3IrK10qZStuLGQ9dFtyKytdKmUraSxhLnF1YWRyYXRpY0N1cnZlVG8odSxkLGMsaCk7YnJlYWs7Y2FzZSJiIjpjPXRbcisrXSplK24saD10W3IrK10qZStpLHU9dFtyKytdKmUrbixkPXRbcisrXSplK2kscD10W3IrK10qZStuLG09dFtyKytdKmUraSxhLmJlemllckN1cnZlVG8odSxkLHAsbSxjLGgpfX19cmV0dXJue29mZnNldFg6cy5oYSplLHBhdGg6YX19cGMucHJvdG90eXBlLmlzRm9udD0hMDtsZXQgZmM7Y29uc3QgZ2M9e2dldENvbnRleHQ6ZnVuY3Rpb24oKXtyZXR1cm4gdm9pZCAwPT09ZmMmJihmYz1uZXcod2luZG93LkF1ZGlvQ29udGV4dHx8d2luZG93LndlYmtpdEF1ZGlvQ29udGV4dCkpLGZjfSxzZXRDb250ZXh0OmZ1bmN0aW9uKHQpe2ZjPXR9fTtjbGFzcyB2YyBleHRlbmRzIG9se2NvbnN0cnVjdG9yKHQpe3N1cGVyKHQpfWxvYWQodCxlLG4saSl7Y29uc3Qgcj10aGlzLHM9bmV3IGNsKHRoaXMubWFuYWdlcik7cy5zZXRSZXNwb25zZVR5cGUoImFycmF5YnVmZmVyIikscy5zZXRQYXRoKHRoaXMucGF0aCkscy5zZXRSZXF1ZXN0SGVhZGVyKHRoaXMucmVxdWVzdEhlYWRlcikscy5zZXRXaXRoQ3JlZGVudGlhbHModGhpcy53aXRoQ3JlZGVudGlhbHMpLHMubG9hZCh0LChmdW5jdGlvbihuKXt0cnl7Y29uc3QgdD1uLnNsaWNlKDApO2djLmdldENvbnRleHQoKS5kZWNvZGVBdWRpb0RhdGEodCwoZnVuY3Rpb24odCl7ZSh0KX0pKX1jYXRjaChlKXtpP2koZSk6Y29uc29sZS5lcnJvcihlKSxyLm1hbmFnZXIuaXRlbUVycm9yKHQpfX0pLG4saSl9fWNsYXNzIHljIGV4dGVuZHMgbmN7Y29uc3RydWN0b3IodCxlLG49MSl7c3VwZXIodm9pZCAwLG4pO2NvbnN0IGk9KG5ldyB0bikuc2V0KHQpLHI9KG5ldyB0bikuc2V0KGUpLHM9bmV3IEx0KGkucixpLmcsaS5iKSxhPW5ldyBMdChyLnIsci5nLHIuYiksbz1NYXRoLnNxcnQoTWF0aC5QSSksbD1vKk1hdGguc3FydCguNzUpO3RoaXMuc2guY29lZmZpY2llbnRzWzBdLmNvcHkocykuYWRkKGEpLm11bHRpcGx5U2NhbGFyKG8pLHRoaXMuc2guY29lZmZpY2llbnRzWzFdLmNvcHkocykuc3ViKGEpLm11bHRpcGx5U2NhbGFyKGwpfX15Yy5wcm90b3R5cGUuaXNIZW1pc3BoZXJlTGlnaHRQcm9iZT0hMDtjbGFzcyB4YyBleHRlbmRzIG5je2NvbnN0cnVjdG9yKHQsZT0xKXtzdXBlcih2b2lkIDAsZSk7Y29uc3Qgbj0obmV3IHRuKS5zZXQodCk7dGhpcy5zaC5jb2VmZmljaWVudHNbMF0uc2V0KG4ucixuLmcsbi5iKS5tdWx0aXBseVNjYWxhcigyKk1hdGguc3FydChNYXRoLlBJKSl9fXhjLnByb3RvdHlwZS5pc0FtYmllbnRMaWdodFByb2JlPSEwO2NvbnN0IF9jPW5ldyBzZSx3Yz1uZXcgc2U7Y2xhc3MgYmN7Y29uc3RydWN0b3IodD0hMCl7dGhpcy5hdXRvU3RhcnQ9dCx0aGlzLnN0YXJ0VGltZT0wLHRoaXMub2xkVGltZT0wLHRoaXMuZWxhcHNlZFRpbWU9MCx0aGlzLnJ1bm5pbmc9ITF9c3RhcnQoKXt0aGlzLnN0YXJ0VGltZT1NYygpLHRoaXMub2xkVGltZT10aGlzLnN0YXJ0VGltZSx0aGlzLmVsYXBzZWRUaW1lPTAsdGhpcy5ydW5uaW5nPSEwfXN0b3AoKXt0aGlzLmdldEVsYXBzZWRUaW1lKCksdGhpcy5ydW5uaW5nPSExLHRoaXMuYXV0b1N0YXJ0PSExfWdldEVsYXBzZWRUaW1lKCl7cmV0dXJuIHRoaXMuZ2V0RGVsdGEoKSx0aGlzLmVsYXBzZWRUaW1lfWdldERlbHRhKCl7bGV0IHQ9MDtpZih0aGlzLmF1dG9TdGFydCYmIXRoaXMucnVubmluZylyZXR1cm4gdGhpcy5zdGFydCgpLDA7aWYodGhpcy5ydW5uaW5nKXtjb25zdCBlPU1jKCk7dD0oZS10aGlzLm9sZFRpbWUpLzFlMyx0aGlzLm9sZFRpbWU9ZSx0aGlzLmVsYXBzZWRUaW1lKz10fXJldHVybiB0fX1mdW5jdGlvbiBNYygpe3JldHVybigidW5kZWZpbmVkIj09dHlwZW9mIHBlcmZvcm1hbmNlP0RhdGU6cGVyZm9ybWFuY2UpLm5vdygpfWNvbnN0IFNjPW5ldyBMdCxUYz1uZXcgQXQsRWM9bmV3IEx0LEFjPW5ldyBMdDtjbGFzcyBMYyBleHRlbmRzIENle2NvbnN0cnVjdG9yKHQpe3N1cGVyKCksdGhpcy50eXBlPSJBdWRpbyIsdGhpcy5saXN0ZW5lcj10LHRoaXMuY29udGV4dD10LmNvbnRleHQsdGhpcy5nYWluPXRoaXMuY29udGV4dC5jcmVhdGVHYWluKCksdGhpcy5nYWluLmNvbm5lY3QodC5nZXRJbnB1dCgpKSx0aGlzLmF1dG9wbGF5PSExLHRoaXMuYnVmZmVyPW51bGwsdGhpcy5kZXR1bmU9MCx0aGlzLmxvb3A9ITEsdGhpcy5sb29wU3RhcnQ9MCx0aGlzLmxvb3BFbmQ9MCx0aGlzLm9mZnNldD0wLHRoaXMuZHVyYXRpb249dm9pZCAwLHRoaXMucGxheWJhY2tSYXRlPTEsdGhpcy5pc1BsYXlpbmc9ITEsdGhpcy5oYXNQbGF5YmFja0NvbnRyb2w9ITAsdGhpcy5zb3VyY2U9bnVsbCx0aGlzLnNvdXJjZVR5cGU9ImVtcHR5Iix0aGlzLl9zdGFydGVkQXQ9MCx0aGlzLl9wcm9ncmVzcz0wLHRoaXMuX2Nvbm5lY3RlZD0hMSx0aGlzLmZpbHRlcnM9W119Z2V0T3V0cHV0KCl7cmV0dXJuIHRoaXMuZ2Fpbn1zZXROb2RlU291cmNlKHQpe3JldHVybiB0aGlzLmhhc1BsYXliYWNrQ29udHJvbD0hMSx0aGlzLnNvdXJjZVR5cGU9ImF1ZGlvTm9kZSIsdGhpcy5zb3VyY2U9dCx0aGlzLmNvbm5lY3QoKSx0aGlzfXNldE1lZGlhRWxlbWVudFNvdXJjZSh0KXtyZXR1cm4gdGhpcy5oYXNQbGF5YmFja0NvbnRyb2w9ITEsdGhpcy5zb3VyY2VUeXBlPSJtZWRpYU5vZGUiLHRoaXMuc291cmNlPXRoaXMuY29udGV4dC5jcmVhdGVNZWRpYUVsZW1lbnRTb3VyY2UodCksdGhpcy5jb25uZWN0KCksdGhpc31zZXRNZWRpYVN0cmVhbVNvdXJjZSh0KXtyZXR1cm4gdGhpcy5oYXNQbGF5YmFja0NvbnRyb2w9ITEsdGhpcy5zb3VyY2VUeXBlPSJtZWRpYVN0cmVhbU5vZGUiLHRoaXMuc291cmNlPXRoaXMuY29udGV4dC5jcmVhdGVNZWRpYVN0cmVhbVNvdXJjZSh0KSx0aGlzLmNvbm5lY3QoKSx0aGlzfXNldEJ1ZmZlcih0KXtyZXR1cm4gdGhpcy5idWZmZXI9dCx0aGlzLnNvdXJjZVR5cGU9ImJ1ZmZlciIsdGhpcy5hdXRvcGxheSYmdGhpcy5wbGF5KCksdGhpc31wbGF5KHQ9MCl7aWYoITA9PT10aGlzLmlzUGxheWluZylyZXR1cm4gdm9pZCBjb25zb2xlLndhcm4oIlRIUkVFLkF1ZGlvOiBBdWRpbyBpcyBhbHJlYWR5IHBsYXlpbmcuIik7aWYoITE9PT10aGlzLmhhc1BsYXliYWNrQ29udHJvbClyZXR1cm4gdm9pZCBjb25zb2xlLndhcm4oIlRIUkVFLkF1ZGlvOiB0aGlzIEF1ZGlvIGhhcyBubyBwbGF5YmFjayBjb250cm9sLiIpO3RoaXMuX3N0YXJ0ZWRBdD10aGlzLmNvbnRleHQuY3VycmVudFRpbWUrdDtjb25zdCBlPXRoaXMuY29udGV4dC5jcmVhdGVCdWZmZXJTb3VyY2UoKTtyZXR1cm4gZS5idWZmZXI9dGhpcy5idWZmZXIsZS5sb29wPXRoaXMubG9vcCxlLmxvb3BTdGFydD10aGlzLmxvb3BTdGFydCxlLmxvb3BFbmQ9dGhpcy5sb29wRW5kLGUub25lbmRlZD10aGlzLm9uRW5kZWQuYmluZCh0aGlzKSxlLnN0YXJ0KHRoaXMuX3N0YXJ0ZWRBdCx0aGlzLl9wcm9ncmVzcyt0aGlzLm9mZnNldCx0aGlzLmR1cmF0aW9uKSx0aGlzLmlzUGxheWluZz0hMCx0aGlzLnNvdXJjZT1lLHRoaXMuc2V0RGV0dW5lKHRoaXMuZGV0dW5lKSx0aGlzLnNldFBsYXliYWNrUmF0ZSh0aGlzLnBsYXliYWNrUmF0ZSksdGhpcy5jb25uZWN0KCl9cGF1c2UoKXtpZighMSE9PXRoaXMuaGFzUGxheWJhY2tDb250cm9sKXJldHVybiEwPT09dGhpcy5pc1BsYXlpbmcmJih0aGlzLl9wcm9ncmVzcys9TWF0aC5tYXgodGhpcy5jb250ZXh0LmN1cnJlbnRUaW1lLXRoaXMuX3N0YXJ0ZWRBdCwwKSp0aGlzLnBsYXliYWNrUmF0ZSwhMD09PXRoaXMubG9vcCYmKHRoaXMuX3Byb2dyZXNzPXRoaXMuX3Byb2dyZXNzJSh0aGlzLmR1cmF0aW9ufHx0aGlzLmJ1ZmZlci5kdXJhdGlvbikpLHRoaXMuc291cmNlLnN0b3AoKSx0aGlzLnNvdXJjZS5vbmVuZGVkPW51bGwsdGhpcy5pc1BsYXlpbmc9ITEpLHRoaXM7Y29uc29sZS53YXJuKCJUSFJFRS5BdWRpbzogdGhpcyBBdWRpbyBoYXMgbm8gcGxheWJhY2sgY29udHJvbC4iKX1zdG9wKCl7aWYoITEhPT10aGlzLmhhc1BsYXliYWNrQ29udHJvbClyZXR1cm4gdGhpcy5fcHJvZ3Jlc3M9MCx0aGlzLnNvdXJjZS5zdG9wKCksdGhpcy5zb3VyY2Uub25lbmRlZD1udWxsLHRoaXMuaXNQbGF5aW5nPSExLHRoaXM7Y29uc29sZS53YXJuKCJUSFJFRS5BdWRpbzogdGhpcyBBdWRpbyBoYXMgbm8gcGxheWJhY2sgY29udHJvbC4iKX1jb25uZWN0KCl7aWYodGhpcy5maWx0ZXJzLmxlbmd0aD4wKXt0aGlzLnNvdXJjZS5jb25uZWN0KHRoaXMuZmlsdGVyc1swXSk7Zm9yKGxldCB0PTEsZT10aGlzLmZpbHRlcnMubGVuZ3RoO3Q8ZTt0KyspdGhpcy5maWx0ZXJzW3QtMV0uY29ubmVjdCh0aGlzLmZpbHRlcnNbdF0pO3RoaXMuZmlsdGVyc1t0aGlzLmZpbHRlcnMubGVuZ3RoLTFdLmNvbm5lY3QodGhpcy5nZXRPdXRwdXQoKSl9ZWxzZSB0aGlzLnNvdXJjZS5jb25uZWN0KHRoaXMuZ2V0T3V0cHV0KCkpO3JldHVybiB0aGlzLl9jb25uZWN0ZWQ9ITAsdGhpc31kaXNjb25uZWN0KCl7aWYodGhpcy5maWx0ZXJzLmxlbmd0aD4wKXt0aGlzLnNvdXJjZS5kaXNjb25uZWN0KHRoaXMuZmlsdGVyc1swXSk7Zm9yKGxldCB0PTEsZT10aGlzLmZpbHRlcnMubGVuZ3RoO3Q8ZTt0KyspdGhpcy5maWx0ZXJzW3QtMV0uZGlzY29ubmVjdCh0aGlzLmZpbHRlcnNbdF0pO3RoaXMuZmlsdGVyc1t0aGlzLmZpbHRlcnMubGVuZ3RoLTFdLmRpc2Nvbm5lY3QodGhpcy5nZXRPdXRwdXQoKSl9ZWxzZSB0aGlzLnNvdXJjZS5kaXNjb25uZWN0KHRoaXMuZ2V0T3V0cHV0KCkpO3JldHVybiB0aGlzLl9jb25uZWN0ZWQ9ITEsdGhpc31nZXRGaWx0ZXJzKCl7cmV0dXJuIHRoaXMuZmlsdGVyc31zZXRGaWx0ZXJzKHQpe3JldHVybiB0fHwodD1bXSksITA9PT10aGlzLl9jb25uZWN0ZWQ/KHRoaXMuZGlzY29ubmVjdCgpLHRoaXMuZmlsdGVycz10LnNsaWNlKCksdGhpcy5jb25uZWN0KCkpOnRoaXMuZmlsdGVycz10LnNsaWNlKCksdGhpc31zZXREZXR1bmUodCl7aWYodGhpcy5kZXR1bmU9dCx2b2lkIDAhPT10aGlzLnNvdXJjZS5kZXR1bmUpcmV0dXJuITA9PT10aGlzLmlzUGxheWluZyYmdGhpcy5zb3VyY2UuZGV0dW5lLnNldFRhcmdldEF0VGltZSh0aGlzLmRldHVuZSx0aGlzLmNvbnRleHQuY3VycmVudFRpbWUsLjAxKSx0aGlzfWdldERldHVuZSgpe3JldHVybiB0aGlzLmRldHVuZX1nZXRGaWx0ZXIoKXtyZXR1cm4gdGhpcy5nZXRGaWx0ZXJzKClbMF19c2V0RmlsdGVyKHQpe3JldHVybiB0aGlzLnNldEZpbHRlcnModD9bdF06W10pfXNldFBsYXliYWNrUmF0ZSh0KXtpZighMSE9PXRoaXMuaGFzUGxheWJhY2tDb250cm9sKXJldHVybiB0aGlzLnBsYXliYWNrUmF0ZT10LCEwPT09dGhpcy5pc1BsYXlpbmcmJnRoaXMuc291cmNlLnBsYXliYWNrUmF0ZS5zZXRUYXJnZXRBdFRpbWUodGhpcy5wbGF5YmFja1JhdGUsdGhpcy5jb250ZXh0LmN1cnJlbnRUaW1lLC4wMSksdGhpcztjb25zb2xlLndhcm4oIlRIUkVFLkF1ZGlvOiB0aGlzIEF1ZGlvIGhhcyBubyBwbGF5YmFjayBjb250cm9sLiIpfWdldFBsYXliYWNrUmF0ZSgpe3JldHVybiB0aGlzLnBsYXliYWNrUmF0ZX1vbkVuZGVkKCl7dGhpcy5pc1BsYXlpbmc9ITF9Z2V0TG9vcCgpe3JldHVybiExPT09dGhpcy5oYXNQbGF5YmFja0NvbnRyb2w/KGNvbnNvbGUud2FybigiVEhSRUUuQXVkaW86IHRoaXMgQXVkaW8gaGFzIG5vIHBsYXliYWNrIGNvbnRyb2wuIiksITEpOnRoaXMubG9vcH1zZXRMb29wKHQpe2lmKCExIT09dGhpcy5oYXNQbGF5YmFja0NvbnRyb2wpcmV0dXJuIHRoaXMubG9vcD10LCEwPT09dGhpcy5pc1BsYXlpbmcmJih0aGlzLnNvdXJjZS5sb29wPXRoaXMubG9vcCksdGhpcztjb25zb2xlLndhcm4oIlRIUkVFLkF1ZGlvOiB0aGlzIEF1ZGlvIGhhcyBubyBwbGF5YmFjayBjb250cm9sLiIpfXNldExvb3BTdGFydCh0KXtyZXR1cm4gdGhpcy5sb29wU3RhcnQ9dCx0aGlzfXNldExvb3BFbmQodCl7cmV0dXJuIHRoaXMubG9vcEVuZD10LHRoaXN9Z2V0Vm9sdW1lKCl7cmV0dXJuIHRoaXMuZ2Fpbi5nYWluLnZhbHVlfXNldFZvbHVtZSh0KXtyZXR1cm4gdGhpcy5nYWluLmdhaW4uc2V0VGFyZ2V0QXRUaW1lKHQsdGhpcy5jb250ZXh0LmN1cnJlbnRUaW1lLC4wMSksdGhpc319Y29uc3QgUmM9bmV3IEx0LENjPW5ldyBBdCxQYz1uZXcgTHQsRGM9bmV3IEx0O2NsYXNzIElje2NvbnN0cnVjdG9yKHQsZT0yMDQ4KXt0aGlzLmFuYWx5c2VyPXQuY29udGV4dC5jcmVhdGVBbmFseXNlcigpLHRoaXMuYW5hbHlzZXIuZmZ0U2l6ZT1lLHRoaXMuZGF0YT1uZXcgVWludDhBcnJheSh0aGlzLmFuYWx5c2VyLmZyZXF1ZW5jeUJpbkNvdW50KSx0LmdldE91dHB1dCgpLmNvbm5lY3QodGhpcy5hbmFseXNlcil9Z2V0RnJlcXVlbmN5RGF0YSgpe3JldHVybiB0aGlzLmFuYWx5c2VyLmdldEJ5dGVGcmVxdWVuY3lEYXRhKHRoaXMuZGF0YSksdGhpcy5kYXRhfWdldEF2ZXJhZ2VGcmVxdWVuY3koKXtsZXQgdD0wO2NvbnN0IGU9dGhpcy5nZXRGcmVxdWVuY3lEYXRhKCk7Zm9yKGxldCBuPTA7bjxlLmxlbmd0aDtuKyspdCs9ZVtuXTtyZXR1cm4gdC9lLmxlbmd0aH19Y2xhc3MgTmN7Y29uc3RydWN0b3IodCxlLG4pe2xldCBpLHIscztzd2l0Y2godGhpcy5iaW5kaW5nPXQsdGhpcy52YWx1ZVNpemU9bixlKXtjYXNlInF1YXRlcm5pb24iOmk9dGhpcy5fc2xlcnAscj10aGlzLl9zbGVycEFkZGl0aXZlLHM9dGhpcy5fc2V0QWRkaXRpdmVJZGVudGl0eVF1YXRlcm5pb24sdGhpcy5idWZmZXI9bmV3IEZsb2F0NjRBcnJheSg2Km4pLHRoaXMuX3dvcmtJbmRleD01O2JyZWFrO2Nhc2Uic3RyaW5nIjpjYXNlImJvb2wiOmk9dGhpcy5fc2VsZWN0LHI9dGhpcy5fc2VsZWN0LHM9dGhpcy5fc2V0QWRkaXRpdmVJZGVudGl0eU90aGVyLHRoaXMuYnVmZmVyPW5ldyBBcnJheSg1Km4pO2JyZWFrO2RlZmF1bHQ6aT10aGlzLl9sZXJwLHI9dGhpcy5fbGVycEFkZGl0aXZlLHM9dGhpcy5fc2V0QWRkaXRpdmVJZGVudGl0eU51bWVyaWMsdGhpcy5idWZmZXI9bmV3IEZsb2F0NjRBcnJheSg1Km4pfXRoaXMuX21peEJ1ZmZlclJlZ2lvbj1pLHRoaXMuX21peEJ1ZmZlclJlZ2lvbkFkZGl0aXZlPXIsdGhpcy5fc2V0SWRlbnRpdHk9cyx0aGlzLl9vcmlnSW5kZXg9Myx0aGlzLl9hZGRJbmRleD00LHRoaXMuY3VtdWxhdGl2ZVdlaWdodD0wLHRoaXMuY3VtdWxhdGl2ZVdlaWdodEFkZGl0aXZlPTAsdGhpcy51c2VDb3VudD0wLHRoaXMucmVmZXJlbmNlQ291bnQ9MH1hY2N1bXVsYXRlKHQsZSl7Y29uc3Qgbj10aGlzLmJ1ZmZlcixpPXRoaXMudmFsdWVTaXplLHI9dCppK2k7bGV0IHM9dGhpcy5jdW11bGF0aXZlV2VpZ2h0O2lmKDA9PT1zKXtmb3IobGV0IHQ9MDt0IT09aTsrK3QpbltyK3RdPW5bdF07cz1lfWVsc2V7cys9ZTtjb25zdCB0PWUvczt0aGlzLl9taXhCdWZmZXJSZWdpb24obixyLDAsdCxpKX10aGlzLmN1bXVsYXRpdmVXZWlnaHQ9c31hY2N1bXVsYXRlQWRkaXRpdmUodCl7Y29uc3QgZT10aGlzLmJ1ZmZlcixuPXRoaXMudmFsdWVTaXplLGk9bip0aGlzLl9hZGRJbmRleDswPT09dGhpcy5jdW11bGF0aXZlV2VpZ2h0QWRkaXRpdmUmJnRoaXMuX3NldElkZW50aXR5KCksdGhpcy5fbWl4QnVmZmVyUmVnaW9uQWRkaXRpdmUoZSxpLDAsdCxuKSx0aGlzLmN1bXVsYXRpdmVXZWlnaHRBZGRpdGl2ZSs9dH1hcHBseSh0KXtjb25zdCBlPXRoaXMudmFsdWVTaXplLG49dGhpcy5idWZmZXIsaT10KmUrZSxyPXRoaXMuY3VtdWxhdGl2ZVdlaWdodCxzPXRoaXMuY3VtdWxhdGl2ZVdlaWdodEFkZGl0aXZlLGE9dGhpcy5iaW5kaW5nO2lmKHRoaXMuY3VtdWxhdGl2ZVdlaWdodD0wLHRoaXMuY3VtdWxhdGl2ZVdlaWdodEFkZGl0aXZlPTAscjwxKXtjb25zdCB0PWUqdGhpcy5fb3JpZ0luZGV4O3RoaXMuX21peEJ1ZmZlclJlZ2lvbihuLGksdCwxLXIsZSl9cz4wJiZ0aGlzLl9taXhCdWZmZXJSZWdpb25BZGRpdGl2ZShuLGksdGhpcy5fYWRkSW5kZXgqZSwxLGUpO2ZvcihsZXQgdD1lLHI9ZStlO3QhPT1yOysrdClpZihuW3RdIT09blt0K2VdKXthLnNldFZhbHVlKG4saSk7YnJlYWt9fXNhdmVPcmlnaW5hbFN0YXRlKCl7Y29uc3QgdD10aGlzLmJpbmRpbmcsZT10aGlzLmJ1ZmZlcixuPXRoaXMudmFsdWVTaXplLGk9bip0aGlzLl9vcmlnSW5kZXg7dC5nZXRWYWx1ZShlLGkpO2ZvcihsZXQgdD1uLHI9aTt0IT09cjsrK3QpZVt0XT1lW2krdCVuXTt0aGlzLl9zZXRJZGVudGl0eSgpLHRoaXMuY3VtdWxhdGl2ZVdlaWdodD0wLHRoaXMuY3VtdWxhdGl2ZVdlaWdodEFkZGl0aXZlPTB9cmVzdG9yZU9yaWdpbmFsU3RhdGUoKXtjb25zdCB0PTMqdGhpcy52YWx1ZVNpemU7dGhpcy5iaW5kaW5nLnNldFZhbHVlKHRoaXMuYnVmZmVyLHQpfV9zZXRBZGRpdGl2ZUlkZW50aXR5TnVtZXJpYygpe2NvbnN0IHQ9dGhpcy5fYWRkSW5kZXgqdGhpcy52YWx1ZVNpemUsZT10K3RoaXMudmFsdWVTaXplO2ZvcihsZXQgbj10O248ZTtuKyspdGhpcy5idWZmZXJbbl09MH1fc2V0QWRkaXRpdmVJZGVudGl0eVF1YXRlcm5pb24oKXt0aGlzLl9zZXRBZGRpdGl2ZUlkZW50aXR5TnVtZXJpYygpLHRoaXMuYnVmZmVyW3RoaXMuX2FkZEluZGV4KnRoaXMudmFsdWVTaXplKzNdPTF9X3NldEFkZGl0aXZlSWRlbnRpdHlPdGhlcigpe2NvbnN0IHQ9dGhpcy5fb3JpZ0luZGV4KnRoaXMudmFsdWVTaXplLGU9dGhpcy5fYWRkSW5kZXgqdGhpcy52YWx1ZVNpemU7Zm9yKGxldCBuPTA7bjx0aGlzLnZhbHVlU2l6ZTtuKyspdGhpcy5idWZmZXJbZStuXT10aGlzLmJ1ZmZlclt0K25dfV9zZWxlY3QodCxlLG4saSxyKXtpZihpPj0uNSlmb3IobGV0IGk9MDtpIT09cjsrK2kpdFtlK2ldPXRbbitpXX1fc2xlcnAodCxlLG4saSl7QXQuc2xlcnBGbGF0KHQsZSx0LGUsdCxuLGkpfV9zbGVycEFkZGl0aXZlKHQsZSxuLGkscil7Y29uc3Qgcz10aGlzLl93b3JrSW5kZXgqcjtBdC5tdWx0aXBseVF1YXRlcm5pb25zRmxhdCh0LHMsdCxlLHQsbiksQXQuc2xlcnBGbGF0KHQsZSx0LGUsdCxzLGkpfV9sZXJwKHQsZSxuLGkscil7Y29uc3Qgcz0xLWk7Zm9yKGxldCBhPTA7YSE9PXI7KythKXtjb25zdCByPWUrYTt0W3JdPXRbcl0qcyt0W24rYV0qaX19X2xlcnBBZGRpdGl2ZSh0LGUsbixpLHIpe2ZvcihsZXQgcz0wO3MhPT1yOysrcyl7Y29uc3Qgcj1lK3M7dFtyXT10W3JdK3RbbitzXSppfX19Y29uc3QgQmM9IlxcW1xcXVxcLjpcXC8iLHpjPW5ldyBSZWdFeHAoIltcXFtcXF1cXC46XFwvXSIsImciKSxGYz0iW15cXFtcXF1cXC46XFwvXSIsT2M9IlteIitCYy5yZXBsYWNlKCJcXC4iLCIiKSsiXSIsSGM9LygoPzpXQytbXC86XSkqKS8uc291cmNlLnJlcGxhY2UoIldDIixGYyksR2M9LyhXQ09EKyk/Ly5zb3VyY2UucmVwbGFjZSgiV0NPRCIsT2MpLFVjPS8oPzpcLihXQyspKD86XFsoLispXF0pPyk/Ly5zb3VyY2UucmVwbGFjZSgiV0MiLEZjKSxrYz0vXC4oV0MrKSg/OlxbKC4rKVxdKT8vLnNvdXJjZS5yZXBsYWNlKCJXQyIsRmMpLFZjPW5ldyBSZWdFeHAoIl4iK0hjK0djK1VjK2tjKyIkIiksV2M9WyJtYXRlcmlhbCIsIm1hdGVyaWFscyIsImJvbmVzIl07Y2xhc3MgamN7Y29uc3RydWN0b3IodCxlLG4pe3RoaXMucGF0aD1lLHRoaXMucGFyc2VkUGF0aD1ufHxqYy5wYXJzZVRyYWNrTmFtZShlKSx0aGlzLm5vZGU9amMuZmluZE5vZGUodCx0aGlzLnBhcnNlZFBhdGgubm9kZU5hbWUpfHx0LHRoaXMucm9vdE5vZGU9dCx0aGlzLmdldFZhbHVlPXRoaXMuX2dldFZhbHVlX3VuYm91bmQsdGhpcy5zZXRWYWx1ZT10aGlzLl9zZXRWYWx1ZV91bmJvdW5kfXN0YXRpYyBjcmVhdGUodCxlLG4pe3JldHVybiB0JiZ0LmlzQW5pbWF0aW9uT2JqZWN0R3JvdXA/bmV3IGpjLkNvbXBvc2l0ZSh0LGUsbik6bmV3IGpjKHQsZSxuKX1zdGF0aWMgc2FuaXRpemVOb2RlTmFtZSh0KXtyZXR1cm4gdC5yZXBsYWNlKC9ccy9nLCJfIikucmVwbGFjZSh6YywiIil9c3RhdGljIHBhcnNlVHJhY2tOYW1lKHQpe2NvbnN0IGU9VmMuZXhlYyh0KTtpZighZSl0aHJvdyBuZXcgRXJyb3IoIlByb3BlcnR5QmluZGluZzogQ2Fubm90IHBhcnNlIHRyYWNrTmFtZTogIit0KTtjb25zdCBuPXtub2RlTmFtZTplWzJdLG9iamVjdE5hbWU6ZVszXSxvYmplY3RJbmRleDplWzRdLHByb3BlcnR5TmFtZTplWzVdLHByb3BlcnR5SW5kZXg6ZVs2XX0saT1uLm5vZGVOYW1lJiZuLm5vZGVOYW1lLmxhc3RJbmRleE9mKCIuIik7aWYodm9pZCAwIT09aSYmLTEhPT1pKXtjb25zdCB0PW4ubm9kZU5hbWUuc3Vic3RyaW5nKGkrMSk7LTEhPT1XYy5pbmRleE9mKHQpJiYobi5ub2RlTmFtZT1uLm5vZGVOYW1lLnN1YnN0cmluZygwLGkpLG4ub2JqZWN0TmFtZT10KX1pZihudWxsPT09bi5wcm9wZXJ0eU5hbWV8fDA9PT1uLnByb3BlcnR5TmFtZS5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKCJQcm9wZXJ0eUJpbmRpbmc6IGNhbiBub3QgcGFyc2UgcHJvcGVydHlOYW1lIGZyb20gdHJhY2tOYW1lOiAiK3QpO3JldHVybiBufXN0YXRpYyBmaW5kTm9kZSh0LGUpe2lmKCFlfHwiIj09PWV8fCIuIj09PWV8fC0xPT09ZXx8ZT09PXQubmFtZXx8ZT09PXQudXVpZClyZXR1cm4gdDtpZih0LnNrZWxldG9uKXtjb25zdCBuPXQuc2tlbGV0b24uZ2V0Qm9uZUJ5TmFtZShlKTtpZih2b2lkIDAhPT1uKXJldHVybiBufWlmKHQuY2hpbGRyZW4pe2NvbnN0IG49ZnVuY3Rpb24odCl7Zm9yKGxldCBpPTA7aTx0Lmxlbmd0aDtpKyspe2NvbnN0IHI9dFtpXTtpZihyLm5hbWU9PT1lfHxyLnV1aWQ9PT1lKXJldHVybiByO2NvbnN0IHM9bihyLmNoaWxkcmVuKTtpZihzKXJldHVybiBzfXJldHVybiBudWxsfSxpPW4odC5jaGlsZHJlbik7aWYoaSlyZXR1cm4gaX1yZXR1cm4gbnVsbH1fZ2V0VmFsdWVfdW5hdmFpbGFibGUoKXt9X3NldFZhbHVlX3VuYXZhaWxhYmxlKCl7fV9nZXRWYWx1ZV9kaXJlY3QodCxlKXt0W2VdPXRoaXMubm9kZVt0aGlzLnByb3BlcnR5TmFtZV19X2dldFZhbHVlX2FycmF5KHQsZSl7Y29uc3Qgbj10aGlzLnJlc29sdmVkUHJvcGVydHk7Zm9yKGxldCBpPTAscj1uLmxlbmd0aDtpIT09cjsrK2kpdFtlKytdPW5baV19X2dldFZhbHVlX2FycmF5RWxlbWVudCh0LGUpe3RbZV09dGhpcy5yZXNvbHZlZFByb3BlcnR5W3RoaXMucHJvcGVydHlJbmRleF19X2dldFZhbHVlX3RvQXJyYXkodCxlKXt0aGlzLnJlc29sdmVkUHJvcGVydHkudG9BcnJheSh0LGUpfV9zZXRWYWx1ZV9kaXJlY3QodCxlKXt0aGlzLnRhcmdldE9iamVjdFt0aGlzLnByb3BlcnR5TmFtZV09dFtlXX1fc2V0VmFsdWVfZGlyZWN0X3NldE5lZWRzVXBkYXRlKHQsZSl7dGhpcy50YXJnZXRPYmplY3RbdGhpcy5wcm9wZXJ0eU5hbWVdPXRbZV0sdGhpcy50YXJnZXRPYmplY3QubmVlZHNVcGRhdGU9ITB9X3NldFZhbHVlX2RpcmVjdF9zZXRNYXRyaXhXb3JsZE5lZWRzVXBkYXRlKHQsZSl7dGhpcy50YXJnZXRPYmplY3RbdGhpcy5wcm9wZXJ0eU5hbWVdPXRbZV0sdGhpcy50YXJnZXRPYmplY3QubWF0cml4V29ybGROZWVkc1VwZGF0ZT0hMH1fc2V0VmFsdWVfYXJyYXkodCxlKXtjb25zdCBuPXRoaXMucmVzb2x2ZWRQcm9wZXJ0eTtmb3IobGV0IGk9MCxyPW4ubGVuZ3RoO2khPT1yOysraSluW2ldPXRbZSsrXX1fc2V0VmFsdWVfYXJyYXlfc2V0TmVlZHNVcGRhdGUodCxlKXtjb25zdCBuPXRoaXMucmVzb2x2ZWRQcm9wZXJ0eTtmb3IobGV0IGk9MCxyPW4ubGVuZ3RoO2khPT1yOysraSluW2ldPXRbZSsrXTt0aGlzLnRhcmdldE9iamVjdC5uZWVkc1VwZGF0ZT0hMH1fc2V0VmFsdWVfYXJyYXlfc2V0TWF0cml4V29ybGROZWVkc1VwZGF0ZSh0LGUpe2NvbnN0IG49dGhpcy5yZXNvbHZlZFByb3BlcnR5O2ZvcihsZXQgaT0wLHI9bi5sZW5ndGg7aSE9PXI7KytpKW5baV09dFtlKytdO3RoaXMudGFyZ2V0T2JqZWN0Lm1hdHJpeFdvcmxkTmVlZHNVcGRhdGU9ITB9X3NldFZhbHVlX2FycmF5RWxlbWVudCh0LGUpe3RoaXMucmVzb2x2ZWRQcm9wZXJ0eVt0aGlzLnByb3BlcnR5SW5kZXhdPXRbZV19X3NldFZhbHVlX2FycmF5RWxlbWVudF9zZXROZWVkc1VwZGF0ZSh0LGUpe3RoaXMucmVzb2x2ZWRQcm9wZXJ0eVt0aGlzLnByb3BlcnR5SW5kZXhdPXRbZV0sdGhpcy50YXJnZXRPYmplY3QubmVlZHNVcGRhdGU9ITB9X3NldFZhbHVlX2FycmF5RWxlbWVudF9zZXRNYXRyaXhXb3JsZE5lZWRzVXBkYXRlKHQsZSl7dGhpcy5yZXNvbHZlZFByb3BlcnR5W3RoaXMucHJvcGVydHlJbmRleF09dFtlXSx0aGlzLnRhcmdldE9iamVjdC5tYXRyaXhXb3JsZE5lZWRzVXBkYXRlPSEwfV9zZXRWYWx1ZV9mcm9tQXJyYXkodCxlKXt0aGlzLnJlc29sdmVkUHJvcGVydHkuZnJvbUFycmF5KHQsZSl9X3NldFZhbHVlX2Zyb21BcnJheV9zZXROZWVkc1VwZGF0ZSh0LGUpe3RoaXMucmVzb2x2ZWRQcm9wZXJ0eS5mcm9tQXJyYXkodCxlKSx0aGlzLnRhcmdldE9iamVjdC5uZWVkc1VwZGF0ZT0hMH1fc2V0VmFsdWVfZnJvbUFycmF5X3NldE1hdHJpeFdvcmxkTmVlZHNVcGRhdGUodCxlKXt0aGlzLnJlc29sdmVkUHJvcGVydHkuZnJvbUFycmF5KHQsZSksdGhpcy50YXJnZXRPYmplY3QubWF0cml4V29ybGROZWVkc1VwZGF0ZT0hMH1fZ2V0VmFsdWVfdW5ib3VuZCh0LGUpe3RoaXMuYmluZCgpLHRoaXMuZ2V0VmFsdWUodCxlKX1fc2V0VmFsdWVfdW5ib3VuZCh0LGUpe3RoaXMuYmluZCgpLHRoaXMuc2V0VmFsdWUodCxlKX1iaW5kKCl7bGV0IHQ9dGhpcy5ub2RlO2NvbnN0IGU9dGhpcy5wYXJzZWRQYXRoLG49ZS5vYmplY3ROYW1lLGk9ZS5wcm9wZXJ0eU5hbWU7bGV0IHI9ZS5wcm9wZXJ0eUluZGV4O2lmKHR8fCh0PWpjLmZpbmROb2RlKHRoaXMucm9vdE5vZGUsZS5ub2RlTmFtZSl8fHRoaXMucm9vdE5vZGUsdGhpcy5ub2RlPXQpLHRoaXMuZ2V0VmFsdWU9dGhpcy5fZ2V0VmFsdWVfdW5hdmFpbGFibGUsdGhpcy5zZXRWYWx1ZT10aGlzLl9zZXRWYWx1ZV91bmF2YWlsYWJsZSwhdClyZXR1cm4gdm9pZCBjb25zb2xlLmVycm9yKCJUSFJFRS5Qcm9wZXJ0eUJpbmRpbmc6IFRyeWluZyB0byB1cGRhdGUgbm9kZSBmb3IgdHJhY2s6ICIrdGhpcy5wYXRoKyIgYnV0IGl0IHdhc24ndCBmb3VuZC4iKTtpZihuKXtsZXQgaT1lLm9iamVjdEluZGV4O3N3aXRjaChuKXtjYXNlIm1hdGVyaWFscyI6aWYoIXQubWF0ZXJpYWwpcmV0dXJuIHZvaWQgY29uc29sZS5lcnJvcigiVEhSRUUuUHJvcGVydHlCaW5kaW5nOiBDYW4gbm90IGJpbmQgdG8gbWF0ZXJpYWwgYXMgbm9kZSBkb2VzIG5vdCBoYXZlIGEgbWF0ZXJpYWwuIix0aGlzKTtpZighdC5tYXRlcmlhbC5tYXRlcmlhbHMpcmV0dXJuIHZvaWQgY29uc29sZS5lcnJvcigiVEhSRUUuUHJvcGVydHlCaW5kaW5nOiBDYW4gbm90IGJpbmQgdG8gbWF0ZXJpYWwubWF0ZXJpYWxzIGFzIG5vZGUubWF0ZXJpYWwgZG9lcyBub3QgaGF2ZSBhIG1hdGVyaWFscyBhcnJheS4iLHRoaXMpO3Q9dC5tYXRlcmlhbC5tYXRlcmlhbHM7YnJlYWs7Y2FzZSJib25lcyI6aWYoIXQuc2tlbGV0b24pcmV0dXJuIHZvaWQgY29uc29sZS5lcnJvcigiVEhSRUUuUHJvcGVydHlCaW5kaW5nOiBDYW4gbm90IGJpbmQgdG8gYm9uZXMgYXMgbm9kZSBkb2VzIG5vdCBoYXZlIGEgc2tlbGV0b24uIix0aGlzKTt0PXQuc2tlbGV0b24uYm9uZXM7Zm9yKGxldCBlPTA7ZTx0Lmxlbmd0aDtlKyspaWYodFtlXS5uYW1lPT09aSl7aT1lO2JyZWFrfWJyZWFrO2RlZmF1bHQ6aWYodm9pZCAwPT09dFtuXSlyZXR1cm4gdm9pZCBjb25zb2xlLmVycm9yKCJUSFJFRS5Qcm9wZXJ0eUJpbmRpbmc6IENhbiBub3QgYmluZCB0byBvYmplY3ROYW1lIG9mIG5vZGUgdW5kZWZpbmVkLiIsdGhpcyk7dD10W25dfWlmKHZvaWQgMCE9PWkpe2lmKHZvaWQgMD09PXRbaV0pcmV0dXJuIHZvaWQgY29uc29sZS5lcnJvcigiVEhSRUUuUHJvcGVydHlCaW5kaW5nOiBUcnlpbmcgdG8gYmluZCB0byBvYmplY3RJbmRleCBvZiBvYmplY3ROYW1lLCBidXQgaXMgdW5kZWZpbmVkLiIsdGhpcyx0KTt0PXRbaV19fWNvbnN0IHM9dFtpXTtpZih2b2lkIDA9PT1zKXtjb25zdCBuPWUubm9kZU5hbWU7cmV0dXJuIHZvaWQgY29uc29sZS5lcnJvcigiVEhSRUUuUHJvcGVydHlCaW5kaW5nOiBUcnlpbmcgdG8gdXBkYXRlIHByb3BlcnR5IGZvciB0cmFjazogIituKyIuIitpKyIgYnV0IGl0IHdhc24ndCBmb3VuZC4iLHQpfWxldCBhPXRoaXMuVmVyc2lvbmluZy5Ob25lO3RoaXMudGFyZ2V0T2JqZWN0PXQsdm9pZCAwIT09dC5uZWVkc1VwZGF0ZT9hPXRoaXMuVmVyc2lvbmluZy5OZWVkc1VwZGF0ZTp2b2lkIDAhPT10Lm1hdHJpeFdvcmxkTmVlZHNVcGRhdGUmJihhPXRoaXMuVmVyc2lvbmluZy5NYXRyaXhXb3JsZE5lZWRzVXBkYXRlKTtsZXQgbz10aGlzLkJpbmRpbmdUeXBlLkRpcmVjdDtpZih2b2lkIDAhPT1yKXtpZigibW9ycGhUYXJnZXRJbmZsdWVuY2VzIj09PWkpe2lmKCF0Lmdlb21ldHJ5KXJldHVybiB2b2lkIGNvbnNvbGUuZXJyb3IoIlRIUkVFLlByb3BlcnR5QmluZGluZzogQ2FuIG5vdCBiaW5kIHRvIG1vcnBoVGFyZ2V0SW5mbHVlbmNlcyBiZWNhdXNlIG5vZGUgZG9lcyBub3QgaGF2ZSBhIGdlb21ldHJ5LiIsdGhpcyk7aWYoIXQuZ2VvbWV0cnkuaXNCdWZmZXJHZW9tZXRyeSlyZXR1cm4gdm9pZCBjb25zb2xlLmVycm9yKCJUSFJFRS5Qcm9wZXJ0eUJpbmRpbmc6IENhbiBub3QgYmluZCB0byBtb3JwaFRhcmdldEluZmx1ZW5jZXMgb24gVEhSRUUuR2VvbWV0cnkuIFVzZSBUSFJFRS5CdWZmZXJHZW9tZXRyeSBpbnN0ZWFkLiIsdGhpcyk7aWYoIXQuZ2VvbWV0cnkubW9ycGhBdHRyaWJ1dGVzKXJldHVybiB2b2lkIGNvbnNvbGUuZXJyb3IoIlRIUkVFLlByb3BlcnR5QmluZGluZzogQ2FuIG5vdCBiaW5kIHRvIG1vcnBoVGFyZ2V0SW5mbHVlbmNlcyBiZWNhdXNlIG5vZGUgZG9lcyBub3QgaGF2ZSBhIGdlb21ldHJ5Lm1vcnBoQXR0cmlidXRlcy4iLHRoaXMpO3ZvaWQgMCE9PXQubW9ycGhUYXJnZXREaWN0aW9uYXJ5W3JdJiYocj10Lm1vcnBoVGFyZ2V0RGljdGlvbmFyeVtyXSl9bz10aGlzLkJpbmRpbmdUeXBlLkFycmF5RWxlbWVudCx0aGlzLnJlc29sdmVkUHJvcGVydHk9cyx0aGlzLnByb3BlcnR5SW5kZXg9cn1lbHNlIHZvaWQgMCE9PXMuZnJvbUFycmF5JiZ2b2lkIDAhPT1zLnRvQXJyYXk/KG89dGhpcy5CaW5kaW5nVHlwZS5IYXNGcm9tVG9BcnJheSx0aGlzLnJlc29sdmVkUHJvcGVydHk9cyk6QXJyYXkuaXNBcnJheShzKT8obz10aGlzLkJpbmRpbmdUeXBlLkVudGlyZUFycmF5LHRoaXMucmVzb2x2ZWRQcm9wZXJ0eT1zKTp0aGlzLnByb3BlcnR5TmFtZT1pO3RoaXMuZ2V0VmFsdWU9dGhpcy5HZXR0ZXJCeUJpbmRpbmdUeXBlW29dLHRoaXMuc2V0VmFsdWU9dGhpcy5TZXR0ZXJCeUJpbmRpbmdUeXBlQW5kVmVyc2lvbmluZ1tvXVthXX11bmJpbmQoKXt0aGlzLm5vZGU9bnVsbCx0aGlzLmdldFZhbHVlPXRoaXMuX2dldFZhbHVlX3VuYm91bmQsdGhpcy5zZXRWYWx1ZT10aGlzLl9zZXRWYWx1ZV91bmJvdW5kfX1qYy5Db21wb3NpdGU9Y2xhc3N7Y29uc3RydWN0b3IodCxlLG4pe2NvbnN0IGk9bnx8amMucGFyc2VUcmFja05hbWUoZSk7dGhpcy5fdGFyZ2V0R3JvdXA9dCx0aGlzLl9iaW5kaW5ncz10LnN1YnNjcmliZV8oZSxpKX1nZXRWYWx1ZSh0LGUpe3RoaXMuYmluZCgpO2NvbnN0IG49dGhpcy5fdGFyZ2V0R3JvdXAubkNhY2hlZE9iamVjdHNfLGk9dGhpcy5fYmluZGluZ3Nbbl07dm9pZCAwIT09aSYmaS5nZXRWYWx1ZSh0LGUpfXNldFZhbHVlKHQsZSl7Y29uc3Qgbj10aGlzLl9iaW5kaW5ncztmb3IobGV0IGk9dGhpcy5fdGFyZ2V0R3JvdXAubkNhY2hlZE9iamVjdHNfLHI9bi5sZW5ndGg7aSE9PXI7KytpKW5baV0uc2V0VmFsdWUodCxlKX1iaW5kKCl7Y29uc3QgdD10aGlzLl9iaW5kaW5ncztmb3IobGV0IGU9dGhpcy5fdGFyZ2V0R3JvdXAubkNhY2hlZE9iamVjdHNfLG49dC5sZW5ndGg7ZSE9PW47KytlKXRbZV0uYmluZCgpfXVuYmluZCgpe2NvbnN0IHQ9dGhpcy5fYmluZGluZ3M7Zm9yKGxldCBlPXRoaXMuX3RhcmdldEdyb3VwLm5DYWNoZWRPYmplY3RzXyxuPXQubGVuZ3RoO2UhPT1uOysrZSl0W2VdLnVuYmluZCgpfX0samMucHJvdG90eXBlLkJpbmRpbmdUeXBlPXtEaXJlY3Q6MCxFbnRpcmVBcnJheToxLEFycmF5RWxlbWVudDoyLEhhc0Zyb21Ub0FycmF5OjN9LGpjLnByb3RvdHlwZS5WZXJzaW9uaW5nPXtOb25lOjAsTmVlZHNVcGRhdGU6MSxNYXRyaXhXb3JsZE5lZWRzVXBkYXRlOjJ9LGpjLnByb3RvdHlwZS5HZXR0ZXJCeUJpbmRpbmdUeXBlPVtqYy5wcm90b3R5cGUuX2dldFZhbHVlX2RpcmVjdCxqYy5wcm90b3R5cGUuX2dldFZhbHVlX2FycmF5LGpjLnByb3RvdHlwZS5fZ2V0VmFsdWVfYXJyYXlFbGVtZW50LGpjLnByb3RvdHlwZS5fZ2V0VmFsdWVfdG9BcnJheV0samMucHJvdG90eXBlLlNldHRlckJ5QmluZGluZ1R5cGVBbmRWZXJzaW9uaW5nPVtbamMucHJvdG90eXBlLl9zZXRWYWx1ZV9kaXJlY3QsamMucHJvdG90eXBlLl9zZXRWYWx1ZV9kaXJlY3Rfc2V0TmVlZHNVcGRhdGUsamMucHJvdG90eXBlLl9zZXRWYWx1ZV9kaXJlY3Rfc2V0TWF0cml4V29ybGROZWVkc1VwZGF0ZV0sW2pjLnByb3RvdHlwZS5fc2V0VmFsdWVfYXJyYXksamMucHJvdG90eXBlLl9zZXRWYWx1ZV9hcnJheV9zZXROZWVkc1VwZGF0ZSxqYy5wcm90b3R5cGUuX3NldFZhbHVlX2FycmF5X3NldE1hdHJpeFdvcmxkTmVlZHNVcGRhdGVdLFtqYy5wcm90b3R5cGUuX3NldFZhbHVlX2FycmF5RWxlbWVudCxqYy5wcm90b3R5cGUuX3NldFZhbHVlX2FycmF5RWxlbWVudF9zZXROZWVkc1VwZGF0ZSxqYy5wcm90b3R5cGUuX3NldFZhbHVlX2FycmF5RWxlbWVudF9zZXRNYXRyaXhXb3JsZE5lZWRzVXBkYXRlXSxbamMucHJvdG90eXBlLl9zZXRWYWx1ZV9mcm9tQXJyYXksamMucHJvdG90eXBlLl9zZXRWYWx1ZV9mcm9tQXJyYXlfc2V0TmVlZHNVcGRhdGUsamMucHJvdG90eXBlLl9zZXRWYWx1ZV9mcm9tQXJyYXlfc2V0TWF0cml4V29ybGROZWVkc1VwZGF0ZV1dO2NsYXNzIHFje2NvbnN0cnVjdG9yKCl7dGhpcy51dWlkPWN0KCksdGhpcy5fb2JqZWN0cz1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpLHRoaXMubkNhY2hlZE9iamVjdHNfPTA7Y29uc3QgdD17fTt0aGlzLl9pbmRpY2VzQnlVVUlEPXQ7Zm9yKGxldCBlPTAsbj1hcmd1bWVudHMubGVuZ3RoO2UhPT1uOysrZSl0W2FyZ3VtZW50c1tlXS51dWlkXT1lO3RoaXMuX3BhdGhzPVtdLHRoaXMuX3BhcnNlZFBhdGhzPVtdLHRoaXMuX2JpbmRpbmdzPVtdLHRoaXMuX2JpbmRpbmdzSW5kaWNlc0J5UGF0aD17fTtjb25zdCBlPXRoaXM7dGhpcy5zdGF0cz17b2JqZWN0czp7Z2V0IHRvdGFsKCl7cmV0dXJuIGUuX29iamVjdHMubGVuZ3RofSxnZXQgaW5Vc2UoKXtyZXR1cm4gdGhpcy50b3RhbC1lLm5DYWNoZWRPYmplY3RzX319LGdldCBiaW5kaW5nc1Blck9iamVjdCgpe3JldHVybiBlLl9iaW5kaW5ncy5sZW5ndGh9fX1hZGQoKXtjb25zdCB0PXRoaXMuX29iamVjdHMsZT10aGlzLl9pbmRpY2VzQnlVVUlELG49dGhpcy5fcGF0aHMsaT10aGlzLl9wYXJzZWRQYXRocyxyPXRoaXMuX2JpbmRpbmdzLHM9ci5sZW5ndGg7bGV0IGEsbz10Lmxlbmd0aCxsPXRoaXMubkNhY2hlZE9iamVjdHNfO2ZvcihsZXQgYz0wLGg9YXJndW1lbnRzLmxlbmd0aDtjIT09aDsrK2Mpe2NvbnN0IGg9YXJndW1lbnRzW2NdLHU9aC51dWlkO2xldCBkPWVbdV07aWYodm9pZCAwPT09ZCl7ZD1vKyssZVt1XT1kLHQucHVzaChoKTtmb3IobGV0IHQ9MCxlPXM7dCE9PWU7Kyt0KXJbdF0ucHVzaChuZXcgamMoaCxuW3RdLGlbdF0pKX1lbHNlIGlmKGQ8bCl7YT10W2RdO2NvbnN0IG89LS1sLGM9dFtvXTtlW2MudXVpZF09ZCx0W2RdPWMsZVt1XT1vLHRbb109aDtmb3IobGV0IHQ9MCxlPXM7dCE9PWU7Kyt0KXtjb25zdCBlPXJbdF0scz1lW29dO2xldCBhPWVbZF07ZVtkXT1zLHZvaWQgMD09PWEmJihhPW5ldyBqYyhoLG5bdF0saVt0XSkpLGVbb109YX19ZWxzZSB0W2RdIT09YSYmY29uc29sZS5lcnJvcigiVEhSRUUuQW5pbWF0aW9uT2JqZWN0R3JvdXA6IERpZmZlcmVudCBvYmplY3RzIHdpdGggdGhlIHNhbWUgVVVJRCBkZXRlY3RlZC4gQ2xlYW4gdGhlIGNhY2hlcyBvciByZWNyZWF0ZSB5b3VyIGluZnJhc3RydWN0dXJlIHdoZW4gcmVsb2FkaW5nIHNjZW5lcy4iKX10aGlzLm5DYWNoZWRPYmplY3RzXz1sfXJlbW92ZSgpe2NvbnN0IHQ9dGhpcy5fb2JqZWN0cyxlPXRoaXMuX2luZGljZXNCeVVVSUQsbj10aGlzLl9iaW5kaW5ncyxpPW4ubGVuZ3RoO2xldCByPXRoaXMubkNhY2hlZE9iamVjdHNfO2ZvcihsZXQgcz0wLGE9YXJndW1lbnRzLmxlbmd0aDtzIT09YTsrK3Mpe2NvbnN0IGE9YXJndW1lbnRzW3NdLG89YS51dWlkLGw9ZVtvXTtpZih2b2lkIDAhPT1sJiZsPj1yKXtjb25zdCBzPXIrKyxjPXRbc107ZVtjLnV1aWRdPWwsdFtsXT1jLGVbb109cyx0W3NdPWE7Zm9yKGxldCB0PTAsZT1pO3QhPT1lOysrdCl7Y29uc3QgZT1uW3RdLGk9ZVtzXSxyPWVbbF07ZVtsXT1pLGVbc109cn19fXRoaXMubkNhY2hlZE9iamVjdHNfPXJ9dW5jYWNoZSgpe2NvbnN0IHQ9dGhpcy5fb2JqZWN0cyxlPXRoaXMuX2luZGljZXNCeVVVSUQsbj10aGlzLl9iaW5kaW5ncyxpPW4ubGVuZ3RoO2xldCByPXRoaXMubkNhY2hlZE9iamVjdHNfLHM9dC5sZW5ndGg7Zm9yKGxldCBhPTAsbz1hcmd1bWVudHMubGVuZ3RoO2EhPT1vOysrYSl7Y29uc3Qgbz1hcmd1bWVudHNbYV0udXVpZCxsPWVbb107aWYodm9pZCAwIT09bClpZihkZWxldGUgZVtvXSxsPHIpe2NvbnN0IGE9LS1yLG89dFthXSxjPS0tcyxoPXRbY107ZVtvLnV1aWRdPWwsdFtsXT1vLGVbaC51dWlkXT1hLHRbYV09aCx0LnBvcCgpO2ZvcihsZXQgdD0wLGU9aTt0IT09ZTsrK3Qpe2NvbnN0IGU9blt0XSxpPWVbYV0scj1lW2NdO2VbbF09aSxlW2FdPXIsZS5wb3AoKX19ZWxzZXtjb25zdCByPS0tcyxhPXRbcl07cj4wJiYoZVthLnV1aWRdPWwpLHRbbF09YSx0LnBvcCgpO2ZvcihsZXQgdD0wLGU9aTt0IT09ZTsrK3Qpe2NvbnN0IGU9blt0XTtlW2xdPWVbcl0sZS5wb3AoKX19fXRoaXMubkNhY2hlZE9iamVjdHNfPXJ9c3Vic2NyaWJlXyh0LGUpe2NvbnN0IG49dGhpcy5fYmluZGluZ3NJbmRpY2VzQnlQYXRoO2xldCBpPW5bdF07Y29uc3Qgcj10aGlzLl9iaW5kaW5ncztpZih2b2lkIDAhPT1pKXJldHVybiByW2ldO2NvbnN0IHM9dGhpcy5fcGF0aHMsYT10aGlzLl9wYXJzZWRQYXRocyxvPXRoaXMuX29iamVjdHMsbD1vLmxlbmd0aCxjPXRoaXMubkNhY2hlZE9iamVjdHNfLGg9bmV3IEFycmF5KGwpO2k9ci5sZW5ndGgsblt0XT1pLHMucHVzaCh0KSxhLnB1c2goZSksci5wdXNoKGgpO2ZvcihsZXQgbj1jLGk9by5sZW5ndGg7biE9PWk7KytuKXtjb25zdCBpPW9bbl07aFtuXT1uZXcgamMoaSx0LGUpfXJldHVybiBofXVuc3Vic2NyaWJlXyh0KXtjb25zdCBlPXRoaXMuX2JpbmRpbmdzSW5kaWNlc0J5UGF0aCxuPWVbdF07aWYodm9pZCAwIT09bil7Y29uc3QgaT10aGlzLl9wYXRocyxyPXRoaXMuX3BhcnNlZFBhdGhzLHM9dGhpcy5fYmluZGluZ3MsYT1zLmxlbmd0aC0xLG89c1thXTtlW3RbYV1dPW4sc1tuXT1vLHMucG9wKCkscltuXT1yW2FdLHIucG9wKCksaVtuXT1pW2FdLGkucG9wKCl9fX1xYy5wcm90b3R5cGUuaXNBbmltYXRpb25PYmplY3RHcm91cD0hMDtjbGFzcyBYY3tjb25zdHJ1Y3Rvcih0LGUsbj1udWxsLGk9ZS5ibGVuZE1vZGUpe3RoaXMuX21peGVyPXQsdGhpcy5fY2xpcD1lLHRoaXMuX2xvY2FsUm9vdD1uLHRoaXMuYmxlbmRNb2RlPWk7Y29uc3Qgcj1lLnRyYWNrcyxzPXIubGVuZ3RoLGE9bmV3IEFycmF5KHMpLG89e2VuZGluZ1N0YXJ0OmssZW5kaW5nRW5kOmt9O2ZvcihsZXQgdD0wO3QhPT1zOysrdCl7Y29uc3QgZT1yW3RdLmNyZWF0ZUludGVycG9sYW50KG51bGwpO2FbdF09ZSxlLnNldHRpbmdzPW99dGhpcy5faW50ZXJwb2xhbnRTZXR0aW5ncz1vLHRoaXMuX2ludGVycG9sYW50cz1hLHRoaXMuX3Byb3BlcnR5QmluZGluZ3M9bmV3IEFycmF5KHMpLHRoaXMuX2NhY2hlSW5kZXg9bnVsbCx0aGlzLl9ieUNsaXBDYWNoZUluZGV4PW51bGwsdGhpcy5fdGltZVNjYWxlSW50ZXJwb2xhbnQ9bnVsbCx0aGlzLl93ZWlnaHRJbnRlcnBvbGFudD1udWxsLHRoaXMubG9vcD0yMjAxLHRoaXMuX2xvb3BDb3VudD0tMSx0aGlzLl9zdGFydFRpbWU9bnVsbCx0aGlzLnRpbWU9MCx0aGlzLnRpbWVTY2FsZT0xLHRoaXMuX2VmZmVjdGl2ZVRpbWVTY2FsZT0xLHRoaXMud2VpZ2h0PTEsdGhpcy5fZWZmZWN0aXZlV2VpZ2h0PTEsdGhpcy5yZXBldGl0aW9ucz0xLzAsdGhpcy5wYXVzZWQ9ITEsdGhpcy5lbmFibGVkPSEwLHRoaXMuY2xhbXBXaGVuRmluaXNoZWQ9ITEsdGhpcy56ZXJvU2xvcGVBdFN0YXJ0PSEwLHRoaXMuemVyb1Nsb3BlQXRFbmQ9ITB9cGxheSgpe3JldHVybiB0aGlzLl9taXhlci5fYWN0aXZhdGVBY3Rpb24odGhpcyksdGhpc31zdG9wKCl7cmV0dXJuIHRoaXMuX21peGVyLl9kZWFjdGl2YXRlQWN0aW9uKHRoaXMpLHRoaXMucmVzZXQoKX1yZXNldCgpe3JldHVybiB0aGlzLnBhdXNlZD0hMSx0aGlzLmVuYWJsZWQ9ITAsdGhpcy50aW1lPTAsdGhpcy5fbG9vcENvdW50PS0xLHRoaXMuX3N0YXJ0VGltZT1udWxsLHRoaXMuc3RvcEZhZGluZygpLnN0b3BXYXJwaW5nKCl9aXNSdW5uaW5nKCl7cmV0dXJuIHRoaXMuZW5hYmxlZCYmIXRoaXMucGF1c2VkJiYwIT09dGhpcy50aW1lU2NhbGUmJm51bGw9PT10aGlzLl9zdGFydFRpbWUmJnRoaXMuX21peGVyLl9pc0FjdGl2ZUFjdGlvbih0aGlzKX1pc1NjaGVkdWxlZCgpe3JldHVybiB0aGlzLl9taXhlci5faXNBY3RpdmVBY3Rpb24odGhpcyl9c3RhcnRBdCh0KXtyZXR1cm4gdGhpcy5fc3RhcnRUaW1lPXQsdGhpc31zZXRMb29wKHQsZSl7cmV0dXJuIHRoaXMubG9vcD10LHRoaXMucmVwZXRpdGlvbnM9ZSx0aGlzfXNldEVmZmVjdGl2ZVdlaWdodCh0KXtyZXR1cm4gdGhpcy53ZWlnaHQ9dCx0aGlzLl9lZmZlY3RpdmVXZWlnaHQ9dGhpcy5lbmFibGVkP3Q6MCx0aGlzLnN0b3BGYWRpbmcoKX1nZXRFZmZlY3RpdmVXZWlnaHQoKXtyZXR1cm4gdGhpcy5fZWZmZWN0aXZlV2VpZ2h0fWZhZGVJbih0KXtyZXR1cm4gdGhpcy5fc2NoZWR1bGVGYWRpbmcodCwwLDEpfWZhZGVPdXQodCl7cmV0dXJuIHRoaXMuX3NjaGVkdWxlRmFkaW5nKHQsMSwwKX1jcm9zc0ZhZGVGcm9tKHQsZSxuKXtpZih0LmZhZGVPdXQoZSksdGhpcy5mYWRlSW4oZSksbil7Y29uc3Qgbj10aGlzLl9jbGlwLmR1cmF0aW9uLGk9dC5fY2xpcC5kdXJhdGlvbixyPWkvbixzPW4vaTt0LndhcnAoMSxyLGUpLHRoaXMud2FycChzLDEsZSl9cmV0dXJuIHRoaXN9Y3Jvc3NGYWRlVG8odCxlLG4pe3JldHVybiB0LmNyb3NzRmFkZUZyb20odGhpcyxlLG4pfXN0b3BGYWRpbmcoKXtjb25zdCB0PXRoaXMuX3dlaWdodEludGVycG9sYW50O3JldHVybiBudWxsIT09dCYmKHRoaXMuX3dlaWdodEludGVycG9sYW50PW51bGwsdGhpcy5fbWl4ZXIuX3Rha2VCYWNrQ29udHJvbEludGVycG9sYW50KHQpKSx0aGlzfXNldEVmZmVjdGl2ZVRpbWVTY2FsZSh0KXtyZXR1cm4gdGhpcy50aW1lU2NhbGU9dCx0aGlzLl9lZmZlY3RpdmVUaW1lU2NhbGU9dGhpcy5wYXVzZWQ/MDp0LHRoaXMuc3RvcFdhcnBpbmcoKX1nZXRFZmZlY3RpdmVUaW1lU2NhbGUoKXtyZXR1cm4gdGhpcy5fZWZmZWN0aXZlVGltZVNjYWxlfXNldER1cmF0aW9uKHQpe3JldHVybiB0aGlzLnRpbWVTY2FsZT10aGlzLl9jbGlwLmR1cmF0aW9uL3QsdGhpcy5zdG9wV2FycGluZygpfXN5bmNXaXRoKHQpe3JldHVybiB0aGlzLnRpbWU9dC50aW1lLHRoaXMudGltZVNjYWxlPXQudGltZVNjYWxlLHRoaXMuc3RvcFdhcnBpbmcoKX1oYWx0KHQpe3JldHVybiB0aGlzLndhcnAodGhpcy5fZWZmZWN0aXZlVGltZVNjYWxlLDAsdCl9d2FycCh0LGUsbil7Y29uc3QgaT10aGlzLl9taXhlcixyPWkudGltZSxzPXRoaXMudGltZVNjYWxlO2xldCBhPXRoaXMuX3RpbWVTY2FsZUludGVycG9sYW50O251bGw9PT1hJiYoYT1pLl9sZW5kQ29udHJvbEludGVycG9sYW50KCksdGhpcy5fdGltZVNjYWxlSW50ZXJwb2xhbnQ9YSk7Y29uc3Qgbz1hLnBhcmFtZXRlclBvc2l0aW9ucyxsPWEuc2FtcGxlVmFsdWVzO3JldHVybiBvWzBdPXIsb1sxXT1yK24sbFswXT10L3MsbFsxXT1lL3MsdGhpc31zdG9wV2FycGluZygpe2NvbnN0IHQ9dGhpcy5fdGltZVNjYWxlSW50ZXJwb2xhbnQ7cmV0dXJuIG51bGwhPT10JiYodGhpcy5fdGltZVNjYWxlSW50ZXJwb2xhbnQ9bnVsbCx0aGlzLl9taXhlci5fdGFrZUJhY2tDb250cm9sSW50ZXJwb2xhbnQodCkpLHRoaXN9Z2V0TWl4ZXIoKXtyZXR1cm4gdGhpcy5fbWl4ZXJ9Z2V0Q2xpcCgpe3JldHVybiB0aGlzLl9jbGlwfWdldFJvb3QoKXtyZXR1cm4gdGhpcy5fbG9jYWxSb290fHx0aGlzLl9taXhlci5fcm9vdH1fdXBkYXRlKHQsZSxuLGkpe2lmKCF0aGlzLmVuYWJsZWQpcmV0dXJuIHZvaWQgdGhpcy5fdXBkYXRlV2VpZ2h0KHQpO2NvbnN0IHI9dGhpcy5fc3RhcnRUaW1lO2lmKG51bGwhPT1yKXtjb25zdCBpPSh0LXIpKm47aWYoaTwwfHwwPT09bilyZXR1cm47dGhpcy5fc3RhcnRUaW1lPW51bGwsZT1uKml9ZSo9dGhpcy5fdXBkYXRlVGltZVNjYWxlKHQpO2NvbnN0IHM9dGhpcy5fdXBkYXRlVGltZShlKSxhPXRoaXMuX3VwZGF0ZVdlaWdodCh0KTtpZihhPjApe2NvbnN0IHQ9dGhpcy5faW50ZXJwb2xhbnRzLGU9dGhpcy5fcHJvcGVydHlCaW5kaW5ncztzd2l0Y2godGhpcy5ibGVuZE1vZGUpe2Nhc2UgcTpmb3IobGV0IG49MCxpPXQubGVuZ3RoO24hPT1pOysrbil0W25dLmV2YWx1YXRlKHMpLGVbbl0uYWNjdW11bGF0ZUFkZGl0aXZlKGEpO2JyZWFrO2Nhc2UgajpkZWZhdWx0OmZvcihsZXQgbj0wLHI9dC5sZW5ndGg7biE9PXI7KytuKXRbbl0uZXZhbHVhdGUocyksZVtuXS5hY2N1bXVsYXRlKGksYSl9fX1fdXBkYXRlV2VpZ2h0KHQpe2xldCBlPTA7aWYodGhpcy5lbmFibGVkKXtlPXRoaXMud2VpZ2h0O2NvbnN0IG49dGhpcy5fd2VpZ2h0SW50ZXJwb2xhbnQ7aWYobnVsbCE9PW4pe2NvbnN0IGk9bi5ldmFsdWF0ZSh0KVswXTtlKj1pLHQ+bi5wYXJhbWV0ZXJQb3NpdGlvbnNbMV0mJih0aGlzLnN0b3BGYWRpbmcoKSwwPT09aSYmKHRoaXMuZW5hYmxlZD0hMSkpfX1yZXR1cm4gdGhpcy5fZWZmZWN0aXZlV2VpZ2h0PWUsZX1fdXBkYXRlVGltZVNjYWxlKHQpe2xldCBlPTA7aWYoIXRoaXMucGF1c2VkKXtlPXRoaXMudGltZVNjYWxlO2NvbnN0IG49dGhpcy5fdGltZVNjYWxlSW50ZXJwb2xhbnQ7aWYobnVsbCE9PW4pe2UqPW4uZXZhbHVhdGUodClbMF0sdD5uLnBhcmFtZXRlclBvc2l0aW9uc1sxXSYmKHRoaXMuc3RvcFdhcnBpbmcoKSwwPT09ZT90aGlzLnBhdXNlZD0hMDp0aGlzLnRpbWVTY2FsZT1lKX19cmV0dXJuIHRoaXMuX2VmZmVjdGl2ZVRpbWVTY2FsZT1lLGV9X3VwZGF0ZVRpbWUodCl7Y29uc3QgZT10aGlzLl9jbGlwLmR1cmF0aW9uLG49dGhpcy5sb29wO2xldCBpPXRoaXMudGltZSt0LHI9dGhpcy5fbG9vcENvdW50O2NvbnN0IHM9MjIwMj09PW47aWYoMD09PXQpcmV0dXJuLTE9PT1yP2k6cyYmMT09KDEmcik/ZS1pOmk7aWYoMjIwMD09PW4pey0xPT09ciYmKHRoaXMuX2xvb3BDb3VudD0wLHRoaXMuX3NldEVuZGluZ3MoITAsITAsITEpKTt0OntpZihpPj1lKWk9ZTtlbHNle2lmKCEoaTwwKSl7dGhpcy50aW1lPWk7YnJlYWsgdH1pPTB9dGhpcy5jbGFtcFdoZW5GaW5pc2hlZD90aGlzLnBhdXNlZD0hMDp0aGlzLmVuYWJsZWQ9ITEsdGhpcy50aW1lPWksdGhpcy5fbWl4ZXIuZGlzcGF0Y2hFdmVudCh7dHlwZToiZmluaXNoZWQiLGFjdGlvbjp0aGlzLGRpcmVjdGlvbjp0PDA/LTE6MX0pfX1lbHNle2lmKC0xPT09ciYmKHQ+PTA/KHI9MCx0aGlzLl9zZXRFbmRpbmdzKCEwLDA9PT10aGlzLnJlcGV0aXRpb25zLHMpKTp0aGlzLl9zZXRFbmRpbmdzKDA9PT10aGlzLnJlcGV0aXRpb25zLCEwLHMpKSxpPj1lfHxpPDApe2NvbnN0IG49TWF0aC5mbG9vcihpL2UpO2ktPWUqbixyKz1NYXRoLmFicyhuKTtjb25zdCBhPXRoaXMucmVwZXRpdGlvbnMtcjtpZihhPD0wKXRoaXMuY2xhbXBXaGVuRmluaXNoZWQ/dGhpcy5wYXVzZWQ9ITA6dGhpcy5lbmFibGVkPSExLGk9dD4wP2U6MCx0aGlzLnRpbWU9aSx0aGlzLl9taXhlci5kaXNwYXRjaEV2ZW50KHt0eXBlOiJmaW5pc2hlZCIsYWN0aW9uOnRoaXMsZGlyZWN0aW9uOnQ+MD8xOi0xfSk7ZWxzZXtpZigxPT09YSl7Y29uc3QgZT10PDA7dGhpcy5fc2V0RW5kaW5ncyhlLCFlLHMpfWVsc2UgdGhpcy5fc2V0RW5kaW5ncyghMSwhMSxzKTt0aGlzLl9sb29wQ291bnQ9cix0aGlzLnRpbWU9aSx0aGlzLl9taXhlci5kaXNwYXRjaEV2ZW50KHt0eXBlOiJsb29wIixhY3Rpb246dGhpcyxsb29wRGVsdGE6bn0pfX1lbHNlIHRoaXMudGltZT1pO2lmKHMmJjE9PSgxJnIpKXJldHVybiBlLWl9cmV0dXJuIGl9X3NldEVuZGluZ3ModCxlLG4pe2NvbnN0IGk9dGhpcy5faW50ZXJwb2xhbnRTZXR0aW5ncztuPyhpLmVuZGluZ1N0YXJ0PVYsaS5lbmRpbmdFbmQ9Vik6KGkuZW5kaW5nU3RhcnQ9dD90aGlzLnplcm9TbG9wZUF0U3RhcnQ/VjprOlcsaS5lbmRpbmdFbmQ9ZT90aGlzLnplcm9TbG9wZUF0RW5kP1Y6azpXKX1fc2NoZWR1bGVGYWRpbmcodCxlLG4pe2NvbnN0IGk9dGhpcy5fbWl4ZXIscj1pLnRpbWU7bGV0IHM9dGhpcy5fd2VpZ2h0SW50ZXJwb2xhbnQ7bnVsbD09PXMmJihzPWkuX2xlbmRDb250cm9sSW50ZXJwb2xhbnQoKSx0aGlzLl93ZWlnaHRJbnRlcnBvbGFudD1zKTtjb25zdCBhPXMucGFyYW1ldGVyUG9zaXRpb25zLG89cy5zYW1wbGVWYWx1ZXM7cmV0dXJuIGFbMF09cixvWzBdPWUsYVsxXT1yK3Qsb1sxXT1uLHRoaXN9fWNsYXNzIFljIGV4dGVuZHMgcnR7Y29uc3RydWN0b3IodCl7c3VwZXIoKSx0aGlzLl9yb290PXQsdGhpcy5faW5pdE1lbW9yeU1hbmFnZXIoKSx0aGlzLl9hY2N1SW5kZXg9MCx0aGlzLnRpbWU9MCx0aGlzLnRpbWVTY2FsZT0xfV9iaW5kQWN0aW9uKHQsZSl7Y29uc3Qgbj10Ll9sb2NhbFJvb3R8fHRoaXMuX3Jvb3QsaT10Ll9jbGlwLnRyYWNrcyxyPWkubGVuZ3RoLHM9dC5fcHJvcGVydHlCaW5kaW5ncyxhPXQuX2ludGVycG9sYW50cyxvPW4udXVpZCxsPXRoaXMuX2JpbmRpbmdzQnlSb290QW5kTmFtZTtsZXQgYz1sW29dO3ZvaWQgMD09PWMmJihjPXt9LGxbb109Yyk7Zm9yKGxldCB0PTA7dCE9PXI7Kyt0KXtjb25zdCByPWlbdF0sbD1yLm5hbWU7bGV0IGg9Y1tsXTtpZih2b2lkIDAhPT1oKXNbdF09aDtlbHNle2lmKGg9c1t0XSx2b2lkIDAhPT1oKXtudWxsPT09aC5fY2FjaGVJbmRleCYmKCsraC5yZWZlcmVuY2VDb3VudCx0aGlzLl9hZGRJbmFjdGl2ZUJpbmRpbmcoaCxvLGwpKTtjb250aW51ZX1jb25zdCBpPWUmJmUuX3Byb3BlcnR5QmluZGluZ3NbdF0uYmluZGluZy5wYXJzZWRQYXRoO2g9bmV3IE5jKGpjLmNyZWF0ZShuLGwsaSksci5WYWx1ZVR5cGVOYW1lLHIuZ2V0VmFsdWVTaXplKCkpLCsraC5yZWZlcmVuY2VDb3VudCx0aGlzLl9hZGRJbmFjdGl2ZUJpbmRpbmcoaCxvLGwpLHNbdF09aH1hW3RdLnJlc3VsdEJ1ZmZlcj1oLmJ1ZmZlcn19X2FjdGl2YXRlQWN0aW9uKHQpe2lmKCF0aGlzLl9pc0FjdGl2ZUFjdGlvbih0KSl7aWYobnVsbD09PXQuX2NhY2hlSW5kZXgpe2NvbnN0IGU9KHQuX2xvY2FsUm9vdHx8dGhpcy5fcm9vdCkudXVpZCxuPXQuX2NsaXAudXVpZCxpPXRoaXMuX2FjdGlvbnNCeUNsaXBbbl07dGhpcy5fYmluZEFjdGlvbih0LGkmJmkua25vd25BY3Rpb25zWzBdKSx0aGlzLl9hZGRJbmFjdGl2ZUFjdGlvbih0LG4sZSl9Y29uc3QgZT10Ll9wcm9wZXJ0eUJpbmRpbmdzO2ZvcihsZXQgdD0wLG49ZS5sZW5ndGg7dCE9PW47Kyt0KXtjb25zdCBuPWVbdF07MD09bi51c2VDb3VudCsrJiYodGhpcy5fbGVuZEJpbmRpbmcobiksbi5zYXZlT3JpZ2luYWxTdGF0ZSgpKX10aGlzLl9sZW5kQWN0aW9uKHQpfX1fZGVhY3RpdmF0ZUFjdGlvbih0KXtpZih0aGlzLl9pc0FjdGl2ZUFjdGlvbih0KSl7Y29uc3QgZT10Ll9wcm9wZXJ0eUJpbmRpbmdzO2ZvcihsZXQgdD0wLG49ZS5sZW5ndGg7dCE9PW47Kyt0KXtjb25zdCBuPWVbdF07MD09LS1uLnVzZUNvdW50JiYobi5yZXN0b3JlT3JpZ2luYWxTdGF0ZSgpLHRoaXMuX3Rha2VCYWNrQmluZGluZyhuKSl9dGhpcy5fdGFrZUJhY2tBY3Rpb24odCl9fV9pbml0TWVtb3J5TWFuYWdlcigpe3RoaXMuX2FjdGlvbnM9W10sdGhpcy5fbkFjdGl2ZUFjdGlvbnM9MCx0aGlzLl9hY3Rpb25zQnlDbGlwPXt9LHRoaXMuX2JpbmRpbmdzPVtdLHRoaXMuX25BY3RpdmVCaW5kaW5ncz0wLHRoaXMuX2JpbmRpbmdzQnlSb290QW5kTmFtZT17fSx0aGlzLl9jb250cm9sSW50ZXJwb2xhbnRzPVtdLHRoaXMuX25BY3RpdmVDb250cm9sSW50ZXJwb2xhbnRzPTA7Y29uc3QgdD10aGlzO3RoaXMuc3RhdHM9e2FjdGlvbnM6e2dldCB0b3RhbCgpe3JldHVybiB0Ll9hY3Rpb25zLmxlbmd0aH0sZ2V0IGluVXNlKCl7cmV0dXJuIHQuX25BY3RpdmVBY3Rpb25zfX0sYmluZGluZ3M6e2dldCB0b3RhbCgpe3JldHVybiB0Ll9iaW5kaW5ncy5sZW5ndGh9LGdldCBpblVzZSgpe3JldHVybiB0Ll9uQWN0aXZlQmluZGluZ3N9fSxjb250cm9sSW50ZXJwb2xhbnRzOntnZXQgdG90YWwoKXtyZXR1cm4gdC5fY29udHJvbEludGVycG9sYW50cy5sZW5ndGh9LGdldCBpblVzZSgpe3JldHVybiB0Ll9uQWN0aXZlQ29udHJvbEludGVycG9sYW50c319fX1faXNBY3RpdmVBY3Rpb24odCl7Y29uc3QgZT10Ll9jYWNoZUluZGV4O3JldHVybiBudWxsIT09ZSYmZTx0aGlzLl9uQWN0aXZlQWN0aW9uc31fYWRkSW5hY3RpdmVBY3Rpb24odCxlLG4pe2NvbnN0IGk9dGhpcy5fYWN0aW9ucyxyPXRoaXMuX2FjdGlvbnNCeUNsaXA7bGV0IHM9cltlXTtpZih2b2lkIDA9PT1zKXM9e2tub3duQWN0aW9uczpbdF0sYWN0aW9uQnlSb290Ont9fSx0Ll9ieUNsaXBDYWNoZUluZGV4PTAscltlXT1zO2Vsc2V7Y29uc3QgZT1zLmtub3duQWN0aW9uczt0Ll9ieUNsaXBDYWNoZUluZGV4PWUubGVuZ3RoLGUucHVzaCh0KX10Ll9jYWNoZUluZGV4PWkubGVuZ3RoLGkucHVzaCh0KSxzLmFjdGlvbkJ5Um9vdFtuXT10fV9yZW1vdmVJbmFjdGl2ZUFjdGlvbih0KXtjb25zdCBlPXRoaXMuX2FjdGlvbnMsbj1lW2UubGVuZ3RoLTFdLGk9dC5fY2FjaGVJbmRleDtuLl9jYWNoZUluZGV4PWksZVtpXT1uLGUucG9wKCksdC5fY2FjaGVJbmRleD1udWxsO2NvbnN0IHI9dC5fY2xpcC51dWlkLHM9dGhpcy5fYWN0aW9uc0J5Q2xpcCxhPXNbcl0sbz1hLmtub3duQWN0aW9ucyxsPW9bby5sZW5ndGgtMV0sYz10Ll9ieUNsaXBDYWNoZUluZGV4O2wuX2J5Q2xpcENhY2hlSW5kZXg9YyxvW2NdPWwsby5wb3AoKSx0Ll9ieUNsaXBDYWNoZUluZGV4PW51bGw7ZGVsZXRlIGEuYWN0aW9uQnlSb290Wyh0Ll9sb2NhbFJvb3R8fHRoaXMuX3Jvb3QpLnV1aWRdLDA9PT1vLmxlbmd0aCYmZGVsZXRlIHNbcl0sdGhpcy5fcmVtb3ZlSW5hY3RpdmVCaW5kaW5nc0ZvckFjdGlvbih0KX1fcmVtb3ZlSW5hY3RpdmVCaW5kaW5nc0ZvckFjdGlvbih0KXtjb25zdCBlPXQuX3Byb3BlcnR5QmluZGluZ3M7Zm9yKGxldCB0PTAsbj1lLmxlbmd0aDt0IT09bjsrK3Qpe2NvbnN0IG49ZVt0XTswPT0tLW4ucmVmZXJlbmNlQ291bnQmJnRoaXMuX3JlbW92ZUluYWN0aXZlQmluZGluZyhuKX19X2xlbmRBY3Rpb24odCl7Y29uc3QgZT10aGlzLl9hY3Rpb25zLG49dC5fY2FjaGVJbmRleCxpPXRoaXMuX25BY3RpdmVBY3Rpb25zKysscj1lW2ldO3QuX2NhY2hlSW5kZXg9aSxlW2ldPXQsci5fY2FjaGVJbmRleD1uLGVbbl09cn1fdGFrZUJhY2tBY3Rpb24odCl7Y29uc3QgZT10aGlzLl9hY3Rpb25zLG49dC5fY2FjaGVJbmRleCxpPS0tdGhpcy5fbkFjdGl2ZUFjdGlvbnMscj1lW2ldO3QuX2NhY2hlSW5kZXg9aSxlW2ldPXQsci5fY2FjaGVJbmRleD1uLGVbbl09cn1fYWRkSW5hY3RpdmVCaW5kaW5nKHQsZSxuKXtjb25zdCBpPXRoaXMuX2JpbmRpbmdzQnlSb290QW5kTmFtZSxyPXRoaXMuX2JpbmRpbmdzO2xldCBzPWlbZV07dm9pZCAwPT09cyYmKHM9e30saVtlXT1zKSxzW25dPXQsdC5fY2FjaGVJbmRleD1yLmxlbmd0aCxyLnB1c2godCl9X3JlbW92ZUluYWN0aXZlQmluZGluZyh0KXtjb25zdCBlPXRoaXMuX2JpbmRpbmdzLG49dC5iaW5kaW5nLGk9bi5yb290Tm9kZS51dWlkLHI9bi5wYXRoLHM9dGhpcy5fYmluZGluZ3NCeVJvb3RBbmROYW1lLGE9c1tpXSxvPWVbZS5sZW5ndGgtMV0sbD10Ll9jYWNoZUluZGV4O28uX2NhY2hlSW5kZXg9bCxlW2xdPW8sZS5wb3AoKSxkZWxldGUgYVtyXSwwPT09T2JqZWN0LmtleXMoYSkubGVuZ3RoJiZkZWxldGUgc1tpXX1fbGVuZEJpbmRpbmcodCl7Y29uc3QgZT10aGlzLl9iaW5kaW5ncyxuPXQuX2NhY2hlSW5kZXgsaT10aGlzLl9uQWN0aXZlQmluZGluZ3MrKyxyPWVbaV07dC5fY2FjaGVJbmRleD1pLGVbaV09dCxyLl9jYWNoZUluZGV4PW4sZVtuXT1yfV90YWtlQmFja0JpbmRpbmcodCl7Y29uc3QgZT10aGlzLl9iaW5kaW5ncyxuPXQuX2NhY2hlSW5kZXgsaT0tLXRoaXMuX25BY3RpdmVCaW5kaW5ncyxyPWVbaV07dC5fY2FjaGVJbmRleD1pLGVbaV09dCxyLl9jYWNoZUluZGV4PW4sZVtuXT1yfV9sZW5kQ29udHJvbEludGVycG9sYW50KCl7Y29uc3QgdD10aGlzLl9jb250cm9sSW50ZXJwb2xhbnRzLGU9dGhpcy5fbkFjdGl2ZUNvbnRyb2xJbnRlcnBvbGFudHMrKztsZXQgbj10W2VdO3JldHVybiB2b2lkIDA9PT1uJiYobj1uZXcgcW8obmV3IEZsb2F0MzJBcnJheSgyKSxuZXcgRmxvYXQzMkFycmF5KDIpLDEsdGhpcy5fY29udHJvbEludGVycG9sYW50c1Jlc3VsdEJ1ZmZlciksbi5fX2NhY2hlSW5kZXg9ZSx0W2VdPW4pLG59X3Rha2VCYWNrQ29udHJvbEludGVycG9sYW50KHQpe2NvbnN0IGU9dGhpcy5fY29udHJvbEludGVycG9sYW50cyxuPXQuX19jYWNoZUluZGV4LGk9LS10aGlzLl9uQWN0aXZlQ29udHJvbEludGVycG9sYW50cyxyPWVbaV07dC5fX2NhY2hlSW5kZXg9aSxlW2ldPXQsci5fX2NhY2hlSW5kZXg9bixlW25dPXJ9Y2xpcEFjdGlvbih0LGUsbil7Y29uc3QgaT1lfHx0aGlzLl9yb290LHI9aS51dWlkO2xldCBzPSJzdHJpbmciPT10eXBlb2YgdD9ubC5maW5kQnlOYW1lKGksdCk6dDtjb25zdCBhPW51bGwhPT1zP3MudXVpZDp0LG89dGhpcy5fYWN0aW9uc0J5Q2xpcFthXTtsZXQgbD1udWxsO2lmKHZvaWQgMD09PW4mJihuPW51bGwhPT1zP3MuYmxlbmRNb2RlOmopLHZvaWQgMCE9PW8pe2NvbnN0IHQ9by5hY3Rpb25CeVJvb3Rbcl07aWYodm9pZCAwIT09dCYmdC5ibGVuZE1vZGU9PT1uKXJldHVybiB0O2w9by5rbm93bkFjdGlvbnNbMF0sbnVsbD09PXMmJihzPWwuX2NsaXApfWlmKG51bGw9PT1zKXJldHVybiBudWxsO2NvbnN0IGM9bmV3IFhjKHRoaXMscyxlLG4pO3JldHVybiB0aGlzLl9iaW5kQWN0aW9uKGMsbCksdGhpcy5fYWRkSW5hY3RpdmVBY3Rpb24oYyxhLHIpLGN9ZXhpc3RpbmdBY3Rpb24odCxlKXtjb25zdCBuPWV8fHRoaXMuX3Jvb3QsaT1uLnV1aWQscj0ic3RyaW5nIj09dHlwZW9mIHQ/bmwuZmluZEJ5TmFtZShuLHQpOnQscz1yP3IudXVpZDp0LGE9dGhpcy5fYWN0aW9uc0J5Q2xpcFtzXTtyZXR1cm4gdm9pZCAwIT09YSYmYS5hY3Rpb25CeVJvb3RbaV18fG51bGx9c3RvcEFsbEFjdGlvbigpe2NvbnN0IHQ9dGhpcy5fYWN0aW9ucztmb3IobGV0IGU9dGhpcy5fbkFjdGl2ZUFjdGlvbnMtMTtlPj0wOy0tZSl0W2VdLnN0b3AoKTtyZXR1cm4gdGhpc311cGRhdGUodCl7dCo9dGhpcy50aW1lU2NhbGU7Y29uc3QgZT10aGlzLl9hY3Rpb25zLG49dGhpcy5fbkFjdGl2ZUFjdGlvbnMsaT10aGlzLnRpbWUrPXQscj1NYXRoLnNpZ24odCkscz10aGlzLl9hY2N1SW5kZXhePTE7Zm9yKGxldCBhPTA7YSE9PW47KythKXtlW2FdLl91cGRhdGUoaSx0LHIscyl9Y29uc3QgYT10aGlzLl9iaW5kaW5ncyxvPXRoaXMuX25BY3RpdmVCaW5kaW5ncztmb3IobGV0IHQ9MDt0IT09bzsrK3QpYVt0XS5hcHBseShzKTtyZXR1cm4gdGhpc31zZXRUaW1lKHQpe3RoaXMudGltZT0wO2ZvcihsZXQgdD0wO3Q8dGhpcy5fYWN0aW9ucy5sZW5ndGg7dCsrKXRoaXMuX2FjdGlvbnNbdF0udGltZT0wO3JldHVybiB0aGlzLnVwZGF0ZSh0KX1nZXRSb290KCl7cmV0dXJuIHRoaXMuX3Jvb3R9dW5jYWNoZUNsaXAodCl7Y29uc3QgZT10aGlzLl9hY3Rpb25zLG49dC51dWlkLGk9dGhpcy5fYWN0aW9uc0J5Q2xpcCxyPWlbbl07aWYodm9pZCAwIT09cil7Y29uc3QgdD1yLmtub3duQWN0aW9ucztmb3IobGV0IG49MCxpPXQubGVuZ3RoO24hPT1pOysrbil7Y29uc3QgaT10W25dO3RoaXMuX2RlYWN0aXZhdGVBY3Rpb24oaSk7Y29uc3Qgcj1pLl9jYWNoZUluZGV4LHM9ZVtlLmxlbmd0aC0xXTtpLl9jYWNoZUluZGV4PW51bGwsaS5fYnlDbGlwQ2FjaGVJbmRleD1udWxsLHMuX2NhY2hlSW5kZXg9cixlW3JdPXMsZS5wb3AoKSx0aGlzLl9yZW1vdmVJbmFjdGl2ZUJpbmRpbmdzRm9yQWN0aW9uKGkpfWRlbGV0ZSBpW25dfX11bmNhY2hlUm9vdCh0KXtjb25zdCBlPXQudXVpZCxuPXRoaXMuX2FjdGlvbnNCeUNsaXA7Zm9yKGNvbnN0IHQgaW4gbil7Y29uc3QgaT1uW3RdLmFjdGlvbkJ5Um9vdFtlXTt2b2lkIDAhPT1pJiYodGhpcy5fZGVhY3RpdmF0ZUFjdGlvbihpKSx0aGlzLl9yZW1vdmVJbmFjdGl2ZUFjdGlvbihpKSl9Y29uc3QgaT10aGlzLl9iaW5kaW5nc0J5Um9vdEFuZE5hbWVbZV07aWYodm9pZCAwIT09aSlmb3IoY29uc3QgdCBpbiBpKXtjb25zdCBlPWlbdF07ZS5yZXN0b3JlT3JpZ2luYWxTdGF0ZSgpLHRoaXMuX3JlbW92ZUluYWN0aXZlQmluZGluZyhlKX19dW5jYWNoZUFjdGlvbih0LGUpe2NvbnN0IG49dGhpcy5leGlzdGluZ0FjdGlvbih0LGUpO251bGwhPT1uJiYodGhpcy5fZGVhY3RpdmF0ZUFjdGlvbihuKSx0aGlzLl9yZW1vdmVJbmFjdGl2ZUFjdGlvbihuKSl9fVljLnByb3RvdHlwZS5fY29udHJvbEludGVycG9sYW50c1Jlc3VsdEJ1ZmZlcj1uZXcgRmxvYXQzMkFycmF5KDEpO2NsYXNzIFpje2NvbnN0cnVjdG9yKHQpeyJzdHJpbmciPT10eXBlb2YgdCYmKGNvbnNvbGUud2FybigiVEhSRUUuVW5pZm9ybTogVHlwZSBwYXJhbWV0ZXIgaXMgbm8gbG9uZ2VyIG5lZWRlZC4iKSx0PWFyZ3VtZW50c1sxXSksdGhpcy52YWx1ZT10fWNsb25lKCl7cmV0dXJuIG5ldyBaYyh2b2lkIDA9PT10aGlzLnZhbHVlLmNsb25lP3RoaXMudmFsdWU6dGhpcy52YWx1ZS5jbG9uZSgpKX19Y2xhc3MgSmMgZXh0ZW5kcyBFc3tjb25zdHJ1Y3Rvcih0LGUsbj0xKXtzdXBlcih0LGUpLHRoaXMubWVzaFBlckF0dHJpYnV0ZT1ufHwxfWNvcHkodCl7cmV0dXJuIHN1cGVyLmNvcHkodCksdGhpcy5tZXNoUGVyQXR0cmlidXRlPXQubWVzaFBlckF0dHJpYnV0ZSx0aGlzfWNsb25lKHQpe2NvbnN0IGU9c3VwZXIuY2xvbmUodCk7cmV0dXJuIGUubWVzaFBlckF0dHJpYnV0ZT10aGlzLm1lc2hQZXJBdHRyaWJ1dGUsZX10b0pTT04odCl7Y29uc3QgZT1zdXBlci50b0pTT04odCk7cmV0dXJuIGUuaXNJbnN0YW5jZWRJbnRlcmxlYXZlZEJ1ZmZlcj0hMCxlLm1lc2hQZXJBdHRyaWJ1dGU9dGhpcy5tZXNoUGVyQXR0cmlidXRlLGV9fUpjLnByb3RvdHlwZS5pc0luc3RhbmNlZEludGVybGVhdmVkQnVmZmVyPSEwO2NsYXNzIFFje2NvbnN0cnVjdG9yKHQsZSxuLGkscil7dGhpcy5idWZmZXI9dCx0aGlzLnR5cGU9ZSx0aGlzLml0ZW1TaXplPW4sdGhpcy5lbGVtZW50U2l6ZT1pLHRoaXMuY291bnQ9cix0aGlzLnZlcnNpb249MH1zZXQgbmVlZHNVcGRhdGUodCl7ITA9PT10JiZ0aGlzLnZlcnNpb24rK31zZXRCdWZmZXIodCl7cmV0dXJuIHRoaXMuYnVmZmVyPXQsdGhpc31zZXRUeXBlKHQsZSl7cmV0dXJuIHRoaXMudHlwZT10LHRoaXMuZWxlbWVudFNpemU9ZSx0aGlzfXNldEl0ZW1TaXplKHQpe3JldHVybiB0aGlzLml0ZW1TaXplPXQsdGhpc31zZXRDb3VudCh0KXtyZXR1cm4gdGhpcy5jb3VudD10LHRoaXN9fVFjLnByb3RvdHlwZS5pc0dMQnVmZmVyQXR0cmlidXRlPSEwO2Z1bmN0aW9uIEtjKHQsZSl7cmV0dXJuIHQuZGlzdGFuY2UtZS5kaXN0YW5jZX1mdW5jdGlvbiAkYyh0LGUsbixpKXtpZih0LmxheWVycy50ZXN0KGUubGF5ZXJzKSYmdC5yYXljYXN0KGUsbiksITA9PT1pKXtjb25zdCBpPXQuY2hpbGRyZW47Zm9yKGxldCB0PTAscj1pLmxlbmd0aDt0PHI7dCsrKSRjKGlbdF0sZSxuLCEwKX19Y29uc3QgdGg9bmV3IHZ0O2NsYXNzIGVoe2NvbnN0cnVjdG9yKHQ9bmV3IHZ0KDEvMCwxLzApLGU9bmV3IHZ0KC0xLzAsLTEvMCkpe3RoaXMubWluPXQsdGhpcy5tYXg9ZX1zZXQodCxlKXtyZXR1cm4gdGhpcy5taW4uY29weSh0KSx0aGlzLm1heC5jb3B5KGUpLHRoaXN9c2V0RnJvbVBvaW50cyh0KXt0aGlzLm1ha2VFbXB0eSgpO2ZvcihsZXQgZT0wLG49dC5sZW5ndGg7ZTxuO2UrKyl0aGlzLmV4cGFuZEJ5UG9pbnQodFtlXSk7cmV0dXJuIHRoaXN9c2V0RnJvbUNlbnRlckFuZFNpemUodCxlKXtjb25zdCBuPXRoLmNvcHkoZSkubXVsdGlwbHlTY2FsYXIoLjUpO3JldHVybiB0aGlzLm1pbi5jb3B5KHQpLnN1YihuKSx0aGlzLm1heC5jb3B5KHQpLmFkZChuKSx0aGlzfWNsb25lKCl7cmV0dXJuKG5ldyB0aGlzLmNvbnN0cnVjdG9yKS5jb3B5KHRoaXMpfWNvcHkodCl7cmV0dXJuIHRoaXMubWluLmNvcHkodC5taW4pLHRoaXMubWF4LmNvcHkodC5tYXgpLHRoaXN9bWFrZUVtcHR5KCl7cmV0dXJuIHRoaXMubWluLng9dGhpcy5taW4ueT0xLzAsdGhpcy5tYXgueD10aGlzLm1heC55PS0xLzAsdGhpc31pc0VtcHR5KCl7cmV0dXJuIHRoaXMubWF4Lng8dGhpcy5taW4ueHx8dGhpcy5tYXgueTx0aGlzLm1pbi55fWdldENlbnRlcih0KXtyZXR1cm4gdm9pZCAwPT09dCYmKGNvbnNvbGUud2FybigiVEhSRUUuQm94MjogLmdldENlbnRlcigpIHRhcmdldCBpcyBub3cgcmVxdWlyZWQiKSx0PW5ldyB2dCksdGhpcy5pc0VtcHR5KCk/dC5zZXQoMCwwKTp0LmFkZFZlY3RvcnModGhpcy5taW4sdGhpcy5tYXgpLm11bHRpcGx5U2NhbGFyKC41KX1nZXRTaXplKHQpe3JldHVybiB2b2lkIDA9PT10JiYoY29uc29sZS53YXJuKCJUSFJFRS5Cb3gyOiAuZ2V0U2l6ZSgpIHRhcmdldCBpcyBub3cgcmVxdWlyZWQiKSx0PW5ldyB2dCksdGhpcy5pc0VtcHR5KCk/dC5zZXQoMCwwKTp0LnN1YlZlY3RvcnModGhpcy5tYXgsdGhpcy5taW4pfWV4cGFuZEJ5UG9pbnQodCl7cmV0dXJuIHRoaXMubWluLm1pbih0KSx0aGlzLm1heC5tYXgodCksdGhpc31leHBhbmRCeVZlY3Rvcih0KXtyZXR1cm4gdGhpcy5taW4uc3ViKHQpLHRoaXMubWF4LmFkZCh0KSx0aGlzfWV4cGFuZEJ5U2NhbGFyKHQpe3JldHVybiB0aGlzLm1pbi5hZGRTY2FsYXIoLXQpLHRoaXMubWF4LmFkZFNjYWxhcih0KSx0aGlzfWNvbnRhaW5zUG9pbnQodCl7cmV0dXJuISh0Lng8dGhpcy5taW4ueHx8dC54PnRoaXMubWF4Lnh8fHQueTx0aGlzLm1pbi55fHx0Lnk+dGhpcy5tYXgueSl9Y29udGFpbnNCb3godCl7cmV0dXJuIHRoaXMubWluLng8PXQubWluLngmJnQubWF4Lng8PXRoaXMubWF4LngmJnRoaXMubWluLnk8PXQubWluLnkmJnQubWF4Lnk8PXRoaXMubWF4Lnl9Z2V0UGFyYW1ldGVyKHQsZSl7cmV0dXJuIHZvaWQgMD09PWUmJihjb25zb2xlLndhcm4oIlRIUkVFLkJveDI6IC5nZXRQYXJhbWV0ZXIoKSB0YXJnZXQgaXMgbm93IHJlcXVpcmVkIiksZT1uZXcgdnQpLGUuc2V0KCh0LngtdGhpcy5taW4ueCkvKHRoaXMubWF4LngtdGhpcy5taW4ueCksKHQueS10aGlzLm1pbi55KS8odGhpcy5tYXgueS10aGlzLm1pbi55KSl9aW50ZXJzZWN0c0JveCh0KXtyZXR1cm4hKHQubWF4Lng8dGhpcy5taW4ueHx8dC5taW4ueD50aGlzLm1heC54fHx0Lm1heC55PHRoaXMubWluLnl8fHQubWluLnk+dGhpcy5tYXgueSl9Y2xhbXBQb2ludCh0LGUpe3JldHVybiB2b2lkIDA9PT1lJiYoY29uc29sZS53YXJuKCJUSFJFRS5Cb3gyOiAuY2xhbXBQb2ludCgpIHRhcmdldCBpcyBub3cgcmVxdWlyZWQiKSxlPW5ldyB2dCksZS5jb3B5KHQpLmNsYW1wKHRoaXMubWluLHRoaXMubWF4KX1kaXN0YW5jZVRvUG9pbnQodCl7cmV0dXJuIHRoLmNvcHkodCkuY2xhbXAodGhpcy5taW4sdGhpcy5tYXgpLnN1Yih0KS5sZW5ndGgoKX1pbnRlcnNlY3QodCl7cmV0dXJuIHRoaXMubWluLm1heCh0Lm1pbiksdGhpcy5tYXgubWluKHQubWF4KSx0aGlzfXVuaW9uKHQpe3JldHVybiB0aGlzLm1pbi5taW4odC5taW4pLHRoaXMubWF4Lm1heCh0Lm1heCksdGhpc310cmFuc2xhdGUodCl7cmV0dXJuIHRoaXMubWluLmFkZCh0KSx0aGlzLm1heC5hZGQodCksdGhpc31lcXVhbHModCl7cmV0dXJuIHQubWluLmVxdWFscyh0aGlzLm1pbikmJnQubWF4LmVxdWFscyh0aGlzLm1heCl9fWVoLnByb3RvdHlwZS5pc0JveDI9ITA7Y29uc3Qgbmg9bmV3IEx0LGloPW5ldyBMdDtjbGFzcyByaHtjb25zdHJ1Y3Rvcih0PW5ldyBMdCxlPW5ldyBMdCl7dGhpcy5zdGFydD10LHRoaXMuZW5kPWV9c2V0KHQsZSl7cmV0dXJuIHRoaXMuc3RhcnQuY29weSh0KSx0aGlzLmVuZC5jb3B5KGUpLHRoaXN9Y29weSh0KXtyZXR1cm4gdGhpcy5zdGFydC5jb3B5KHQuc3RhcnQpLHRoaXMuZW5kLmNvcHkodC5lbmQpLHRoaXN9Z2V0Q2VudGVyKHQpe3JldHVybiB2b2lkIDA9PT10JiYoY29uc29sZS53YXJuKCJUSFJFRS5MaW5lMzogLmdldENlbnRlcigpIHRhcmdldCBpcyBub3cgcmVxdWlyZWQiKSx0PW5ldyBMdCksdC5hZGRWZWN0b3JzKHRoaXMuc3RhcnQsdGhpcy5lbmQpLm11bHRpcGx5U2NhbGFyKC41KX1kZWx0YSh0KXtyZXR1cm4gdm9pZCAwPT09dCYmKGNvbnNvbGUud2FybigiVEhSRUUuTGluZTM6IC5kZWx0YSgpIHRhcmdldCBpcyBub3cgcmVxdWlyZWQiKSx0PW5ldyBMdCksdC5zdWJWZWN0b3JzKHRoaXMuZW5kLHRoaXMuc3RhcnQpfWRpc3RhbmNlU3EoKXtyZXR1cm4gdGhpcy5zdGFydC5kaXN0YW5jZVRvU3F1YXJlZCh0aGlzLmVuZCl9ZGlzdGFuY2UoKXtyZXR1cm4gdGhpcy5zdGFydC5kaXN0YW5jZVRvKHRoaXMuZW5kKX1hdCh0LGUpe3JldHVybiB2b2lkIDA9PT1lJiYoY29uc29sZS53YXJuKCJUSFJFRS5MaW5lMzogLmF0KCkgdGFyZ2V0IGlzIG5vdyByZXF1aXJlZCIpLGU9bmV3IEx0KSx0aGlzLmRlbHRhKGUpLm11bHRpcGx5U2NhbGFyKHQpLmFkZCh0aGlzLnN0YXJ0KX1jbG9zZXN0UG9pbnRUb1BvaW50UGFyYW1ldGVyKHQsZSl7bmguc3ViVmVjdG9ycyh0LHRoaXMuc3RhcnQpLGloLnN1YlZlY3RvcnModGhpcy5lbmQsdGhpcy5zdGFydCk7Y29uc3Qgbj1paC5kb3QoaWgpO2xldCBpPWloLmRvdChuaCkvbjtyZXR1cm4gZSYmKGk9aHQoaSwwLDEpKSxpfWNsb3Nlc3RQb2ludFRvUG9pbnQodCxlLG4pe2NvbnN0IGk9dGhpcy5jbG9zZXN0UG9pbnRUb1BvaW50UGFyYW1ldGVyKHQsZSk7cmV0dXJuIHZvaWQgMD09PW4mJihjb25zb2xlLndhcm4oIlRIUkVFLkxpbmUzOiAuY2xvc2VzdFBvaW50VG9Qb2ludCgpIHRhcmdldCBpcyBub3cgcmVxdWlyZWQiKSxuPW5ldyBMdCksdGhpcy5kZWx0YShuKS5tdWx0aXBseVNjYWxhcihpKS5hZGQodGhpcy5zdGFydCl9YXBwbHlNYXRyaXg0KHQpe3JldHVybiB0aGlzLnN0YXJ0LmFwcGx5TWF0cml4NCh0KSx0aGlzLmVuZC5hcHBseU1hdHJpeDQodCksdGhpc31lcXVhbHModCl7cmV0dXJuIHQuc3RhcnQuZXF1YWxzKHRoaXMuc3RhcnQpJiZ0LmVuZC5lcXVhbHModGhpcy5lbmQpfWNsb25lKCl7cmV0dXJuKG5ldyB0aGlzLmNvbnN0cnVjdG9yKS5jb3B5KHRoaXMpfX1jbGFzcyBzaCBleHRlbmRzIENle2NvbnN0cnVjdG9yKHQpe3N1cGVyKCksdGhpcy5tYXRlcmlhbD10LHRoaXMucmVuZGVyPWZ1bmN0aW9uKCl7fSx0aGlzLmhhc1Bvc2l0aW9ucz0hMSx0aGlzLmhhc05vcm1hbHM9ITEsdGhpcy5oYXNDb2xvcnM9ITEsdGhpcy5oYXNVdnM9ITEsdGhpcy5wb3NpdGlvbkFycmF5PW51bGwsdGhpcy5ub3JtYWxBcnJheT1udWxsLHRoaXMuY29sb3JBcnJheT1udWxsLHRoaXMudXZBcnJheT1udWxsLHRoaXMuY291bnQ9MH19c2gucHJvdG90eXBlLmlzSW1tZWRpYXRlUmVuZGVyT2JqZWN0PSEwO2NvbnN0IGFoPW5ldyBMdDtjb25zdCBvaD1uZXcgTHQsbGg9bmV3IHNlLGNoPW5ldyBzZTtjbGFzcyBoaCBleHRlbmRzIHlhe2NvbnN0cnVjdG9yKHQpe2NvbnN0IGU9dWgodCksbj1uZXcgRW4saT1bXSxyPVtdLHM9bmV3IHRuKDAsMCwxKSxhPW5ldyB0bigwLDEsMCk7Zm9yKGxldCB0PTA7dDxlLmxlbmd0aDt0Kyspe2NvbnN0IG49ZVt0XTtuLnBhcmVudCYmbi5wYXJlbnQuaXNCb25lJiYoaS5wdXNoKDAsMCwwKSxpLnB1c2goMCwwLDApLHIucHVzaChzLnIscy5nLHMuYiksci5wdXNoKGEucixhLmcsYS5iKSl9bi5zZXRBdHRyaWJ1dGUoInBvc2l0aW9uIixuZXcgbW4oaSwzKSksbi5zZXRBdHRyaWJ1dGUoImNvbG9yIixuZXcgbW4ociwzKSk7c3VwZXIobixuZXcgY2Eoe3ZlcnRleENvbG9yczohMCxkZXB0aFRlc3Q6ITEsZGVwdGhXcml0ZTohMSx0b25lTWFwcGVkOiExLHRyYW5zcGFyZW50OiEwfSkpLHRoaXMudHlwZT0iU2tlbGV0b25IZWxwZXIiLHRoaXMuaXNTa2VsZXRvbkhlbHBlcj0hMCx0aGlzLnJvb3Q9dCx0aGlzLmJvbmVzPWUsdGhpcy5tYXRyaXg9dC5tYXRyaXhXb3JsZCx0aGlzLm1hdHJpeEF1dG9VcGRhdGU9ITF9dXBkYXRlTWF0cml4V29ybGQodCl7Y29uc3QgZT10aGlzLmJvbmVzLG49dGhpcy5nZW9tZXRyeSxpPW4uZ2V0QXR0cmlidXRlKCJwb3NpdGlvbiIpO2NoLmNvcHkodGhpcy5yb290Lm1hdHJpeFdvcmxkKS5pbnZlcnQoKTtmb3IobGV0IHQ9MCxuPTA7dDxlLmxlbmd0aDt0Kyspe2NvbnN0IHI9ZVt0XTtyLnBhcmVudCYmci5wYXJlbnQuaXNCb25lJiYobGgubXVsdGlwbHlNYXRyaWNlcyhjaCxyLm1hdHJpeFdvcmxkKSxvaC5zZXRGcm9tTWF0cml4UG9zaXRpb24obGgpLGkuc2V0WFlaKG4sb2gueCxvaC55LG9oLnopLGxoLm11bHRpcGx5TWF0cmljZXMoY2gsci5wYXJlbnQubWF0cml4V29ybGQpLG9oLnNldEZyb21NYXRyaXhQb3NpdGlvbihsaCksaS5zZXRYWVoobisxLG9oLngsb2gueSxvaC56KSxuKz0yKX1uLmdldEF0dHJpYnV0ZSgicG9zaXRpb24iKS5uZWVkc1VwZGF0ZT0hMCxzdXBlci51cGRhdGVNYXRyaXhXb3JsZCh0KX19ZnVuY3Rpb24gdWgodCl7Y29uc3QgZT1bXTt0JiZ0LmlzQm9uZSYmZS5wdXNoKHQpO2ZvcihsZXQgbj0wO248dC5jaGlsZHJlbi5sZW5ndGg7bisrKWUucHVzaC5hcHBseShlLHVoKHQuY2hpbGRyZW5bbl0pKTtyZXR1cm4gZX1jb25zdCBkaD1uZXcgTHQscGg9bmV3IHRuLG1oPW5ldyB0bjtjbGFzcyBmaCBleHRlbmRzIHlhe2NvbnN0cnVjdG9yKHQ9MTAsZT0xMCxuPTQ0NzM5MjQsaT04OTQ3ODQ4KXtuPW5ldyB0bihuKSxpPW5ldyB0bihpKTtjb25zdCByPWUvMixzPXQvZSxhPXQvMixvPVtdLGw9W107Zm9yKGxldCB0PTAsYz0wLGg9LWE7dDw9ZTt0KyssaCs9cyl7by5wdXNoKC1hLDAsaCxhLDAsaCksby5wdXNoKGgsMCwtYSxoLDAsYSk7Y29uc3QgZT10PT09cj9uOmk7ZS50b0FycmF5KGwsYyksYys9MyxlLnRvQXJyYXkobCxjKSxjKz0zLGUudG9BcnJheShsLGMpLGMrPTMsZS50b0FycmF5KGwsYyksYys9M31jb25zdCBjPW5ldyBFbjtjLnNldEF0dHJpYnV0ZSgicG9zaXRpb24iLG5ldyBtbihvLDMpKSxjLnNldEF0dHJpYnV0ZSgiY29sb3IiLG5ldyBtbihsLDMpKTtzdXBlcihjLG5ldyBjYSh7dmVydGV4Q29sb3JzOiEwLHRvbmVNYXBwZWQ6ITF9KSksdGhpcy50eXBlPSJHcmlkSGVscGVyIn19Y29uc3QgZ2g9bmV3IEx0LHZoPW5ldyBMdCx5aD1uZXcgTHQ7Y29uc3QgeGg9bmV3IEx0LF9oPW5ldyBRbjtmdW5jdGlvbiB3aCh0LGUsbixpLHIscyxhKXt4aC5zZXQocixzLGEpLnVucHJvamVjdChpKTtjb25zdCBvPWVbdF07aWYodm9pZCAwIT09byl7Y29uc3QgdD1uLmdldEF0dHJpYnV0ZSgicG9zaXRpb24iKTtmb3IobGV0IGU9MCxuPW8ubGVuZ3RoO2U8bjtlKyspdC5zZXRYWVoob1tlXSx4aC54LHhoLnkseGgueil9fWNvbnN0IGJoPW5ldyBQdDtjbGFzcyBNaCBleHRlbmRzIHlhe2NvbnN0cnVjdG9yKHQsZT0xNjc3Njk2MCl7Y29uc3Qgbj1uZXcgVWludDE2QXJyYXkoWzAsMSwxLDIsMiwzLDMsMCw0LDUsNSw2LDYsNyw3LDQsMCw0LDEsNSwyLDYsMyw3XSksaT1uZXcgRmxvYXQzMkFycmF5KDI0KSxyPW5ldyBFbjtyLnNldEluZGV4KG5ldyBzbihuLDEpKSxyLnNldEF0dHJpYnV0ZSgicG9zaXRpb24iLG5ldyBzbihpLDMpKSxzdXBlcihyLG5ldyBjYSh7Y29sb3I6ZSx0b25lTWFwcGVkOiExfSkpLHRoaXMub2JqZWN0PXQsdGhpcy50eXBlPSJCb3hIZWxwZXIiLHRoaXMubWF0cml4QXV0b1VwZGF0ZT0hMSx0aGlzLnVwZGF0ZSgpfXVwZGF0ZSh0KXtpZih2b2lkIDAhPT10JiZjb25zb2xlLndhcm4oIlRIUkVFLkJveEhlbHBlcjogLnVwZGF0ZSgpIGhhcyBubyBsb25nZXIgYXJndW1lbnRzLiIpLHZvaWQgMCE9PXRoaXMub2JqZWN0JiZiaC5zZXRGcm9tT2JqZWN0KHRoaXMub2JqZWN0KSxiaC5pc0VtcHR5KCkpcmV0dXJuO2NvbnN0IGU9YmgubWluLG49YmgubWF4LGk9dGhpcy5nZW9tZXRyeS5hdHRyaWJ1dGVzLnBvc2l0aW9uLHI9aS5hcnJheTtyWzBdPW4ueCxyWzFdPW4ueSxyWzJdPW4ueixyWzNdPWUueCxyWzRdPW4ueSxyWzVdPW4ueixyWzZdPWUueCxyWzddPWUueSxyWzhdPW4ueixyWzldPW4ueCxyWzEwXT1lLnksclsxMV09bi56LHJbMTJdPW4ueCxyWzEzXT1uLnksclsxNF09ZS56LHJbMTVdPWUueCxyWzE2XT1uLnksclsxN109ZS56LHJbMThdPWUueCxyWzE5XT1lLnksclsyMF09ZS56LHJbMjFdPW4ueCxyWzIyXT1lLnksclsyM109ZS56LGkubmVlZHNVcGRhdGU9ITAsdGhpcy5nZW9tZXRyeS5jb21wdXRlQm91bmRpbmdTcGhlcmUoKX1zZXRGcm9tT2JqZWN0KHQpe3JldHVybiB0aGlzLm9iamVjdD10LHRoaXMudXBkYXRlKCksdGhpc31jb3B5KHQpe3JldHVybiB5YS5wcm90b3R5cGUuY29weS5jYWxsKHRoaXMsdCksdGhpcy5vYmplY3Q9dC5vYmplY3QsdGhpc319Y29uc3QgU2g9bmV3IEx0O2xldCBUaCxFaDtjbGFzcyBBaCBleHRlbmRzIHlhe2NvbnN0cnVjdG9yKHQ9MSl7Y29uc3QgZT1bMCwwLDAsdCwwLDAsMCwwLDAsMCx0LDAsMCwwLDAsMCwwLHRdLG49bmV3IEVuO24uc2V0QXR0cmlidXRlKCJwb3NpdGlvbiIsbmV3IG1uKGUsMykpLG4uc2V0QXR0cmlidXRlKCJjb2xvciIsbmV3IG1uKFsxLDAsMCwxLC42LDAsMCwxLDAsLjYsMSwwLDAsMCwxLDAsLjYsMV0sMykpO3N1cGVyKG4sbmV3IGNhKHt2ZXJ0ZXhDb2xvcnM6ITAsdG9uZU1hcHBlZDohMX0pKSx0aGlzLnR5cGU9IkF4ZXNIZWxwZXIifWRpc3Bvc2UoKXt0aGlzLmdlb21ldHJ5LmRpc3Bvc2UoKSx0aGlzLm1hdGVyaWFsLmRpc3Bvc2UoKX19Y29uc3QgTGg9bmV3IEZsb2F0MzJBcnJheSgxKSxSaD1uZXcgSW50MzJBcnJheShMaC5idWZmZXIpO2NvbnN0IENoPU1hdGgucG93KDIsOCksUGg9Wy4xMjUsLjIxNSwuMzUsLjQ0NiwuNTI2LC41ODJdLERoPTUrUGgubGVuZ3RoLEloPTIwLE5oPXtbWF06MCxbWV06MSxbSl06MixbUV06MyxbS106NCxbJF06NSxbWl06Nn0sQmg9bmV3IGVuKHtzaWRlOjEsZGVwdGhXcml0ZTohMSxkZXB0aFRlc3Q6ITF9KSx6aD1uZXcgV24obmV3IHFuLEJoKSxGaD1uZXcgSmwse19sb2RQbGFuZXM6T2gsX3NpemVMb2RzOkhoLF9zaWdtYXM6R2h9PVloKCksVWg9bmV3IHRuO2xldCBraD1udWxsO2NvbnN0IFZoPSgxK01hdGguc3FydCg1KSkvMixXaD0xL1ZoLGpoPVtuZXcgTHQoMSwxLDEpLG5ldyBMdCgtMSwxLDEpLG5ldyBMdCgxLDEsLTEpLG5ldyBMdCgtMSwxLC0xKSxuZXcgTHQoMCxWaCxXaCksbmV3IEx0KDAsVmgsLVdoKSxuZXcgTHQoV2gsMCxWaCksbmV3IEx0KC1XaCwwLFZoKSxuZXcgTHQoVmgsV2gsMCksbmV3IEx0KC1WaCxXaCwwKV07ZnVuY3Rpb24gcWgodCl7Y29uc3QgZT1NYXRoLm1heCh0LnIsdC5nLHQuYiksbj1NYXRoLm1pbihNYXRoLm1heChNYXRoLmNlaWwoTWF0aC5sb2cyKGUpKSwtMTI4KSwxMjcpO3QubXVsdGlwbHlTY2FsYXIoTWF0aC5wb3coMiwtbikpO3JldHVybihuKzEyOCkvMjU1fWZ1bmN0aW9uIFhoKHQpe3JldHVybiB2b2lkIDAhPT10JiZ0LnR5cGU9PT14JiYodC5lbmNvZGluZz09PVh8fHQuZW5jb2Rpbmc9PT1ZfHx0LmVuY29kaW5nPT09Wil9ZnVuY3Rpb24gWWgoKXtjb25zdCB0PVtdLGU9W10sbj1bXTtsZXQgaT04O2ZvcihsZXQgcj0wO3I8RGg7cisrKXtjb25zdCBzPU1hdGgucG93KDIsaSk7ZS5wdXNoKHMpO2xldCBhPTEvcztyPjQ/YT1QaFtyLTgrNC0xXTowPT1yJiYoYT0wKSxuLnB1c2goYSk7Y29uc3Qgbz0xLyhzLTEpLGw9LW8vMixjPTErby8yLGg9W2wsbCxjLGwsYyxjLGwsbCxjLGMsbCxjXSx1PTYsZD02LHA9MyxtPTIsZj0xLGc9bmV3IEZsb2F0MzJBcnJheShwKmQqdSksdj1uZXcgRmxvYXQzMkFycmF5KG0qZCp1KSx5PW5ldyBGbG9hdDMyQXJyYXkoZipkKnUpO2ZvcihsZXQgdD0wO3Q8dTt0Kyspe2NvbnN0IGU9dCUzKjIvMy0xLG49dD4yPzA6LTEsaT1bZSxuLDAsZSsyLzMsbiwwLGUrMi8zLG4rMSwwLGUsbiwwLGUrMi8zLG4rMSwwLGUsbisxLDBdO2cuc2V0KGkscCpkKnQpLHYuc2V0KGgsbSpkKnQpO2NvbnN0IHI9W3QsdCx0LHQsdCx0XTt5LnNldChyLGYqZCp0KX1jb25zdCB4PW5ldyBFbjt4LnNldEF0dHJpYnV0ZSgicG9zaXRpb24iLG5ldyBzbihnLHApKSx4LnNldEF0dHJpYnV0ZSgidXYiLG5ldyBzbih2LG0pKSx4LnNldEF0dHJpYnV0ZSgiZmFjZUluZGV4IixuZXcgc24oeSxmKSksdC5wdXNoKHgpLGk+NCYmaS0tfXJldHVybntfbG9kUGxhbmVzOnQsX3NpemVMb2RzOmUsX3NpZ21hczpufX1mdW5jdGlvbiBaaCh0KXtjb25zdCBlPW5ldyBUdCgzKkNoLDMqQ2gsdCk7cmV0dXJuIGUudGV4dHVyZS5tYXBwaW5nPWwsZS50ZXh0dXJlLm5hbWU9IlBNUkVNLmN1YmVVdiIsZS5zY2lzc29yVGVzdD0hMCxlfWZ1bmN0aW9uIEpoKHQsZSxuLGkscil7dC52aWV3cG9ydC5zZXQoZSxuLGksciksdC5zY2lzc29yLnNldChlLG4saSxyKX1mdW5jdGlvbiBRaCgpe2NvbnN0IHQ9bmV3IHZ0KDEsMSk7cmV0dXJuIG5ldyBJbyh7bmFtZToiRXF1aXJlY3Rhbmd1bGFyVG9DdWJlVVYiLHVuaWZvcm1zOntlbnZNYXA6e3ZhbHVlOm51bGx9LHRleGVsU2l6ZTp7dmFsdWU6dH0saW5wdXRFbmNvZGluZzp7dmFsdWU6TmhbM2UzXX0sb3V0cHV0RW5jb2Rpbmc6e3ZhbHVlOk5oWzNlM119fSx2ZXJ0ZXhTaGFkZXI6JGgoKSxmcmFnbWVudFNoYWRlcjpgXG5cblx0XHRcdHByZWNpc2lvbiBtZWRpdW1wIGZsb2F0O1xuXHRcdFx0cHJlY2lzaW9uIG1lZGl1bXAgaW50O1xuXG5cdFx0XHR2YXJ5aW5nIHZlYzMgdk91dHB1dERpcmVjdGlvbjtcblxuXHRcdFx0dW5pZm9ybSBzYW1wbGVyMkQgZW52TWFwO1xuXHRcdFx0dW5pZm9ybSB2ZWMyIHRleGVsU2l6ZTtcblxuXHRcdFx0JHt0dSgpfVxuXG5cdFx0XHQjaW5jbHVkZSA8Y29tbW9uPlxuXG5cdFx0XHR2b2lkIG1haW4oKSB7XG5cblx0XHRcdFx0Z2xfRnJhZ0NvbG9yID0gdmVjNCggMC4wLCAwLjAsIDAuMCwgMS4wICk7XG5cblx0XHRcdFx0dmVjMyBvdXRwdXREaXJlY3Rpb24gPSBub3JtYWxpemUoIHZPdXRwdXREaXJlY3Rpb24gKTtcblx0XHRcdFx0dmVjMiB1diA9IGVxdWlyZWN0VXYoIG91dHB1dERpcmVjdGlvbiApO1xuXG5cdFx0XHRcdHZlYzIgZiA9IGZyYWN0KCB1diAvIHRleGVsU2l6ZSAtIDAuNSApO1xuXHRcdFx0XHR1diAtPSBmICogdGV4ZWxTaXplO1xuXHRcdFx0XHR2ZWMzIHRsID0gZW52TWFwVGV4ZWxUb0xpbmVhciggdGV4dHVyZTJEICggZW52TWFwLCB1diApICkucmdiO1xuXHRcdFx0XHR1di54ICs9IHRleGVsU2l6ZS54O1xuXHRcdFx0XHR2ZWMzIHRyID0gZW52TWFwVGV4ZWxUb0xpbmVhciggdGV4dHVyZTJEICggZW52TWFwLCB1diApICkucmdiO1xuXHRcdFx0XHR1di55ICs9IHRleGVsU2l6ZS55O1xuXHRcdFx0XHR2ZWMzIGJyID0gZW52TWFwVGV4ZWxUb0xpbmVhciggdGV4dHVyZTJEICggZW52TWFwLCB1diApICkucmdiO1xuXHRcdFx0XHR1di54IC09IHRleGVsU2l6ZS54O1xuXHRcdFx0XHR2ZWMzIGJsID0gZW52TWFwVGV4ZWxUb0xpbmVhciggdGV4dHVyZTJEICggZW52TWFwLCB1diApICkucmdiO1xuXG5cdFx0XHRcdHZlYzMgdG0gPSBtaXgoIHRsLCB0ciwgZi54ICk7XG5cdFx0XHRcdHZlYzMgYm0gPSBtaXgoIGJsLCBiciwgZi54ICk7XG5cdFx0XHRcdGdsX0ZyYWdDb2xvci5yZ2IgPSBtaXgoIHRtLCBibSwgZi55ICk7XG5cblx0XHRcdFx0Z2xfRnJhZ0NvbG9yID0gbGluZWFyVG9PdXRwdXRUZXhlbCggZ2xfRnJhZ0NvbG9yICk7XG5cblx0XHRcdH1cblx0XHRgLGJsZW5kaW5nOjAsZGVwdGhUZXN0OiExLGRlcHRoV3JpdGU6ITF9KX1mdW5jdGlvbiBLaCgpe3JldHVybiBuZXcgSW8oe25hbWU6IkN1YmVtYXBUb0N1YmVVViIsdW5pZm9ybXM6e2Vudk1hcDp7dmFsdWU6bnVsbH0saW5wdXRFbmNvZGluZzp7dmFsdWU6TmhbM2UzXX0sb3V0cHV0RW5jb2Rpbmc6e3ZhbHVlOk5oWzNlM119fSx2ZXJ0ZXhTaGFkZXI6JGgoKSxmcmFnbWVudFNoYWRlcjpgXG5cblx0XHRcdHByZWNpc2lvbiBtZWRpdW1wIGZsb2F0O1xuXHRcdFx0cHJlY2lzaW9uIG1lZGl1bXAgaW50O1xuXG5cdFx0XHR2YXJ5aW5nIHZlYzMgdk91dHB1dERpcmVjdGlvbjtcblxuXHRcdFx0dW5pZm9ybSBzYW1wbGVyQ3ViZSBlbnZNYXA7XG5cblx0XHRcdCR7dHUoKX1cblxuXHRcdFx0dm9pZCBtYWluKCkge1xuXG5cdFx0XHRcdGdsX0ZyYWdDb2xvciA9IHZlYzQoIDAuMCwgMC4wLCAwLjAsIDEuMCApO1xuXHRcdFx0XHRnbF9GcmFnQ29sb3IucmdiID0gZW52TWFwVGV4ZWxUb0xpbmVhciggdGV4dHVyZUN1YmUoIGVudk1hcCwgdmVjMyggLSB2T3V0cHV0RGlyZWN0aW9uLngsIHZPdXRwdXREaXJlY3Rpb24ueXogKSApICkucmdiO1xuXHRcdFx0XHRnbF9GcmFnQ29sb3IgPSBsaW5lYXJUb091dHB1dFRleGVsKCBnbF9GcmFnQ29sb3IgKTtcblxuXHRcdFx0fVxuXHRcdGAsYmxlbmRpbmc6MCxkZXB0aFRlc3Q6ITEsZGVwdGhXcml0ZTohMX0pfWZ1bmN0aW9uICRoKCl7cmV0dXJuIlxuXG5cdFx0cHJlY2lzaW9uIG1lZGl1bXAgZmxvYXQ7XG5cdFx0cHJlY2lzaW9uIG1lZGl1bXAgaW50O1xuXG5cdFx0YXR0cmlidXRlIHZlYzMgcG9zaXRpb247XG5cdFx0YXR0cmlidXRlIHZlYzIgdXY7XG5cdFx0YXR0cmlidXRlIGZsb2F0IGZhY2VJbmRleDtcblxuXHRcdHZhcnlpbmcgdmVjMyB2T3V0cHV0RGlyZWN0aW9uO1xuXG5cdFx0Ly8gUkggY29vcmRpbmF0ZSBzeXN0ZW07IFBNUkVNIGZhY2UtaW5kZXhpbmcgY29udmVudGlvblxuXHRcdHZlYzMgZ2V0RGlyZWN0aW9uKCB2ZWMyIHV2LCBmbG9hdCBmYWNlICkge1xuXG5cdFx0XHR1diA9IDIuMCAqIHV2IC0gMS4wO1xuXG5cdFx0XHR2ZWMzIGRpcmVjdGlvbiA9IHZlYzMoIHV2LCAxLjAgKTtcblxuXHRcdFx0aWYgKCBmYWNlID09IDAuMCApIHtcblxuXHRcdFx0XHRkaXJlY3Rpb24gPSBkaXJlY3Rpb24uenl4OyAvLyAoIDEsIHYsIHUgKSBwb3MgeFxuXG5cdFx0XHR9IGVsc2UgaWYgKCBmYWNlID09IDEuMCApIHtcblxuXHRcdFx0XHRkaXJlY3Rpb24gPSBkaXJlY3Rpb24ueHp5O1xuXHRcdFx0XHRkaXJlY3Rpb24ueHogKj0gLTEuMDsgLy8gKCAtdSwgMSwgLXYgKSBwb3MgeVxuXG5cdFx0XHR9IGVsc2UgaWYgKCBmYWNlID09IDIuMCApIHtcblxuXHRcdFx0XHRkaXJlY3Rpb24ueCAqPSAtMS4wOyAvLyAoIC11LCB2LCAxICkgcG9zIHpcblxuXHRcdFx0fSBlbHNlIGlmICggZmFjZSA9PSAzLjAgKSB7XG5cblx0XHRcdFx0ZGlyZWN0aW9uID0gZGlyZWN0aW9uLnp5eDtcblx0XHRcdFx0ZGlyZWN0aW9uLnh6ICo9IC0xLjA7IC8vICggLTEsIHYsIC11ICkgbmVnIHhcblxuXHRcdFx0fSBlbHNlIGlmICggZmFjZSA9PSA0LjAgKSB7XG5cblx0XHRcdFx0ZGlyZWN0aW9uID0gZGlyZWN0aW9uLnh6eTtcblx0XHRcdFx0ZGlyZWN0aW9uLnh5ICo9IC0xLjA7IC8vICggLXUsIC0xLCB2ICkgbmVnIHlcblxuXHRcdFx0fSBlbHNlIGlmICggZmFjZSA9PSA1LjAgKSB7XG5cblx0XHRcdFx0ZGlyZWN0aW9uLnogKj0gLTEuMDsgLy8gKCB1LCB2LCAtMSApIG5lZyB6XG5cblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIGRpcmVjdGlvbjtcblxuXHRcdH1cblxuXHRcdHZvaWQgbWFpbigpIHtcblxuXHRcdFx0dk91dHB1dERpcmVjdGlvbiA9IGdldERpcmVjdGlvbiggdXYsIGZhY2VJbmRleCApO1xuXHRcdFx0Z2xfUG9zaXRpb24gPSB2ZWM0KCBwb3NpdGlvbiwgMS4wICk7XG5cblx0XHR9XG5cdCJ9ZnVuY3Rpb24gdHUoKXtyZXR1cm4iXG5cblx0XHR1bmlmb3JtIGludCBpbnB1dEVuY29kaW5nO1xuXHRcdHVuaWZvcm0gaW50IG91dHB1dEVuY29kaW5nO1xuXG5cdFx0I2luY2x1ZGUgPGVuY29kaW5nc19wYXJzX2ZyYWdtZW50PlxuXG5cdFx0dmVjNCBpbnB1dFRleGVsVG9MaW5lYXIoIHZlYzQgdmFsdWUgKSB7XG5cblx0XHRcdGlmICggaW5wdXRFbmNvZGluZyA9PSAwICkge1xuXG5cdFx0XHRcdHJldHVybiB2YWx1ZTtcblxuXHRcdFx0fSBlbHNlIGlmICggaW5wdXRFbmNvZGluZyA9PSAxICkge1xuXG5cdFx0XHRcdHJldHVybiBzUkdCVG9MaW5lYXIoIHZhbHVlICk7XG5cblx0XHRcdH0gZWxzZSBpZiAoIGlucHV0RW5jb2RpbmcgPT0gMiApIHtcblxuXHRcdFx0XHRyZXR1cm4gUkdCRVRvTGluZWFyKCB2YWx1ZSApO1xuXG5cdFx0XHR9IGVsc2UgaWYgKCBpbnB1dEVuY29kaW5nID09IDMgKSB7XG5cblx0XHRcdFx0cmV0dXJuIFJHQk1Ub0xpbmVhciggdmFsdWUsIDcuMCApO1xuXG5cdFx0XHR9IGVsc2UgaWYgKCBpbnB1dEVuY29kaW5nID09IDQgKSB7XG5cblx0XHRcdFx0cmV0dXJuIFJHQk1Ub0xpbmVhciggdmFsdWUsIDE2LjAgKTtcblxuXHRcdFx0fSBlbHNlIGlmICggaW5wdXRFbmNvZGluZyA9PSA1ICkge1xuXG5cdFx0XHRcdHJldHVybiBSR0JEVG9MaW5lYXIoIHZhbHVlLCAyNTYuMCApO1xuXG5cdFx0XHR9IGVsc2Uge1xuXG5cdFx0XHRcdHJldHVybiBHYW1tYVRvTGluZWFyKCB2YWx1ZSwgMi4yICk7XG5cblx0XHRcdH1cblxuXHRcdH1cblxuXHRcdHZlYzQgbGluZWFyVG9PdXRwdXRUZXhlbCggdmVjNCB2YWx1ZSApIHtcblxuXHRcdFx0aWYgKCBvdXRwdXRFbmNvZGluZyA9PSAwICkge1xuXG5cdFx0XHRcdHJldHVybiB2YWx1ZTtcblxuXHRcdFx0fSBlbHNlIGlmICggb3V0cHV0RW5jb2RpbmcgPT0gMSApIHtcblxuXHRcdFx0XHRyZXR1cm4gTGluZWFyVG9zUkdCKCB2YWx1ZSApO1xuXG5cdFx0XHR9IGVsc2UgaWYgKCBvdXRwdXRFbmNvZGluZyA9PSAyICkge1xuXG5cdFx0XHRcdHJldHVybiBMaW5lYXJUb1JHQkUoIHZhbHVlICk7XG5cblx0XHRcdH0gZWxzZSBpZiAoIG91dHB1dEVuY29kaW5nID09IDMgKSB7XG5cblx0XHRcdFx0cmV0dXJuIExpbmVhclRvUkdCTSggdmFsdWUsIDcuMCApO1xuXG5cdFx0XHR9IGVsc2UgaWYgKCBvdXRwdXRFbmNvZGluZyA9PSA0ICkge1xuXG5cdFx0XHRcdHJldHVybiBMaW5lYXJUb1JHQk0oIHZhbHVlLCAxNi4wICk7XG5cblx0XHRcdH0gZWxzZSBpZiAoIG91dHB1dEVuY29kaW5nID09IDUgKSB7XG5cblx0XHRcdFx0cmV0dXJuIExpbmVhclRvUkdCRCggdmFsdWUsIDI1Ni4wICk7XG5cblx0XHRcdH0gZWxzZSB7XG5cblx0XHRcdFx0cmV0dXJuIExpbmVhclRvR2FtbWEoIHZhbHVlLCAyLjIgKTtcblxuXHRcdFx0fVxuXG5cdFx0fVxuXG5cdFx0dmVjNCBlbnZNYXBUZXhlbFRvTGluZWFyKCB2ZWM0IGNvbG9yICkge1xuXG5cdFx0XHRyZXR1cm4gaW5wdXRUZXhlbFRvTGluZWFyKCBjb2xvciApO1xuXG5cdFx0fVxuXHQifW1sLmNyZWF0ZT1mdW5jdGlvbih0LGUpe3JldHVybiBjb25zb2xlLmxvZygiVEhSRUUuQ3VydmUuY3JlYXRlKCkgaGFzIGJlZW4gZGVwcmVjYXRlZCIpLHQucHJvdG90eXBlPU9iamVjdC5jcmVhdGUobWwucHJvdG90eXBlKSx0LnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj10LHQucHJvdG90eXBlLmdldFBvaW50PWUsdH0sQmwucHJvdG90eXBlLmZyb21Qb2ludHM9ZnVuY3Rpb24odCl7cmV0dXJuIGNvbnNvbGUud2FybigiVEhSRUUuUGF0aDogLmZyb21Qb2ludHMoKSBoYXMgYmVlbiByZW5hbWVkIHRvIC5zZXRGcm9tUG9pbnRzKCkuIiksdGhpcy5zZXRGcm9tUG9pbnRzKHQpfSxmaC5wcm90b3R5cGUuc2V0Q29sb3JzPWZ1bmN0aW9uKCl7Y29uc29sZS5lcnJvcigiVEhSRUUuR3JpZEhlbHBlcjogc2V0Q29sb3JzKCkgaGFzIGJlZW4gZGVwcmVjYXRlZCwgcGFzcyB0aGVtIGluIHRoZSBjb25zdHJ1Y3RvciBpbnN0ZWFkLiIpfSxoaC5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKCl7Y29uc29sZS5lcnJvcigiVEhSRUUuU2tlbGV0b25IZWxwZXI6IHVwZGF0ZSgpIG5vIGxvbmdlciBuZWVkcyB0byBiZSBjYWxsZWQuIil9LG9sLnByb3RvdHlwZS5leHRyYWN0VXJsQmFzZT1mdW5jdGlvbih0KXtyZXR1cm4gY29uc29sZS53YXJuKCJUSFJFRS5Mb2FkZXI6IC5leHRyYWN0VXJsQmFzZSgpIGhhcyBiZWVuIGRlcHJlY2F0ZWQuIFVzZSBUSFJFRS5Mb2FkZXJVdGlscy5leHRyYWN0VXJsQmFzZSgpIGluc3RlYWQuIikscmMuZXh0cmFjdFVybEJhc2UodCl9LG9sLkhhbmRsZXJzPXthZGQ6ZnVuY3Rpb24oKXtjb25zb2xlLmVycm9yKCJUSFJFRS5Mb2FkZXI6IEhhbmRsZXJzLmFkZCgpIGhhcyBiZWVuIHJlbW92ZWQuIFVzZSBMb2FkaW5nTWFuYWdlci5hZGRIYW5kbGVyKCkgaW5zdGVhZC4iKX0sZ2V0OmZ1bmN0aW9uKCl7Y29uc29sZS5lcnJvcigiVEhSRUUuTG9hZGVyOiBIYW5kbGVycy5nZXQoKSBoYXMgYmVlbiByZW1vdmVkLiBVc2UgTG9hZGluZ01hbmFnZXIuZ2V0SGFuZGxlcigpIGluc3RlYWQuIil9fSxlaC5wcm90b3R5cGUuY2VudGVyPWZ1bmN0aW9uKHQpe3JldHVybiBjb25zb2xlLndhcm4oIlRIUkVFLkJveDI6IC5jZW50ZXIoKSBoYXMgYmVlbiByZW5hbWVkIHRvIC5nZXRDZW50ZXIoKS4iKSx0aGlzLmdldENlbnRlcih0KX0sZWgucHJvdG90eXBlLmVtcHR5PWZ1bmN0aW9uKCl7cmV0dXJuIGNvbnNvbGUud2FybigiVEhSRUUuQm94MjogLmVtcHR5KCkgaGFzIGJlZW4gcmVuYW1lZCB0byAuaXNFbXB0eSgpLiIpLHRoaXMuaXNFbXB0eSgpfSxlaC5wcm90b3R5cGUuaXNJbnRlcnNlY3Rpb25Cb3g9ZnVuY3Rpb24odCl7cmV0dXJuIGNvbnNvbGUud2FybigiVEhSRUUuQm94MjogLmlzSW50ZXJzZWN0aW9uQm94KCkgaGFzIGJlZW4gcmVuYW1lZCB0byAuaW50ZXJzZWN0c0JveCgpLiIpLHRoaXMuaW50ZXJzZWN0c0JveCh0KX0sZWgucHJvdG90eXBlLnNpemU9ZnVuY3Rpb24odCl7cmV0dXJuIGNvbnNvbGUud2FybigiVEhSRUUuQm94MjogLnNpemUoKSBoYXMgYmVlbiByZW5hbWVkIHRvIC5nZXRTaXplKCkuIiksdGhpcy5nZXRTaXplKHQpfSxQdC5wcm90b3R5cGUuY2VudGVyPWZ1bmN0aW9uKHQpe3JldHVybiBjb25zb2xlLndhcm4oIlRIUkVFLkJveDM6IC5jZW50ZXIoKSBoYXMgYmVlbiByZW5hbWVkIHRvIC5nZXRDZW50ZXIoKS4iKSx0aGlzLmdldENlbnRlcih0KX0sUHQucHJvdG90eXBlLmVtcHR5PWZ1bmN0aW9uKCl7cmV0dXJuIGNvbnNvbGUud2FybigiVEhSRUUuQm94MzogLmVtcHR5KCkgaGFzIGJlZW4gcmVuYW1lZCB0byAuaXNFbXB0eSgpLiIpLHRoaXMuaXNFbXB0eSgpfSxQdC5wcm90b3R5cGUuaXNJbnRlcnNlY3Rpb25Cb3g9ZnVuY3Rpb24odCl7cmV0dXJuIGNvbnNvbGUud2FybigiVEhSRUUuQm94MzogLmlzSW50ZXJzZWN0aW9uQm94KCkgaGFzIGJlZW4gcmVuYW1lZCB0byAuaW50ZXJzZWN0c0JveCgpLiIpLHRoaXMuaW50ZXJzZWN0c0JveCh0KX0sUHQucHJvdG90eXBlLmlzSW50ZXJzZWN0aW9uU3BoZXJlPWZ1bmN0aW9uKHQpe3JldHVybiBjb25zb2xlLndhcm4oIlRIUkVFLkJveDM6IC5pc0ludGVyc2VjdGlvblNwaGVyZSgpIGhhcyBiZWVuIHJlbmFtZWQgdG8gLmludGVyc2VjdHNTcGhlcmUoKS4iKSx0aGlzLmludGVyc2VjdHNTcGhlcmUodCl9LFB0LnByb3RvdHlwZS5zaXplPWZ1bmN0aW9uKHQpe3JldHVybiBjb25zb2xlLndhcm4oIlRIUkVFLkJveDM6IC5zaXplKCkgaGFzIGJlZW4gcmVuYW1lZCB0byAuZ2V0U2l6ZSgpLiIpLHRoaXMuZ2V0U2l6ZSh0KX0sSnQucHJvdG90eXBlLmVtcHR5PWZ1bmN0aW9uKCl7cmV0dXJuIGNvbnNvbGUud2FybigiVEhSRUUuU3BoZXJlOiAuZW1wdHkoKSBoYXMgYmVlbiByZW5hbWVkIHRvIC5pc0VtcHR5KCkuIiksdGhpcy5pc0VtcHR5KCl9LGFpLnByb3RvdHlwZS5zZXRGcm9tTWF0cml4PWZ1bmN0aW9uKHQpe3JldHVybiBjb25zb2xlLndhcm4oIlRIUkVFLkZydXN0dW06IC5zZXRGcm9tTWF0cml4KCkgaGFzIGJlZW4gcmVuYW1lZCB0byAuc2V0RnJvbVByb2plY3Rpb25NYXRyaXgoKS4iKSx0aGlzLnNldEZyb21Qcm9qZWN0aW9uTWF0cml4KHQpfSxyaC5wcm90b3R5cGUuY2VudGVyPWZ1bmN0aW9uKHQpe3JldHVybiBjb25zb2xlLndhcm4oIlRIUkVFLkxpbmUzOiAuY2VudGVyKCkgaGFzIGJlZW4gcmVuYW1lZCB0byAuZ2V0Q2VudGVyKCkuIiksdGhpcy5nZXRDZW50ZXIodCl9LHl0LnByb3RvdHlwZS5mbGF0dGVuVG9BcnJheU9mZnNldD1mdW5jdGlvbih0LGUpe3JldHVybiBjb25zb2xlLndhcm4oIlRIUkVFLk1hdHJpeDM6IC5mbGF0dGVuVG9BcnJheU9mZnNldCgpIGhhcyBiZWVuIGRlcHJlY2F0ZWQuIFVzZSAudG9BcnJheSgpIGluc3RlYWQuIiksdGhpcy50b0FycmF5KHQsZSl9LHl0LnByb3RvdHlwZS5tdWx0aXBseVZlY3RvcjM9ZnVuY3Rpb24odCl7cmV0dXJuIGNvbnNvbGUud2FybigiVEhSRUUuTWF0cml4MzogLm11bHRpcGx5VmVjdG9yMygpIGhhcyBiZWVuIHJlbW92ZWQuIFVzZSB2ZWN0b3IuYXBwbHlNYXRyaXgzKCBtYXRyaXggKSBpbnN0ZWFkLiIpLHQuYXBwbHlNYXRyaXgzKHRoaXMpfSx5dC5wcm90b3R5cGUubXVsdGlwbHlWZWN0b3IzQXJyYXk9ZnVuY3Rpb24oKXtjb25zb2xlLmVycm9yKCJUSFJFRS5NYXRyaXgzOiAubXVsdGlwbHlWZWN0b3IzQXJyYXkoKSBoYXMgYmVlbiByZW1vdmVkLiIpfSx5dC5wcm90b3R5cGUuYXBwbHlUb0J1ZmZlckF0dHJpYnV0ZT1mdW5jdGlvbih0KXtyZXR1cm4gY29uc29sZS53YXJuKCJUSFJFRS5NYXRyaXgzOiAuYXBwbHlUb0J1ZmZlckF0dHJpYnV0ZSgpIGhhcyBiZWVuIHJlbW92ZWQuIFVzZSBhdHRyaWJ1dGUuYXBwbHlNYXRyaXgzKCBtYXRyaXggKSBpbnN0ZWFkLiIpLHQuYXBwbHlNYXRyaXgzKHRoaXMpfSx5dC5wcm90b3R5cGUuYXBwbHlUb1ZlY3RvcjNBcnJheT1mdW5jdGlvbigpe2NvbnNvbGUuZXJyb3IoIlRIUkVFLk1hdHJpeDM6IC5hcHBseVRvVmVjdG9yM0FycmF5KCkgaGFzIGJlZW4gcmVtb3ZlZC4iKX0seXQucHJvdG90eXBlLmdldEludmVyc2U9ZnVuY3Rpb24odCl7cmV0dXJuIGNvbnNvbGUud2FybigiVEhSRUUuTWF0cml4MzogLmdldEludmVyc2UoKSBoYXMgYmVlbiByZW1vdmVkLiBVc2UgbWF0cml4SW52LmNvcHkoIG1hdHJpeCApLmludmVydCgpOyBpbnN0ZWFkLiIpLHRoaXMuY29weSh0KS5pbnZlcnQoKX0sc2UucHJvdG90eXBlLmV4dHJhY3RQb3NpdGlvbj1mdW5jdGlvbih0KXtyZXR1cm4gY29uc29sZS53YXJuKCJUSFJFRS5NYXRyaXg0OiAuZXh0cmFjdFBvc2l0aW9uKCkgaGFzIGJlZW4gcmVuYW1lZCB0byAuY29weVBvc2l0aW9uKCkuIiksdGhpcy5jb3B5UG9zaXRpb24odCl9LHNlLnByb3RvdHlwZS5mbGF0dGVuVG9BcnJheU9mZnNldD1mdW5jdGlvbih0LGUpe3JldHVybiBjb25zb2xlLndhcm4oIlRIUkVFLk1hdHJpeDQ6IC5mbGF0dGVuVG9BcnJheU9mZnNldCgpIGhhcyBiZWVuIGRlcHJlY2F0ZWQuIFVzZSAudG9BcnJheSgpIGluc3RlYWQuIiksdGhpcy50b0FycmF5KHQsZSl9LHNlLnByb3RvdHlwZS5nZXRQb3NpdGlvbj1mdW5jdGlvbigpe3JldHVybiBjb25zb2xlLndhcm4oIlRIUkVFLk1hdHJpeDQ6IC5nZXRQb3NpdGlvbigpIGhhcyBiZWVuIHJlbW92ZWQuIFVzZSBWZWN0b3IzLnNldEZyb21NYXRyaXhQb3NpdGlvbiggbWF0cml4ICkgaW5zdGVhZC4iKSwobmV3IEx0KS5zZXRGcm9tTWF0cml4Q29sdW1uKHRoaXMsMyl9LHNlLnByb3RvdHlwZS5zZXRSb3RhdGlvbkZyb21RdWF0ZXJuaW9uPWZ1bmN0aW9uKHQpe3JldHVybiBjb25zb2xlLndhcm4oIlRIUkVFLk1hdHJpeDQ6IC5zZXRSb3RhdGlvbkZyb21RdWF0ZXJuaW9uKCkgaGFzIGJlZW4gcmVuYW1lZCB0byAubWFrZVJvdGF0aW9uRnJvbVF1YXRlcm5pb24oKS4iKSx0aGlzLm1ha2VSb3RhdGlvbkZyb21RdWF0ZXJuaW9uKHQpfSxzZS5wcm90b3R5cGUubXVsdGlwbHlUb0FycmF5PWZ1bmN0aW9uKCl7Y29uc29sZS53YXJuKCJUSFJFRS5NYXRyaXg0OiAubXVsdGlwbHlUb0FycmF5KCkgaGFzIGJlZW4gcmVtb3ZlZC4iKX0sc2UucHJvdG90eXBlLm11bHRpcGx5VmVjdG9yMz1mdW5jdGlvbih0KXtyZXR1cm4gY29uc29sZS53YXJuKCJUSFJFRS5NYXRyaXg0OiAubXVsdGlwbHlWZWN0b3IzKCkgaGFzIGJlZW4gcmVtb3ZlZC4gVXNlIHZlY3Rvci5hcHBseU1hdHJpeDQoIG1hdHJpeCApIGluc3RlYWQuIiksdC5hcHBseU1hdHJpeDQodGhpcyl9LHNlLnByb3RvdHlwZS5tdWx0aXBseVZlY3RvcjQ9ZnVuY3Rpb24odCl7cmV0dXJuIGNvbnNvbGUud2FybigiVEhSRUUuTWF0cml4NDogLm11bHRpcGx5VmVjdG9yNCgpIGhhcyBiZWVuIHJlbW92ZWQuIFVzZSB2ZWN0b3IuYXBwbHlNYXRyaXg0KCBtYXRyaXggKSBpbnN0ZWFkLiIpLHQuYXBwbHlNYXRyaXg0KHRoaXMpfSxzZS5wcm90b3R5cGUubXVsdGlwbHlWZWN0b3IzQXJyYXk9ZnVuY3Rpb24oKXtjb25zb2xlLmVycm9yKCJUSFJFRS5NYXRyaXg0OiAubXVsdGlwbHlWZWN0b3IzQXJyYXkoKSBoYXMgYmVlbiByZW1vdmVkLiIpfSxzZS5wcm90b3R5cGUucm90YXRlQXhpcz1mdW5jdGlvbih0KXtjb25zb2xlLndhcm4oIlRIUkVFLk1hdHJpeDQ6IC5yb3RhdGVBeGlzKCkgaGFzIGJlZW4gcmVtb3ZlZC4gVXNlIFZlY3RvcjMudHJhbnNmb3JtRGlyZWN0aW9uKCBtYXRyaXggKSBpbnN0ZWFkLiIpLHQudHJhbnNmb3JtRGlyZWN0aW9uKHRoaXMpfSxzZS5wcm90b3R5cGUuY3Jvc3NWZWN0b3I9ZnVuY3Rpb24odCl7cmV0dXJuIGNvbnNvbGUud2FybigiVEhSRUUuTWF0cml4NDogLmNyb3NzVmVjdG9yKCkgaGFzIGJlZW4gcmVtb3ZlZC4gVXNlIHZlY3Rvci5hcHBseU1hdHJpeDQoIG1hdHJpeCApIGluc3RlYWQuIiksdC5hcHBseU1hdHJpeDQodGhpcyl9LHNlLnByb3RvdHlwZS50cmFuc2xhdGU9ZnVuY3Rpb24oKXtjb25zb2xlLmVycm9yKCJUSFJFRS5NYXRyaXg0OiAudHJhbnNsYXRlKCkgaGFzIGJlZW4gcmVtb3ZlZC4iKX0sc2UucHJvdG90eXBlLnJvdGF0ZVg9ZnVuY3Rpb24oKXtjb25zb2xlLmVycm9yKCJUSFJFRS5NYXRyaXg0OiAucm90YXRlWCgpIGhhcyBiZWVuIHJlbW92ZWQuIil9LHNlLnByb3RvdHlwZS5yb3RhdGVZPWZ1bmN0aW9uKCl7Y29uc29sZS5lcnJvcigiVEhSRUUuTWF0cml4NDogLnJvdGF0ZVkoKSBoYXMgYmVlbiByZW1vdmVkLiIpfSxzZS5wcm90b3R5cGUucm90YXRlWj1mdW5jdGlvbigpe2NvbnNvbGUuZXJyb3IoIlRIUkVFLk1hdHJpeDQ6IC5yb3RhdGVaKCkgaGFzIGJlZW4gcmVtb3ZlZC4iKX0sc2UucHJvdG90eXBlLnJvdGF0ZUJ5QXhpcz1mdW5jdGlvbigpe2NvbnNvbGUuZXJyb3IoIlRIUkVFLk1hdHJpeDQ6IC5yb3RhdGVCeUF4aXMoKSBoYXMgYmVlbiByZW1vdmVkLiIpfSxzZS5wcm90b3R5cGUuYXBwbHlUb0J1ZmZlckF0dHJpYnV0ZT1mdW5jdGlvbih0KXtyZXR1cm4gY29uc29sZS53YXJuKCJUSFJFRS5NYXRyaXg0OiAuYXBwbHlUb0J1ZmZlckF0dHJpYnV0ZSgpIGhhcyBiZWVuIHJlbW92ZWQuIFVzZSBhdHRyaWJ1dGUuYXBwbHlNYXRyaXg0KCBtYXRyaXggKSBpbnN0ZWFkLiIpLHQuYXBwbHlNYXRyaXg0KHRoaXMpfSxzZS5wcm90b3R5cGUuYXBwbHlUb1ZlY3RvcjNBcnJheT1mdW5jdGlvbigpe2NvbnNvbGUuZXJyb3IoIlRIUkVFLk1hdHJpeDQ6IC5hcHBseVRvVmVjdG9yM0FycmF5KCkgaGFzIGJlZW4gcmVtb3ZlZC4iKX0sc2UucHJvdG90eXBlLm1ha2VGcnVzdHVtPWZ1bmN0aW9uKHQsZSxuLGkscixzKXtyZXR1cm4gY29uc29sZS53YXJuKCJUSFJFRS5NYXRyaXg0OiAubWFrZUZydXN0dW0oKSBoYXMgYmVlbiByZW1vdmVkLiBVc2UgLm1ha2VQZXJzcGVjdGl2ZSggbGVmdCwgcmlnaHQsIHRvcCwgYm90dG9tLCBuZWFyLCBmYXIgKSBpbnN0ZWFkLiIpLHRoaXMubWFrZVBlcnNwZWN0aXZlKHQsZSxpLG4scixzKX0sc2UucHJvdG90eXBlLmdldEludmVyc2U9ZnVuY3Rpb24odCl7cmV0dXJuIGNvbnNvbGUud2FybigiVEhSRUUuTWF0cml4NDogLmdldEludmVyc2UoKSBoYXMgYmVlbiByZW1vdmVkLiBVc2UgbWF0cml4SW52LmNvcHkoIG1hdHJpeCApLmludmVydCgpOyBpbnN0ZWFkLiIpLHRoaXMuY29weSh0KS5pbnZlcnQoKX0sTmUucHJvdG90eXBlLmlzSW50ZXJzZWN0aW9uTGluZT1mdW5jdGlvbih0KXtyZXR1cm4gY29uc29sZS53YXJuKCJUSFJFRS5QbGFuZTogLmlzSW50ZXJzZWN0aW9uTGluZSgpIGhhcyBiZWVuIHJlbmFtZWQgdG8gLmludGVyc2VjdHNMaW5lKCkuIiksdGhpcy5pbnRlcnNlY3RzTGluZSh0KX0sQXQucHJvdG90eXBlLm11bHRpcGx5VmVjdG9yMz1mdW5jdGlvbih0KXtyZXR1cm4gY29uc29sZS53YXJuKCJUSFJFRS5RdWF0ZXJuaW9uOiAubXVsdGlwbHlWZWN0b3IzKCkgaGFzIGJlZW4gcmVtb3ZlZC4gVXNlIGlzIG5vdyB2ZWN0b3IuYXBwbHlRdWF0ZXJuaW9uKCBxdWF0ZXJuaW9uICkgaW5zdGVhZC4iKSx0LmFwcGx5UXVhdGVybmlvbih0aGlzKX0sQXQucHJvdG90eXBlLmludmVyc2U9ZnVuY3Rpb24oKXtyZXR1cm4gY29uc29sZS53YXJuKCJUSFJFRS5RdWF0ZXJuaW9uOiAuaW52ZXJzZSgpIGhhcyBiZWVuIHJlbmFtZWQgdG8gaW52ZXJ0KCkuIiksdGhpcy5pbnZlcnQoKX0scmUucHJvdG90eXBlLmlzSW50ZXJzZWN0aW9uQm94PWZ1bmN0aW9uKHQpe3JldHVybiBjb25zb2xlLndhcm4oIlRIUkVFLlJheTogLmlzSW50ZXJzZWN0aW9uQm94KCkgaGFzIGJlZW4gcmVuYW1lZCB0byAuaW50ZXJzZWN0c0JveCgpLiIpLHRoaXMuaW50ZXJzZWN0c0JveCh0KX0scmUucHJvdG90eXBlLmlzSW50ZXJzZWN0aW9uUGxhbmU9ZnVuY3Rpb24odCl7cmV0dXJuIGNvbnNvbGUud2FybigiVEhSRUUuUmF5OiAuaXNJbnRlcnNlY3Rpb25QbGFuZSgpIGhhcyBiZWVuIHJlbmFtZWQgdG8gLmludGVyc2VjdHNQbGFuZSgpLiIpLHRoaXMuaW50ZXJzZWN0c1BsYW5lKHQpfSxyZS5wcm90b3R5cGUuaXNJbnRlcnNlY3Rpb25TcGhlcmU9ZnVuY3Rpb24odCl7cmV0dXJuIGNvbnNvbGUud2FybigiVEhSRUUuUmF5OiAuaXNJbnRlcnNlY3Rpb25TcGhlcmUoKSBoYXMgYmVlbiByZW5hbWVkIHRvIC5pbnRlcnNlY3RzU3BoZXJlKCkuIiksdGhpcy5pbnRlcnNlY3RzU3BoZXJlKHQpfSxqZS5wcm90b3R5cGUuYXJlYT1mdW5jdGlvbigpe3JldHVybiBjb25zb2xlLndhcm4oIlRIUkVFLlRyaWFuZ2xlOiAuYXJlYSgpIGhhcyBiZWVuIHJlbmFtZWQgdG8gLmdldEFyZWEoKS4iKSx0aGlzLmdldEFyZWEoKX0samUucHJvdG90eXBlLmJhcnljb29yZEZyb21Qb2ludD1mdW5jdGlvbih0LGUpe3JldHVybiBjb25zb2xlLndhcm4oIlRIUkVFLlRyaWFuZ2xlOiAuYmFyeWNvb3JkRnJvbVBvaW50KCkgaGFzIGJlZW4gcmVuYW1lZCB0byAuZ2V0QmFyeWNvb3JkKCkuIiksdGhpcy5nZXRCYXJ5Y29vcmQodCxlKX0samUucHJvdG90eXBlLm1pZHBvaW50PWZ1bmN0aW9uKHQpe3JldHVybiBjb25zb2xlLndhcm4oIlRIUkVFLlRyaWFuZ2xlOiAubWlkcG9pbnQoKSBoYXMgYmVlbiByZW5hbWVkIHRvIC5nZXRNaWRwb2ludCgpLiIpLHRoaXMuZ2V0TWlkcG9pbnQodCl9LGplLnByb3RvdHlwZW5vcm1hbD1mdW5jdGlvbih0KXtyZXR1cm4gY29uc29sZS53YXJuKCJUSFJFRS5UcmlhbmdsZTogLm5vcm1hbCgpIGhhcyBiZWVuIHJlbmFtZWQgdG8gLmdldE5vcm1hbCgpLiIpLHRoaXMuZ2V0Tm9ybWFsKHQpfSxqZS5wcm90b3R5cGUucGxhbmU9ZnVuY3Rpb24odCl7cmV0dXJuIGNvbnNvbGUud2FybigiVEhSRUUuVHJpYW5nbGU6IC5wbGFuZSgpIGhhcyBiZWVuIHJlbmFtZWQgdG8gLmdldFBsYW5lKCkuIiksdGhpcy5nZXRQbGFuZSh0KX0samUuYmFyeWNvb3JkRnJvbVBvaW50PWZ1bmN0aW9uKHQsZSxuLGkscil7cmV0dXJuIGNvbnNvbGUud2FybigiVEhSRUUuVHJpYW5nbGU6IC5iYXJ5Y29vcmRGcm9tUG9pbnQoKSBoYXMgYmVlbiByZW5hbWVkIHRvIC5nZXRCYXJ5Y29vcmQoKS4iKSxqZS5nZXRCYXJ5Y29vcmQodCxlLG4saSxyKX0samUubm9ybWFsPWZ1bmN0aW9uKHQsZSxuLGkpe3JldHVybiBjb25zb2xlLndhcm4oIlRIUkVFLlRyaWFuZ2xlOiAubm9ybWFsKCkgaGFzIGJlZW4gcmVuYW1lZCB0byAuZ2V0Tm9ybWFsKCkuIiksamUuZ2V0Tm9ybWFsKHQsZSxuLGkpfSx6bC5wcm90b3R5cGUuZXh0cmFjdEFsbFBvaW50cz1mdW5jdGlvbih0KXtyZXR1cm4gY29uc29sZS53YXJuKCJUSFJFRS5TaGFwZTogLmV4dHJhY3RBbGxQb2ludHMoKSBoYXMgYmVlbiByZW1vdmVkLiBVc2UgLmV4dHJhY3RQb2ludHMoKSBpbnN0ZWFkLiIpLHRoaXMuZXh0cmFjdFBvaW50cyh0KX0semwucHJvdG90eXBlLmV4dHJ1ZGU9ZnVuY3Rpb24odCl7cmV0dXJuIGNvbnNvbGUud2FybigiVEhSRUUuU2hhcGU6IC5leHRydWRlKCkgaGFzIGJlZW4gcmVtb3ZlZC4gVXNlIEV4dHJ1ZGVHZW9tZXRyeSgpIGluc3RlYWQuIiksbmV3IGdvKHRoaXMsdCl9LHpsLnByb3RvdHlwZS5tYWtlR2VvbWV0cnk9ZnVuY3Rpb24odCl7cmV0dXJuIGNvbnNvbGUud2FybigiVEhSRUUuU2hhcGU6IC5tYWtlR2VvbWV0cnkoKSBoYXMgYmVlbiByZW1vdmVkLiBVc2UgU2hhcGVHZW9tZXRyeSgpIGluc3RlYWQuIiksbmV3IE1vKHRoaXMsdCl9LHZ0LnByb3RvdHlwZS5mcm9tQXR0cmlidXRlPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gY29uc29sZS53YXJuKCJUSFJFRS5WZWN0b3IyOiAuZnJvbUF0dHJpYnV0ZSgpIGhhcyBiZWVuIHJlbmFtZWQgdG8gLmZyb21CdWZmZXJBdHRyaWJ1dGUoKS4iKSx0aGlzLmZyb21CdWZmZXJBdHRyaWJ1dGUodCxlLG4pfSx2dC5wcm90b3R5cGUuZGlzdGFuY2VUb01hbmhhdHRhbj1mdW5jdGlvbih0KXtyZXR1cm4gY29uc29sZS53YXJuKCJUSFJFRS5WZWN0b3IyOiAuZGlzdGFuY2VUb01hbmhhdHRhbigpIGhhcyBiZWVuIHJlbmFtZWQgdG8gLm1hbmhhdHRhbkRpc3RhbmNlVG8oKS4iKSx0aGlzLm1hbmhhdHRhbkRpc3RhbmNlVG8odCl9LHZ0LnByb3RvdHlwZS5sZW5ndGhNYW5oYXR0YW49ZnVuY3Rpb24oKXtyZXR1cm4gY29uc29sZS53YXJuKCJUSFJFRS5WZWN0b3IyOiAubGVuZ3RoTWFuaGF0dGFuKCkgaGFzIGJlZW4gcmVuYW1lZCB0byAubWFuaGF0dGFuTGVuZ3RoKCkuIiksdGhpcy5tYW5oYXR0YW5MZW5ndGgoKX0sTHQucHJvdG90eXBlLnNldEV1bGVyRnJvbVJvdGF0aW9uTWF0cml4PWZ1bmN0aW9uKCl7Y29uc29sZS5lcnJvcigiVEhSRUUuVmVjdG9yMzogLnNldEV1bGVyRnJvbVJvdGF0aW9uTWF0cml4KCkgaGFzIGJlZW4gcmVtb3ZlZC4gVXNlIEV1bGVyLnNldEZyb21Sb3RhdGlvbk1hdHJpeCgpIGluc3RlYWQuIil9LEx0LnByb3RvdHlwZS5zZXRFdWxlckZyb21RdWF0ZXJuaW9uPWZ1bmN0aW9uKCl7Y29uc29sZS5lcnJvcigiVEhSRUUuVmVjdG9yMzogLnNldEV1bGVyRnJvbVF1YXRlcm5pb24oKSBoYXMgYmVlbiByZW1vdmVkLiBVc2UgRXVsZXIuc2V0RnJvbVF1YXRlcm5pb24oKSBpbnN0ZWFkLiIpfSxMdC5wcm90b3R5cGUuZ2V0UG9zaXRpb25Gcm9tTWF0cml4PWZ1bmN0aW9uKHQpe3JldHVybiBjb25zb2xlLndhcm4oIlRIUkVFLlZlY3RvcjM6IC5nZXRQb3NpdGlvbkZyb21NYXRyaXgoKSBoYXMgYmVlbiByZW5hbWVkIHRvIC5zZXRGcm9tTWF0cml4UG9zaXRpb24oKS4iKSx0aGlzLnNldEZyb21NYXRyaXhQb3NpdGlvbih0KX0sTHQucHJvdG90eXBlLmdldFNjYWxlRnJvbU1hdHJpeD1mdW5jdGlvbih0KXtyZXR1cm4gY29uc29sZS53YXJuKCJUSFJFRS5WZWN0b3IzOiAuZ2V0U2NhbGVGcm9tTWF0cml4KCkgaGFzIGJlZW4gcmVuYW1lZCB0byAuc2V0RnJvbU1hdHJpeFNjYWxlKCkuIiksdGhpcy5zZXRGcm9tTWF0cml4U2NhbGUodCl9LEx0LnByb3RvdHlwZS5nZXRDb2x1bW5Gcm9tTWF0cml4PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGNvbnNvbGUud2FybigiVEhSRUUuVmVjdG9yMzogLmdldENvbHVtbkZyb21NYXRyaXgoKSBoYXMgYmVlbiByZW5hbWVkIHRvIC5zZXRGcm9tTWF0cml4Q29sdW1uKCkuIiksdGhpcy5zZXRGcm9tTWF0cml4Q29sdW1uKGUsdCl9LEx0LnByb3RvdHlwZS5hcHBseVByb2plY3Rpb249ZnVuY3Rpb24odCl7cmV0dXJuIGNvbnNvbGUud2FybigiVEhSRUUuVmVjdG9yMzogLmFwcGx5UHJvamVjdGlvbigpIGhhcyBiZWVuIHJlbW92ZWQuIFVzZSAuYXBwbHlNYXRyaXg0KCBtICkgaW5zdGVhZC4iKSx0aGlzLmFwcGx5TWF0cml4NCh0KX0sTHQucHJvdG90eXBlLmZyb21BdHRyaWJ1dGU9ZnVuY3Rpb24odCxlLG4pe3JldHVybiBjb25zb2xlLndhcm4oIlRIUkVFLlZlY3RvcjM6IC5mcm9tQXR0cmlidXRlKCkgaGFzIGJlZW4gcmVuYW1lZCB0byAuZnJvbUJ1ZmZlckF0dHJpYnV0ZSgpLiIpLHRoaXMuZnJvbUJ1ZmZlckF0dHJpYnV0ZSh0LGUsbil9LEx0LnByb3RvdHlwZS5kaXN0YW5jZVRvTWFuaGF0dGFuPWZ1bmN0aW9uKHQpe3JldHVybiBjb25zb2xlLndhcm4oIlRIUkVFLlZlY3RvcjM6IC5kaXN0YW5jZVRvTWFuaGF0dGFuKCkgaGFzIGJlZW4gcmVuYW1lZCB0byAubWFuaGF0dGFuRGlzdGFuY2VUbygpLiIpLHRoaXMubWFuaGF0dGFuRGlzdGFuY2VUbyh0KX0sTHQucHJvdG90eXBlLmxlbmd0aE1hbmhhdHRhbj1mdW5jdGlvbigpe3JldHVybiBjb25zb2xlLndhcm4oIlRIUkVFLlZlY3RvcjM6IC5sZW5ndGhNYW5oYXR0YW4oKSBoYXMgYmVlbiByZW5hbWVkIHRvIC5tYW5oYXR0YW5MZW5ndGgoKS4iKSx0aGlzLm1hbmhhdHRhbkxlbmd0aCgpfSxTdC5wcm90b3R5cGUuZnJvbUF0dHJpYnV0ZT1mdW5jdGlvbih0LGUsbil7cmV0dXJuIGNvbnNvbGUud2FybigiVEhSRUUuVmVjdG9yNDogLmZyb21BdHRyaWJ1dGUoKSBoYXMgYmVlbiByZW5hbWVkIHRvIC5mcm9tQnVmZmVyQXR0cmlidXRlKCkuIiksdGhpcy5mcm9tQnVmZmVyQXR0cmlidXRlKHQsZSxuKX0sU3QucHJvdG90eXBlLmxlbmd0aE1hbmhhdHRhbj1mdW5jdGlvbigpe3JldHVybiBjb25zb2xlLndhcm4oIlRIUkVFLlZlY3RvcjQ6IC5sZW5ndGhNYW5oYXR0YW4oKSBoYXMgYmVlbiByZW5hbWVkIHRvIC5tYW5oYXR0YW5MZW5ndGgoKS4iKSx0aGlzLm1hbmhhdHRhbkxlbmd0aCgpfSxDZS5wcm90b3R5cGUuZ2V0Q2hpbGRCeU5hbWU9ZnVuY3Rpb24odCl7cmV0dXJuIGNvbnNvbGUud2FybigiVEhSRUUuT2JqZWN0M0Q6IC5nZXRDaGlsZEJ5TmFtZSgpIGhhcyBiZWVuIHJlbmFtZWQgdG8gLmdldE9iamVjdEJ5TmFtZSgpLiIpLHRoaXMuZ2V0T2JqZWN0QnlOYW1lKHQpfSxDZS5wcm90b3R5cGUucmVuZGVyRGVwdGg9ZnVuY3Rpb24oKXtjb25zb2xlLndhcm4oIlRIUkVFLk9iamVjdDNEOiAucmVuZGVyRGVwdGggaGFzIGJlZW4gcmVtb3ZlZC4gVXNlIC5yZW5kZXJPcmRlciwgaW5zdGVhZC4iKX0sQ2UucHJvdG90eXBlLnRyYW5zbGF0ZT1mdW5jdGlvbih0LGUpe3JldHVybiBjb25zb2xlLndhcm4oIlRIUkVFLk9iamVjdDNEOiAudHJhbnNsYXRlKCkgaGFzIGJlZW4gcmVtb3ZlZC4gVXNlIC50cmFuc2xhdGVPbkF4aXMoIGF4aXMsIGRpc3RhbmNlICkgaW5zdGVhZC4iKSx0aGlzLnRyYW5zbGF0ZU9uQXhpcyhlLHQpfSxDZS5wcm90b3R5cGUuZ2V0V29ybGRSb3RhdGlvbj1mdW5jdGlvbigpe2NvbnNvbGUuZXJyb3IoIlRIUkVFLk9iamVjdDNEOiAuZ2V0V29ybGRSb3RhdGlvbigpIGhhcyBiZWVuIHJlbW92ZWQuIFVzZSBUSFJFRS5PYmplY3QzRC5nZXRXb3JsZFF1YXRlcm5pb24oIHRhcmdldCApIGluc3RlYWQuIil9LENlLnByb3RvdHlwZS5hcHBseU1hdHJpeD1mdW5jdGlvbih0KXtyZXR1cm4gY29uc29sZS53YXJuKCJUSFJFRS5PYmplY3QzRDogLmFwcGx5TWF0cml4KCkgaGFzIGJlZW4gcmVuYW1lZCB0byAuYXBwbHlNYXRyaXg0KCkuIiksdGhpcy5hcHBseU1hdHJpeDQodCl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKENlLnByb3RvdHlwZSx7ZXVsZXJPcmRlcjp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGNvbnNvbGUud2FybigiVEhSRUUuT2JqZWN0M0Q6IC5ldWxlck9yZGVyIGlzIG5vdyAucm90YXRpb24ub3JkZXIuIiksdGhpcy5yb3RhdGlvbi5vcmRlcn0sc2V0OmZ1bmN0aW9uKHQpe2NvbnNvbGUud2FybigiVEhSRUUuT2JqZWN0M0Q6IC5ldWxlck9yZGVyIGlzIG5vdyAucm90YXRpb24ub3JkZXIuIiksdGhpcy5yb3RhdGlvbi5vcmRlcj10fX0sdXNlUXVhdGVybmlvbjp7Z2V0OmZ1bmN0aW9uKCl7Y29uc29sZS53YXJuKCJUSFJFRS5PYmplY3QzRDogLnVzZVF1YXRlcm5pb24gaGFzIGJlZW4gcmVtb3ZlZC4gVGhlIGxpYnJhcnkgbm93IHVzZXMgcXVhdGVybmlvbnMgYnkgZGVmYXVsdC4iKX0sc2V0OmZ1bmN0aW9uKCl7Y29uc29sZS53YXJuKCJUSFJFRS5PYmplY3QzRDogLnVzZVF1YXRlcm5pb24gaGFzIGJlZW4gcmVtb3ZlZC4gVGhlIGxpYnJhcnkgbm93IHVzZXMgcXVhdGVybmlvbnMgYnkgZGVmYXVsdC4iKX19fSksV24ucHJvdG90eXBlLnNldERyYXdNb2RlPWZ1bmN0aW9uKCl7Y29uc29sZS5lcnJvcigiVEhSRUUuTWVzaDogLnNldERyYXdNb2RlKCkgaGFzIGJlZW4gcmVtb3ZlZC4gVGhlIHJlbmRlcmVyIG5vdyBhbHdheXMgYXNzdW1lcyBUSFJFRS5UcmlhbmdsZXNEcmF3TW9kZS4gVHJhbnNmb3JtIHlvdXIgZ2VvbWV0cnkgdmlhIEJ1ZmZlckdlb21ldHJ5VXRpbHMudG9UcmlhbmdsZXNEcmF3TW9kZSgpIGlmIG5lY2Vzc2FyeS4iKX0sT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoV24ucHJvdG90eXBlLHtkcmF3TW9kZTp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGNvbnNvbGUuZXJyb3IoIlRIUkVFLk1lc2g6IC5kcmF3TW9kZSBoYXMgYmVlbiByZW1vdmVkLiBUaGUgcmVuZGVyZXIgbm93IGFsd2F5cyBhc3N1bWVzIFRIUkVFLlRyaWFuZ2xlc0RyYXdNb2RlLiIpLDB9LHNldDpmdW5jdGlvbigpe2NvbnNvbGUuZXJyb3IoIlRIUkVFLk1lc2g6IC5kcmF3TW9kZSBoYXMgYmVlbiByZW1vdmVkLiBUaGUgcmVuZGVyZXIgbm93IGFsd2F5cyBhc3N1bWVzIFRIUkVFLlRyaWFuZ2xlc0RyYXdNb2RlLiBUcmFuc2Zvcm0geW91ciBnZW9tZXRyeSB2aWEgQnVmZmVyR2VvbWV0cnlVdGlscy50b1RyaWFuZ2xlc0RyYXdNb2RlKCkgaWYgbmVjZXNzYXJ5LiIpfX19KSwkcy5wcm90b3R5cGUuaW5pdEJvbmVzPWZ1bmN0aW9uKCl7Y29uc29sZS5lcnJvcigiVEhSRUUuU2tpbm5lZE1lc2g6IGluaXRCb25lcygpIGhhcyBiZWVuIHJlbW92ZWQuIil9LEtuLnByb3RvdHlwZS5zZXRMZW5zPWZ1bmN0aW9uKHQsZSl7Y29uc29sZS53YXJuKCJUSFJFRS5QZXJzcGVjdGl2ZUNhbWVyYS5zZXRMZW5zIGlzIGRlcHJlY2F0ZWQuIFVzZSAuc2V0Rm9jYWxMZW5ndGggYW5kIC5maWxtR2F1Z2UgZm9yIGEgcGhvdG9ncmFwaGljIHNldHVwLiIpLHZvaWQgMCE9PWUmJih0aGlzLmZpbG1HYXVnZT1lKSx0aGlzLnNldEZvY2FsTGVuZ3RoKHQpfSxPYmplY3QuZGVmaW5lUHJvcGVydGllcyhGbC5wcm90b3R5cGUse29ubHlTaGFkb3c6e3NldDpmdW5jdGlvbigpe2NvbnNvbGUud2FybigiVEhSRUUuTGlnaHQ6IC5vbmx5U2hhZG93IGhhcyBiZWVuIHJlbW92ZWQuIil9fSxzaGFkb3dDYW1lcmFGb3Y6e3NldDpmdW5jdGlvbih0KXtjb25zb2xlLndhcm4oIlRIUkVFLkxpZ2h0OiAuc2hhZG93Q2FtZXJhRm92IGlzIG5vdyAuc2hhZG93LmNhbWVyYS5mb3YuIiksdGhpcy5zaGFkb3cuY2FtZXJhLmZvdj10fX0sc2hhZG93Q2FtZXJhTGVmdDp7c2V0OmZ1bmN0aW9uKHQpe2NvbnNvbGUud2FybigiVEhSRUUuTGlnaHQ6IC5zaGFkb3dDYW1lcmFMZWZ0IGlzIG5vdyAuc2hhZG93LmNhbWVyYS5sZWZ0LiIpLHRoaXMuc2hhZG93LmNhbWVyYS5sZWZ0PXR9fSxzaGFkb3dDYW1lcmFSaWdodDp7c2V0OmZ1bmN0aW9uKHQpe2NvbnNvbGUud2FybigiVEhSRUUuTGlnaHQ6IC5zaGFkb3dDYW1lcmFSaWdodCBpcyBub3cgLnNoYWRvdy5jYW1lcmEucmlnaHQuIiksdGhpcy5zaGFkb3cuY2FtZXJhLnJpZ2h0PXR9fSxzaGFkb3dDYW1lcmFUb3A6e3NldDpmdW5jdGlvbih0KXtjb25zb2xlLndhcm4oIlRIUkVFLkxpZ2h0OiAuc2hhZG93Q2FtZXJhVG9wIGlzIG5vdyAuc2hhZG93LmNhbWVyYS50b3AuIiksdGhpcy5zaGFkb3cuY2FtZXJhLnRvcD10fX0sc2hhZG93Q2FtZXJhQm90dG9tOntzZXQ6ZnVuY3Rpb24odCl7Y29uc29sZS53YXJuKCJUSFJFRS5MaWdodDogLnNoYWRvd0NhbWVyYUJvdHRvbSBpcyBub3cgLnNoYWRvdy5jYW1lcmEuYm90dG9tLiIpLHRoaXMuc2hhZG93LmNhbWVyYS5ib3R0b209dH19LHNoYWRvd0NhbWVyYU5lYXI6e3NldDpmdW5jdGlvbih0KXtjb25zb2xlLndhcm4oIlRIUkVFLkxpZ2h0OiAuc2hhZG93Q2FtZXJhTmVhciBpcyBub3cgLnNoYWRvdy5jYW1lcmEubmVhci4iKSx0aGlzLnNoYWRvdy5jYW1lcmEubmVhcj10fX0sc2hhZG93Q2FtZXJhRmFyOntzZXQ6ZnVuY3Rpb24odCl7Y29uc29sZS53YXJuKCJUSFJFRS5MaWdodDogLnNoYWRvd0NhbWVyYUZhciBpcyBub3cgLnNoYWRvdy5jYW1lcmEuZmFyLiIpLHRoaXMuc2hhZG93LmNhbWVyYS5mYXI9dH19LHNoYWRvd0NhbWVyYVZpc2libGU6e3NldDpmdW5jdGlvbigpe2NvbnNvbGUud2FybigiVEhSRUUuTGlnaHQ6IC5zaGFkb3dDYW1lcmFWaXNpYmxlIGhhcyBiZWVuIHJlbW92ZWQuIFVzZSBuZXcgVEhSRUUuQ2FtZXJhSGVscGVyKCBsaWdodC5zaGFkb3cuY2FtZXJhICkgaW5zdGVhZC4iKX19LHNoYWRvd0JpYXM6e3NldDpmdW5jdGlvbih0KXtjb25zb2xlLndhcm4oIlRIUkVFLkxpZ2h0OiAuc2hhZG93QmlhcyBpcyBub3cgLnNoYWRvdy5iaWFzLiIpLHRoaXMuc2hhZG93LmJpYXM9dH19LHNoYWRvd0RhcmtuZXNzOntzZXQ6ZnVuY3Rpb24oKXtjb25zb2xlLndhcm4oIlRIUkVFLkxpZ2h0OiAuc2hhZG93RGFya25lc3MgaGFzIGJlZW4gcmVtb3ZlZC4iKX19LHNoYWRvd01hcFdpZHRoOntzZXQ6ZnVuY3Rpb24odCl7Y29uc29sZS53YXJuKCJUSFJFRS5MaWdodDogLnNoYWRvd01hcFdpZHRoIGlzIG5vdyAuc2hhZG93Lm1hcFNpemUud2lkdGguIiksdGhpcy5zaGFkb3cubWFwU2l6ZS53aWR0aD10fX0sc2hhZG93TWFwSGVpZ2h0OntzZXQ6ZnVuY3Rpb24odCl7Y29uc29sZS53YXJuKCJUSFJFRS5MaWdodDogLnNoYWRvd01hcEhlaWdodCBpcyBub3cgLnNoYWRvdy5tYXBTaXplLmhlaWdodC4iKSx0aGlzLnNoYWRvdy5tYXBTaXplLmhlaWdodD10fX19KSxPYmplY3QuZGVmaW5lUHJvcGVydGllcyhzbi5wcm90b3R5cGUse2xlbmd0aDp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGNvbnNvbGUud2FybigiVEhSRUUuQnVmZmVyQXR0cmlidXRlOiAubGVuZ3RoIGhhcyBiZWVuIGRlcHJlY2F0ZWQuIFVzZSAuY291bnQgaW5zdGVhZC4iKSx0aGlzLmFycmF5Lmxlbmd0aH19LGR5bmFtaWM6e2dldDpmdW5jdGlvbigpe3JldHVybiBjb25zb2xlLndhcm4oIlRIUkVFLkJ1ZmZlckF0dHJpYnV0ZTogLmR5bmFtaWMgaGFzIGJlZW4gZGVwcmVjYXRlZC4gVXNlIC51c2FnZSBpbnN0ZWFkLiIpLHRoaXMudXNhZ2U9PT1udH0sc2V0OmZ1bmN0aW9uKCl7Y29uc29sZS53YXJuKCJUSFJFRS5CdWZmZXJBdHRyaWJ1dGU6IC5keW5hbWljIGhhcyBiZWVuIGRlcHJlY2F0ZWQuIFVzZSAudXNhZ2UgaW5zdGVhZC4iKSx0aGlzLnNldFVzYWdlKG50KX19fSksc24ucHJvdG90eXBlLnNldER5bmFtaWM9ZnVuY3Rpb24odCl7cmV0dXJuIGNvbnNvbGUud2FybigiVEhSRUUuQnVmZmVyQXR0cmlidXRlOiAuc2V0RHluYW1pYygpIGhhcyBiZWVuIGRlcHJlY2F0ZWQuIFVzZSAuc2V0VXNhZ2UoKSBpbnN0ZWFkLiIpLHRoaXMuc2V0VXNhZ2UoITA9PT10P250OmV0KSx0aGlzfSxzbi5wcm90b3R5cGUuY29weUluZGljZXNBcnJheT1mdW5jdGlvbigpe2NvbnNvbGUuZXJyb3IoIlRIUkVFLkJ1ZmZlckF0dHJpYnV0ZTogLmNvcHlJbmRpY2VzQXJyYXkoKSBoYXMgYmVlbiByZW1vdmVkLiIpfSxzbi5wcm90b3R5cGUuc2V0QXJyYXk9ZnVuY3Rpb24oKXtjb25zb2xlLmVycm9yKCJUSFJFRS5CdWZmZXJBdHRyaWJ1dGU6IC5zZXRBcnJheSBoYXMgYmVlbiByZW1vdmVkLiBVc2UgQnVmZmVyR2VvbWV0cnkgLnNldEF0dHJpYnV0ZSB0byByZXBsYWNlL3Jlc2l6ZSBhdHRyaWJ1dGUgYnVmZmVycyIpfSxFbi5wcm90b3R5cGUuYWRkSW5kZXg9ZnVuY3Rpb24odCl7Y29uc29sZS53YXJuKCJUSFJFRS5CdWZmZXJHZW9tZXRyeTogLmFkZEluZGV4KCkgaGFzIGJlZW4gcmVuYW1lZCB0byAuc2V0SW5kZXgoKS4iKSx0aGlzLnNldEluZGV4KHQpfSxFbi5wcm90b3R5cGUuYWRkQXR0cmlidXRlPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGNvbnNvbGUud2FybigiVEhSRUUuQnVmZmVyR2VvbWV0cnk6IC5hZGRBdHRyaWJ1dGUoKSBoYXMgYmVlbiByZW5hbWVkIHRvIC5zZXRBdHRyaWJ1dGUoKS4iKSxlJiZlLmlzQnVmZmVyQXR0cmlidXRlfHxlJiZlLmlzSW50ZXJsZWF2ZWRCdWZmZXJBdHRyaWJ1dGU/ImluZGV4Ij09PXQ/KGNvbnNvbGUud2FybigiVEhSRUUuQnVmZmVyR2VvbWV0cnkuYWRkQXR0cmlidXRlOiBVc2UgLnNldEluZGV4KCkgZm9yIGluZGV4IGF0dHJpYnV0ZS4iKSx0aGlzLnNldEluZGV4KGUpLHRoaXMpOnRoaXMuc2V0QXR0cmlidXRlKHQsZSk6KGNvbnNvbGUud2FybigiVEhSRUUuQnVmZmVyR2VvbWV0cnk6IC5hZGRBdHRyaWJ1dGUoKSBub3cgZXhwZWN0cyAoIG5hbWUsIGF0dHJpYnV0ZSApLiIpLHRoaXMuc2V0QXR0cmlidXRlKHQsbmV3IHNuKGFyZ3VtZW50c1sxXSxhcmd1bWVudHNbMl0pKSl9LEVuLnByb3RvdHlwZS5hZGREcmF3Q2FsbD1mdW5jdGlvbih0LGUsbil7dm9pZCAwIT09biYmY29uc29sZS53YXJuKCJUSFJFRS5CdWZmZXJHZW9tZXRyeTogLmFkZERyYXdDYWxsKCkgbm8gbG9uZ2VyIHN1cHBvcnRzIGluZGV4T2Zmc2V0LiIpLGNvbnNvbGUud2FybigiVEhSRUUuQnVmZmVyR2VvbWV0cnk6IC5hZGREcmF3Q2FsbCgpIGlzIG5vdyAuYWRkR3JvdXAoKS4iKSx0aGlzLmFkZEdyb3VwKHQsZSl9LEVuLnByb3RvdHlwZS5jbGVhckRyYXdDYWxscz1mdW5jdGlvbigpe2NvbnNvbGUud2FybigiVEhSRUUuQnVmZmVyR2VvbWV0cnk6IC5jbGVhckRyYXdDYWxscygpIGlzIG5vdyAuY2xlYXJHcm91cHMoKS4iKSx0aGlzLmNsZWFyR3JvdXBzKCl9LEVuLnByb3RvdHlwZS5jb21wdXRlT2Zmc2V0cz1mdW5jdGlvbigpe2NvbnNvbGUud2FybigiVEhSRUUuQnVmZmVyR2VvbWV0cnk6IC5jb21wdXRlT2Zmc2V0cygpIGhhcyBiZWVuIHJlbW92ZWQuIil9LEVuLnByb3RvdHlwZS5yZW1vdmVBdHRyaWJ1dGU9ZnVuY3Rpb24odCl7cmV0dXJuIGNvbnNvbGUud2FybigiVEhSRUUuQnVmZmVyR2VvbWV0cnk6IC5yZW1vdmVBdHRyaWJ1dGUoKSBoYXMgYmVlbiByZW5hbWVkIHRvIC5kZWxldGVBdHRyaWJ1dGUoKS4iKSx0aGlzLmRlbGV0ZUF0dHJpYnV0ZSh0KX0sRW4ucHJvdG90eXBlLmFwcGx5TWF0cml4PWZ1bmN0aW9uKHQpe3JldHVybiBjb25zb2xlLndhcm4oIlRIUkVFLkJ1ZmZlckdlb21ldHJ5OiAuYXBwbHlNYXRyaXgoKSBoYXMgYmVlbiByZW5hbWVkIHRvIC5hcHBseU1hdHJpeDQoKS4iKSx0aGlzLmFwcGx5TWF0cml4NCh0KX0sT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoRW4ucHJvdG90eXBlLHtkcmF3Y2FsbHM6e2dldDpmdW5jdGlvbigpe3JldHVybiBjb25zb2xlLmVycm9yKCJUSFJFRS5CdWZmZXJHZW9tZXRyeTogLmRyYXdjYWxscyBoYXMgYmVlbiByZW5hbWVkIHRvIC5ncm91cHMuIiksdGhpcy5ncm91cHN9fSxvZmZzZXRzOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gY29uc29sZS53YXJuKCJUSFJFRS5CdWZmZXJHZW9tZXRyeTogLm9mZnNldHMgaGFzIGJlZW4gcmVuYW1lZCB0byAuZ3JvdXBzLiIpLHRoaXMuZ3JvdXBzfX19KSxFcy5wcm90b3R5cGUuc2V0RHluYW1pYz1mdW5jdGlvbih0KXtyZXR1cm4gY29uc29sZS53YXJuKCJUSFJFRS5JbnRlcmxlYXZlZEJ1ZmZlcjogLnNldER5bmFtaWMoKSBoYXMgYmVlbiBkZXByZWNhdGVkLiBVc2UgLnNldFVzYWdlKCkgaW5zdGVhZC4iKSx0aGlzLnNldFVzYWdlKCEwPT09dD9udDpldCksdGhpc30sRXMucHJvdG90eXBlLnNldEFycmF5PWZ1bmN0aW9uKCl7Y29uc29sZS5lcnJvcigiVEhSRUUuSW50ZXJsZWF2ZWRCdWZmZXI6IC5zZXRBcnJheSBoYXMgYmVlbiByZW1vdmVkLiBVc2UgQnVmZmVyR2VvbWV0cnkgLnNldEF0dHJpYnV0ZSB0byByZXBsYWNlL3Jlc2l6ZSBhdHRyaWJ1dGUgYnVmZmVycyIpfSxnby5wcm90b3R5cGUuZ2V0QXJyYXlzPWZ1bmN0aW9uKCl7Y29uc29sZS5lcnJvcigiVEhSRUUuRXh0cnVkZUdlb21ldHJ5OiAuZ2V0QXJyYXlzKCkgaGFzIGJlZW4gcmVtb3ZlZC4iKX0sZ28ucHJvdG90eXBlLmFkZFNoYXBlTGlzdD1mdW5jdGlvbigpe2NvbnNvbGUuZXJyb3IoIlRIUkVFLkV4dHJ1ZGVHZW9tZXRyeTogLmFkZFNoYXBlTGlzdCgpIGhhcyBiZWVuIHJlbW92ZWQuIil9LGdvLnByb3RvdHlwZS5hZGRTaGFwZT1mdW5jdGlvbigpe2NvbnNvbGUuZXJyb3IoIlRIUkVFLkV4dHJ1ZGVHZW9tZXRyeTogLmFkZFNoYXBlKCkgaGFzIGJlZW4gcmVtb3ZlZC4iKX0sVHMucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXtjb25zb2xlLmVycm9yKCJUSFJFRS5TY2VuZTogLmRpc3Bvc2UoKSBoYXMgYmVlbiByZW1vdmVkLiIpfSxaYy5wcm90b3R5cGUub25VcGRhdGU9ZnVuY3Rpb24oKXtyZXR1cm4gY29uc29sZS53YXJuKCJUSFJFRS5Vbmlmb3JtOiAub25VcGRhdGUoKSBoYXMgYmVlbiByZW1vdmVkLiBVc2Ugb2JqZWN0Lm9uQmVmb3JlUmVuZGVyKCkgaW5zdGVhZC4iKSx0aGlzfSxPYmplY3QuZGVmaW5lUHJvcGVydGllcyhYZS5wcm90b3R5cGUse3dyYXBBcm91bmQ6e2dldDpmdW5jdGlvbigpe2NvbnNvbGUud2FybigiVEhSRUUuTWF0ZXJpYWw6IC53cmFwQXJvdW5kIGhhcyBiZWVuIHJlbW92ZWQuIil9LHNldDpmdW5jdGlvbigpe2NvbnNvbGUud2FybigiVEhSRUUuTWF0ZXJpYWw6IC53cmFwQXJvdW5kIGhhcyBiZWVuIHJlbW92ZWQuIil9fSxvdmVyZHJhdzp7Z2V0OmZ1bmN0aW9uKCl7Y29uc29sZS53YXJuKCJUSFJFRS5NYXRlcmlhbDogLm92ZXJkcmF3IGhhcyBiZWVuIHJlbW92ZWQuIil9LHNldDpmdW5jdGlvbigpe2NvbnNvbGUud2FybigiVEhSRUUuTWF0ZXJpYWw6IC5vdmVyZHJhdyBoYXMgYmVlbiByZW1vdmVkLiIpfX0sd3JhcFJHQjp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGNvbnNvbGUud2FybigiVEhSRUUuTWF0ZXJpYWw6IC53cmFwUkdCIGhhcyBiZWVuIHJlbW92ZWQuIiksbmV3IHRufX0sc2hhZGluZzp7Z2V0OmZ1bmN0aW9uKCl7Y29uc29sZS5lcnJvcigiVEhSRUUuIit0aGlzLnR5cGUrIjogLnNoYWRpbmcgaGFzIGJlZW4gcmVtb3ZlZC4gVXNlIHRoZSBib29sZWFuIC5mbGF0U2hhZGluZyBpbnN0ZWFkLiIpfSxzZXQ6ZnVuY3Rpb24odCl7Y29uc29sZS53YXJuKCJUSFJFRS4iK3RoaXMudHlwZSsiOiAuc2hhZGluZyBoYXMgYmVlbiByZW1vdmVkLiBVc2UgdGhlIGJvb2xlYW4gLmZsYXRTaGFkaW5nIGluc3RlYWQuIiksdGhpcy5mbGF0U2hhZGluZz0xPT09dH19LHN0ZW5jaWxNYXNrOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gY29uc29sZS53YXJuKCJUSFJFRS4iK3RoaXMudHlwZSsiOiAuc3RlbmNpbE1hc2sgaGFzIGJlZW4gcmVtb3ZlZC4gVXNlIC5zdGVuY2lsRnVuY01hc2sgaW5zdGVhZC4iKSx0aGlzLnN0ZW5jaWxGdW5jTWFza30sc2V0OmZ1bmN0aW9uKHQpe2NvbnNvbGUud2FybigiVEhSRUUuIit0aGlzLnR5cGUrIjogLnN0ZW5jaWxNYXNrIGhhcyBiZWVuIHJlbW92ZWQuIFVzZSAuc3RlbmNpbEZ1bmNNYXNrIGluc3RlYWQuIiksdGhpcy5zdGVuY2lsRnVuY01hc2s9dH19fSksT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoSm4ucHJvdG90eXBlLHtkZXJpdmF0aXZlczp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGNvbnNvbGUud2FybigiVEhSRUUuU2hhZGVyTWF0ZXJpYWw6IC5kZXJpdmF0aXZlcyBoYXMgYmVlbiBtb3ZlZCB0byAuZXh0ZW5zaW9ucy5kZXJpdmF0aXZlcy4iKSx0aGlzLmV4dGVuc2lvbnMuZGVyaXZhdGl2ZXN9LHNldDpmdW5jdGlvbih0KXtjb25zb2xlLndhcm4oIlRIUkVFLiBTaGFkZXJNYXRlcmlhbDogLmRlcml2YXRpdmVzIGhhcyBiZWVuIG1vdmVkIHRvIC5leHRlbnNpb25zLmRlcml2YXRpdmVzLiIpLHRoaXMuZXh0ZW5zaW9ucy5kZXJpdmF0aXZlcz10fX19KSx3cy5wcm90b3R5cGUuY2xlYXJUYXJnZXQ9ZnVuY3Rpb24odCxlLG4saSl7Y29uc29sZS53YXJuKCJUSFJFRS5XZWJHTFJlbmRlcmVyOiAuY2xlYXJUYXJnZXQoKSBoYXMgYmVlbiBkZXByZWNhdGVkLiBVc2UgLnNldFJlbmRlclRhcmdldCgpIGFuZCAuY2xlYXIoKSBpbnN0ZWFkLiIpLHRoaXMuc2V0UmVuZGVyVGFyZ2V0KHQpLHRoaXMuY2xlYXIoZSxuLGkpfSx3cy5wcm90b3R5cGUuYW5pbWF0ZT1mdW5jdGlvbih0KXtjb25zb2xlLndhcm4oIlRIUkVFLldlYkdMUmVuZGVyZXI6IC5hbmltYXRlKCkgaXMgbm93IC5zZXRBbmltYXRpb25Mb29wKCkuIiksdGhpcy5zZXRBbmltYXRpb25Mb29wKHQpfSx3cy5wcm90b3R5cGUuZ2V0Q3VycmVudFJlbmRlclRhcmdldD1mdW5jdGlvbigpe3JldHVybiBjb25zb2xlLndhcm4oIlRIUkVFLldlYkdMUmVuZGVyZXI6IC5nZXRDdXJyZW50UmVuZGVyVGFyZ2V0KCkgaXMgbm93IC5nZXRSZW5kZXJUYXJnZXQoKS4iKSx0aGlzLmdldFJlbmRlclRhcmdldCgpfSx3cy5wcm90b3R5cGUuZ2V0TWF4QW5pc290cm9weT1mdW5jdGlvbigpe3JldHVybiBjb25zb2xlLndhcm4oIlRIUkVFLldlYkdMUmVuZGVyZXI6IC5nZXRNYXhBbmlzb3Ryb3B5KCkgaXMgbm93IC5jYXBhYmlsaXRpZXMuZ2V0TWF4QW5pc290cm9weSgpLiIpLHRoaXMuY2FwYWJpbGl0aWVzLmdldE1heEFuaXNvdHJvcHkoKX0sd3MucHJvdG90eXBlLmdldFByZWNpc2lvbj1mdW5jdGlvbigpe3JldHVybiBjb25zb2xlLndhcm4oIlRIUkVFLldlYkdMUmVuZGVyZXI6IC5nZXRQcmVjaXNpb24oKSBpcyBub3cgLmNhcGFiaWxpdGllcy5wcmVjaXNpb24uIiksdGhpcy5jYXBhYmlsaXRpZXMucHJlY2lzaW9ufSx3cy5wcm90b3R5cGUucmVzZXRHTFN0YXRlPWZ1bmN0aW9uKCl7cmV0dXJuIGNvbnNvbGUud2FybigiVEhSRUUuV2ViR0xSZW5kZXJlcjogLnJlc2V0R0xTdGF0ZSgpIGlzIG5vdyAuc3RhdGUucmVzZXQoKS4iKSx0aGlzLnN0YXRlLnJlc2V0KCl9LHdzLnByb3RvdHlwZS5zdXBwb3J0c0Zsb2F0VGV4dHVyZXM9ZnVuY3Rpb24oKXtyZXR1cm4gY29uc29sZS53YXJuKCJUSFJFRS5XZWJHTFJlbmRlcmVyOiAuc3VwcG9ydHNGbG9hdFRleHR1cmVzKCkgaXMgbm93IC5leHRlbnNpb25zLmdldCggJ09FU190ZXh0dXJlX2Zsb2F0JyApLiIpLHRoaXMuZXh0ZW5zaW9ucy5nZXQoIk9FU190ZXh0dXJlX2Zsb2F0Iil9LHdzLnByb3RvdHlwZS5zdXBwb3J0c0hhbGZGbG9hdFRleHR1cmVzPWZ1bmN0aW9uKCl7cmV0dXJuIGNvbnNvbGUud2FybigiVEhSRUUuV2ViR0xSZW5kZXJlcjogLnN1cHBvcnRzSGFsZkZsb2F0VGV4dHVyZXMoKSBpcyBub3cgLmV4dGVuc2lvbnMuZ2V0KCAnT0VTX3RleHR1cmVfaGFsZl9mbG9hdCcgKS4iKSx0aGlzLmV4dGVuc2lvbnMuZ2V0KCJPRVNfdGV4dHVyZV9oYWxmX2Zsb2F0Iil9LHdzLnByb3RvdHlwZS5zdXBwb3J0c1N0YW5kYXJkRGVyaXZhdGl2ZXM9ZnVuY3Rpb24oKXtyZXR1cm4gY29uc29sZS53YXJuKCJUSFJFRS5XZWJHTFJlbmRlcmVyOiAuc3VwcG9ydHNTdGFuZGFyZERlcml2YXRpdmVzKCkgaXMgbm93IC5leHRlbnNpb25zLmdldCggJ09FU19zdGFuZGFyZF9kZXJpdmF0aXZlcycgKS4iKSx0aGlzLmV4dGVuc2lvbnMuZ2V0KCJPRVNfc3RhbmRhcmRfZGVyaXZhdGl2ZXMiKX0sd3MucHJvdG90eXBlLnN1cHBvcnRzQ29tcHJlc3NlZFRleHR1cmVTM1RDPWZ1bmN0aW9uKCl7cmV0dXJuIGNvbnNvbGUud2FybigiVEhSRUUuV2ViR0xSZW5kZXJlcjogLnN1cHBvcnRzQ29tcHJlc3NlZFRleHR1cmVTM1RDKCkgaXMgbm93IC5leHRlbnNpb25zLmdldCggJ1dFQkdMX2NvbXByZXNzZWRfdGV4dHVyZV9zM3RjJyApLiIpLHRoaXMuZXh0ZW5zaW9ucy5nZXQoIldFQkdMX2NvbXByZXNzZWRfdGV4dHVyZV9zM3RjIil9LHdzLnByb3RvdHlwZS5zdXBwb3J0c0NvbXByZXNzZWRUZXh0dXJlUFZSVEM9ZnVuY3Rpb24oKXtyZXR1cm4gY29uc29sZS53YXJuKCJUSFJFRS5XZWJHTFJlbmRlcmVyOiAuc3VwcG9ydHNDb21wcmVzc2VkVGV4dHVyZVBWUlRDKCkgaXMgbm93IC5leHRlbnNpb25zLmdldCggJ1dFQkdMX2NvbXByZXNzZWRfdGV4dHVyZV9wdnJ0YycgKS4iKSx0aGlzLmV4dGVuc2lvbnMuZ2V0KCJXRUJHTF9jb21wcmVzc2VkX3RleHR1cmVfcHZydGMiKX0sd3MucHJvdG90eXBlLnN1cHBvcnRzQmxlbmRNaW5NYXg9ZnVuY3Rpb24oKXtyZXR1cm4gY29uc29sZS53YXJuKCJUSFJFRS5XZWJHTFJlbmRlcmVyOiAuc3VwcG9ydHNCbGVuZE1pbk1heCgpIGlzIG5vdyAuZXh0ZW5zaW9ucy5nZXQoICdFWFRfYmxlbmRfbWlubWF4JyApLiIpLHRoaXMuZXh0ZW5zaW9ucy5nZXQoIkVYVF9ibGVuZF9taW5tYXgiKX0sd3MucHJvdG90eXBlLnN1cHBvcnRzVmVydGV4VGV4dHVyZXM9ZnVuY3Rpb24oKXtyZXR1cm4gY29uc29sZS53YXJuKCJUSFJFRS5XZWJHTFJlbmRlcmVyOiAuc3VwcG9ydHNWZXJ0ZXhUZXh0dXJlcygpIGlzIG5vdyAuY2FwYWJpbGl0aWVzLnZlcnRleFRleHR1cmVzLiIpLHRoaXMuY2FwYWJpbGl0aWVzLnZlcnRleFRleHR1cmVzfSx3cy5wcm90b3R5cGUuc3VwcG9ydHNJbnN0YW5jZWRBcnJheXM9ZnVuY3Rpb24oKXtyZXR1cm4gY29uc29sZS53YXJuKCJUSFJFRS5XZWJHTFJlbmRlcmVyOiAuc3VwcG9ydHNJbnN0YW5jZWRBcnJheXMoKSBpcyBub3cgLmV4dGVuc2lvbnMuZ2V0KCAnQU5HTEVfaW5zdGFuY2VkX2FycmF5cycgKS4iKSx0aGlzLmV4dGVuc2lvbnMuZ2V0KCJBTkdMRV9pbnN0YW5jZWRfYXJyYXlzIil9LHdzLnByb3RvdHlwZS5lbmFibGVTY2lzc29yVGVzdD1mdW5jdGlvbih0KXtjb25zb2xlLndhcm4oIlRIUkVFLldlYkdMUmVuZGVyZXI6IC5lbmFibGVTY2lzc29yVGVzdCgpIGlzIG5vdyAuc2V0U2Npc3NvclRlc3QoKS4iKSx0aGlzLnNldFNjaXNzb3JUZXN0KHQpfSx3cy5wcm90b3R5cGUuaW5pdE1hdGVyaWFsPWZ1bmN0aW9uKCl7Y29uc29sZS53YXJuKCJUSFJFRS5XZWJHTFJlbmRlcmVyOiAuaW5pdE1hdGVyaWFsKCkgaGFzIGJlZW4gcmVtb3ZlZC4iKX0sd3MucHJvdG90eXBlLmFkZFByZVBsdWdpbj1mdW5jdGlvbigpe2NvbnNvbGUud2FybigiVEhSRUUuV2ViR0xSZW5kZXJlcjogLmFkZFByZVBsdWdpbigpIGhhcyBiZWVuIHJlbW92ZWQuIil9LHdzLnByb3RvdHlwZS5hZGRQb3N0UGx1Z2luPWZ1bmN0aW9uKCl7Y29uc29sZS53YXJuKCJUSFJFRS5XZWJHTFJlbmRlcmVyOiAuYWRkUG9zdFBsdWdpbigpIGhhcyBiZWVuIHJlbW92ZWQuIil9LHdzLnByb3RvdHlwZS51cGRhdGVTaGFkb3dNYXA9ZnVuY3Rpb24oKXtjb25zb2xlLndhcm4oIlRIUkVFLldlYkdMUmVuZGVyZXI6IC51cGRhdGVTaGFkb3dNYXAoKSBoYXMgYmVlbiByZW1vdmVkLiIpfSx3cy5wcm90b3R5cGUuc2V0RmFjZUN1bGxpbmc9ZnVuY3Rpb24oKXtjb25zb2xlLndhcm4oIlRIUkVFLldlYkdMUmVuZGVyZXI6IC5zZXRGYWNlQ3VsbGluZygpIGhhcyBiZWVuIHJlbW92ZWQuIil9LHdzLnByb3RvdHlwZS5hbGxvY1RleHR1cmVVbml0PWZ1bmN0aW9uKCl7Y29uc29sZS53YXJuKCJUSFJFRS5XZWJHTFJlbmRlcmVyOiAuYWxsb2NUZXh0dXJlVW5pdCgpIGhhcyBiZWVuIHJlbW92ZWQuIil9LHdzLnByb3RvdHlwZS5zZXRUZXh0dXJlPWZ1bmN0aW9uKCl7Y29uc29sZS53YXJuKCJUSFJFRS5XZWJHTFJlbmRlcmVyOiAuc2V0VGV4dHVyZSgpIGhhcyBiZWVuIHJlbW92ZWQuIil9LHdzLnByb3RvdHlwZS5zZXRUZXh0dXJlMkQ9ZnVuY3Rpb24oKXtjb25zb2xlLndhcm4oIlRIUkVFLldlYkdMUmVuZGVyZXI6IC5zZXRUZXh0dXJlMkQoKSBoYXMgYmVlbiByZW1vdmVkLiIpfSx3cy5wcm90b3R5cGUuc2V0VGV4dHVyZUN1YmU9ZnVuY3Rpb24oKXtjb25zb2xlLndhcm4oIlRIUkVFLldlYkdMUmVuZGVyZXI6IC5zZXRUZXh0dXJlQ3ViZSgpIGhhcyBiZWVuIHJlbW92ZWQuIil9LHdzLnByb3RvdHlwZS5nZXRBY3RpdmVNaXBNYXBMZXZlbD1mdW5jdGlvbigpe3JldHVybiBjb25zb2xlLndhcm4oIlRIUkVFLldlYkdMUmVuZGVyZXI6IC5nZXRBY3RpdmVNaXBNYXBMZXZlbCgpIGlzIG5vdyAuZ2V0QWN0aXZlTWlwbWFwTGV2ZWwoKS4iKSx0aGlzLmdldEFjdGl2ZU1pcG1hcExldmVsKCl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHdzLnByb3RvdHlwZSx7c2hhZG93TWFwRW5hYmxlZDp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2hhZG93TWFwLmVuYWJsZWR9LHNldDpmdW5jdGlvbih0KXtjb25zb2xlLndhcm4oIlRIUkVFLldlYkdMUmVuZGVyZXI6IC5zaGFkb3dNYXBFbmFibGVkIGlzIG5vdyAuc2hhZG93TWFwLmVuYWJsZWQuIiksdGhpcy5zaGFkb3dNYXAuZW5hYmxlZD10fX0sc2hhZG93TWFwVHlwZTp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2hhZG93TWFwLnR5cGV9LHNldDpmdW5jdGlvbih0KXtjb25zb2xlLndhcm4oIlRIUkVFLldlYkdMUmVuZGVyZXI6IC5zaGFkb3dNYXBUeXBlIGlzIG5vdyAuc2hhZG93TWFwLnR5cGUuIiksdGhpcy5zaGFkb3dNYXAudHlwZT10fX0sc2hhZG93TWFwQ3VsbEZhY2U6e2dldDpmdW5jdGlvbigpe2NvbnNvbGUud2FybigiVEhSRUUuV2ViR0xSZW5kZXJlcjogLnNoYWRvd01hcEN1bGxGYWNlIGhhcyBiZWVuIHJlbW92ZWQuIFNldCBNYXRlcmlhbC5zaGFkb3dTaWRlIGluc3RlYWQuIil9LHNldDpmdW5jdGlvbigpe2NvbnNvbGUud2FybigiVEhSRUUuV2ViR0xSZW5kZXJlcjogLnNoYWRvd01hcEN1bGxGYWNlIGhhcyBiZWVuIHJlbW92ZWQuIFNldCBNYXRlcmlhbC5zaGFkb3dTaWRlIGluc3RlYWQuIil9fSxjb250ZXh0OntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gY29uc29sZS53YXJuKCJUSFJFRS5XZWJHTFJlbmRlcmVyOiAuY29udGV4dCBoYXMgYmVlbiByZW1vdmVkLiBVc2UgLmdldENvbnRleHQoKSBpbnN0ZWFkLiIpLHRoaXMuZ2V0Q29udGV4dCgpfX0sdnI6e2dldDpmdW5jdGlvbigpe3JldHVybiBjb25zb2xlLndhcm4oIlRIUkVFLldlYkdMUmVuZGVyZXI6IC52ciBoYXMgYmVlbiByZW5hbWVkIHRvIC54ciIpLHRoaXMueHJ9fSxnYW1tYUlucHV0OntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gY29uc29sZS53YXJuKCJUSFJFRS5XZWJHTFJlbmRlcmVyOiAuZ2FtbWFJbnB1dCBoYXMgYmVlbiByZW1vdmVkLiBTZXQgdGhlIGVuY29kaW5nIGZvciB0ZXh0dXJlcyB2aWEgVGV4dHVyZS5lbmNvZGluZyBpbnN0ZWFkLiIpLCExfSxzZXQ6ZnVuY3Rpb24oKXtjb25zb2xlLndhcm4oIlRIUkVFLldlYkdMUmVuZGVyZXI6IC5nYW1tYUlucHV0IGhhcyBiZWVuIHJlbW92ZWQuIFNldCB0aGUgZW5jb2RpbmcgZm9yIHRleHR1cmVzIHZpYSBUZXh0dXJlLmVuY29kaW5nIGluc3RlYWQuIil9fSxnYW1tYU91dHB1dDp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGNvbnNvbGUud2FybigiVEhSRUUuV2ViR0xSZW5kZXJlcjogLmdhbW1hT3V0cHV0IGhhcyBiZWVuIHJlbW92ZWQuIFNldCBXZWJHTFJlbmRlcmVyLm91dHB1dEVuY29kaW5nIGluc3RlYWQuIiksITF9LHNldDpmdW5jdGlvbih0KXtjb25zb2xlLndhcm4oIlRIUkVFLldlYkdMUmVuZGVyZXI6IC5nYW1tYU91dHB1dCBoYXMgYmVlbiByZW1vdmVkLiBTZXQgV2ViR0xSZW5kZXJlci5vdXRwdXRFbmNvZGluZyBpbnN0ZWFkLiIpLHRoaXMub3V0cHV0RW5jb2Rpbmc9ITA9PT10P1k6WH19LHRvbmVNYXBwaW5nV2hpdGVQb2ludDp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGNvbnNvbGUud2FybigiVEhSRUUuV2ViR0xSZW5kZXJlcjogLnRvbmVNYXBwaW5nV2hpdGVQb2ludCBoYXMgYmVlbiByZW1vdmVkLiIpLDF9LHNldDpmdW5jdGlvbigpe2NvbnNvbGUud2FybigiVEhSRUUuV2ViR0xSZW5kZXJlcjogLnRvbmVNYXBwaW5nV2hpdGVQb2ludCBoYXMgYmVlbiByZW1vdmVkLiIpfX19KSxPYmplY3QuZGVmaW5lUHJvcGVydGllcyh1cy5wcm90b3R5cGUse2N1bGxGYWNlOntnZXQ6ZnVuY3Rpb24oKXtjb25zb2xlLndhcm4oIlRIUkVFLldlYkdMUmVuZGVyZXI6IC5zaGFkb3dNYXAuY3VsbEZhY2UgaGFzIGJlZW4gcmVtb3ZlZC4gU2V0IE1hdGVyaWFsLnNoYWRvd1NpZGUgaW5zdGVhZC4iKX0sc2V0OmZ1bmN0aW9uKCl7Y29uc29sZS53YXJuKCJUSFJFRS5XZWJHTFJlbmRlcmVyOiAuc2hhZG93TWFwLmN1bGxGYWNlIGhhcyBiZWVuIHJlbW92ZWQuIFNldCBNYXRlcmlhbC5zaGFkb3dTaWRlIGluc3RlYWQuIil9fSxyZW5kZXJSZXZlcnNlU2lkZWQ6e2dldDpmdW5jdGlvbigpe2NvbnNvbGUud2FybigiVEhSRUUuV2ViR0xSZW5kZXJlcjogLnNoYWRvd01hcC5yZW5kZXJSZXZlcnNlU2lkZWQgaGFzIGJlZW4gcmVtb3ZlZC4gU2V0IE1hdGVyaWFsLnNoYWRvd1NpZGUgaW5zdGVhZC4iKX0sc2V0OmZ1bmN0aW9uKCl7Y29uc29sZS53YXJuKCJUSFJFRS5XZWJHTFJlbmRlcmVyOiAuc2hhZG93TWFwLnJlbmRlclJldmVyc2VTaWRlZCBoYXMgYmVlbiByZW1vdmVkLiBTZXQgTWF0ZXJpYWwuc2hhZG93U2lkZSBpbnN0ZWFkLiIpfX0scmVuZGVyU2luZ2xlU2lkZWQ6e2dldDpmdW5jdGlvbigpe2NvbnNvbGUud2FybigiVEhSRUUuV2ViR0xSZW5kZXJlcjogLnNoYWRvd01hcC5yZW5kZXJTaW5nbGVTaWRlZCBoYXMgYmVlbiByZW1vdmVkLiBTZXQgTWF0ZXJpYWwuc2hhZG93U2lkZSBpbnN0ZWFkLiIpfSxzZXQ6ZnVuY3Rpb24oKXtjb25zb2xlLndhcm4oIlRIUkVFLldlYkdMUmVuZGVyZXI6IC5zaGFkb3dNYXAucmVuZGVyU2luZ2xlU2lkZWQgaGFzIGJlZW4gcmVtb3ZlZC4gU2V0IE1hdGVyaWFsLnNoYWRvd1NpZGUgaW5zdGVhZC4iKX19fSksT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoVHQucHJvdG90eXBlLHt3cmFwUzp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGNvbnNvbGUud2FybigiVEhSRUUuV2ViR0xSZW5kZXJUYXJnZXQ6IC53cmFwUyBpcyBub3cgLnRleHR1cmUud3JhcFMuIiksdGhpcy50ZXh0dXJlLndyYXBTfSxzZXQ6ZnVuY3Rpb24odCl7Y29uc29sZS53YXJuKCJUSFJFRS5XZWJHTFJlbmRlclRhcmdldDogLndyYXBTIGlzIG5vdyAudGV4dHVyZS53cmFwUy4iKSx0aGlzLnRleHR1cmUud3JhcFM9dH19LHdyYXBUOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gY29uc29sZS53YXJuKCJUSFJFRS5XZWJHTFJlbmRlclRhcmdldDogLndyYXBUIGlzIG5vdyAudGV4dHVyZS53cmFwVC4iKSx0aGlzLnRleHR1cmUud3JhcFR9LHNldDpmdW5jdGlvbih0KXtjb25zb2xlLndhcm4oIlRIUkVFLldlYkdMUmVuZGVyVGFyZ2V0OiAud3JhcFQgaXMgbm93IC50ZXh0dXJlLndyYXBULiIpLHRoaXMudGV4dHVyZS53cmFwVD10fX0sbWFnRmlsdGVyOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gY29uc29sZS53YXJuKCJUSFJFRS5XZWJHTFJlbmRlclRhcmdldDogLm1hZ0ZpbHRlciBpcyBub3cgLnRleHR1cmUubWFnRmlsdGVyLiIpLHRoaXMudGV4dHVyZS5tYWdGaWx0ZXJ9LHNldDpmdW5jdGlvbih0KXtjb25zb2xlLndhcm4oIlRIUkVFLldlYkdMUmVuZGVyVGFyZ2V0OiAubWFnRmlsdGVyIGlzIG5vdyAudGV4dHVyZS5tYWdGaWx0ZXIuIiksdGhpcy50ZXh0dXJlLm1hZ0ZpbHRlcj10fX0sbWluRmlsdGVyOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gY29uc29sZS53YXJuKCJUSFJFRS5XZWJHTFJlbmRlclRhcmdldDogLm1pbkZpbHRlciBpcyBub3cgLnRleHR1cmUubWluRmlsdGVyLiIpLHRoaXMudGV4dHVyZS5taW5GaWx0ZXJ9LHNldDpmdW5jdGlvbih0KXtjb25zb2xlLndhcm4oIlRIUkVFLldlYkdMUmVuZGVyVGFyZ2V0OiAubWluRmlsdGVyIGlzIG5vdyAudGV4dHVyZS5taW5GaWx0ZXIuIiksdGhpcy50ZXh0dXJlLm1pbkZpbHRlcj10fX0sYW5pc290cm9weTp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGNvbnNvbGUud2FybigiVEhSRUUuV2ViR0xSZW5kZXJUYXJnZXQ6IC5hbmlzb3Ryb3B5IGlzIG5vdyAudGV4dHVyZS5hbmlzb3Ryb3B5LiIpLHRoaXMudGV4dHVyZS5hbmlzb3Ryb3B5fSxzZXQ6ZnVuY3Rpb24odCl7Y29uc29sZS53YXJuKCJUSFJFRS5XZWJHTFJlbmRlclRhcmdldDogLmFuaXNvdHJvcHkgaXMgbm93IC50ZXh0dXJlLmFuaXNvdHJvcHkuIiksdGhpcy50ZXh0dXJlLmFuaXNvdHJvcHk9dH19LG9mZnNldDp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGNvbnNvbGUud2FybigiVEhSRUUuV2ViR0xSZW5kZXJUYXJnZXQ6IC5vZmZzZXQgaXMgbm93IC50ZXh0dXJlLm9mZnNldC4iKSx0aGlzLnRleHR1cmUub2Zmc2V0fSxzZXQ6ZnVuY3Rpb24odCl7Y29uc29sZS53YXJuKCJUSFJFRS5XZWJHTFJlbmRlclRhcmdldDogLm9mZnNldCBpcyBub3cgLnRleHR1cmUub2Zmc2V0LiIpLHRoaXMudGV4dHVyZS5vZmZzZXQ9dH19LHJlcGVhdDp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGNvbnNvbGUud2FybigiVEhSRUUuV2ViR0xSZW5kZXJUYXJnZXQ6IC5yZXBlYXQgaXMgbm93IC50ZXh0dXJlLnJlcGVhdC4iKSx0aGlzLnRleHR1cmUucmVwZWF0fSxzZXQ6ZnVuY3Rpb24odCl7Y29uc29sZS53YXJuKCJUSFJFRS5XZWJHTFJlbmRlclRhcmdldDogLnJlcGVhdCBpcyBub3cgLnRleHR1cmUucmVwZWF0LiIpLHRoaXMudGV4dHVyZS5yZXBlYXQ9dH19LGZvcm1hdDp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGNvbnNvbGUud2FybigiVEhSRUUuV2ViR0xSZW5kZXJUYXJnZXQ6IC5mb3JtYXQgaXMgbm93IC50ZXh0dXJlLmZvcm1hdC4iKSx0aGlzLnRleHR1cmUuZm9ybWF0fSxzZXQ6ZnVuY3Rpb24odCl7Y29uc29sZS53YXJuKCJUSFJFRS5XZWJHTFJlbmRlclRhcmdldDogLmZvcm1hdCBpcyBub3cgLnRleHR1cmUuZm9ybWF0LiIpLHRoaXMudGV4dHVyZS5mb3JtYXQ9dH19LHR5cGU6e2dldDpmdW5jdGlvbigpe3JldHVybiBjb25zb2xlLndhcm4oIlRIUkVFLldlYkdMUmVuZGVyVGFyZ2V0OiAudHlwZSBpcyBub3cgLnRleHR1cmUudHlwZS4iKSx0aGlzLnRleHR1cmUudHlwZX0sc2V0OmZ1bmN0aW9uKHQpe2NvbnNvbGUud2FybigiVEhSRUUuV2ViR0xSZW5kZXJUYXJnZXQ6IC50eXBlIGlzIG5vdyAudGV4dHVyZS50eXBlLiIpLHRoaXMudGV4dHVyZS50eXBlPXR9fSxnZW5lcmF0ZU1pcG1hcHM6e2dldDpmdW5jdGlvbigpe3JldHVybiBjb25zb2xlLndhcm4oIlRIUkVFLldlYkdMUmVuZGVyVGFyZ2V0OiAuZ2VuZXJhdGVNaXBtYXBzIGlzIG5vdyAudGV4dHVyZS5nZW5lcmF0ZU1pcG1hcHMuIiksdGhpcy50ZXh0dXJlLmdlbmVyYXRlTWlwbWFwc30sc2V0OmZ1bmN0aW9uKHQpe2NvbnNvbGUud2FybigiVEhSRUUuV2ViR0xSZW5kZXJUYXJnZXQ6IC5nZW5lcmF0ZU1pcG1hcHMgaXMgbm93IC50ZXh0dXJlLmdlbmVyYXRlTWlwbWFwcy4iKSx0aGlzLnRleHR1cmUuZ2VuZXJhdGVNaXBtYXBzPXR9fX0pLExjLnByb3RvdHlwZS5sb2FkPWZ1bmN0aW9uKHQpe2NvbnNvbGUud2FybigiVEhSRUUuQXVkaW86IC5sb2FkIGhhcyBiZWVuIGRlcHJlY2F0ZWQuIFVzZSBUSFJFRS5BdWRpb0xvYWRlciBpbnN0ZWFkLiIpO2NvbnN0IGU9dGhpcztyZXR1cm4obmV3IHZjKS5sb2FkKHQsKGZ1bmN0aW9uKHQpe2Uuc2V0QnVmZmVyKHQpfSkpLHRoaXN9LEljLnByb3RvdHlwZS5nZXREYXRhPWZ1bmN0aW9uKCl7cmV0dXJuIGNvbnNvbGUud2FybigiVEhSRUUuQXVkaW9BbmFseXNlcjogLmdldERhdGEoKSBpcyBub3cgLmdldEZyZXF1ZW5jeURhdGEoKS4iKSx0aGlzLmdldEZyZXF1ZW5jeURhdGEoKX0sdGkucHJvdG90eXBlLnVwZGF0ZUN1YmVNYXA9ZnVuY3Rpb24odCxlKXtyZXR1cm4gY29uc29sZS53YXJuKCJUSFJFRS5DdWJlQ2FtZXJhOiAudXBkYXRlQ3ViZU1hcCgpIGlzIG5vdyAudXBkYXRlKCkuIiksdGhpcy51cGRhdGUodCxlKX0sdGkucHJvdG90eXBlLmNsZWFyPWZ1bmN0aW9uKHQsZSxuLGkpe3JldHVybiBjb25zb2xlLndhcm4oIlRIUkVFLkN1YmVDYW1lcmE6IC5jbGVhcigpIGlzIG5vdyAucmVuZGVyVGFyZ2V0LmNsZWFyKCkuIiksdGhpcy5yZW5kZXJUYXJnZXQuY2xlYXIodCxlLG4saSl9LF90LmNyb3NzT3JpZ2luPXZvaWQgMCxfdC5sb2FkVGV4dHVyZT1mdW5jdGlvbih0LGUsbixpKXtjb25zb2xlLndhcm4oIlRIUkVFLkltYWdlVXRpbHMubG9hZFRleHR1cmUgaGFzIGJlZW4gZGVwcmVjYXRlZC4gVXNlIFRIUkVFLlRleHR1cmVMb2FkZXIoKSBpbnN0ZWFkLiIpO2NvbnN0IHI9bmV3IHBsO3Iuc2V0Q3Jvc3NPcmlnaW4odGhpcy5jcm9zc09yaWdpbik7Y29uc3Qgcz1yLmxvYWQodCxuLHZvaWQgMCxpKTtyZXR1cm4gZSYmKHMubWFwcGluZz1lKSxzfSxfdC5sb2FkVGV4dHVyZUN1YmU9ZnVuY3Rpb24odCxlLG4saSl7Y29uc29sZS53YXJuKCJUSFJFRS5JbWFnZVV0aWxzLmxvYWRUZXh0dXJlQ3ViZSBoYXMgYmVlbiBkZXByZWNhdGVkLiBVc2UgVEhSRUUuQ3ViZVRleHR1cmVMb2FkZXIoKSBpbnN0ZWFkLiIpO2NvbnN0IHI9bmV3IHVsO3Iuc2V0Q3Jvc3NPcmlnaW4odGhpcy5jcm9zc09yaWdpbik7Y29uc3Qgcz1yLmxvYWQodCxuLHZvaWQgMCxpKTtyZXR1cm4gZSYmKHMubWFwcGluZz1lKSxzfSxfdC5sb2FkQ29tcHJlc3NlZFRleHR1cmU9ZnVuY3Rpb24oKXtjb25zb2xlLmVycm9yKCJUSFJFRS5JbWFnZVV0aWxzLmxvYWRDb21wcmVzc2VkVGV4dHVyZSBoYXMgYmVlbiByZW1vdmVkLiBVc2UgVEhSRUUuRERTTG9hZGVyIGluc3RlYWQuIil9LF90LmxvYWRDb21wcmVzc2VkVGV4dHVyZUN1YmU9ZnVuY3Rpb24oKXtjb25zb2xlLmVycm9yKCJUSFJFRS5JbWFnZVV0aWxzLmxvYWRDb21wcmVzc2VkVGV4dHVyZUN1YmUgaGFzIGJlZW4gcmVtb3ZlZC4gVXNlIFRIUkVFLkREU0xvYWRlciBpbnN0ZWFkLiIpfTtjb25zdCBldT17Y3JlYXRlTXVsdGlNYXRlcmlhbE9iamVjdDpmdW5jdGlvbigpe2NvbnNvbGUuZXJyb3IoIlRIUkVFLlNjZW5lVXRpbHMgaGFzIGJlZW4gbW92ZWQgdG8gL2V4YW1wbGVzL2pzbS91dGlscy9TY2VuZVV0aWxzLmpzIil9LGRldGFjaDpmdW5jdGlvbigpe2NvbnNvbGUuZXJyb3IoIlRIUkVFLlNjZW5lVXRpbHMgaGFzIGJlZW4gbW92ZWQgdG8gL2V4YW1wbGVzL2pzbS91dGlscy9TY2VuZVV0aWxzLmpzIil9LGF0dGFjaDpmdW5jdGlvbigpe2NvbnNvbGUuZXJyb3IoIlRIUkVFLlNjZW5lVXRpbHMgaGFzIGJlZW4gbW92ZWQgdG8gL2V4YW1wbGVzL2pzbS91dGlscy9TY2VuZVV0aWxzLmpzIil9fTsidW5kZWZpbmVkIiE9dHlwZW9mIF9fVEhSRUVfREVWVE9PTFNfXyYmX19USFJFRV9ERVZUT09MU19fLmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KCJyZWdpc3RlciIse2RldGFpbDp7cmV2aXNpb246ZX19KSksInVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3cmJih3aW5kb3cuX19USFJFRV9fP2NvbnNvbGUud2FybigiV0FSTklORzogTXVsdGlwbGUgaW5zdGFuY2VzIG9mIFRocmVlLmpzIGJlaW5nIGltcG9ydGVkLiIpOndpbmRvdy5fX1RIUkVFX189ZSksdC5BQ0VTRmlsbWljVG9uZU1hcHBpbmc9NCx0LkFkZEVxdWF0aW9uPW4sdC5BZGRPcGVyYXRpb249Mix0LkFkZGl0aXZlQW5pbWF0aW9uQmxlbmRNb2RlPXEsdC5BZGRpdGl2ZUJsZW5kaW5nPTIsdC5BbHBoYUZvcm1hdD0xMDIxLHQuQWx3YXlzRGVwdGg9MSx0LkFsd2F5c1N0ZW5jaWxGdW5jPTUxOSx0LkFtYmllbnRMaWdodD0kbCx0LkFtYmllbnRMaWdodFByb2JlPXhjLHQuQW5pbWF0aW9uQ2xpcD1ubCx0LkFuaW1hdGlvbkxvYWRlcj1jbGFzcyBleHRlbmRzIG9se2NvbnN0cnVjdG9yKHQpe3N1cGVyKHQpfWxvYWQodCxlLG4saSl7Y29uc3Qgcj10aGlzLHM9bmV3IGNsKHRoaXMubWFuYWdlcik7cy5zZXRQYXRoKHRoaXMucGF0aCkscy5zZXRSZXF1ZXN0SGVhZGVyKHRoaXMucmVxdWVzdEhlYWRlcikscy5zZXRXaXRoQ3JlZGVudGlhbHModGhpcy53aXRoQ3JlZGVudGlhbHMpLHMubG9hZCh0LChmdW5jdGlvbihuKXt0cnl7ZShyLnBhcnNlKEpTT04ucGFyc2UobikpKX1jYXRjaChlKXtpP2koZSk6Y29uc29sZS5lcnJvcihlKSxyLm1hbmFnZXIuaXRlbUVycm9yKHQpfX0pLG4saSl9cGFyc2UodCl7Y29uc3QgZT1bXTtmb3IobGV0IG49MDtuPHQubGVuZ3RoO24rKyl7Y29uc3QgaT1ubC5wYXJzZSh0W25dKTtlLnB1c2goaSl9cmV0dXJuIGV9fSx0LkFuaW1hdGlvbk1peGVyPVljLHQuQW5pbWF0aW9uT2JqZWN0R3JvdXA9cWMsdC5BbmltYXRpb25VdGlscz1Wbyx0LkFyY0N1cnZlPWdsLHQuQXJyYXlDYW1lcmE9ZnMsdC5BcnJvd0hlbHBlcj1jbGFzcyBleHRlbmRzIENle2NvbnN0cnVjdG9yKHQ9bmV3IEx0KDAsMCwxKSxlPW5ldyBMdCgwLDAsMCksbj0xLGk9MTY3NzY5NjAscj0uMipuLHM9LjIqcil7c3VwZXIoKSx0aGlzLnR5cGU9IkFycm93SGVscGVyIix2b2lkIDA9PT1UaCYmKFRoPW5ldyBFbixUaC5zZXRBdHRyaWJ1dGUoInBvc2l0aW9uIixuZXcgbW4oWzAsMCwwLDAsMSwwXSwzKSksRWg9bmV3IERhKDAsLjUsMSw1LDEpLEVoLnRyYW5zbGF0ZSgwLC0uNSwwKSksdGhpcy5wb3NpdGlvbi5jb3B5KGUpLHRoaXMubGluZT1uZXcgZmEoVGgsbmV3IGNhKHtjb2xvcjppLHRvbmVNYXBwZWQ6ITF9KSksdGhpcy5saW5lLm1hdHJpeEF1dG9VcGRhdGU9ITEsdGhpcy5hZGQodGhpcy5saW5lKSx0aGlzLmNvbmU9bmV3IFduKEVoLG5ldyBlbih7Y29sb3I6aSx0b25lTWFwcGVkOiExfSkpLHRoaXMuY29uZS5tYXRyaXhBdXRvVXBkYXRlPSExLHRoaXMuYWRkKHRoaXMuY29uZSksdGhpcy5zZXREaXJlY3Rpb24odCksdGhpcy5zZXRMZW5ndGgobixyLHMpfXNldERpcmVjdGlvbih0KXtpZih0Lnk+Ljk5OTk5KXRoaXMucXVhdGVybmlvbi5zZXQoMCwwLDAsMSk7ZWxzZSBpZih0Lnk8LS45OTk5OSl0aGlzLnF1YXRlcm5pb24uc2V0KDEsMCwwLDApO2Vsc2V7U2guc2V0KHQueiwwLC10LngpLm5vcm1hbGl6ZSgpO2NvbnN0IGU9TWF0aC5hY29zKHQueSk7dGhpcy5xdWF0ZXJuaW9uLnNldEZyb21BeGlzQW5nbGUoU2gsZSl9fXNldExlbmd0aCh0LGU9LjIqdCxuPS4yKmUpe3RoaXMubGluZS5zY2FsZS5zZXQoMSxNYXRoLm1heCgxZS00LHQtZSksMSksdGhpcy5saW5lLnVwZGF0ZU1hdHJpeCgpLHRoaXMuY29uZS5zY2FsZS5zZXQobixlLG4pLHRoaXMuY29uZS5wb3NpdGlvbi55PXQsdGhpcy5jb25lLnVwZGF0ZU1hdHJpeCgpfXNldENvbG9yKHQpe3RoaXMubGluZS5tYXRlcmlhbC5jb2xvci5zZXQodCksdGhpcy5jb25lLm1hdGVyaWFsLmNvbG9yLnNldCh0KX1jb3B5KHQpe3JldHVybiBzdXBlci5jb3B5KHQsITEpLHRoaXMubGluZS5jb3B5KHQubGluZSksdGhpcy5jb25lLmNvcHkodC5jb25lKSx0aGlzfX0sdC5BdWRpbz1MYyx0LkF1ZGlvQW5hbHlzZXI9SWMsdC5BdWRpb0NvbnRleHQ9Z2MsdC5BdWRpb0xpc3RlbmVyPWNsYXNzIGV4dGVuZHMgQ2V7Y29uc3RydWN0b3IoKXtzdXBlcigpLHRoaXMudHlwZT0iQXVkaW9MaXN0ZW5lciIsdGhpcy5jb250ZXh0PWdjLmdldENvbnRleHQoKSx0aGlzLmdhaW49dGhpcy5jb250ZXh0LmNyZWF0ZUdhaW4oKSx0aGlzLmdhaW4uY29ubmVjdCh0aGlzLmNvbnRleHQuZGVzdGluYXRpb24pLHRoaXMuZmlsdGVyPW51bGwsdGhpcy50aW1lRGVsdGE9MCx0aGlzLl9jbG9jaz1uZXcgYmN9Z2V0SW5wdXQoKXtyZXR1cm4gdGhpcy5nYWlufXJlbW92ZUZpbHRlcigpe3JldHVybiBudWxsIT09dGhpcy5maWx0ZXImJih0aGlzLmdhaW4uZGlzY29ubmVjdCh0aGlzLmZpbHRlciksdGhpcy5maWx0ZXIuZGlzY29ubmVjdCh0aGlzLmNvbnRleHQuZGVzdGluYXRpb24pLHRoaXMuZ2Fpbi5jb25uZWN0KHRoaXMuY29udGV4dC5kZXN0aW5hdGlvbiksdGhpcy5maWx0ZXI9bnVsbCksdGhpc31nZXRGaWx0ZXIoKXtyZXR1cm4gdGhpcy5maWx0ZXJ9c2V0RmlsdGVyKHQpe3JldHVybiBudWxsIT09dGhpcy5maWx0ZXI/KHRoaXMuZ2Fpbi5kaXNjb25uZWN0KHRoaXMuZmlsdGVyKSx0aGlzLmZpbHRlci5kaXNjb25uZWN0KHRoaXMuY29udGV4dC5kZXN0aW5hdGlvbikpOnRoaXMuZ2Fpbi5kaXNjb25uZWN0KHRoaXMuY29udGV4dC5kZXN0aW5hdGlvbiksdGhpcy5maWx0ZXI9dCx0aGlzLmdhaW4uY29ubmVjdCh0aGlzLmZpbHRlciksdGhpcy5maWx0ZXIuY29ubmVjdCh0aGlzLmNvbnRleHQuZGVzdGluYXRpb24pLHRoaXN9Z2V0TWFzdGVyVm9sdW1lKCl7cmV0dXJuIHRoaXMuZ2Fpbi5nYWluLnZhbHVlfXNldE1hc3RlclZvbHVtZSh0KXtyZXR1cm4gdGhpcy5nYWluLmdhaW4uc2V0VGFyZ2V0QXRUaW1lKHQsdGhpcy5jb250ZXh0LmN1cnJlbnRUaW1lLC4wMSksdGhpc311cGRhdGVNYXRyaXhXb3JsZCh0KXtzdXBlci51cGRhdGVNYXRyaXhXb3JsZCh0KTtjb25zdCBlPXRoaXMuY29udGV4dC5saXN0ZW5lcixuPXRoaXMudXA7aWYodGhpcy50aW1lRGVsdGE9dGhpcy5fY2xvY2suZ2V0RGVsdGEoKSx0aGlzLm1hdHJpeFdvcmxkLmRlY29tcG9zZShTYyxUYyxFYyksQWMuc2V0KDAsMCwtMSkuYXBwbHlRdWF0ZXJuaW9uKFRjKSxlLnBvc2l0aW9uWCl7Y29uc3QgdD10aGlzLmNvbnRleHQuY3VycmVudFRpbWUrdGhpcy50aW1lRGVsdGE7ZS5wb3NpdGlvblgubGluZWFyUmFtcFRvVmFsdWVBdFRpbWUoU2MueCx0KSxlLnBvc2l0aW9uWS5saW5lYXJSYW1wVG9WYWx1ZUF0VGltZShTYy55LHQpLGUucG9zaXRpb25aLmxpbmVhclJhbXBUb1ZhbHVlQXRUaW1lKFNjLnosdCksZS5mb3J3YXJkWC5saW5lYXJSYW1wVG9WYWx1ZUF0VGltZShBYy54LHQpLGUuZm9yd2FyZFkubGluZWFyUmFtcFRvVmFsdWVBdFRpbWUoQWMueSx0KSxlLmZvcndhcmRaLmxpbmVhclJhbXBUb1ZhbHVlQXRUaW1lKEFjLnosdCksZS51cFgubGluZWFyUmFtcFRvVmFsdWVBdFRpbWUobi54LHQpLGUudXBZLmxpbmVhclJhbXBUb1ZhbHVlQXRUaW1lKG4ueSx0KSxlLnVwWi5saW5lYXJSYW1wVG9WYWx1ZUF0VGltZShuLnosdCl9ZWxzZSBlLnNldFBvc2l0aW9uKFNjLngsU2MueSxTYy56KSxlLnNldE9yaWVudGF0aW9uKEFjLngsQWMueSxBYy56LG4ueCxuLnksbi56KX19LHQuQXVkaW9Mb2FkZXI9dmMsdC5BeGVzSGVscGVyPUFoLHQuQXhpc0hlbHBlcj1mdW5jdGlvbih0KXtyZXR1cm4gY29uc29sZS53YXJuKCJUSFJFRS5BeGlzSGVscGVyIGhhcyBiZWVuIHJlbmFtZWQgdG8gVEhSRUUuQXhlc0hlbHBlci4iKSxuZXcgQWgodCl9LHQuQmFja1NpZGU9MSx0LkJhc2ljRGVwdGhQYWNraW5nPTMyMDAsdC5CYXNpY1NoYWRvd01hcD0wLHQuQmluYXJ5VGV4dHVyZUxvYWRlcj1mdW5jdGlvbih0KXtyZXR1cm4gY29uc29sZS53YXJuKCJUSFJFRS5CaW5hcnlUZXh0dXJlTG9hZGVyIGhhcyBiZWVuIHJlbmFtZWQgdG8gVEhSRUUuRGF0YVRleHR1cmVMb2FkZXIuIiksbmV3IGRsKHQpfSx0LkJvbmU9dGEsdC5Cb29sZWFuS2V5ZnJhbWVUcmFjaz1abyx0LkJvdW5kaW5nQm94SGVscGVyPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGNvbnNvbGUud2FybigiVEhSRUUuQm91bmRpbmdCb3hIZWxwZXIgaGFzIGJlZW4gZGVwcmVjYXRlZC4gQ3JlYXRpbmcgYSBUSFJFRS5Cb3hIZWxwZXIgaW5zdGVhZC4iKSxuZXcgTWgodCxlKX0sdC5Cb3gyPWVoLHQuQm94Mz1QdCx0LkJveDNIZWxwZXI9Y2xhc3MgZXh0ZW5kcyB5YXtjb25zdHJ1Y3Rvcih0LGU9MTY3NzY5NjApe2NvbnN0IG49bmV3IFVpbnQxNkFycmF5KFswLDEsMSwyLDIsMywzLDAsNCw1LDUsNiw2LDcsNyw0LDAsNCwxLDUsMiw2LDMsN10pLGk9bmV3IEVuO2kuc2V0SW5kZXgobmV3IHNuKG4sMSkpLGkuc2V0QXR0cmlidXRlKCJwb3NpdGlvbiIsbmV3IG1uKFsxLDEsMSwtMSwxLDEsLTEsLTEsMSwxLC0xLDEsMSwxLC0xLC0xLDEsLTEsLTEsLTEsLTEsMSwtMSwtMV0sMykpLHN1cGVyKGksbmV3IGNhKHtjb2xvcjplLHRvbmVNYXBwZWQ6ITF9KSksdGhpcy5ib3g9dCx0aGlzLnR5cGU9IkJveDNIZWxwZXIiLHRoaXMuZ2VvbWV0cnkuY29tcHV0ZUJvdW5kaW5nU3BoZXJlKCl9dXBkYXRlTWF0cml4V29ybGQodCl7Y29uc3QgZT10aGlzLmJveDtlLmlzRW1wdHkoKXx8KGUuZ2V0Q2VudGVyKHRoaXMucG9zaXRpb24pLGUuZ2V0U2l6ZSh0aGlzLnNjYWxlKSx0aGlzLnNjYWxlLm11bHRpcGx5U2NhbGFyKC41KSxzdXBlci51cGRhdGVNYXRyaXhXb3JsZCh0KSl9fSx0LkJveEJ1ZmZlckdlb21ldHJ5PXFuLHQuQm94R2VvbWV0cnk9cW4sdC5Cb3hIZWxwZXI9TWgsdC5CdWZmZXJBdHRyaWJ1dGU9c24sdC5CdWZmZXJHZW9tZXRyeT1Fbix0LkJ1ZmZlckdlb21ldHJ5TG9hZGVyPW9jLHQuQnl0ZVR5cGU9MTAxMCx0LkNhY2hlPXJsLHQuQ2FtZXJhPVFuLHQuQ2FtZXJhSGVscGVyPWNsYXNzIGV4dGVuZHMgeWF7Y29uc3RydWN0b3IodCl7Y29uc3QgZT1uZXcgRW4sbj1uZXcgY2Eoe2NvbG9yOjE2Nzc3MjE1LHZlcnRleENvbG9yczohMCx0b25lTWFwcGVkOiExfSksaT1bXSxyPVtdLHM9e30sYT1uZXcgdG4oMTY3NTUyMDApLG89bmV3IHRuKDE2NzExNjgwKSxsPW5ldyB0big0Mzc3NSksYz1uZXcgdG4oMTY3NzcyMTUpLGg9bmV3IHRuKDMzNTU0NDMpO2Z1bmN0aW9uIHUodCxlLG4pe2QodCxuKSxkKGUsbil9ZnVuY3Rpb24gZCh0LGUpe2kucHVzaCgwLDAsMCksci5wdXNoKGUucixlLmcsZS5iKSx2b2lkIDA9PT1zW3RdJiYoc1t0XT1bXSksc1t0XS5wdXNoKGkubGVuZ3RoLzMtMSl9dSgibjEiLCJuMiIsYSksdSgibjIiLCJuNCIsYSksdSgibjQiLCJuMyIsYSksdSgibjMiLCJuMSIsYSksdSgiZjEiLCJmMiIsYSksdSgiZjIiLCJmNCIsYSksdSgiZjQiLCJmMyIsYSksdSgiZjMiLCJmMSIsYSksdSgibjEiLCJmMSIsYSksdSgibjIiLCJmMiIsYSksdSgibjMiLCJmMyIsYSksdSgibjQiLCJmNCIsYSksdSgicCIsIm4xIixvKSx1KCJwIiwibjIiLG8pLHUoInAiLCJuMyIsbyksdSgicCIsIm40IixvKSx1KCJ1MSIsInUyIixsKSx1KCJ1MiIsInUzIixsKSx1KCJ1MyIsInUxIixsKSx1KCJjIiwidCIsYyksdSgicCIsImMiLGgpLHUoImNuMSIsImNuMiIsaCksdSgiY24zIiwiY240IixoKSx1KCJjZjEiLCJjZjIiLGgpLHUoImNmMyIsImNmNCIsaCksZS5zZXRBdHRyaWJ1dGUoInBvc2l0aW9uIixuZXcgbW4oaSwzKSksZS5zZXRBdHRyaWJ1dGUoImNvbG9yIixuZXcgbW4ociwzKSksc3VwZXIoZSxuKSx0aGlzLnR5cGU9IkNhbWVyYUhlbHBlciIsdGhpcy5jYW1lcmE9dCx0aGlzLmNhbWVyYS51cGRhdGVQcm9qZWN0aW9uTWF0cml4JiZ0aGlzLmNhbWVyYS51cGRhdGVQcm9qZWN0aW9uTWF0cml4KCksdGhpcy5tYXRyaXg9dC5tYXRyaXhXb3JsZCx0aGlzLm1hdHJpeEF1dG9VcGRhdGU9ITEsdGhpcy5wb2ludE1hcD1zLHRoaXMudXBkYXRlKCl9dXBkYXRlKCl7Y29uc3QgdD10aGlzLmdlb21ldHJ5LGU9dGhpcy5wb2ludE1hcDtfaC5wcm9qZWN0aW9uTWF0cml4SW52ZXJzZS5jb3B5KHRoaXMuY2FtZXJhLnByb2plY3Rpb25NYXRyaXhJbnZlcnNlKSx3aCgiYyIsZSx0LF9oLDAsMCwtMSksd2goInQiLGUsdCxfaCwwLDAsMSksd2goIm4xIixlLHQsX2gsLTEsLTEsLTEpLHdoKCJuMiIsZSx0LF9oLDEsLTEsLTEpLHdoKCJuMyIsZSx0LF9oLC0xLDEsLTEpLHdoKCJuNCIsZSx0LF9oLDEsMSwtMSksd2goImYxIixlLHQsX2gsLTEsLTEsMSksd2goImYyIixlLHQsX2gsMSwtMSwxKSx3aCgiZjMiLGUsdCxfaCwtMSwxLDEpLHdoKCJmNCIsZSx0LF9oLDEsMSwxKSx3aCgidTEiLGUsdCxfaCwuNywxLjEsLTEpLHdoKCJ1MiIsZSx0LF9oLC0uNywxLjEsLTEpLHdoKCJ1MyIsZSx0LF9oLDAsMiwtMSksd2goImNmMSIsZSx0LF9oLC0xLDAsMSksd2goImNmMiIsZSx0LF9oLDEsMCwxKSx3aCgiY2YzIixlLHQsX2gsMCwtMSwxKSx3aCgiY2Y0IixlLHQsX2gsMCwxLDEpLHdoKCJjbjEiLGUsdCxfaCwtMSwwLC0xKSx3aCgiY24yIixlLHQsX2gsMSwwLC0xKSx3aCgiY24zIixlLHQsX2gsMCwtMSwtMSksd2goImNuNCIsZSx0LF9oLDAsMSwtMSksdC5nZXRBdHRyaWJ1dGUoInBvc2l0aW9uIikubmVlZHNVcGRhdGU9ITB9ZGlzcG9zZSgpe3RoaXMuZ2VvbWV0cnkuZGlzcG9zZSgpLHRoaXMubWF0ZXJpYWwuZGlzcG9zZSgpfX0sdC5DYW52YXNSZW5kZXJlcj1mdW5jdGlvbigpe2NvbnNvbGUuZXJyb3IoIlRIUkVFLkNhbnZhc1JlbmRlcmVyIGhhcyBiZWVuIHJlbW92ZWQiKX0sdC5DYW52YXNUZXh0dXJlPVJhLHQuQ2F0bXVsbFJvbUN1cnZlMz1ibCx0LkNpbmVvblRvbmVNYXBwaW5nPTMsdC5DaXJjbGVCdWZmZXJHZW9tZXRyeT1QYSx0LkNpcmNsZUdlb21ldHJ5PVBhLHQuQ2xhbXBUb0VkZ2VXcmFwcGluZz11LHQuQ2xvY2s9YmMsdC5Db2xvcj10bix0LkNvbG9yS2V5ZnJhbWVUcmFjaz1Kbyx0LkNvbXByZXNzZWRUZXh0dXJlPUxhLHQuQ29tcHJlc3NlZFRleHR1cmVMb2FkZXI9Y2xhc3MgZXh0ZW5kcyBvbHtjb25zdHJ1Y3Rvcih0KXtzdXBlcih0KX1sb2FkKHQsZSxuLGkpe2NvbnN0IHI9dGhpcyxzPVtdLGE9bmV3IExhLG89bmV3IGNsKHRoaXMubWFuYWdlcik7by5zZXRQYXRoKHRoaXMucGF0aCksby5zZXRSZXNwb25zZVR5cGUoImFycmF5YnVmZmVyIiksby5zZXRSZXF1ZXN0SGVhZGVyKHRoaXMucmVxdWVzdEhlYWRlciksby5zZXRXaXRoQ3JlZGVudGlhbHMoci53aXRoQ3JlZGVudGlhbHMpO2xldCBsPTA7ZnVuY3Rpb24gYyhjKXtvLmxvYWQodFtjXSwoZnVuY3Rpb24odCl7Y29uc3Qgbj1yLnBhcnNlKHQsITApO3NbY109e3dpZHRoOm4ud2lkdGgsaGVpZ2h0Om4uaGVpZ2h0LGZvcm1hdDpuLmZvcm1hdCxtaXBtYXBzOm4ubWlwbWFwc30sbCs9MSw2PT09bCYmKDE9PT1uLm1pcG1hcENvdW50JiYoYS5taW5GaWx0ZXI9ZyksYS5pbWFnZT1zLGEuZm9ybWF0PW4uZm9ybWF0LGEubmVlZHNVcGRhdGU9ITAsZSYmZShhKSl9KSxuLGkpfWlmKEFycmF5LmlzQXJyYXkodCkpZm9yKGxldCBlPTAsbj10Lmxlbmd0aDtlPG47KytlKWMoZSk7ZWxzZSBvLmxvYWQodCwoZnVuY3Rpb24odCl7Y29uc3Qgbj1yLnBhcnNlKHQsITApO2lmKG4uaXNDdWJlbWFwKXtjb25zdCB0PW4ubWlwbWFwcy5sZW5ndGgvbi5taXBtYXBDb3VudDtmb3IobGV0IGU9MDtlPHQ7ZSsrKXtzW2VdPXttaXBtYXBzOltdfTtmb3IobGV0IHQ9MDt0PG4ubWlwbWFwQ291bnQ7dCsrKXNbZV0ubWlwbWFwcy5wdXNoKG4ubWlwbWFwc1tlKm4ubWlwbWFwQ291bnQrdF0pLHNbZV0uZm9ybWF0PW4uZm9ybWF0LHNbZV0ud2lkdGg9bi53aWR0aCxzW2VdLmhlaWdodD1uLmhlaWdodH1hLmltYWdlPXN9ZWxzZSBhLmltYWdlLndpZHRoPW4ud2lkdGgsYS5pbWFnZS5oZWlnaHQ9bi5oZWlnaHQsYS5taXBtYXBzPW4ubWlwbWFwczsxPT09bi5taXBtYXBDb3VudCYmKGEubWluRmlsdGVyPWcpLGEuZm9ybWF0PW4uZm9ybWF0LGEubmVlZHNVcGRhdGU9ITAsZSYmZShhKX0pLG4saSk7cmV0dXJuIGF9fSx0LkNvbmVCdWZmZXJHZW9tZXRyeT1JYSx0LkNvbmVHZW9tZXRyeT1JYSx0LkN1YmVDYW1lcmE9dGksdC5DdWJlUmVmbGVjdGlvbk1hcHBpbmc9cix0LkN1YmVSZWZyYWN0aW9uTWFwcGluZz1zLHQuQ3ViZVRleHR1cmU9ZWksdC5DdWJlVGV4dHVyZUxvYWRlcj11bCx0LkN1YmVVVlJlZmxlY3Rpb25NYXBwaW5nPWwsdC5DdWJlVVZSZWZyYWN0aW9uTWFwcGluZz1jLHQuQ3ViaWNCZXppZXJDdXJ2ZT1FbCx0LkN1YmljQmV6aWVyQ3VydmUzPUFsLHQuQ3ViaWNJbnRlcnBvbGFudD1qbyx0LkN1bGxGYWNlQmFjaz0xLHQuQ3VsbEZhY2VGcm9udD0yLHQuQ3VsbEZhY2VGcm9udEJhY2s9Myx0LkN1bGxGYWNlTm9uZT0wLHQuQ3VydmU9bWwsdC5DdXJ2ZVBhdGg9TmwsdC5DdXN0b21CbGVuZGluZz01LHQuQ3VzdG9tVG9uZU1hcHBpbmc9NSx0LkN5bGluZGVyQnVmZmVyR2VvbWV0cnk9RGEsdC5DeWxpbmRlckdlb21ldHJ5PURhLHQuQ3lsaW5kcmljYWw9Y2xhc3N7Y29uc3RydWN0b3IodD0xLGU9MCxuPTApe3JldHVybiB0aGlzLnJhZGl1cz10LHRoaXMudGhldGE9ZSx0aGlzLnk9bix0aGlzfXNldCh0LGUsbil7cmV0dXJuIHRoaXMucmFkaXVzPXQsdGhpcy50aGV0YT1lLHRoaXMueT1uLHRoaXN9Y29weSh0KXtyZXR1cm4gdGhpcy5yYWRpdXM9dC5yYWRpdXMsdGhpcy50aGV0YT10LnRoZXRhLHRoaXMueT10LnksdGhpc31zZXRGcm9tVmVjdG9yMyh0KXtyZXR1cm4gdGhpcy5zZXRGcm9tQ2FydGVzaWFuQ29vcmRzKHQueCx0LnksdC56KX1zZXRGcm9tQ2FydGVzaWFuQ29vcmRzKHQsZSxuKXtyZXR1cm4gdGhpcy5yYWRpdXM9TWF0aC5zcXJ0KHQqdCtuKm4pLHRoaXMudGhldGE9TWF0aC5hdGFuMih0LG4pLHRoaXMueT1lLHRoaXN9Y2xvbmUoKXtyZXR1cm4obmV3IHRoaXMuY29uc3RydWN0b3IpLmNvcHkodGhpcyl9fSx0LkRhdGFUZXh0dXJlPWlpLHQuRGF0YVRleHR1cmUyREFycmF5PUFpLHQuRGF0YVRleHR1cmUzRD1MaSx0LkRhdGFUZXh0dXJlTG9hZGVyPWRsLHQuRGF0YVV0aWxzPWNsYXNze3N0YXRpYyB0b0hhbGZGbG9hdCh0KXtMaFswXT10O2NvbnN0IGU9UmhbMF07bGV0IG49ZT4+MTYmMzI3NjgsaT1lPj4xMiYyMDQ3O2NvbnN0IHI9ZT4+MjMmMjU1O3JldHVybiByPDEwMz9uOnI+MTQyPyhufD0zMTc0NCxufD0oMjU1PT1yPzA6MSkmJjgzODg2MDcmZSxuKTpyPDExMz8oaXw9MjA0OCxufD0oaT4+MTE0LXIpKyhpPj4xMTMtciYxKSxuKToobnw9ci0xMTI8PDEwfGk+PjEsbis9MSZpLG4pfX0sdC5EZWNyZW1lbnRTdGVuY2lsT3A9NzY4Myx0LkRlY3JlbWVudFdyYXBTdGVuY2lsT3A9MzQwNTYsdC5EZWZhdWx0TG9hZGluZ01hbmFnZXI9YWwsdC5EZXB0aEZvcm1hdD1BLHQuRGVwdGhTdGVuY2lsRm9ybWF0PUwsdC5EZXB0aFRleHR1cmU9Q2EsdC5EaXJlY3Rpb25hbExpZ2h0PUtsLHQuRGlyZWN0aW9uYWxMaWdodEhlbHBlcj1jbGFzcyBleHRlbmRzIENle2NvbnN0cnVjdG9yKHQsZSxuKXtzdXBlcigpLHRoaXMubGlnaHQ9dCx0aGlzLmxpZ2h0LnVwZGF0ZU1hdHJpeFdvcmxkKCksdGhpcy5tYXRyaXg9dC5tYXRyaXhXb3JsZCx0aGlzLm1hdHJpeEF1dG9VcGRhdGU9ITEsdGhpcy5jb2xvcj1uLHZvaWQgMD09PWUmJihlPTEpO2xldCBpPW5ldyBFbjtpLnNldEF0dHJpYnV0ZSgicG9zaXRpb24iLG5ldyBtbihbLWUsZSwwLGUsZSwwLGUsLWUsMCwtZSwtZSwwLC1lLGUsMF0sMykpO2NvbnN0IHI9bmV3IGNhKHtmb2c6ITEsdG9uZU1hcHBlZDohMX0pO3RoaXMubGlnaHRQbGFuZT1uZXcgZmEoaSxyKSx0aGlzLmFkZCh0aGlzLmxpZ2h0UGxhbmUpLGk9bmV3IEVuLGkuc2V0QXR0cmlidXRlKCJwb3NpdGlvbiIsbmV3IG1uKFswLDAsMCwwLDAsMV0sMykpLHRoaXMudGFyZ2V0TGluZT1uZXcgZmEoaSxyKSx0aGlzLmFkZCh0aGlzLnRhcmdldExpbmUpLHRoaXMudXBkYXRlKCl9ZGlzcG9zZSgpe3RoaXMubGlnaHRQbGFuZS5nZW9tZXRyeS5kaXNwb3NlKCksdGhpcy5saWdodFBsYW5lLm1hdGVyaWFsLmRpc3Bvc2UoKSx0aGlzLnRhcmdldExpbmUuZ2VvbWV0cnkuZGlzcG9zZSgpLHRoaXMudGFyZ2V0TGluZS5tYXRlcmlhbC5kaXNwb3NlKCl9dXBkYXRlKCl7Z2guc2V0RnJvbU1hdHJpeFBvc2l0aW9uKHRoaXMubGlnaHQubWF0cml4V29ybGQpLHZoLnNldEZyb21NYXRyaXhQb3NpdGlvbih0aGlzLmxpZ2h0LnRhcmdldC5tYXRyaXhXb3JsZCkseWguc3ViVmVjdG9ycyh2aCxnaCksdGhpcy5saWdodFBsYW5lLmxvb2tBdCh2aCksdm9pZCAwIT09dGhpcy5jb2xvcj8odGhpcy5saWdodFBsYW5lLm1hdGVyaWFsLmNvbG9yLnNldCh0aGlzLmNvbG9yKSx0aGlzLnRhcmdldExpbmUubWF0ZXJpYWwuY29sb3Iuc2V0KHRoaXMuY29sb3IpKToodGhpcy5saWdodFBsYW5lLm1hdGVyaWFsLmNvbG9yLmNvcHkodGhpcy5saWdodC5jb2xvciksdGhpcy50YXJnZXRMaW5lLm1hdGVyaWFsLmNvbG9yLmNvcHkodGhpcy5saWdodC5jb2xvcikpLHRoaXMudGFyZ2V0TGluZS5sb29rQXQodmgpLHRoaXMudGFyZ2V0TGluZS5zY2FsZS56PXloLmxlbmd0aCgpfX0sdC5EaXNjcmV0ZUludGVycG9sYW50PVhvLHQuRG9kZWNhaGVkcm9uQnVmZmVyR2VvbWV0cnk9QmEsdC5Eb2RlY2FoZWRyb25HZW9tZXRyeT1CYSx0LkRvdWJsZVNpZGU9Mix0LkRzdEFscGhhRmFjdG9yPTIwNix0LkRzdENvbG9yRmFjdG9yPTIwOCx0LkR5bmFtaWNCdWZmZXJBdHRyaWJ1dGU9ZnVuY3Rpb24odCxlKXtyZXR1cm4gY29uc29sZS53YXJuKCJUSFJFRS5EeW5hbWljQnVmZmVyQXR0cmlidXRlIGhhcyBiZWVuIHJlbW92ZWQuIFVzZSBuZXcgVEhSRUUuQnVmZmVyQXR0cmlidXRlKCkuc2V0VXNhZ2UoIFRIUkVFLkR5bmFtaWNEcmF3VXNhZ2UgKSBpbnN0ZWFkLiIpLG5ldyBzbih0LGUpLnNldFVzYWdlKG50KX0sdC5EeW5hbWljQ29weVVzYWdlPTM1MDUwLHQuRHluYW1pY0RyYXdVc2FnZT1udCx0LkR5bmFtaWNSZWFkVXNhZ2U9MzUwNDksdC5FZGdlc0dlb21ldHJ5PUdhLHQuRWRnZXNIZWxwZXI9ZnVuY3Rpb24odCxlKXtyZXR1cm4gY29uc29sZS53YXJuKCJUSFJFRS5FZGdlc0hlbHBlciBoYXMgYmVlbiByZW1vdmVkLiBVc2UgVEhSRUUuRWRnZXNHZW9tZXRyeSBpbnN0ZWFkLiIpLG5ldyB5YShuZXcgR2EodC5nZW9tZXRyeSksbmV3IGNhKHtjb2xvcjp2b2lkIDAhPT1lP2U6MTY3NzcyMTV9KSl9LHQuRWxsaXBzZUN1cnZlPWZsLHQuRXF1YWxEZXB0aD00LHQuRXF1YWxTdGVuY2lsRnVuYz01MTQsdC5FcXVpcmVjdGFuZ3VsYXJSZWZsZWN0aW9uTWFwcGluZz1hLHQuRXF1aXJlY3Rhbmd1bGFyUmVmcmFjdGlvbk1hcHBpbmc9byx0LkV1bGVyPWZlLHQuRXZlbnREaXNwYXRjaGVyPXJ0LHQuRXh0cnVkZUJ1ZmZlckdlb21ldHJ5PWdvLHQuRXh0cnVkZUdlb21ldHJ5PWdvLHQuRmFjZUNvbG9ycz0xLHQuRmlsZUxvYWRlcj1jbCx0LkZsYXRTaGFkaW5nPTEsdC5GbG9hdDE2QnVmZmVyQXR0cmlidXRlPXBuLHQuRmxvYXQzMkF0dHJpYnV0ZT1mdW5jdGlvbih0LGUpe3JldHVybiBjb25zb2xlLndhcm4oIlRIUkVFLkZsb2F0MzJBdHRyaWJ1dGUgaGFzIGJlZW4gcmVtb3ZlZC4gVXNlIG5ldyBUSFJFRS5GbG9hdDMyQnVmZmVyQXR0cmlidXRlKCkgaW5zdGVhZC4iKSxuZXcgbW4odCxlKX0sdC5GbG9hdDMyQnVmZmVyQXR0cmlidXRlPW1uLHQuRmxvYXQ2NEF0dHJpYnV0ZT1mdW5jdGlvbih0LGUpe3JldHVybiBjb25zb2xlLndhcm4oIlRIUkVFLkZsb2F0NjRBdHRyaWJ1dGUgaGFzIGJlZW4gcmVtb3ZlZC4gVXNlIG5ldyBUSFJFRS5GbG9hdDY0QnVmZmVyQXR0cmlidXRlKCkgaW5zdGVhZC4iKSxuZXcgZm4odCxlKX0sdC5GbG9hdDY0QnVmZmVyQXR0cmlidXRlPWZuLHQuRmxvYXRUeXBlPWIsdC5Gb2c9U3MsdC5Gb2dFeHAyPU1zLHQuRm9udD1wYyx0LkZvbnRMb2FkZXI9Y2xhc3MgZXh0ZW5kcyBvbHtjb25zdHJ1Y3Rvcih0KXtzdXBlcih0KX1sb2FkKHQsZSxuLGkpe2NvbnN0IHI9dGhpcyxzPW5ldyBjbCh0aGlzLm1hbmFnZXIpO3Muc2V0UGF0aCh0aGlzLnBhdGgpLHMuc2V0UmVxdWVzdEhlYWRlcih0aGlzLnJlcXVlc3RIZWFkZXIpLHMuc2V0V2l0aENyZWRlbnRpYWxzKHIud2l0aENyZWRlbnRpYWxzKSxzLmxvYWQodCwoZnVuY3Rpb24odCl7bGV0IG47dHJ5e249SlNPTi5wYXJzZSh0KX1jYXRjaChlKXtjb25zb2xlLndhcm4oIlRIUkVFLkZvbnRMb2FkZXI6IHR5cGVmYWNlLmpzIHN1cHBvcnQgaXMgYmVpbmcgZGVwcmVjYXRlZC4gVXNlIHR5cGVmYWNlLmpzb24gaW5zdGVhZC4iKSxuPUpTT04ucGFyc2UodC5zdWJzdHJpbmcoNjUsdC5sZW5ndGgtMikpfWNvbnN0IGk9ci5wYXJzZShuKTtlJiZlKGkpfSksbixpKX1wYXJzZSh0KXtyZXR1cm4gbmV3IHBjKHQpfX0sdC5Gcm9udFNpZGU9MCx0LkZydXN0dW09YWksdC5HTEJ1ZmZlckF0dHJpYnV0ZT1RYyx0LkdMU0wxPSIxMDAiLHQuR0xTTDM9aXQsdC5HYW1tYUVuY29kaW5nPVosdC5HcmVhdGVyRGVwdGg9Nix0LkdyZWF0ZXJFcXVhbERlcHRoPTUsdC5HcmVhdGVyRXF1YWxTdGVuY2lsRnVuYz01MTgsdC5HcmVhdGVyU3RlbmNpbEZ1bmM9NTE2LHQuR3JpZEhlbHBlcj1maCx0Lkdyb3VwPWdzLHQuSGFsZkZsb2F0VHlwZT1NLHQuSGVtaXNwaGVyZUxpZ2h0PU9sLHQuSGVtaXNwaGVyZUxpZ2h0SGVscGVyPWNsYXNzIGV4dGVuZHMgQ2V7Y29uc3RydWN0b3IodCxlLG4pe3N1cGVyKCksdGhpcy5saWdodD10LHRoaXMubGlnaHQudXBkYXRlTWF0cml4V29ybGQoKSx0aGlzLm1hdHJpeD10Lm1hdHJpeFdvcmxkLHRoaXMubWF0cml4QXV0b1VwZGF0ZT0hMSx0aGlzLmNvbG9yPW47Y29uc3QgaT1uZXcgX28oZSk7aS5yb3RhdGVZKC41Kk1hdGguUEkpLHRoaXMubWF0ZXJpYWw9bmV3IGVuKHt3aXJlZnJhbWU6ITAsZm9nOiExLHRvbmVNYXBwZWQ6ITF9KSx2b2lkIDA9PT10aGlzLmNvbG9yJiYodGhpcy5tYXRlcmlhbC52ZXJ0ZXhDb2xvcnM9ITApO2NvbnN0IHI9aS5nZXRBdHRyaWJ1dGUoInBvc2l0aW9uIikscz1uZXcgRmxvYXQzMkFycmF5KDMqci5jb3VudCk7aS5zZXRBdHRyaWJ1dGUoImNvbG9yIixuZXcgc24ocywzKSksdGhpcy5hZGQobmV3IFduKGksdGhpcy5tYXRlcmlhbCkpLHRoaXMudXBkYXRlKCl9ZGlzcG9zZSgpe3RoaXMuY2hpbGRyZW5bMF0uZ2VvbWV0cnkuZGlzcG9zZSgpLHRoaXMuY2hpbGRyZW5bMF0ubWF0ZXJpYWwuZGlzcG9zZSgpfXVwZGF0ZSgpe2NvbnN0IHQ9dGhpcy5jaGlsZHJlblswXTtpZih2b2lkIDAhPT10aGlzLmNvbG9yKXRoaXMubWF0ZXJpYWwuY29sb3Iuc2V0KHRoaXMuY29sb3IpO2Vsc2V7Y29uc3QgZT10Lmdlb21ldHJ5LmdldEF0dHJpYnV0ZSgiY29sb3IiKTtwaC5jb3B5KHRoaXMubGlnaHQuY29sb3IpLG1oLmNvcHkodGhpcy5saWdodC5ncm91bmRDb2xvcik7Zm9yKGxldCB0PTAsbj1lLmNvdW50O3Q8bjt0Kyspe2NvbnN0IGk9dDxuLzI/cGg6bWg7ZS5zZXRYWVoodCxpLnIsaS5nLGkuYil9ZS5uZWVkc1VwZGF0ZT0hMH10Lmxvb2tBdChkaC5zZXRGcm9tTWF0cml4UG9zaXRpb24odGhpcy5saWdodC5tYXRyaXhXb3JsZCkubmVnYXRlKCkpfX0sdC5IZW1pc3BoZXJlTGlnaHRQcm9iZT15Yyx0Lkljb3NhaGVkcm9uQnVmZmVyR2VvbWV0cnk9eW8sdC5JY29zYWhlZHJvbkdlb21ldHJ5PXlvLHQuSW1hZ2VCaXRtYXBMb2FkZXI9dWMsdC5JbWFnZUxvYWRlcj1obCx0LkltYWdlVXRpbHM9X3QsdC5JbW1lZGlhdGVSZW5kZXJPYmplY3Q9c2gsdC5JbmNyZW1lbnRTdGVuY2lsT3A9NzY4Mix0LkluY3JlbWVudFdyYXBTdGVuY2lsT3A9MzQwNTUsdC5JbnN0YW5jZWRCdWZmZXJBdHRyaWJ1dGU9YWMsdC5JbnN0YW5jZWRCdWZmZXJHZW9tZXRyeT1zYyx0Lkluc3RhbmNlZEludGVybGVhdmVkQnVmZmVyPUpjLHQuSW5zdGFuY2VkTWVzaD1sYSx0LkludDE2QXR0cmlidXRlPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGNvbnNvbGUud2FybigiVEhSRUUuSW50MTZBdHRyaWJ1dGUgaGFzIGJlZW4gcmVtb3ZlZC4gVXNlIG5ldyBUSFJFRS5JbnQxNkJ1ZmZlckF0dHJpYnV0ZSgpIGluc3RlYWQuIiksbmV3IGNuKHQsZSl9LHQuSW50MTZCdWZmZXJBdHRyaWJ1dGU9Y24sdC5JbnQzMkF0dHJpYnV0ZT1mdW5jdGlvbih0LGUpe3JldHVybiBjb25zb2xlLndhcm4oIlRIUkVFLkludDMyQXR0cmlidXRlIGhhcyBiZWVuIHJlbW92ZWQuIFVzZSBuZXcgVEhSRUUuSW50MzJCdWZmZXJBdHRyaWJ1dGUoKSBpbnN0ZWFkLiIpLG5ldyB1bih0LGUpfSx0LkludDMyQnVmZmVyQXR0cmlidXRlPXVuLHQuSW50OEF0dHJpYnV0ZT1mdW5jdGlvbih0LGUpe3JldHVybiBjb25zb2xlLndhcm4oIlRIUkVFLkludDhBdHRyaWJ1dGUgaGFzIGJlZW4gcmVtb3ZlZC4gVXNlIG5ldyBUSFJFRS5JbnQ4QnVmZmVyQXR0cmlidXRlKCkgaW5zdGVhZC4iKSxuZXcgYW4odCxlKX0sdC5JbnQ4QnVmZmVyQXR0cmlidXRlPWFuLHQuSW50VHlwZT0xMDEzLHQuSW50ZXJsZWF2ZWRCdWZmZXI9RXMsdC5JbnRlcmxlYXZlZEJ1ZmZlckF0dHJpYnV0ZT1Mcyx0LkludGVycG9sYW50PVdvLHQuSW50ZXJwb2xhdGVEaXNjcmV0ZT1ILHQuSW50ZXJwb2xhdGVMaW5lYXI9Ryx0LkludGVycG9sYXRlU21vb3RoPVUsdC5JbnZlcnRTdGVuY2lsT3A9NTM4Nix0LkpTT05Mb2FkZXI9ZnVuY3Rpb24oKXtjb25zb2xlLmVycm9yKCJUSFJFRS5KU09OTG9hZGVyIGhhcyBiZWVuIHJlbW92ZWQuIil9LHQuS2VlcFN0ZW5jaWxPcD10dCx0LktleWZyYW1lVHJhY2s9WW8sdC5MT0Q9WHMsdC5MYXRoZUJ1ZmZlckdlb21ldHJ5PXhvLHQuTGF0aGVHZW9tZXRyeT14byx0LkxheWVycz1nZSx0LkxlbnNGbGFyZT1mdW5jdGlvbigpe2NvbnNvbGUuZXJyb3IoIlRIUkVFLkxlbnNGbGFyZSBoYXMgYmVlbiBtb3ZlZCB0byAvZXhhbXBsZXMvanNtL29iamVjdHMvTGVuc2ZsYXJlLmpzIil9LHQuTGVzc0RlcHRoPTIsdC5MZXNzRXF1YWxEZXB0aD0zLHQuTGVzc0VxdWFsU3RlbmNpbEZ1bmM9NTE1LHQuTGVzc1N0ZW5jaWxGdW5jPTUxMyx0LkxpZ2h0PUZsLHQuTGlnaHRQcm9iZT1uYyx0LkxpbmU9ZmEsdC5MaW5lMz1yaCx0LkxpbmVCYXNpY01hdGVyaWFsPWNhLHQuTGluZUN1cnZlPUxsLHQuTGluZUN1cnZlMz1SbCx0LkxpbmVEYXNoZWRNYXRlcmlhbD1Vbyx0LkxpbmVMb29wPXhhLHQuTGluZVBpZWNlcz0xLHQuTGluZVNlZ21lbnRzPXlhLHQuTGluZVN0cmlwPTAsdC5MaW5lYXJFbmNvZGluZz1YLHQuTGluZWFyRmlsdGVyPWcsdC5MaW5lYXJJbnRlcnBvbGFudD1xbyx0LkxpbmVhck1pcE1hcExpbmVhckZpbHRlcj0xMDA4LHQuTGluZWFyTWlwTWFwTmVhcmVzdEZpbHRlcj0xMDA3LHQuTGluZWFyTWlwbWFwTGluZWFyRmlsdGVyPXksdC5MaW5lYXJNaXBtYXBOZWFyZXN0RmlsdGVyPXYsdC5MaW5lYXJUb25lTWFwcGluZz0xLHQuTG9hZGVyPW9sLHQuTG9hZGVyVXRpbHM9cmMsdC5Mb2FkaW5nTWFuYWdlcj1zbCx0LkxvZ0x1dkVuY29kaW5nPTMwMDMsdC5Mb29wT25jZT0yMjAwLHQuTG9vcFBpbmdQb25nPTIyMDIsdC5Mb29wUmVwZWF0PTIyMDEsdC5MdW1pbmFuY2VBbHBoYUZvcm1hdD0xMDI1LHQuTHVtaW5hbmNlRm9ybWF0PTEwMjQsdC5NT1VTRT17TEVGVDowLE1JRERMRToxLFJJR0hUOjIsUk9UQVRFOjAsRE9MTFk6MSxQQU46Mn0sdC5NYXRlcmlhbD1YZSx0Lk1hdGVyaWFsTG9hZGVyPWljLHQuTWF0aD1ndCx0Lk1hdGhVdGlscz1ndCx0Lk1hdHJpeDM9eXQsdC5NYXRyaXg0PXNlLHQuTWF4RXF1YXRpb249MTA0LHQuTWVzaD1Xbix0Lk1lc2hCYXNpY01hdGVyaWFsPWVuLHQuTWVzaERlcHRoTWF0ZXJpYWw9Y3MsdC5NZXNoRGlzdGFuY2VNYXRlcmlhbD1ocyx0Lk1lc2hGYWNlTWF0ZXJpYWw9ZnVuY3Rpb24odCl7cmV0dXJuIGNvbnNvbGUud2FybigiVEhSRUUuTWVzaEZhY2VNYXRlcmlhbCBoYXMgYmVlbiByZW1vdmVkLiBVc2UgYW4gQXJyYXkgaW5zdGVhZC4iKSx0fSx0Lk1lc2hMYW1iZXJ0TWF0ZXJpYWw9SG8sdC5NZXNoTWF0Y2FwTWF0ZXJpYWw9R28sdC5NZXNoTm9ybWFsTWF0ZXJpYWw9T28sdC5NZXNoUGhvbmdNYXRlcmlhbD16byx0Lk1lc2hQaHlzaWNhbE1hdGVyaWFsPUJvLHQuTWVzaFN0YW5kYXJkTWF0ZXJpYWw9Tm8sdC5NZXNoVG9vbk1hdGVyaWFsPUZvLHQuTWluRXF1YXRpb249MTAzLHQuTWlycm9yZWRSZXBlYXRXcmFwcGluZz1kLHQuTWl4T3BlcmF0aW9uPTEsdC5NdWx0aU1hdGVyaWFsPWZ1bmN0aW9uKHQ9W10pe3JldHVybiBjb25zb2xlLndhcm4oIlRIUkVFLk11bHRpTWF0ZXJpYWwgaGFzIGJlZW4gcmVtb3ZlZC4gVXNlIGFuIEFycmF5IGluc3RlYWQuIiksdC5pc011bHRpTWF0ZXJpYWw9ITAsdC5tYXRlcmlhbHM9dCx0LmNsb25lPWZ1bmN0aW9uKCl7cmV0dXJuIHQuc2xpY2UoKX0sdH0sdC5NdWx0aXBseUJsZW5kaW5nPTQsdC5NdWx0aXBseU9wZXJhdGlvbj0wLHQuTmVhcmVzdEZpbHRlcj1wLHQuTmVhcmVzdE1pcE1hcExpbmVhckZpbHRlcj0xMDA1LHQuTmVhcmVzdE1pcE1hcE5lYXJlc3RGaWx0ZXI9MTAwNCx0Lk5lYXJlc3RNaXBtYXBMaW5lYXJGaWx0ZXI9Zix0Lk5lYXJlc3RNaXBtYXBOZWFyZXN0RmlsdGVyPW0sdC5OZXZlckRlcHRoPTAsdC5OZXZlclN0ZW5jaWxGdW5jPTUxMix0Lk5vQmxlbmRpbmc9MCx0Lk5vQ29sb3JzPTAsdC5Ob1RvbmVNYXBwaW5nPTAsdC5Ob3JtYWxBbmltYXRpb25CbGVuZE1vZGU9aix0Lk5vcm1hbEJsZW5kaW5nPTEsdC5Ob3RFcXVhbERlcHRoPTcsdC5Ob3RFcXVhbFN0ZW5jaWxGdW5jPTUxNyx0Lk51bWJlcktleWZyYW1lVHJhY2s9UW8sdC5PYmplY3QzRD1DZSx0Lk9iamVjdExvYWRlcj1jbGFzcyBleHRlbmRzIG9se2NvbnN0cnVjdG9yKHQpe3N1cGVyKHQpfWxvYWQodCxlLG4saSl7Y29uc3Qgcj10aGlzLHM9IiI9PT10aGlzLnBhdGg/cmMuZXh0cmFjdFVybEJhc2UodCk6dGhpcy5wYXRoO3RoaXMucmVzb3VyY2VQYXRoPXRoaXMucmVzb3VyY2VQYXRofHxzO2NvbnN0IGE9bmV3IGNsKHRoaXMubWFuYWdlcik7YS5zZXRQYXRoKHRoaXMucGF0aCksYS5zZXRSZXF1ZXN0SGVhZGVyKHRoaXMucmVxdWVzdEhlYWRlciksYS5zZXRXaXRoQ3JlZGVudGlhbHModGhpcy53aXRoQ3JlZGVudGlhbHMpLGEubG9hZCh0LChmdW5jdGlvbihuKXtsZXQgcz1udWxsO3RyeXtzPUpTT04ucGFyc2Uobil9Y2F0Y2goZSl7cmV0dXJuIHZvaWQgMCE9PWkmJmkoZSksdm9pZCBjb25zb2xlLmVycm9yKCJUSFJFRTpPYmplY3RMb2FkZXI6IENhbid0IHBhcnNlICIrdCsiLiIsZS5tZXNzYWdlKX1jb25zdCBhPXMubWV0YWRhdGE7dm9pZCAwIT09YSYmdm9pZCAwIT09YS50eXBlJiYiZ2VvbWV0cnkiIT09YS50eXBlLnRvTG93ZXJDYXNlKCk/ci5wYXJzZShzLGUpOmNvbnNvbGUuZXJyb3IoIlRIUkVFLk9iamVjdExvYWRlcjogQ2FuJ3QgbG9hZCAiK3QpfSksbixpKX1wYXJzZSh0LGUpe2NvbnN0IG49dGhpcy5wYXJzZUFuaW1hdGlvbnModC5hbmltYXRpb25zKSxpPXRoaXMucGFyc2VTaGFwZXModC5zaGFwZXMpLHI9dGhpcy5wYXJzZUdlb21ldHJpZXModC5nZW9tZXRyaWVzLGkpLHM9dGhpcy5wYXJzZUltYWdlcyh0LmltYWdlcywoZnVuY3Rpb24oKXt2b2lkIDAhPT1lJiZlKGwpfSkpLGE9dGhpcy5wYXJzZVRleHR1cmVzKHQudGV4dHVyZXMscyksbz10aGlzLnBhcnNlTWF0ZXJpYWxzKHQubWF0ZXJpYWxzLGEpLGw9dGhpcy5wYXJzZU9iamVjdCh0Lm9iamVjdCxyLG8sbiksYz10aGlzLnBhcnNlU2tlbGV0b25zKHQuc2tlbGV0b25zLGwpO2lmKHRoaXMuYmluZFNrZWxldG9ucyhsLGMpLHZvaWQgMCE9PWUpe2xldCB0PSExO2Zvcihjb25zdCBlIGluIHMpaWYoc1tlXWluc3RhbmNlb2YgSFRNTEltYWdlRWxlbWVudCl7dD0hMDticmVha30hMT09PXQmJmUobCl9cmV0dXJuIGx9cGFyc2VTaGFwZXModCl7Y29uc3QgZT17fTtpZih2b2lkIDAhPT10KWZvcihsZXQgbj0wLGk9dC5sZW5ndGg7bjxpO24rKyl7Y29uc3QgaT0obmV3IHpsKS5mcm9tSlNPTih0W25dKTtlW2kudXVpZF09aX1yZXR1cm4gZX1wYXJzZVNrZWxldG9ucyh0LGUpe2NvbnN0IG49e30saT17fTtpZihlLnRyYXZlcnNlKChmdW5jdGlvbih0KXt0LmlzQm9uZSYmKGlbdC51dWlkXT10KX0pKSx2b2lkIDAhPT10KWZvcihsZXQgZT0wLHI9dC5sZW5ndGg7ZTxyO2UrKyl7Y29uc3Qgcj0obmV3IGlhKS5mcm9tSlNPTih0W2VdLGkpO25bci51dWlkXT1yfXJldHVybiBufXBhcnNlR2VvbWV0cmllcyh0LGUpe2NvbnN0IG49e307bGV0IGk7aWYodm9pZCAwIT09dCl7Y29uc3Qgcj1uZXcgb2M7Zm9yKGxldCBzPTAsYT10Lmxlbmd0aDtzPGE7cysrKXtsZXQgYTtjb25zdCBvPXRbc107c3dpdGNoKG8udHlwZSl7Y2FzZSJQbGFuZUdlb21ldHJ5IjpjYXNlIlBsYW5lQnVmZmVyR2VvbWV0cnkiOmE9bmV3IFBvW28udHlwZV0oby53aWR0aCxvLmhlaWdodCxvLndpZHRoU2VnbWVudHMsby5oZWlnaHRTZWdtZW50cyk7YnJlYWs7Y2FzZSJCb3hHZW9tZXRyeSI6Y2FzZSJCb3hCdWZmZXJHZW9tZXRyeSI6YT1uZXcgUG9bby50eXBlXShvLndpZHRoLG8uaGVpZ2h0LG8uZGVwdGgsby53aWR0aFNlZ21lbnRzLG8uaGVpZ2h0U2VnbWVudHMsby5kZXB0aFNlZ21lbnRzKTticmVhaztjYXNlIkNpcmNsZUdlb21ldHJ5IjpjYXNlIkNpcmNsZUJ1ZmZlckdlb21ldHJ5IjphPW5ldyBQb1tvLnR5cGVdKG8ucmFkaXVzLG8uc2VnbWVudHMsby50aGV0YVN0YXJ0LG8udGhldGFMZW5ndGgpO2JyZWFrO2Nhc2UiQ3lsaW5kZXJHZW9tZXRyeSI6Y2FzZSJDeWxpbmRlckJ1ZmZlckdlb21ldHJ5IjphPW5ldyBQb1tvLnR5cGVdKG8ucmFkaXVzVG9wLG8ucmFkaXVzQm90dG9tLG8uaGVpZ2h0LG8ucmFkaWFsU2VnbWVudHMsby5oZWlnaHRTZWdtZW50cyxvLm9wZW5FbmRlZCxvLnRoZXRhU3RhcnQsby50aGV0YUxlbmd0aCk7YnJlYWs7Y2FzZSJDb25lR2VvbWV0cnkiOmNhc2UiQ29uZUJ1ZmZlckdlb21ldHJ5IjphPW5ldyBQb1tvLnR5cGVdKG8ucmFkaXVzLG8uaGVpZ2h0LG8ucmFkaWFsU2VnbWVudHMsby5oZWlnaHRTZWdtZW50cyxvLm9wZW5FbmRlZCxvLnRoZXRhU3RhcnQsby50aGV0YUxlbmd0aCk7YnJlYWs7Y2FzZSJTcGhlcmVHZW9tZXRyeSI6Y2FzZSJTcGhlcmVCdWZmZXJHZW9tZXRyeSI6YT1uZXcgUG9bby50eXBlXShvLnJhZGl1cyxvLndpZHRoU2VnbWVudHMsby5oZWlnaHRTZWdtZW50cyxvLnBoaVN0YXJ0LG8ucGhpTGVuZ3RoLG8udGhldGFTdGFydCxvLnRoZXRhTGVuZ3RoKTticmVhaztjYXNlIkRvZGVjYWhlZHJvbkdlb21ldHJ5IjpjYXNlIkRvZGVjYWhlZHJvbkJ1ZmZlckdlb21ldHJ5IjpjYXNlIkljb3NhaGVkcm9uR2VvbWV0cnkiOmNhc2UiSWNvc2FoZWRyb25CdWZmZXJHZW9tZXRyeSI6Y2FzZSJPY3RhaGVkcm9uR2VvbWV0cnkiOmNhc2UiT2N0YWhlZHJvbkJ1ZmZlckdlb21ldHJ5IjpjYXNlIlRldHJhaGVkcm9uR2VvbWV0cnkiOmNhc2UiVGV0cmFoZWRyb25CdWZmZXJHZW9tZXRyeSI6YT1uZXcgUG9bby50eXBlXShvLnJhZGl1cyxvLmRldGFpbCk7YnJlYWs7Y2FzZSJSaW5nR2VvbWV0cnkiOmNhc2UiUmluZ0J1ZmZlckdlb21ldHJ5IjphPW5ldyBQb1tvLnR5cGVdKG8uaW5uZXJSYWRpdXMsby5vdXRlclJhZGl1cyxvLnRoZXRhU2VnbWVudHMsby5waGlTZWdtZW50cyxvLnRoZXRhU3RhcnQsby50aGV0YUxlbmd0aCk7YnJlYWs7Y2FzZSJUb3J1c0dlb21ldHJ5IjpjYXNlIlRvcnVzQnVmZmVyR2VvbWV0cnkiOmE9bmV3IFBvW28udHlwZV0oby5yYWRpdXMsby50dWJlLG8ucmFkaWFsU2VnbWVudHMsby50dWJ1bGFyU2VnbWVudHMsby5hcmMpO2JyZWFrO2Nhc2UiVG9ydXNLbm90R2VvbWV0cnkiOmNhc2UiVG9ydXNLbm90QnVmZmVyR2VvbWV0cnkiOmE9bmV3IFBvW28udHlwZV0oby5yYWRpdXMsby50dWJlLG8udHVidWxhclNlZ21lbnRzLG8ucmFkaWFsU2VnbWVudHMsby5wLG8ucSk7YnJlYWs7Y2FzZSJUdWJlR2VvbWV0cnkiOmNhc2UiVHViZUJ1ZmZlckdlb21ldHJ5IjphPW5ldyBQb1tvLnR5cGVdKChuZXcgSWxbby5wYXRoLnR5cGVdKS5mcm9tSlNPTihvLnBhdGgpLG8udHVidWxhclNlZ21lbnRzLG8ucmFkaXVzLG8ucmFkaWFsU2VnbWVudHMsby5jbG9zZWQpO2JyZWFrO2Nhc2UiTGF0aGVHZW9tZXRyeSI6Y2FzZSJMYXRoZUJ1ZmZlckdlb21ldHJ5IjphPW5ldyBQb1tvLnR5cGVdKG8ucG9pbnRzLG8uc2VnbWVudHMsby5waGlTdGFydCxvLnBoaUxlbmd0aCk7YnJlYWs7Y2FzZSJQb2x5aGVkcm9uR2VvbWV0cnkiOmNhc2UiUG9seWhlZHJvbkJ1ZmZlckdlb21ldHJ5IjphPW5ldyBQb1tvLnR5cGVdKG8udmVydGljZXMsby5pbmRpY2VzLG8ucmFkaXVzLG8uZGV0YWlscyk7YnJlYWs7Y2FzZSJTaGFwZUdlb21ldHJ5IjpjYXNlIlNoYXBlQnVmZmVyR2VvbWV0cnkiOmk9W107Zm9yKGxldCB0PTAsbj1vLnNoYXBlcy5sZW5ndGg7dDxuO3QrKyl7Y29uc3Qgbj1lW28uc2hhcGVzW3RdXTtpLnB1c2gobil9YT1uZXcgUG9bby50eXBlXShpLG8uY3VydmVTZWdtZW50cyk7YnJlYWs7Y2FzZSJFeHRydWRlR2VvbWV0cnkiOmNhc2UiRXh0cnVkZUJ1ZmZlckdlb21ldHJ5IjppPVtdO2ZvcihsZXQgdD0wLG49by5zaGFwZXMubGVuZ3RoO3Q8bjt0Kyspe2NvbnN0IG49ZVtvLnNoYXBlc1t0XV07aS5wdXNoKG4pfWNvbnN0IHQ9by5vcHRpb25zLmV4dHJ1ZGVQYXRoO3ZvaWQgMCE9PXQmJihvLm9wdGlvbnMuZXh0cnVkZVBhdGg9KG5ldyBJbFt0LnR5cGVdKS5mcm9tSlNPTih0KSksYT1uZXcgUG9bby50eXBlXShpLG8ub3B0aW9ucyk7YnJlYWs7Y2FzZSJCdWZmZXJHZW9tZXRyeSI6Y2FzZSJJbnN0YW5jZWRCdWZmZXJHZW9tZXRyeSI6YT1yLnBhcnNlKG8pO2JyZWFrO2Nhc2UiR2VvbWV0cnkiOmNvbnNvbGUuZXJyb3IoJ1RIUkVFLk9iamVjdExvYWRlcjogTG9hZGluZyAiR2VvbWV0cnkiIGlzIG5vdCBzdXBwb3J0ZWQgYW55bW9yZS4nKTticmVhaztkZWZhdWx0OmNvbnNvbGUud2FybignVEhSRUUuT2JqZWN0TG9hZGVyOiBVbnN1cHBvcnRlZCBnZW9tZXRyeSB0eXBlICInK28udHlwZSsnIicpO2NvbnRpbnVlfWEudXVpZD1vLnV1aWQsdm9pZCAwIT09by5uYW1lJiYoYS5uYW1lPW8ubmFtZSksITA9PT1hLmlzQnVmZmVyR2VvbWV0cnkmJnZvaWQgMCE9PW8udXNlckRhdGEmJihhLnVzZXJEYXRhPW8udXNlckRhdGEpLG5bby51dWlkXT1hfX1yZXR1cm4gbn1wYXJzZU1hdGVyaWFscyh0LGUpe2NvbnN0IG49e30saT17fTtpZih2b2lkIDAhPT10KXtjb25zdCByPW5ldyBpYztyLnNldFRleHR1cmVzKGUpO2ZvcihsZXQgZT0wLHM9dC5sZW5ndGg7ZTxzO2UrKyl7Y29uc3Qgcz10W2VdO2lmKCJNdWx0aU1hdGVyaWFsIj09PXMudHlwZSl7Y29uc3QgdD1bXTtmb3IobGV0IGU9MDtlPHMubWF0ZXJpYWxzLmxlbmd0aDtlKyspe2NvbnN0IGk9cy5tYXRlcmlhbHNbZV07dm9pZCAwPT09bltpLnV1aWRdJiYobltpLnV1aWRdPXIucGFyc2UoaSkpLHQucHVzaChuW2kudXVpZF0pfWlbcy51dWlkXT10fWVsc2Ugdm9pZCAwPT09bltzLnV1aWRdJiYobltzLnV1aWRdPXIucGFyc2UocykpLGlbcy51dWlkXT1uW3MudXVpZF19fXJldHVybiBpfXBhcnNlQW5pbWF0aW9ucyh0KXtjb25zdCBlPXt9O2lmKHZvaWQgMCE9PXQpZm9yKGxldCBuPTA7bjx0Lmxlbmd0aDtuKyspe2NvbnN0IGk9dFtuXSxyPW5sLnBhcnNlKGkpO2Vbci51dWlkXT1yfXJldHVybiBlfXBhcnNlSW1hZ2VzKHQsZSl7Y29uc3Qgbj10aGlzLGk9e307bGV0IHI7ZnVuY3Rpb24gcyh0KXtpZigic3RyaW5nIj09dHlwZW9mIHQpe2NvbnN0IGU9dDtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIG4ubWFuYWdlci5pdGVtU3RhcnQodCksci5sb2FkKHQsKGZ1bmN0aW9uKCl7bi5tYW5hZ2VyLml0ZW1FbmQodCl9KSx2b2lkIDAsKGZ1bmN0aW9uKCl7bi5tYW5hZ2VyLml0ZW1FcnJvcih0KSxuLm1hbmFnZXIuaXRlbUVuZCh0KX0pKX0oL14oXC9cLyl8KFthLXpdKzooXC9cLyk/KS9pLnRlc3QoZSk/ZTpuLnJlc291cmNlUGF0aCtlKX1yZXR1cm4gdC5kYXRhP3tkYXRhOnluKHQudHlwZSx0LmRhdGEpLHdpZHRoOnQud2lkdGgsaGVpZ2h0OnQuaGVpZ2h0fTpudWxsfWlmKHZvaWQgMCE9PXQmJnQubGVuZ3RoPjApe2NvbnN0IG49bmV3IHNsKGUpO3I9bmV3IGhsKG4pLHIuc2V0Q3Jvc3NPcmlnaW4odGhpcy5jcm9zc09yaWdpbik7Zm9yKGxldCBlPTAsbj10Lmxlbmd0aDtlPG47ZSsrKXtjb25zdCBuPXRbZV0scj1uLnVybDtpZihBcnJheS5pc0FycmF5KHIpKXtpW24udXVpZF09W107Zm9yKGxldCB0PTAsZT1yLmxlbmd0aDt0PGU7dCsrKXtjb25zdCBlPXMoclt0XSk7bnVsbCE9PWUmJihlIGluc3RhbmNlb2YgSFRNTEltYWdlRWxlbWVudD9pW24udXVpZF0ucHVzaChlKTppW24udXVpZF0ucHVzaChuZXcgaWkoZS5kYXRhLGUud2lkdGgsZS5oZWlnaHQpKSl9fWVsc2V7Y29uc3QgdD1zKG4udXJsKTtudWxsIT09dCYmKGlbbi51dWlkXT10KX19fXJldHVybiBpfXBhcnNlVGV4dHVyZXModCxlKXtmdW5jdGlvbiBuKHQsZSl7cmV0dXJuIm51bWJlciI9PXR5cGVvZiB0P3Q6KGNvbnNvbGUud2FybigiVEhSRUUuT2JqZWN0TG9hZGVyLnBhcnNlVGV4dHVyZTogQ29uc3RhbnQgc2hvdWxkIGJlIGluIG51bWVyaWMgZm9ybS4iLHQpLGVbdF0pfWNvbnN0IGk9e307aWYodm9pZCAwIT09dClmb3IobGV0IHI9MCxzPXQubGVuZ3RoO3I8cztyKyspe2NvbnN0IHM9dFtyXTtsZXQgYTt2b2lkIDA9PT1zLmltYWdlJiZjb25zb2xlLndhcm4oJ1RIUkVFLk9iamVjdExvYWRlcjogTm8gImltYWdlIiBzcGVjaWZpZWQgZm9yJyxzLnV1aWQpLHZvaWQgMD09PWVbcy5pbWFnZV0mJmNvbnNvbGUud2FybigiVEhSRUUuT2JqZWN0TG9hZGVyOiBVbmRlZmluZWQgaW1hZ2UiLHMuaW1hZ2UpO2NvbnN0IG89ZVtzLmltYWdlXTtBcnJheS5pc0FycmF5KG8pPyhhPW5ldyBlaShvKSw2PT09by5sZW5ndGgmJihhLm5lZWRzVXBkYXRlPSEwKSk6KGE9byYmby5kYXRhP25ldyBpaShvLmRhdGEsby53aWR0aCxvLmhlaWdodCk6bmV3IGJ0KG8pLG8mJihhLm5lZWRzVXBkYXRlPSEwKSksYS51dWlkPXMudXVpZCx2b2lkIDAhPT1zLm5hbWUmJihhLm5hbWU9cy5uYW1lKSx2b2lkIDAhPT1zLm1hcHBpbmcmJihhLm1hcHBpbmc9bihzLm1hcHBpbmcsbGMpKSx2b2lkIDAhPT1zLm9mZnNldCYmYS5vZmZzZXQuZnJvbUFycmF5KHMub2Zmc2V0KSx2b2lkIDAhPT1zLnJlcGVhdCYmYS5yZXBlYXQuZnJvbUFycmF5KHMucmVwZWF0KSx2b2lkIDAhPT1zLmNlbnRlciYmYS5jZW50ZXIuZnJvbUFycmF5KHMuY2VudGVyKSx2b2lkIDAhPT1zLnJvdGF0aW9uJiYoYS5yb3RhdGlvbj1zLnJvdGF0aW9uKSx2b2lkIDAhPT1zLndyYXAmJihhLndyYXBTPW4ocy53cmFwWzBdLGNjKSxhLndyYXBUPW4ocy53cmFwWzFdLGNjKSksdm9pZCAwIT09cy5mb3JtYXQmJihhLmZvcm1hdD1zLmZvcm1hdCksdm9pZCAwIT09cy50eXBlJiYoYS50eXBlPXMudHlwZSksdm9pZCAwIT09cy5lbmNvZGluZyYmKGEuZW5jb2Rpbmc9cy5lbmNvZGluZyksdm9pZCAwIT09cy5taW5GaWx0ZXImJihhLm1pbkZpbHRlcj1uKHMubWluRmlsdGVyLGhjKSksdm9pZCAwIT09cy5tYWdGaWx0ZXImJihhLm1hZ0ZpbHRlcj1uKHMubWFnRmlsdGVyLGhjKSksdm9pZCAwIT09cy5hbmlzb3Ryb3B5JiYoYS5hbmlzb3Ryb3B5PXMuYW5pc290cm9weSksdm9pZCAwIT09cy5mbGlwWSYmKGEuZmxpcFk9cy5mbGlwWSksdm9pZCAwIT09cy5wcmVtdWx0aXBseUFscGhhJiYoYS5wcmVtdWx0aXBseUFscGhhPXMucHJlbXVsdGlwbHlBbHBoYSksdm9pZCAwIT09cy51bnBhY2tBbGlnbm1lbnQmJihhLnVucGFja0FsaWdubWVudD1zLnVucGFja0FsaWdubWVudCksaVtzLnV1aWRdPWF9cmV0dXJuIGl9cGFyc2VPYmplY3QodCxlLG4saSl7bGV0IHIscyxhO2Z1bmN0aW9uIG8odCl7cmV0dXJuIHZvaWQgMD09PWVbdF0mJmNvbnNvbGUud2FybigiVEhSRUUuT2JqZWN0TG9hZGVyOiBVbmRlZmluZWQgZ2VvbWV0cnkiLHQpLGVbdF19ZnVuY3Rpb24gbCh0KXtpZih2b2lkIDAhPT10KXtpZihBcnJheS5pc0FycmF5KHQpKXtjb25zdCBlPVtdO2ZvcihsZXQgaT0wLHI9dC5sZW5ndGg7aTxyO2krKyl7Y29uc3Qgcj10W2ldO3ZvaWQgMD09PW5bcl0mJmNvbnNvbGUud2FybigiVEhSRUUuT2JqZWN0TG9hZGVyOiBVbmRlZmluZWQgbWF0ZXJpYWwiLHIpLGUucHVzaChuW3JdKX1yZXR1cm4gZX1yZXR1cm4gdm9pZCAwPT09blt0XSYmY29uc29sZS53YXJuKCJUSFJFRS5PYmplY3RMb2FkZXI6IFVuZGVmaW5lZCBtYXRlcmlhbCIsdCksblt0XX19c3dpdGNoKHQudHlwZSl7Y2FzZSJTY2VuZSI6cj1uZXcgVHMsdm9pZCAwIT09dC5iYWNrZ3JvdW5kJiZOdW1iZXIuaXNJbnRlZ2VyKHQuYmFja2dyb3VuZCkmJihyLmJhY2tncm91bmQ9bmV3IHRuKHQuYmFja2dyb3VuZCkpLHZvaWQgMCE9PXQuZm9nJiYoIkZvZyI9PT10LmZvZy50eXBlP3IuZm9nPW5ldyBTcyh0LmZvZy5jb2xvcix0LmZvZy5uZWFyLHQuZm9nLmZhcik6IkZvZ0V4cDIiPT09dC5mb2cudHlwZSYmKHIuZm9nPW5ldyBNcyh0LmZvZy5jb2xvcix0LmZvZy5kZW5zaXR5KSkpO2JyZWFrO2Nhc2UiUGVyc3BlY3RpdmVDYW1lcmEiOnI9bmV3IEtuKHQuZm92LHQuYXNwZWN0LHQubmVhcix0LmZhciksdm9pZCAwIT09dC5mb2N1cyYmKHIuZm9jdXM9dC5mb2N1cyksdm9pZCAwIT09dC56b29tJiYoci56b29tPXQuem9vbSksdm9pZCAwIT09dC5maWxtR2F1Z2UmJihyLmZpbG1HYXVnZT10LmZpbG1HYXVnZSksdm9pZCAwIT09dC5maWxtT2Zmc2V0JiYoci5maWxtT2Zmc2V0PXQuZmlsbU9mZnNldCksdm9pZCAwIT09dC52aWV3JiYoci52aWV3PU9iamVjdC5hc3NpZ24oe30sdC52aWV3KSk7YnJlYWs7Y2FzZSJPcnRob2dyYXBoaWNDYW1lcmEiOnI9bmV3IEpsKHQubGVmdCx0LnJpZ2h0LHQudG9wLHQuYm90dG9tLHQubmVhcix0LmZhciksdm9pZCAwIT09dC56b29tJiYoci56b29tPXQuem9vbSksdm9pZCAwIT09dC52aWV3JiYoci52aWV3PU9iamVjdC5hc3NpZ24oe30sdC52aWV3KSk7YnJlYWs7Y2FzZSJBbWJpZW50TGlnaHQiOnI9bmV3ICRsKHQuY29sb3IsdC5pbnRlbnNpdHkpO2JyZWFrO2Nhc2UiRGlyZWN0aW9uYWxMaWdodCI6cj1uZXcgS2wodC5jb2xvcix0LmludGVuc2l0eSk7YnJlYWs7Y2FzZSJQb2ludExpZ2h0IjpyPW5ldyBabCh0LmNvbG9yLHQuaW50ZW5zaXR5LHQuZGlzdGFuY2UsdC5kZWNheSk7YnJlYWs7Y2FzZSJSZWN0QXJlYUxpZ2h0IjpyPW5ldyB0Yyh0LmNvbG9yLHQuaW50ZW5zaXR5LHQud2lkdGgsdC5oZWlnaHQpO2JyZWFrO2Nhc2UiU3BvdExpZ2h0IjpyPW5ldyBXbCh0LmNvbG9yLHQuaW50ZW5zaXR5LHQuZGlzdGFuY2UsdC5hbmdsZSx0LnBlbnVtYnJhLHQuZGVjYXkpO2JyZWFrO2Nhc2UiSGVtaXNwaGVyZUxpZ2h0IjpyPW5ldyBPbCh0LmNvbG9yLHQuZ3JvdW5kQ29sb3IsdC5pbnRlbnNpdHkpO2JyZWFrO2Nhc2UiTGlnaHRQcm9iZSI6cj0obmV3IG5jKS5mcm9tSlNPTih0KTticmVhaztjYXNlIlNraW5uZWRNZXNoIjpzPW8odC5nZW9tZXRyeSksYT1sKHQubWF0ZXJpYWwpLHI9bmV3ICRzKHMsYSksdm9pZCAwIT09dC5iaW5kTW9kZSYmKHIuYmluZE1vZGU9dC5iaW5kTW9kZSksdm9pZCAwIT09dC5iaW5kTWF0cml4JiZyLmJpbmRNYXRyaXguZnJvbUFycmF5KHQuYmluZE1hdHJpeCksdm9pZCAwIT09dC5za2VsZXRvbiYmKHIuc2tlbGV0b249dC5za2VsZXRvbik7YnJlYWs7Y2FzZSJNZXNoIjpzPW8odC5nZW9tZXRyeSksYT1sKHQubWF0ZXJpYWwpLHI9bmV3IFduKHMsYSk7YnJlYWs7Y2FzZSJJbnN0YW5jZWRNZXNoIjpzPW8odC5nZW9tZXRyeSksYT1sKHQubWF0ZXJpYWwpO2NvbnN0IGU9dC5jb3VudCxuPXQuaW5zdGFuY2VNYXRyaXgsaT10Lmluc3RhbmNlQ29sb3I7cj1uZXcgbGEocyxhLGUpLHIuaW5zdGFuY2VNYXRyaXg9bmV3IHNuKG5ldyBGbG9hdDMyQXJyYXkobi5hcnJheSksMTYpLHZvaWQgMCE9PWkmJihyLmluc3RhbmNlQ29sb3I9bmV3IHNuKG5ldyBGbG9hdDMyQXJyYXkoaS5hcnJheSksaS5pdGVtU2l6ZSkpO2JyZWFrO2Nhc2UiTE9EIjpyPW5ldyBYczticmVhaztjYXNlIkxpbmUiOnI9bmV3IGZhKG8odC5nZW9tZXRyeSksbCh0Lm1hdGVyaWFsKSk7YnJlYWs7Y2FzZSJMaW5lTG9vcCI6cj1uZXcgeGEobyh0Lmdlb21ldHJ5KSxsKHQubWF0ZXJpYWwpKTticmVhaztjYXNlIkxpbmVTZWdtZW50cyI6cj1uZXcgeWEobyh0Lmdlb21ldHJ5KSxsKHQubWF0ZXJpYWwpKTticmVhaztjYXNlIlBvaW50Q2xvdWQiOmNhc2UiUG9pbnRzIjpyPW5ldyBUYShvKHQuZ2VvbWV0cnkpLGwodC5tYXRlcmlhbCkpO2JyZWFrO2Nhc2UiU3ByaXRlIjpyPW5ldyBWcyhsKHQubWF0ZXJpYWwpKTticmVhaztjYXNlIkdyb3VwIjpyPW5ldyBnczticmVhaztjYXNlIkJvbmUiOnI9bmV3IHRhO2JyZWFrO2RlZmF1bHQ6cj1uZXcgQ2V9aWYoci51dWlkPXQudXVpZCx2b2lkIDAhPT10Lm5hbWUmJihyLm5hbWU9dC5uYW1lKSx2b2lkIDAhPT10Lm1hdHJpeD8oci5tYXRyaXguZnJvbUFycmF5KHQubWF0cml4KSx2b2lkIDAhPT10Lm1hdHJpeEF1dG9VcGRhdGUmJihyLm1hdHJpeEF1dG9VcGRhdGU9dC5tYXRyaXhBdXRvVXBkYXRlKSxyLm1hdHJpeEF1dG9VcGRhdGUmJnIubWF0cml4LmRlY29tcG9zZShyLnBvc2l0aW9uLHIucXVhdGVybmlvbixyLnNjYWxlKSk6KHZvaWQgMCE9PXQucG9zaXRpb24mJnIucG9zaXRpb24uZnJvbUFycmF5KHQucG9zaXRpb24pLHZvaWQgMCE9PXQucm90YXRpb24mJnIucm90YXRpb24uZnJvbUFycmF5KHQucm90YXRpb24pLHZvaWQgMCE9PXQucXVhdGVybmlvbiYmci5xdWF0ZXJuaW9uLmZyb21BcnJheSh0LnF1YXRlcm5pb24pLHZvaWQgMCE9PXQuc2NhbGUmJnIuc2NhbGUuZnJvbUFycmF5KHQuc2NhbGUpKSx2b2lkIDAhPT10LmNhc3RTaGFkb3cmJihyLmNhc3RTaGFkb3c9dC5jYXN0U2hhZG93KSx2b2lkIDAhPT10LnJlY2VpdmVTaGFkb3cmJihyLnJlY2VpdmVTaGFkb3c9dC5yZWNlaXZlU2hhZG93KSx0LnNoYWRvdyYmKHZvaWQgMCE9PXQuc2hhZG93LmJpYXMmJihyLnNoYWRvdy5iaWFzPXQuc2hhZG93LmJpYXMpLHZvaWQgMCE9PXQuc2hhZG93Lm5vcm1hbEJpYXMmJihyLnNoYWRvdy5ub3JtYWxCaWFzPXQuc2hhZG93Lm5vcm1hbEJpYXMpLHZvaWQgMCE9PXQuc2hhZG93LnJhZGl1cyYmKHIuc2hhZG93LnJhZGl1cz10LnNoYWRvdy5yYWRpdXMpLHZvaWQgMCE9PXQuc2hhZG93Lm1hcFNpemUmJnIuc2hhZG93Lm1hcFNpemUuZnJvbUFycmF5KHQuc2hhZG93Lm1hcFNpemUpLHZvaWQgMCE9PXQuc2hhZG93LmNhbWVyYSYmKHIuc2hhZG93LmNhbWVyYT10aGlzLnBhcnNlT2JqZWN0KHQuc2hhZG93LmNhbWVyYSkpKSx2b2lkIDAhPT10LnZpc2libGUmJihyLnZpc2libGU9dC52aXNpYmxlKSx2b2lkIDAhPT10LmZydXN0dW1DdWxsZWQmJihyLmZydXN0dW1DdWxsZWQ9dC5mcnVzdHVtQ3VsbGVkKSx2b2lkIDAhPT10LnJlbmRlck9yZGVyJiYoci5yZW5kZXJPcmRlcj10LnJlbmRlck9yZGVyKSx2b2lkIDAhPT10LnVzZXJEYXRhJiYoci51c2VyRGF0YT10LnVzZXJEYXRhKSx2b2lkIDAhPT10LmxheWVycyYmKHIubGF5ZXJzLm1hc2s9dC5sYXllcnMpLHZvaWQgMCE9PXQuY2hpbGRyZW4pe2NvbnN0IHM9dC5jaGlsZHJlbjtmb3IobGV0IHQ9MDt0PHMubGVuZ3RoO3QrKylyLmFkZCh0aGlzLnBhcnNlT2JqZWN0KHNbdF0sZSxuLGkpKX1pZih2b2lkIDAhPT10LmFuaW1hdGlvbnMpe2NvbnN0IGU9dC5hbmltYXRpb25zO2ZvcihsZXQgdD0wO3Q8ZS5sZW5ndGg7dCsrKXtjb25zdCBuPWVbdF07ci5hbmltYXRpb25zLnB1c2goaVtuXSl9fWlmKCJMT0QiPT09dC50eXBlKXt2b2lkIDAhPT10LmF1dG9VcGRhdGUmJihyLmF1dG9VcGRhdGU9dC5hdXRvVXBkYXRlKTtjb25zdCBlPXQubGV2ZWxzO2ZvcihsZXQgdD0wO3Q8ZS5sZW5ndGg7dCsrKXtjb25zdCBuPWVbdF0saT1yLmdldE9iamVjdEJ5UHJvcGVydHkoInV1aWQiLG4ub2JqZWN0KTt2b2lkIDAhPT1pJiZyLmFkZExldmVsKGksbi5kaXN0YW5jZSl9fXJldHVybiByfWJpbmRTa2VsZXRvbnModCxlKXswIT09T2JqZWN0LmtleXMoZSkubGVuZ3RoJiZ0LnRyYXZlcnNlKChmdW5jdGlvbih0KXtpZighMD09PXQuaXNTa2lubmVkTWVzaCYmdm9pZCAwIT09dC5za2VsZXRvbil7Y29uc3Qgbj1lW3Quc2tlbGV0b25dO3ZvaWQgMD09PW4/Y29uc29sZS53YXJuKCJUSFJFRS5PYmplY3RMb2FkZXI6IE5vIHNrZWxldG9uIGZvdW5kIHdpdGggVVVJRDoiLHQuc2tlbGV0b24pOnQuYmluZChuLHQuYmluZE1hdHJpeCl9fSkpfXNldFRleHR1cmVQYXRoKHQpe3JldHVybiBjb25zb2xlLndhcm4oIlRIUkVFLk9iamVjdExvYWRlcjogLnNldFRleHR1cmVQYXRoKCkgaGFzIGJlZW4gcmVuYW1lZCB0byAuc2V0UmVzb3VyY2VQYXRoKCkuIiksdGhpcy5zZXRSZXNvdXJjZVBhdGgodCl9fSx0Lk9iamVjdFNwYWNlTm9ybWFsTWFwPTEsdC5PY3RhaGVkcm9uQnVmZmVyR2VvbWV0cnk9X28sdC5PY3RhaGVkcm9uR2VvbWV0cnk9X28sdC5PbmVGYWN0b3I9MjAxLHQuT25lTWludXNEc3RBbHBoYUZhY3Rvcj0yMDcsdC5PbmVNaW51c0RzdENvbG9yRmFjdG9yPTIwOSx0Lk9uZU1pbnVzU3JjQWxwaGFGYWN0b3I9MjA1LHQuT25lTWludXNTcmNDb2xvckZhY3Rvcj0yMDMsdC5PcnRob2dyYXBoaWNDYW1lcmE9SmwsdC5QQ0ZTaGFkb3dNYXA9MSx0LlBDRlNvZnRTaGFkb3dNYXA9Mix0LlBNUkVNR2VuZXJhdG9yPWNsYXNze2NvbnN0cnVjdG9yKHQpe3RoaXMuX3JlbmRlcmVyPXQsdGhpcy5fcGluZ1BvbmdSZW5kZXJUYXJnZXQ9bnVsbCx0aGlzLl9ibHVyTWF0ZXJpYWw9ZnVuY3Rpb24odCl7Y29uc3QgZT1uZXcgRmxvYXQzMkFycmF5KHQpLG49bmV3IEx0KDAsMSwwKTtyZXR1cm4gbmV3IElvKHtuYW1lOiJTcGhlcmljYWxHYXVzc2lhbkJsdXIiLGRlZmluZXM6e246dH0sdW5pZm9ybXM6e2Vudk1hcDp7dmFsdWU6bnVsbH0sc2FtcGxlczp7dmFsdWU6MX0sd2VpZ2h0czp7dmFsdWU6ZX0sbGF0aXR1ZGluYWw6e3ZhbHVlOiExfSxkVGhldGE6e3ZhbHVlOjB9LG1pcEludDp7dmFsdWU6MH0scG9sZUF4aXM6e3ZhbHVlOm59LGlucHV0RW5jb2Rpbmc6e3ZhbHVlOk5oWzNlM119LG91dHB1dEVuY29kaW5nOnt2YWx1ZTpOaFszZTNdfX0sdmVydGV4U2hhZGVyOiRoKCksZnJhZ21lbnRTaGFkZXI6YFxuXG5cdFx0XHRwcmVjaXNpb24gbWVkaXVtcCBmbG9hdDtcblx0XHRcdHByZWNpc2lvbiBtZWRpdW1wIGludDtcblxuXHRcdFx0dmFyeWluZyB2ZWMzIHZPdXRwdXREaXJlY3Rpb247XG5cblx0XHRcdHVuaWZvcm0gc2FtcGxlcjJEIGVudk1hcDtcblx0XHRcdHVuaWZvcm0gaW50IHNhbXBsZXM7XG5cdFx0XHR1bmlmb3JtIGZsb2F0IHdlaWdodHNbIG4gXTtcblx0XHRcdHVuaWZvcm0gYm9vbCBsYXRpdHVkaW5hbDtcblx0XHRcdHVuaWZvcm0gZmxvYXQgZFRoZXRhO1xuXHRcdFx0dW5pZm9ybSBmbG9hdCBtaXBJbnQ7XG5cdFx0XHR1bmlmb3JtIHZlYzMgcG9sZUF4aXM7XG5cblx0XHRcdCR7dHUoKX1cblxuXHRcdFx0I2RlZmluZSBFTlZNQVBfVFlQRV9DVUJFX1VWXG5cdFx0XHQjaW5jbHVkZSA8Y3ViZV91dl9yZWZsZWN0aW9uX2ZyYWdtZW50PlxuXG5cdFx0XHR2ZWMzIGdldFNhbXBsZSggZmxvYXQgdGhldGEsIHZlYzMgYXhpcyApIHtcblxuXHRcdFx0XHRmbG9hdCBjb3NUaGV0YSA9IGNvcyggdGhldGEgKTtcblx0XHRcdFx0Ly8gUm9kcmlndWVzJyBheGlzLWFuZ2xlIHJvdGF0aW9uXG5cdFx0XHRcdHZlYzMgc2FtcGxlRGlyZWN0aW9uID0gdk91dHB1dERpcmVjdGlvbiAqIGNvc1RoZXRhXG5cdFx0XHRcdFx0KyBjcm9zcyggYXhpcywgdk91dHB1dERpcmVjdGlvbiApICogc2luKCB0aGV0YSApXG5cdFx0XHRcdFx0KyBheGlzICogZG90KCBheGlzLCB2T3V0cHV0RGlyZWN0aW9uICkgKiAoIDEuMCAtIGNvc1RoZXRhICk7XG5cblx0XHRcdFx0cmV0dXJuIGJpbGluZWFyQ3ViZVVWKCBlbnZNYXAsIHNhbXBsZURpcmVjdGlvbiwgbWlwSW50ICk7XG5cblx0XHRcdH1cblxuXHRcdFx0dm9pZCBtYWluKCkge1xuXG5cdFx0XHRcdHZlYzMgYXhpcyA9IGxhdGl0dWRpbmFsID8gcG9sZUF4aXMgOiBjcm9zcyggcG9sZUF4aXMsIHZPdXRwdXREaXJlY3Rpb24gKTtcblxuXHRcdFx0XHRpZiAoIGFsbCggZXF1YWwoIGF4aXMsIHZlYzMoIDAuMCApICkgKSApIHtcblxuXHRcdFx0XHRcdGF4aXMgPSB2ZWMzKCB2T3V0cHV0RGlyZWN0aW9uLnosIDAuMCwgLSB2T3V0cHV0RGlyZWN0aW9uLnggKTtcblxuXHRcdFx0XHR9XG5cblx0XHRcdFx0YXhpcyA9IG5vcm1hbGl6ZSggYXhpcyApO1xuXG5cdFx0XHRcdGdsX0ZyYWdDb2xvciA9IHZlYzQoIDAuMCwgMC4wLCAwLjAsIDEuMCApO1xuXHRcdFx0XHRnbF9GcmFnQ29sb3IucmdiICs9IHdlaWdodHNbIDAgXSAqIGdldFNhbXBsZSggMC4wLCBheGlzICk7XG5cblx0XHRcdFx0Zm9yICggaW50IGkgPSAxOyBpIDwgbjsgaSsrICkge1xuXG5cdFx0XHRcdFx0aWYgKCBpID49IHNhbXBsZXMgKSB7XG5cblx0XHRcdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0ZmxvYXQgdGhldGEgPSBkVGhldGEgKiBmbG9hdCggaSApO1xuXHRcdFx0XHRcdGdsX0ZyYWdDb2xvci5yZ2IgKz0gd2VpZ2h0c1sgaSBdICogZ2V0U2FtcGxlKCAtMS4wICogdGhldGEsIGF4aXMgKTtcblx0XHRcdFx0XHRnbF9GcmFnQ29sb3IucmdiICs9IHdlaWdodHNbIGkgXSAqIGdldFNhbXBsZSggdGhldGEsIGF4aXMgKTtcblxuXHRcdFx0XHR9XG5cblx0XHRcdFx0Z2xfRnJhZ0NvbG9yID0gbGluZWFyVG9PdXRwdXRUZXhlbCggZ2xfRnJhZ0NvbG9yICk7XG5cblx0XHRcdH1cblx0XHRgLGJsZW5kaW5nOjAsZGVwdGhUZXN0OiExLGRlcHRoV3JpdGU6ITF9KX0oSWgpLHRoaXMuX2VxdWlyZWN0U2hhZGVyPW51bGwsdGhpcy5fY3ViZW1hcFNoYWRlcj1udWxsLHRoaXMuX2NvbXBpbGVNYXRlcmlhbCh0aGlzLl9ibHVyTWF0ZXJpYWwpfWZyb21TY2VuZSh0LGU9MCxuPS4xLGk9MTAwKXtraD10aGlzLl9yZW5kZXJlci5nZXRSZW5kZXJUYXJnZXQoKTtjb25zdCByPXRoaXMuX2FsbG9jYXRlVGFyZ2V0cygpO3JldHVybiB0aGlzLl9zY2VuZVRvQ3ViZVVWKHQsbixpLHIpLGU+MCYmdGhpcy5fYmx1cihyLDAsMCxlKSx0aGlzLl9hcHBseVBNUkVNKHIpLHRoaXMuX2NsZWFudXAocikscn1mcm9tRXF1aXJlY3Rhbmd1bGFyKHQpe3JldHVybiB0aGlzLl9mcm9tVGV4dHVyZSh0KX1mcm9tQ3ViZW1hcCh0KXtyZXR1cm4gdGhpcy5fZnJvbVRleHR1cmUodCl9Y29tcGlsZUN1YmVtYXBTaGFkZXIoKXtudWxsPT09dGhpcy5fY3ViZW1hcFNoYWRlciYmKHRoaXMuX2N1YmVtYXBTaGFkZXI9S2goKSx0aGlzLl9jb21waWxlTWF0ZXJpYWwodGhpcy5fY3ViZW1hcFNoYWRlcikpfWNvbXBpbGVFcXVpcmVjdGFuZ3VsYXJTaGFkZXIoKXtudWxsPT09dGhpcy5fZXF1aXJlY3RTaGFkZXImJih0aGlzLl9lcXVpcmVjdFNoYWRlcj1RaCgpLHRoaXMuX2NvbXBpbGVNYXRlcmlhbCh0aGlzLl9lcXVpcmVjdFNoYWRlcikpfWRpc3Bvc2UoKXt0aGlzLl9ibHVyTWF0ZXJpYWwuZGlzcG9zZSgpLG51bGwhPT10aGlzLl9jdWJlbWFwU2hhZGVyJiZ0aGlzLl9jdWJlbWFwU2hhZGVyLmRpc3Bvc2UoKSxudWxsIT09dGhpcy5fZXF1aXJlY3RTaGFkZXImJnRoaXMuX2VxdWlyZWN0U2hhZGVyLmRpc3Bvc2UoKTtmb3IobGV0IHQ9MDt0PE9oLmxlbmd0aDt0KyspT2hbdF0uZGlzcG9zZSgpfV9jbGVhbnVwKHQpe3RoaXMuX3BpbmdQb25nUmVuZGVyVGFyZ2V0LmRpc3Bvc2UoKSx0aGlzLl9yZW5kZXJlci5zZXRSZW5kZXJUYXJnZXQoa2gpLHQuc2Npc3NvclRlc3Q9ITEsSmgodCwwLDAsdC53aWR0aCx0LmhlaWdodCl9X2Zyb21UZXh0dXJlKHQpe2toPXRoaXMuX3JlbmRlcmVyLmdldFJlbmRlclRhcmdldCgpO2NvbnN0IGU9dGhpcy5fYWxsb2NhdGVUYXJnZXRzKHQpO3JldHVybiB0aGlzLl90ZXh0dXJlVG9DdWJlVVYodCxlKSx0aGlzLl9hcHBseVBNUkVNKGUpLHRoaXMuX2NsZWFudXAoZSksZX1fYWxsb2NhdGVUYXJnZXRzKHQpe2NvbnN0IGU9e21hZ0ZpbHRlcjpwLG1pbkZpbHRlcjpwLGdlbmVyYXRlTWlwbWFwczohMSx0eXBlOngsZm9ybWF0OjEwMjMsZW5jb2Rpbmc6WGgodCk/dC5lbmNvZGluZzpKLGRlcHRoQnVmZmVyOiExfSxuPVpoKGUpO3JldHVybiBuLmRlcHRoQnVmZmVyPSF0LHRoaXMuX3BpbmdQb25nUmVuZGVyVGFyZ2V0PVpoKGUpLG59X2NvbXBpbGVNYXRlcmlhbCh0KXtjb25zdCBlPW5ldyBXbihPaFswXSx0KTt0aGlzLl9yZW5kZXJlci5jb21waWxlKGUsRmgpfV9zY2VuZVRvQ3ViZVVWKHQsZSxuLGkpe2NvbnN0IHI9bmV3IEtuKDkwLDEsZSxuKSxzPVsxLC0xLDEsMSwxLDFdLGE9WzEsMSwxLC0xLC0xLC0xXSxvPXRoaXMuX3JlbmRlcmVyLGw9by5hdXRvQ2xlYXIsYz1vLm91dHB1dEVuY29kaW5nLGg9by50b25lTWFwcGluZztvLmdldENsZWFyQ29sb3IoVWgpLG8udG9uZU1hcHBpbmc9MCxvLm91dHB1dEVuY29kaW5nPVgsby5hdXRvQ2xlYXI9ITE7bGV0IHU9ITE7Y29uc3QgZD10LmJhY2tncm91bmQ7aWYoZCl7aWYoZC5pc0NvbG9yKXtCaC5jb2xvci5jb3B5KGQpLmNvbnZlcnRTUkdCVG9MaW5lYXIoKSx0LmJhY2tncm91bmQ9bnVsbDtjb25zdCBlPXFoKEJoLmNvbG9yKTtCaC5vcGFjaXR5PWUsdT0hMH19ZWxzZXtCaC5jb2xvci5jb3B5KFVoKS5jb252ZXJ0U1JHQlRvTGluZWFyKCk7Y29uc3QgdD1xaChCaC5jb2xvcik7Qmgub3BhY2l0eT10LHU9ITB9Zm9yKGxldCBlPTA7ZTw2O2UrKyl7Y29uc3Qgbj1lJTM7MD09bj8oci51cC5zZXQoMCxzW2VdLDApLHIubG9va0F0KGFbZV0sMCwwKSk6MT09bj8oci51cC5zZXQoMCwwLHNbZV0pLHIubG9va0F0KDAsYVtlXSwwKSk6KHIudXAuc2V0KDAsc1tlXSwwKSxyLmxvb2tBdCgwLDAsYVtlXSkpLEpoKGksbipDaCxlPjI/Q2g6MCxDaCxDaCksby5zZXRSZW5kZXJUYXJnZXQoaSksdSYmby5yZW5kZXIoemgsciksby5yZW5kZXIodCxyKX1vLnRvbmVNYXBwaW5nPWgsby5vdXRwdXRFbmNvZGluZz1jLG8uYXV0b0NsZWFyPWx9X3RleHR1cmVUb0N1YmVVVih0LGUpe2NvbnN0IG49dGhpcy5fcmVuZGVyZXI7dC5pc0N1YmVUZXh0dXJlP251bGw9PXRoaXMuX2N1YmVtYXBTaGFkZXImJih0aGlzLl9jdWJlbWFwU2hhZGVyPUtoKCkpOm51bGw9PXRoaXMuX2VxdWlyZWN0U2hhZGVyJiYodGhpcy5fZXF1aXJlY3RTaGFkZXI9UWgoKSk7Y29uc3QgaT10LmlzQ3ViZVRleHR1cmU/dGhpcy5fY3ViZW1hcFNoYWRlcjp0aGlzLl9lcXVpcmVjdFNoYWRlcixyPW5ldyBXbihPaFswXSxpKSxzPWkudW5pZm9ybXM7cy5lbnZNYXAudmFsdWU9dCx0LmlzQ3ViZVRleHR1cmV8fHMudGV4ZWxTaXplLnZhbHVlLnNldCgxL3QuaW1hZ2Uud2lkdGgsMS90LmltYWdlLmhlaWdodCkscy5pbnB1dEVuY29kaW5nLnZhbHVlPU5oW3QuZW5jb2RpbmddLHMub3V0cHV0RW5jb2RpbmcudmFsdWU9TmhbZS50ZXh0dXJlLmVuY29kaW5nXSxKaChlLDAsMCwzKkNoLDIqQ2gpLG4uc2V0UmVuZGVyVGFyZ2V0KGUpLG4ucmVuZGVyKHIsRmgpfV9hcHBseVBNUkVNKHQpe2NvbnN0IGU9dGhpcy5fcmVuZGVyZXIsbj1lLmF1dG9DbGVhcjtlLmF1dG9DbGVhcj0hMTtmb3IobGV0IGU9MTtlPERoO2UrKyl7Y29uc3Qgbj1NYXRoLnNxcnQoR2hbZV0qR2hbZV0tR2hbZS0xXSpHaFtlLTFdKSxpPWpoWyhlLTEpJWpoLmxlbmd0aF07dGhpcy5fYmx1cih0LGUtMSxlLG4saSl9ZS5hdXRvQ2xlYXI9bn1fYmx1cih0LGUsbixpLHIpe2NvbnN0IHM9dGhpcy5fcGluZ1BvbmdSZW5kZXJUYXJnZXQ7dGhpcy5faGFsZkJsdXIodCxzLGUsbixpLCJsYXRpdHVkaW5hbCIsciksdGhpcy5faGFsZkJsdXIocyx0LG4sbixpLCJsb25naXR1ZGluYWwiLHIpfV9oYWxmQmx1cih0LGUsbixpLHIscyxhKXtjb25zdCBvPXRoaXMuX3JlbmRlcmVyLGw9dGhpcy5fYmx1ck1hdGVyaWFsOyJsYXRpdHVkaW5hbCIhPT1zJiYibG9uZ2l0dWRpbmFsIiE9PXMmJmNvbnNvbGUuZXJyb3IoImJsdXIgZGlyZWN0aW9uIG11c3QgYmUgZWl0aGVyIGxhdGl0dWRpbmFsIG9yIGxvbmdpdHVkaW5hbCEiKTtjb25zdCBjPW5ldyBXbihPaFtpXSxsKSxoPWwudW5pZm9ybXMsdT1IaFtuXS0xLGQ9aXNGaW5pdGUocik/TWF0aC5QSS8oMip1KToyKk1hdGguUEkvMzkscD1yL2QsbT1pc0Zpbml0ZShyKT8xK01hdGguZmxvb3IoMypwKTpJaDttPkloJiZjb25zb2xlLndhcm4oYHNpZ21hUmFkaWFucywgJHtyfSwgaXMgdG9vIGxhcmdlIGFuZCB3aWxsIGNsaXAsIGFzIGl0IHJlcXVlc3RlZCAke219IHNhbXBsZXMgd2hlbiB0aGUgbWF4aW11bSBpcyBzZXQgdG8gMjBgKTtjb25zdCBmPVtdO2xldCBnPTA7Zm9yKGxldCB0PTA7dDxJaDsrK3Qpe2NvbnN0IGU9dC9wLG49TWF0aC5leHAoLWUqZS8yKTtmLnB1c2gobiksMD09dD9nKz1uOnQ8bSYmKGcrPTIqbil9Zm9yKGxldCB0PTA7dDxmLmxlbmd0aDt0KyspZlt0XT1mW3RdL2c7aC5lbnZNYXAudmFsdWU9dC50ZXh0dXJlLGguc2FtcGxlcy52YWx1ZT1tLGgud2VpZ2h0cy52YWx1ZT1mLGgubGF0aXR1ZGluYWwudmFsdWU9ImxhdGl0dWRpbmFsIj09PXMsYSYmKGgucG9sZUF4aXMudmFsdWU9YSksaC5kVGhldGEudmFsdWU9ZCxoLm1pcEludC52YWx1ZT04LW4saC5pbnB1dEVuY29kaW5nLnZhbHVlPU5oW3QudGV4dHVyZS5lbmNvZGluZ10saC5vdXRwdXRFbmNvZGluZy52YWx1ZT1OaFt0LnRleHR1cmUuZW5jb2RpbmddO2NvbnN0IHY9SGhbaV07SmgoZSwzKk1hdGgubWF4KDAsQ2gtMip2KSwoMD09PWk/MDoyKkNoKSsyKnYqKGk+ND9pLTgrNDowKSwzKnYsMip2KSxvLnNldFJlbmRlclRhcmdldChlKSxvLnJlbmRlcihjLEZoKX19LHQuUGFyYW1ldHJpY0J1ZmZlckdlb21ldHJ5PXdvLHQuUGFyYW1ldHJpY0dlb21ldHJ5PXdvLHQuUGFydGljbGU9ZnVuY3Rpb24odCl7cmV0dXJuIGNvbnNvbGUud2FybigiVEhSRUUuUGFydGljbGUgaGFzIGJlZW4gcmVuYW1lZCB0byBUSFJFRS5TcHJpdGUuIiksbmV3IFZzKHQpfSx0LlBhcnRpY2xlQmFzaWNNYXRlcmlhbD1mdW5jdGlvbih0KXtyZXR1cm4gY29uc29sZS53YXJuKCJUSFJFRS5QYXJ0aWNsZUJhc2ljTWF0ZXJpYWwgaGFzIGJlZW4gcmVuYW1lZCB0byBUSFJFRS5Qb2ludHNNYXRlcmlhbC4iKSxuZXcgX2EodCl9LHQuUGFydGljbGVTeXN0ZW09ZnVuY3Rpb24odCxlKXtyZXR1cm4gY29uc29sZS53YXJuKCJUSFJFRS5QYXJ0aWNsZVN5c3RlbSBoYXMgYmVlbiByZW5hbWVkIHRvIFRIUkVFLlBvaW50cy4iKSxuZXcgVGEodCxlKX0sdC5QYXJ0aWNsZVN5c3RlbU1hdGVyaWFsPWZ1bmN0aW9uKHQpe3JldHVybiBjb25zb2xlLndhcm4oIlRIUkVFLlBhcnRpY2xlU3lzdGVtTWF0ZXJpYWwgaGFzIGJlZW4gcmVuYW1lZCB0byBUSFJFRS5Qb2ludHNNYXRlcmlhbC4iKSxuZXcgX2EodCl9LHQuUGF0aD1CbCx0LlBlcnNwZWN0aXZlQ2FtZXJhPUtuLHQuUGxhbmU9TmUsdC5QbGFuZUJ1ZmZlckdlb21ldHJ5PWNpLHQuUGxhbmVHZW9tZXRyeT1jaSx0LlBsYW5lSGVscGVyPWNsYXNzIGV4dGVuZHMgZmF7Y29uc3RydWN0b3IodCxlPTEsbj0xNjc3Njk2MCl7Y29uc3QgaT1uLHI9bmV3IEVuO3Iuc2V0QXR0cmlidXRlKCJwb3NpdGlvbiIsbmV3IG1uKFsxLC0xLDEsLTEsMSwxLC0xLC0xLDEsMSwxLDEsLTEsMSwxLC0xLC0xLDEsMSwtMSwxLDEsMSwxLDAsMCwxLDAsMCwwXSwzKSksci5jb21wdXRlQm91bmRpbmdTcGhlcmUoKSxzdXBlcihyLG5ldyBjYSh7Y29sb3I6aSx0b25lTWFwcGVkOiExfSkpLHRoaXMudHlwZT0iUGxhbmVIZWxwZXIiLHRoaXMucGxhbmU9dCx0aGlzLnNpemU9ZTtjb25zdCBzPW5ldyBFbjtzLnNldEF0dHJpYnV0ZSgicG9zaXRpb24iLG5ldyBtbihbMSwxLDEsLTEsMSwxLC0xLC0xLDEsMSwxLDEsLTEsLTEsMSwxLC0xLDFdLDMpKSxzLmNvbXB1dGVCb3VuZGluZ1NwaGVyZSgpLHRoaXMuYWRkKG5ldyBXbihzLG5ldyBlbih7Y29sb3I6aSxvcGFjaXR5Oi4yLHRyYW5zcGFyZW50OiEwLGRlcHRoV3JpdGU6ITEsdG9uZU1hcHBlZDohMX0pKSl9dXBkYXRlTWF0cml4V29ybGQodCl7bGV0IGU9LXRoaXMucGxhbmUuY29uc3RhbnQ7TWF0aC5hYnMoZSk8MWUtOCYmKGU9MWUtOCksdGhpcy5zY2FsZS5zZXQoLjUqdGhpcy5zaXplLC41KnRoaXMuc2l6ZSxlKSx0aGlzLmNoaWxkcmVuWzBdLm1hdGVyaWFsLnNpZGU9ZTwwPzE6MCx0aGlzLmxvb2tBdCh0aGlzLnBsYW5lLm5vcm1hbCksc3VwZXIudXBkYXRlTWF0cml4V29ybGQodCl9fSx0LlBvaW50Q2xvdWQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gY29uc29sZS53YXJuKCJUSFJFRS5Qb2ludENsb3VkIGhhcyBiZWVuIHJlbmFtZWQgdG8gVEhSRUUuUG9pbnRzLiIpLG5ldyBUYSh0LGUpfSx0LlBvaW50Q2xvdWRNYXRlcmlhbD1mdW5jdGlvbih0KXtyZXR1cm4gY29uc29sZS53YXJuKCJUSFJFRS5Qb2ludENsb3VkTWF0ZXJpYWwgaGFzIGJlZW4gcmVuYW1lZCB0byBUSFJFRS5Qb2ludHNNYXRlcmlhbC4iKSxuZXcgX2EodCl9LHQuUG9pbnRMaWdodD1abCx0LlBvaW50TGlnaHRIZWxwZXI9Y2xhc3MgZXh0ZW5kcyBXbntjb25zdHJ1Y3Rvcih0LGUsbil7c3VwZXIobmV3IFNvKGUsNCwyKSxuZXcgZW4oe3dpcmVmcmFtZTohMCxmb2c6ITEsdG9uZU1hcHBlZDohMX0pKSx0aGlzLmxpZ2h0PXQsdGhpcy5saWdodC51cGRhdGVNYXRyaXhXb3JsZCgpLHRoaXMuY29sb3I9bix0aGlzLnR5cGU9IlBvaW50TGlnaHRIZWxwZXIiLHRoaXMubWF0cml4PXRoaXMubGlnaHQubWF0cml4V29ybGQsdGhpcy5tYXRyaXhBdXRvVXBkYXRlPSExLHRoaXMudXBkYXRlKCl9ZGlzcG9zZSgpe3RoaXMuZ2VvbWV0cnkuZGlzcG9zZSgpLHRoaXMubWF0ZXJpYWwuZGlzcG9zZSgpfXVwZGF0ZSgpe3ZvaWQgMCE9PXRoaXMuY29sb3I/dGhpcy5tYXRlcmlhbC5jb2xvci5zZXQodGhpcy5jb2xvcik6dGhpcy5tYXRlcmlhbC5jb2xvci5jb3B5KHRoaXMubGlnaHQuY29sb3IpfX0sdC5Qb2ludHM9VGEsdC5Qb2ludHNNYXRlcmlhbD1fYSx0LlBvbGFyR3JpZEhlbHBlcj1jbGFzcyBleHRlbmRzIHlhe2NvbnN0cnVjdG9yKHQ9MTAsZT0xNixuPTgsaT02NCxyPTQ0NzM5MjQscz04OTQ3ODQ4KXtyPW5ldyB0bihyKSxzPW5ldyB0bihzKTtjb25zdCBhPVtdLG89W107Zm9yKGxldCBuPTA7bjw9ZTtuKyspe2NvbnN0IGk9bi9lKigyKk1hdGguUEkpLGw9TWF0aC5zaW4oaSkqdCxjPU1hdGguY29zKGkpKnQ7YS5wdXNoKDAsMCwwKSxhLnB1c2gobCwwLGMpO2NvbnN0IGg9MSZuP3I6cztvLnB1c2goaC5yLGguZyxoLmIpLG8ucHVzaChoLnIsaC5nLGguYil9Zm9yKGxldCBlPTA7ZTw9bjtlKyspe2NvbnN0IGw9MSZlP3I6cyxjPXQtdC9uKmU7Zm9yKGxldCB0PTA7dDxpO3QrKyl7bGV0IGU9dC9pKigyKk1hdGguUEkpLG49TWF0aC5zaW4oZSkqYyxyPU1hdGguY29zKGUpKmM7YS5wdXNoKG4sMCxyKSxvLnB1c2gobC5yLGwuZyxsLmIpLGU9KHQrMSkvaSooMipNYXRoLlBJKSxuPU1hdGguc2luKGUpKmMscj1NYXRoLmNvcyhlKSpjLGEucHVzaChuLDAsciksby5wdXNoKGwucixsLmcsbC5iKX19Y29uc3QgbD1uZXcgRW47bC5zZXRBdHRyaWJ1dGUoInBvc2l0aW9uIixuZXcgbW4oYSwzKSksbC5zZXRBdHRyaWJ1dGUoImNvbG9yIixuZXcgbW4obywzKSk7c3VwZXIobCxuZXcgY2Eoe3ZlcnRleENvbG9yczohMCx0b25lTWFwcGVkOiExfSkpLHRoaXMudHlwZT0iUG9sYXJHcmlkSGVscGVyIn19LHQuUG9seWhlZHJvbkJ1ZmZlckdlb21ldHJ5PU5hLHQuUG9seWhlZHJvbkdlb21ldHJ5PU5hLHQuUG9zaXRpb25hbEF1ZGlvPWNsYXNzIGV4dGVuZHMgTGN7Y29uc3RydWN0b3IodCl7c3VwZXIodCksdGhpcy5wYW5uZXI9dGhpcy5jb250ZXh0LmNyZWF0ZVBhbm5lcigpLHRoaXMucGFubmVyLnBhbm5pbmdNb2RlbD0iSFJURiIsdGhpcy5wYW5uZXIuY29ubmVjdCh0aGlzLmdhaW4pfWdldE91dHB1dCgpe3JldHVybiB0aGlzLnBhbm5lcn1nZXRSZWZEaXN0YW5jZSgpe3JldHVybiB0aGlzLnBhbm5lci5yZWZEaXN0YW5jZX1zZXRSZWZEaXN0YW5jZSh0KXtyZXR1cm4gdGhpcy5wYW5uZXIucmVmRGlzdGFuY2U9dCx0aGlzfWdldFJvbGxvZmZGYWN0b3IoKXtyZXR1cm4gdGhpcy5wYW5uZXIucm9sbG9mZkZhY3Rvcn1zZXRSb2xsb2ZmRmFjdG9yKHQpe3JldHVybiB0aGlzLnBhbm5lci5yb2xsb2ZmRmFjdG9yPXQsdGhpc31nZXREaXN0YW5jZU1vZGVsKCl7cmV0dXJuIHRoaXMucGFubmVyLmRpc3RhbmNlTW9kZWx9c2V0RGlzdGFuY2VNb2RlbCh0KXtyZXR1cm4gdGhpcy5wYW5uZXIuZGlzdGFuY2VNb2RlbD10LHRoaXN9Z2V0TWF4RGlzdGFuY2UoKXtyZXR1cm4gdGhpcy5wYW5uZXIubWF4RGlzdGFuY2V9c2V0TWF4RGlzdGFuY2UodCl7cmV0dXJuIHRoaXMucGFubmVyLm1heERpc3RhbmNlPXQsdGhpc31zZXREaXJlY3Rpb25hbENvbmUodCxlLG4pe3JldHVybiB0aGlzLnBhbm5lci5jb25lSW5uZXJBbmdsZT10LHRoaXMucGFubmVyLmNvbmVPdXRlckFuZ2xlPWUsdGhpcy5wYW5uZXIuY29uZU91dGVyR2Fpbj1uLHRoaXN9dXBkYXRlTWF0cml4V29ybGQodCl7aWYoc3VwZXIudXBkYXRlTWF0cml4V29ybGQodCksITA9PT10aGlzLmhhc1BsYXliYWNrQ29udHJvbCYmITE9PT10aGlzLmlzUGxheWluZylyZXR1cm47dGhpcy5tYXRyaXhXb3JsZC5kZWNvbXBvc2UoUmMsQ2MsUGMpLERjLnNldCgwLDAsMSkuYXBwbHlRdWF0ZXJuaW9uKENjKTtjb25zdCBlPXRoaXMucGFubmVyO2lmKGUucG9zaXRpb25YKXtjb25zdCB0PXRoaXMuY29udGV4dC5jdXJyZW50VGltZSt0aGlzLmxpc3RlbmVyLnRpbWVEZWx0YTtlLnBvc2l0aW9uWC5saW5lYXJSYW1wVG9WYWx1ZUF0VGltZShSYy54LHQpLGUucG9zaXRpb25ZLmxpbmVhclJhbXBUb1ZhbHVlQXRUaW1lKFJjLnksdCksZS5wb3NpdGlvbloubGluZWFyUmFtcFRvVmFsdWVBdFRpbWUoUmMueix0KSxlLm9yaWVudGF0aW9uWC5saW5lYXJSYW1wVG9WYWx1ZUF0VGltZShEYy54LHQpLGUub3JpZW50YXRpb25ZLmxpbmVhclJhbXBUb1ZhbHVlQXRUaW1lKERjLnksdCksZS5vcmllbnRhdGlvbloubGluZWFyUmFtcFRvVmFsdWVBdFRpbWUoRGMueix0KX1lbHNlIGUuc2V0UG9zaXRpb24oUmMueCxSYy55LFJjLnopLGUuc2V0T3JpZW50YXRpb24oRGMueCxEYy55LERjLnopfX0sdC5Qcm9wZXJ0eUJpbmRpbmc9amMsdC5Qcm9wZXJ0eU1peGVyPU5jLHQuUXVhZHJhdGljQmV6aWVyQ3VydmU9Q2wsdC5RdWFkcmF0aWNCZXppZXJDdXJ2ZTM9UGwsdC5RdWF0ZXJuaW9uPUF0LHQuUXVhdGVybmlvbktleWZyYW1lVHJhY2s9JG8sdC5RdWF0ZXJuaW9uTGluZWFySW50ZXJwb2xhbnQ9S28sdC5SRVZJU0lPTj1lLHQuUkdCQURlcHRoUGFja2luZz0zMjAxLHQuUkdCQUZvcm1hdD1FLHQuUkdCQUludGVnZXJGb3JtYXQ9MTAzMyx0LlJHQkFfQVNUQ18xMHgxMF9Gb3JtYXQ9Mzc4MTksdC5SR0JBX0FTVENfMTB4NV9Gb3JtYXQ9Mzc4MTYsdC5SR0JBX0FTVENfMTB4Nl9Gb3JtYXQ9Mzc4MTcsdC5SR0JBX0FTVENfMTB4OF9Gb3JtYXQ9Mzc4MTgsdC5SR0JBX0FTVENfMTJ4MTBfRm9ybWF0PTM3ODIwLHQuUkdCQV9BU1RDXzEyeDEyX0Zvcm1hdD0zNzgyMSx0LlJHQkFfQVNUQ180eDRfRm9ybWF0PTM3ODA4LHQuUkdCQV9BU1RDXzV4NF9Gb3JtYXQ9Mzc4MDksdC5SR0JBX0FTVENfNXg1X0Zvcm1hdD0zNzgxMCx0LlJHQkFfQVNUQ182eDVfRm9ybWF0PTM3ODExLHQuUkdCQV9BU1RDXzZ4Nl9Gb3JtYXQ9Mzc4MTIsdC5SR0JBX0FTVENfOHg1X0Zvcm1hdD0zNzgxMyx0LlJHQkFfQVNUQ184eDZfRm9ybWF0PTM3ODE0LHQuUkdCQV9BU1RDXzh4OF9Gb3JtYXQ9Mzc4MTUsdC5SR0JBX0JQVENfRm9ybWF0PTM2NDkyLHQuUkdCQV9FVEMyX0VBQ19Gb3JtYXQ9Tyx0LlJHQkFfUFZSVENfMkJQUFYxX0Zvcm1hdD16LHQuUkdCQV9QVlJUQ180QlBQVjFfRm9ybWF0PUIsdC5SR0JBX1MzVENfRFhUMV9Gb3JtYXQ9Qyx0LlJHQkFfUzNUQ19EWFQzX0Zvcm1hdD1QLHQuUkdCQV9TM1RDX0RYVDVfRm9ybWF0PUQsdC5SR0JERW5jb2Rpbmc9JCx0LlJHQkVFbmNvZGluZz1KLHQuUkdCRUZvcm1hdD0xMDIzLHQuUkdCRm9ybWF0PVQsdC5SR0JJbnRlZ2VyRm9ybWF0PTEwMzIsdC5SR0JNMTZFbmNvZGluZz1LLHQuUkdCTTdFbmNvZGluZz1RLHQuUkdCX0VUQzFfRm9ybWF0PTM2MTk2LHQuUkdCX0VUQzJfRm9ybWF0PUYsdC5SR0JfUFZSVENfMkJQUFYxX0Zvcm1hdD1OLHQuUkdCX1BWUlRDXzRCUFBWMV9Gb3JtYXQ9SSx0LlJHQl9TM1RDX0RYVDFfRm9ybWF0PVIsdC5SR0Zvcm1hdD0xMDMwLHQuUkdJbnRlZ2VyRm9ybWF0PTEwMzEsdC5SYXdTaGFkZXJNYXRlcmlhbD1Jbyx0LlJheT1yZSx0LlJheWNhc3Rlcj1jbGFzc3tjb25zdHJ1Y3Rvcih0LGUsbj0wLGk9MS8wKXt0aGlzLnJheT1uZXcgcmUodCxlKSx0aGlzLm5lYXI9bix0aGlzLmZhcj1pLHRoaXMuY2FtZXJhPW51bGwsdGhpcy5sYXllcnM9bmV3IGdlLHRoaXMucGFyYW1zPXtNZXNoOnt9LExpbmU6e3RocmVzaG9sZDoxfSxMT0Q6e30sUG9pbnRzOnt0aHJlc2hvbGQ6MX0sU3ByaXRlOnt9fX1zZXQodCxlKXt0aGlzLnJheS5zZXQodCxlKX1zZXRGcm9tQ2FtZXJhKHQsZSl7ZSYmZS5pc1BlcnNwZWN0aXZlQ2FtZXJhPyh0aGlzLnJheS5vcmlnaW4uc2V0RnJvbU1hdHJpeFBvc2l0aW9uKGUubWF0cml4V29ybGQpLHRoaXMucmF5LmRpcmVjdGlvbi5zZXQodC54LHQueSwuNSkudW5wcm9qZWN0KGUpLnN1Yih0aGlzLnJheS5vcmlnaW4pLm5vcm1hbGl6ZSgpLHRoaXMuY2FtZXJhPWUpOmUmJmUuaXNPcnRob2dyYXBoaWNDYW1lcmE/KHRoaXMucmF5Lm9yaWdpbi5zZXQodC54LHQueSwoZS5uZWFyK2UuZmFyKS8oZS5uZWFyLWUuZmFyKSkudW5wcm9qZWN0KGUpLHRoaXMucmF5LmRpcmVjdGlvbi5zZXQoMCwwLC0xKS50cmFuc2Zvcm1EaXJlY3Rpb24oZS5tYXRyaXhXb3JsZCksdGhpcy5jYW1lcmE9ZSk6Y29uc29sZS5lcnJvcigiVEhSRUUuUmF5Y2FzdGVyOiBVbnN1cHBvcnRlZCBjYW1lcmEgdHlwZTogIitlLnR5cGUpfWludGVyc2VjdE9iamVjdCh0LGU9ITEsbj1bXSl7cmV0dXJuICRjKHQsdGhpcyxuLGUpLG4uc29ydChLYyksbn1pbnRlcnNlY3RPYmplY3RzKHQsZT0hMSxuPVtdKXtmb3IobGV0IGk9MCxyPXQubGVuZ3RoO2k8cjtpKyspJGModFtpXSx0aGlzLG4sZSk7cmV0dXJuIG4uc29ydChLYyksbn19LHQuUmVjdEFyZWFMaWdodD10Yyx0LlJlZEZvcm1hdD0xMDI4LHQuUmVkSW50ZWdlckZvcm1hdD0xMDI5LHQuUmVpbmhhcmRUb25lTWFwcGluZz0yLHQuUmVwZWF0V3JhcHBpbmc9aCx0LlJlcGxhY2VTdGVuY2lsT3A9NzY4MSx0LlJldmVyc2VTdWJ0cmFjdEVxdWF0aW9uPTEwMix0LlJpbmdCdWZmZXJHZW9tZXRyeT1ibyx0LlJpbmdHZW9tZXRyeT1ibyx0LlNSR0I4X0FMUEhBOF9BU1RDXzEweDEwX0Zvcm1hdD0zNzg1MSx0LlNSR0I4X0FMUEhBOF9BU1RDXzEweDVfRm9ybWF0PTM3ODQ4LHQuU1JHQjhfQUxQSEE4X0FTVENfMTB4Nl9Gb3JtYXQ9Mzc4NDksdC5TUkdCOF9BTFBIQThfQVNUQ18xMHg4X0Zvcm1hdD0zNzg1MCx0LlNSR0I4X0FMUEhBOF9BU1RDXzEyeDEwX0Zvcm1hdD0zNzg1Mix0LlNSR0I4X0FMUEhBOF9BU1RDXzEyeDEyX0Zvcm1hdD0zNzg1Myx0LlNSR0I4X0FMUEhBOF9BU1RDXzR4NF9Gb3JtYXQ9Mzc4NDAsdC5TUkdCOF9BTFBIQThfQVNUQ181eDRfRm9ybWF0PTM3ODQxLHQuU1JHQjhfQUxQSEE4X0FTVENfNXg1X0Zvcm1hdD0zNzg0Mix0LlNSR0I4X0FMUEhBOF9BU1RDXzZ4NV9Gb3JtYXQ9Mzc4NDMsdC5TUkdCOF9BTFBIQThfQVNUQ182eDZfRm9ybWF0PTM3ODQ0LHQuU1JHQjhfQUxQSEE4X0FTVENfOHg1X0Zvcm1hdD0zNzg0NSx0LlNSR0I4X0FMUEhBOF9BU1RDXzh4Nl9Gb3JtYXQ9Mzc4NDYsdC5TUkdCOF9BTFBIQThfQVNUQ184eDhfRm9ybWF0PTM3ODQ3LHQuU2NlbmU9VHMsdC5TY2VuZVV0aWxzPWV1LHQuU2hhZGVyQ2h1bms9aGksdC5TaGFkZXJMaWI9ZGksdC5TaGFkZXJNYXRlcmlhbD1Kbix0LlNoYWRvd01hdGVyaWFsPURvLHQuU2hhcGU9emwsdC5TaGFwZUJ1ZmZlckdlb21ldHJ5PU1vLHQuU2hhcGVHZW9tZXRyeT1Nbyx0LlNoYXBlUGF0aD1kYyx0LlNoYXBlVXRpbHM9cG8sdC5TaG9ydFR5cGU9MTAxMSx0LlNrZWxldG9uPWlhLHQuU2tlbGV0b25IZWxwZXI9aGgsdC5Ta2lubmVkTWVzaD0kcyx0LlNtb290aFNoYWRpbmc9Mix0LlNwaGVyZT1KdCx0LlNwaGVyZUJ1ZmZlckdlb21ldHJ5PVNvLHQuU3BoZXJlR2VvbWV0cnk9U28sdC5TcGhlcmljYWw9Y2xhc3N7Y29uc3RydWN0b3IodD0xLGU9MCxuPTApe3JldHVybiB0aGlzLnJhZGl1cz10LHRoaXMucGhpPWUsdGhpcy50aGV0YT1uLHRoaXN9c2V0KHQsZSxuKXtyZXR1cm4gdGhpcy5yYWRpdXM9dCx0aGlzLnBoaT1lLHRoaXMudGhldGE9bix0aGlzfWNvcHkodCl7cmV0dXJuIHRoaXMucmFkaXVzPXQucmFkaXVzLHRoaXMucGhpPXQucGhpLHRoaXMudGhldGE9dC50aGV0YSx0aGlzfW1ha2VTYWZlKCl7Y29uc3QgdD0xZS02O3JldHVybiB0aGlzLnBoaT1NYXRoLm1heCh0LE1hdGgubWluKE1hdGguUEktdCx0aGlzLnBoaSkpLHRoaXN9c2V0RnJvbVZlY3RvcjModCl7cmV0dXJuIHRoaXMuc2V0RnJvbUNhcnRlc2lhbkNvb3Jkcyh0LngsdC55LHQueil9c2V0RnJvbUNhcnRlc2lhbkNvb3Jkcyh0LGUsbil7cmV0dXJuIHRoaXMucmFkaXVzPU1hdGguc3FydCh0KnQrZSplK24qbiksMD09PXRoaXMucmFkaXVzPyh0aGlzLnRoZXRhPTAsdGhpcy5waGk9MCk6KHRoaXMudGhldGE9TWF0aC5hdGFuMih0LG4pLHRoaXMucGhpPU1hdGguYWNvcyhodChlL3RoaXMucmFkaXVzLC0xLDEpKSksdGhpc31jbG9uZSgpe3JldHVybihuZXcgdGhpcy5jb25zdHJ1Y3RvcikuY29weSh0aGlzKX19LHQuU3BoZXJpY2FsSGFybW9uaWNzMz1lYyx0LlNwbGluZUN1cnZlPURsLHQuU3BvdExpZ2h0PVdsLHQuU3BvdExpZ2h0SGVscGVyPWNsYXNzIGV4dGVuZHMgQ2V7Y29uc3RydWN0b3IodCxlKXtzdXBlcigpLHRoaXMubGlnaHQ9dCx0aGlzLmxpZ2h0LnVwZGF0ZU1hdHJpeFdvcmxkKCksdGhpcy5tYXRyaXg9dC5tYXRyaXhXb3JsZCx0aGlzLm1hdHJpeEF1dG9VcGRhdGU9ITEsdGhpcy5jb2xvcj1lO2NvbnN0IG49bmV3IEVuLGk9WzAsMCwwLDAsMCwxLDAsMCwwLDEsMCwxLDAsMCwwLC0xLDAsMSwwLDAsMCwwLDEsMSwwLDAsMCwwLC0xLDFdO2ZvcihsZXQgdD0wLGU9MSxuPTMyO3Q8bjt0KyssZSsrKXtjb25zdCByPXQvbipNYXRoLlBJKjIscz1lL24qTWF0aC5QSSoyO2kucHVzaChNYXRoLmNvcyhyKSxNYXRoLnNpbihyKSwxLE1hdGguY29zKHMpLE1hdGguc2luKHMpLDEpfW4uc2V0QXR0cmlidXRlKCJwb3NpdGlvbiIsbmV3IG1uKGksMykpO2NvbnN0IHI9bmV3IGNhKHtmb2c6ITEsdG9uZU1hcHBlZDohMX0pO3RoaXMuY29uZT1uZXcgeWEobixyKSx0aGlzLmFkZCh0aGlzLmNvbmUpLHRoaXMudXBkYXRlKCl9ZGlzcG9zZSgpe3RoaXMuY29uZS5nZW9tZXRyeS5kaXNwb3NlKCksdGhpcy5jb25lLm1hdGVyaWFsLmRpc3Bvc2UoKX11cGRhdGUoKXt0aGlzLmxpZ2h0LnVwZGF0ZU1hdHJpeFdvcmxkKCk7Y29uc3QgdD10aGlzLmxpZ2h0LmRpc3RhbmNlP3RoaXMubGlnaHQuZGlzdGFuY2U6MWUzLGU9dCpNYXRoLnRhbih0aGlzLmxpZ2h0LmFuZ2xlKTt0aGlzLmNvbmUuc2NhbGUuc2V0KGUsZSx0KSxhaC5zZXRGcm9tTWF0cml4UG9zaXRpb24odGhpcy5saWdodC50YXJnZXQubWF0cml4V29ybGQpLHRoaXMuY29uZS5sb29rQXQoYWgpLHZvaWQgMCE9PXRoaXMuY29sb3I/dGhpcy5jb25lLm1hdGVyaWFsLmNvbG9yLnNldCh0aGlzLmNvbG9yKTp0aGlzLmNvbmUubWF0ZXJpYWwuY29sb3IuY29weSh0aGlzLmxpZ2h0LmNvbG9yKX19LHQuU3ByaXRlPVZzLHQuU3ByaXRlTWF0ZXJpYWw9UnMsdC5TcmNBbHBoYUZhY3Rvcj0yMDQsdC5TcmNBbHBoYVNhdHVyYXRlRmFjdG9yPTIxMCx0LlNyY0NvbG9yRmFjdG9yPTIwMix0LlN0YXRpY0NvcHlVc2FnZT0zNTA0Nix0LlN0YXRpY0RyYXdVc2FnZT1ldCx0LlN0YXRpY1JlYWRVc2FnZT0zNTA0NSx0LlN0ZXJlb0NhbWVyYT1jbGFzc3tjb25zdHJ1Y3Rvcigpe3RoaXMudHlwZT0iU3RlcmVvQ2FtZXJhIix0aGlzLmFzcGVjdD0xLHRoaXMuZXllU2VwPS4wNjQsdGhpcy5jYW1lcmFMPW5ldyBLbix0aGlzLmNhbWVyYUwubGF5ZXJzLmVuYWJsZSgxKSx0aGlzLmNhbWVyYUwubWF0cml4QXV0b1VwZGF0ZT0hMSx0aGlzLmNhbWVyYVI9bmV3IEtuLHRoaXMuY2FtZXJhUi5sYXllcnMuZW5hYmxlKDIpLHRoaXMuY2FtZXJhUi5tYXRyaXhBdXRvVXBkYXRlPSExLHRoaXMuX2NhY2hlPXtmb2N1czpudWxsLGZvdjpudWxsLGFzcGVjdDpudWxsLG5lYXI6bnVsbCxmYXI6bnVsbCx6b29tOm51bGwsZXllU2VwOm51bGx9fXVwZGF0ZSh0KXtjb25zdCBlPXRoaXMuX2NhY2hlO2lmKGUuZm9jdXMhPT10LmZvY3VzfHxlLmZvdiE9PXQuZm92fHxlLmFzcGVjdCE9PXQuYXNwZWN0KnRoaXMuYXNwZWN0fHxlLm5lYXIhPT10Lm5lYXJ8fGUuZmFyIT09dC5mYXJ8fGUuem9vbSE9PXQuem9vbXx8ZS5leWVTZXAhPT10aGlzLmV5ZVNlcCl7ZS5mb2N1cz10LmZvY3VzLGUuZm92PXQuZm92LGUuYXNwZWN0PXQuYXNwZWN0KnRoaXMuYXNwZWN0LGUubmVhcj10Lm5lYXIsZS5mYXI9dC5mYXIsZS56b29tPXQuem9vbSxlLmV5ZVNlcD10aGlzLmV5ZVNlcDtjb25zdCBuPXQucHJvamVjdGlvbk1hdHJpeC5jbG9uZSgpLGk9ZS5leWVTZXAvMixyPWkqZS5uZWFyL2UuZm9jdXMscz1lLm5lYXIqTWF0aC50YW4ob3QqZS5mb3YqLjUpL2Uuem9vbTtsZXQgYSxvO3djLmVsZW1lbnRzWzEyXT0taSxfYy5lbGVtZW50c1sxMl09aSxhPS1zKmUuYXNwZWN0K3Isbz1zKmUuYXNwZWN0K3Isbi5lbGVtZW50c1swXT0yKmUubmVhci8oby1hKSxuLmVsZW1lbnRzWzhdPShvK2EpLyhvLWEpLHRoaXMuY2FtZXJhTC5wcm9qZWN0aW9uTWF0cml4LmNvcHkobiksYT0tcyplLmFzcGVjdC1yLG89cyplLmFzcGVjdC1yLG4uZWxlbWVudHNbMF09MiplLm5lYXIvKG8tYSksbi5lbGVtZW50c1s4XT0obythKS8oby1hKSx0aGlzLmNhbWVyYVIucHJvamVjdGlvbk1hdHJpeC5jb3B5KG4pfXRoaXMuY2FtZXJhTC5tYXRyaXhXb3JsZC5jb3B5KHQubWF0cml4V29ybGQpLm11bHRpcGx5KHdjKSx0aGlzLmNhbWVyYVIubWF0cml4V29ybGQuY29weSh0Lm1hdHJpeFdvcmxkKS5tdWx0aXBseShfYyl9fSx0LlN0cmVhbUNvcHlVc2FnZT0zNTA0Mix0LlN0cmVhbURyYXdVc2FnZT0zNTA0MCx0LlN0cmVhbVJlYWRVc2FnZT0zNTA0MSx0LlN0cmluZ0tleWZyYW1lVHJhY2s9dGwsdC5TdWJ0cmFjdEVxdWF0aW9uPTEwMSx0LlN1YnRyYWN0aXZlQmxlbmRpbmc9Myx0LlRPVUNIPXtST1RBVEU6MCxQQU46MSxET0xMWV9QQU46MixET0xMWV9ST1RBVEU6M30sdC5UYW5nZW50U3BhY2VOb3JtYWxNYXA9MCx0LlRldHJhaGVkcm9uQnVmZmVyR2VvbWV0cnk9VG8sdC5UZXRyYWhlZHJvbkdlb21ldHJ5PVRvLHQuVGV4dEJ1ZmZlckdlb21ldHJ5PUVvLHQuVGV4dEdlb21ldHJ5PUVvLHQuVGV4dHVyZT1idCx0LlRleHR1cmVMb2FkZXI9cGwsdC5Ub3J1c0J1ZmZlckdlb21ldHJ5PUFvLHQuVG9ydXNHZW9tZXRyeT1Bbyx0LlRvcnVzS25vdEJ1ZmZlckdlb21ldHJ5PUxvLHQuVG9ydXNLbm90R2VvbWV0cnk9TG8sdC5UcmlhbmdsZT1qZSx0LlRyaWFuZ2xlRmFuRHJhd01vZGU9Mix0LlRyaWFuZ2xlU3RyaXBEcmF3TW9kZT0xLHQuVHJpYW5nbGVzRHJhd01vZGU9MCx0LlR1YmVCdWZmZXJHZW9tZXRyeT1Sbyx0LlR1YmVHZW9tZXRyeT1Sbyx0LlVWTWFwcGluZz1pLHQuVWludDE2QXR0cmlidXRlPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGNvbnNvbGUud2FybigiVEhSRUUuVWludDE2QXR0cmlidXRlIGhhcyBiZWVuIHJlbW92ZWQuIFVzZSBuZXcgVEhSRUUuVWludDE2QnVmZmVyQXR0cmlidXRlKCkgaW5zdGVhZC4iKSxuZXcgaG4odCxlKX0sdC5VaW50MTZCdWZmZXJBdHRyaWJ1dGU9aG4sdC5VaW50MzJBdHRyaWJ1dGU9ZnVuY3Rpb24odCxlKXtyZXR1cm4gY29uc29sZS53YXJuKCJUSFJFRS5VaW50MzJBdHRyaWJ1dGUgaGFzIGJlZW4gcmVtb3ZlZC4gVXNlIG5ldyBUSFJFRS5VaW50MzJCdWZmZXJBdHRyaWJ1dGUoKSBpbnN0ZWFkLiIpLG5ldyBkbih0LGUpfSx0LlVpbnQzMkJ1ZmZlckF0dHJpYnV0ZT1kbix0LlVpbnQ4QXR0cmlidXRlPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGNvbnNvbGUud2FybigiVEhSRUUuVWludDhBdHRyaWJ1dGUgaGFzIGJlZW4gcmVtb3ZlZC4gVXNlIG5ldyBUSFJFRS5VaW50OEJ1ZmZlckF0dHJpYnV0ZSgpIGluc3RlYWQuIiksbmV3IG9uKHQsZSl9LHQuVWludDhCdWZmZXJBdHRyaWJ1dGU9b24sdC5VaW50OENsYW1wZWRBdHRyaWJ1dGU9ZnVuY3Rpb24odCxlKXtyZXR1cm4gY29uc29sZS53YXJuKCJUSFJFRS5VaW50OENsYW1wZWRBdHRyaWJ1dGUgaGFzIGJlZW4gcmVtb3ZlZC4gVXNlIG5ldyBUSFJFRS5VaW50OENsYW1wZWRCdWZmZXJBdHRyaWJ1dGUoKSBpbnN0ZWFkLiIpLG5ldyBsbih0LGUpfSx0LlVpbnQ4Q2xhbXBlZEJ1ZmZlckF0dHJpYnV0ZT1sbix0LlVuaWZvcm09WmMsdC5Vbmlmb3Jtc0xpYj11aSx0LlVuaWZvcm1zVXRpbHM9Wm4sdC5VbnNpZ25lZEJ5dGVUeXBlPXgsdC5VbnNpZ25lZEludDI0OFR5cGU9Uyx0LlVuc2lnbmVkSW50VHlwZT13LHQuVW5zaWduZWRTaG9ydDQ0NDRUeXBlPTEwMTcsdC5VbnNpZ25lZFNob3J0NTU1MVR5cGU9MTAxOCx0LlVuc2lnbmVkU2hvcnQ1NjVUeXBlPTEwMTksdC5VbnNpZ25lZFNob3J0VHlwZT1fLHQuVlNNU2hhZG93TWFwPTMsdC5WZWN0b3IyPXZ0LHQuVmVjdG9yMz1MdCx0LlZlY3RvcjQ9U3QsdC5WZWN0b3JLZXlmcmFtZVRyYWNrPWVsLHQuVmVydGV4PWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gY29uc29sZS53YXJuKCJUSFJFRS5WZXJ0ZXggaGFzIGJlZW4gcmVtb3ZlZC4gVXNlIFRIUkVFLlZlY3RvcjMgaW5zdGVhZC4iKSxuZXcgTHQodCxlLG4pfSx0LlZlcnRleENvbG9ycz0yLHQuVmlkZW9UZXh0dXJlPUFhLHQuV2ViR0wxUmVuZGVyZXI9YnMsdC5XZWJHTEN1YmVSZW5kZXJUYXJnZXQ9bmksdC5XZWJHTE11bHRpc2FtcGxlUmVuZGVyVGFyZ2V0PUV0LHQuV2ViR0xSZW5kZXJUYXJnZXQ9VHQsdC5XZWJHTFJlbmRlclRhcmdldEN1YmU9ZnVuY3Rpb24odCxlLG4pe3JldHVybiBjb25zb2xlLndhcm4oIlRIUkVFLldlYkdMUmVuZGVyVGFyZ2V0Q3ViZSggd2lkdGgsIGhlaWdodCwgb3B0aW9ucyApIGlzIG5vdyBXZWJHTEN1YmVSZW5kZXJUYXJnZXQoIHNpemUsIG9wdGlvbnMgKS4iKSxuZXcgbmkodCxuKX0sdC5XZWJHTFJlbmRlcmVyPXdzLHQuV2ViR0xVdGlscz1tcyx0LldpcmVmcmFtZUdlb21ldHJ5PUNvLHQuV2lyZWZyYW1lSGVscGVyPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGNvbnNvbGUud2FybigiVEhSRUUuV2lyZWZyYW1lSGVscGVyIGhhcyBiZWVuIHJlbW92ZWQuIFVzZSBUSFJFRS5XaXJlZnJhbWVHZW9tZXRyeSBpbnN0ZWFkLiIpLG5ldyB5YShuZXcgQ28odC5nZW9tZXRyeSksbmV3IGNhKHtjb2xvcjp2b2lkIDAhPT1lP2U6MTY3NzcyMTV9KSl9LHQuV3JhcEFyb3VuZEVuZGluZz1XLHQuWEhSTG9hZGVyPWZ1bmN0aW9uKHQpe3JldHVybiBjb25zb2xlLndhcm4oIlRIUkVFLlhIUkxvYWRlciBoYXMgYmVlbiByZW5hbWVkIHRvIFRIUkVFLkZpbGVMb2FkZXIuIiksbmV3IGNsKHQpfSx0Llplcm9DdXJ2YXR1cmVFbmRpbmc9ayx0Llplcm9GYWN0b3I9MjAwLHQuWmVyb1Nsb3BlRW5kaW5nPVYsdC5aZXJvU3RlbmNpbE9wPTAsdC5zUkdCRW5jb2Rpbmc9WSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSl9KSk7Cg=="></script>
<script src="data:application/javascript;charset=utf-8;base64,KCBmdW5jdGlvbiAoKSB7CgoJY2xhc3MgR0xURkxvYWRlciBleHRlbmRzIFRIUkVFLkxvYWRlciB7CgoJCWNvbnN0cnVjdG9yKCBtYW5hZ2VyICkgewoKCQkJc3VwZXIoIG1hbmFnZXIgKTsKCQkJdGhpcy5kcmFjb0xvYWRlciA9IG51bGw7CgkJCXRoaXMua3R4MkxvYWRlciA9IG51bGw7CgkJCXRoaXMubWVzaG9wdERlY29kZXIgPSBudWxsOwoJCQl0aGlzLnBsdWdpbkNhbGxiYWNrcyA9IFtdOwoJCQl0aGlzLnJlZ2lzdGVyKCBmdW5jdGlvbiAoIHBhcnNlciApIHsKCgkJCQlyZXR1cm4gbmV3IEdMVEZNYXRlcmlhbHNDbGVhcmNvYXRFeHRlbnNpb24oIHBhcnNlciApOwoKCQkJfSApOwoJCQl0aGlzLnJlZ2lzdGVyKCBmdW5jdGlvbiAoIHBhcnNlciApIHsKCgkJCQlyZXR1cm4gbmV3IEdMVEZUZXh0dXJlQmFzaXNVRXh0ZW5zaW9uKCBwYXJzZXIgKTsKCgkJCX0gKTsKCQkJdGhpcy5yZWdpc3RlciggZnVuY3Rpb24gKCBwYXJzZXIgKSB7CgoJCQkJcmV0dXJuIG5ldyBHTFRGVGV4dHVyZVdlYlBFeHRlbnNpb24oIHBhcnNlciApOwoKCQkJfSApOwoJCQl0aGlzLnJlZ2lzdGVyKCBmdW5jdGlvbiAoIHBhcnNlciApIHsKCgkJCQlyZXR1cm4gbmV3IEdMVEZNYXRlcmlhbHNUcmFuc21pc3Npb25FeHRlbnNpb24oIHBhcnNlciApOwoKCQkJfSApOwoJCQl0aGlzLnJlZ2lzdGVyKCBmdW5jdGlvbiAoIHBhcnNlciApIHsKCgkJCQlyZXR1cm4gbmV3IEdMVEZMaWdodHNFeHRlbnNpb24oIHBhcnNlciApOwoKCQkJfSApOwoJCQl0aGlzLnJlZ2lzdGVyKCBmdW5jdGlvbiAoIHBhcnNlciApIHsKCgkJCQlyZXR1cm4gbmV3IEdMVEZNZXNob3B0Q29tcHJlc3Npb24oIHBhcnNlciApOwoKCQkJfSApOwoKCQl9CgoJCWxvYWQoIHVybCwgb25Mb2FkLCBvblByb2dyZXNzLCBvbkVycm9yICkgewoKCQkJY29uc3Qgc2NvcGUgPSB0aGlzOwoJCQlsZXQgcmVzb3VyY2VQYXRoOwoKCQkJaWYgKCB0aGlzLnJlc291cmNlUGF0aCAhPT0gJycgKSB7CgoJCQkJcmVzb3VyY2VQYXRoID0gdGhpcy5yZXNvdXJjZVBhdGg7CgoJCQl9IGVsc2UgaWYgKCB0aGlzLnBhdGggIT09ICcnICkgewoKCQkJCXJlc291cmNlUGF0aCA9IHRoaXMucGF0aDsKCgkJCX0gZWxzZSB7CgoJCQkJcmVzb3VyY2VQYXRoID0gVEhSRUUuTG9hZGVyVXRpbHMuZXh0cmFjdFVybEJhc2UoIHVybCApOwoKCQkJfSAvLyBUZWxscyB0aGUgTG9hZGluZ01hbmFnZXIgdG8gdHJhY2sgYW4gZXh0cmEgaXRlbSwgd2hpY2ggcmVzb2x2ZXMgYWZ0ZXIKCQkJLy8gdGhlIG1vZGVsIGlzIGZ1bGx5IGxvYWRlZC4gVGhpcyBtZWFucyB0aGUgY291bnQgb2YgaXRlbXMgbG9hZGVkIHdpbGwKCQkJLy8gYmUgaW5jb3JyZWN0LCBidXQgZW5zdXJlcyBtYW5hZ2VyLm9uTG9hZCgpIGRvZXMgbm90IGZpcmUgZWFybHkuCgoKCQkJdGhpcy5tYW5hZ2VyLml0ZW1TdGFydCggdXJsICk7CgoJCQljb25zdCBfb25FcnJvciA9IGZ1bmN0aW9uICggZSApIHsKCgkJCQlpZiAoIG9uRXJyb3IgKSB7CgoJCQkJCW9uRXJyb3IoIGUgKTsKCgkJCQl9IGVsc2UgewoKCQkJCQljb25zb2xlLmVycm9yKCBlICk7CgoJCQkJfQoKCQkJCXNjb3BlLm1hbmFnZXIuaXRlbUVycm9yKCB1cmwgKTsKCQkJCXNjb3BlLm1hbmFnZXIuaXRlbUVuZCggdXJsICk7CgoJCQl9OwoKCQkJY29uc3QgbG9hZGVyID0gbmV3IFRIUkVFLkZpbGVMb2FkZXIoIHRoaXMubWFuYWdlciApOwoJCQlsb2FkZXIuc2V0UGF0aCggdGhpcy5wYXRoICk7CgkJCWxvYWRlci5zZXRSZXNwb25zZVR5cGUoICdhcnJheWJ1ZmZlcicgKTsKCQkJbG9hZGVyLnNldFJlcXVlc3RIZWFkZXIoIHRoaXMucmVxdWVzdEhlYWRlciApOwoJCQlsb2FkZXIuc2V0V2l0aENyZWRlbnRpYWxzKCB0aGlzLndpdGhDcmVkZW50aWFscyApOwoJCQlsb2FkZXIubG9hZCggdXJsLCBmdW5jdGlvbiAoIGRhdGEgKSB7CgoJCQkJdHJ5IHsKCgkJCQkJc2NvcGUucGFyc2UoIGRhdGEsIHJlc291cmNlUGF0aCwgZnVuY3Rpb24gKCBnbHRmICkgewoKCQkJCQkJb25Mb2FkKCBnbHRmICk7CgkJCQkJCXNjb3BlLm1hbmFnZXIuaXRlbUVuZCggdXJsICk7CgoJCQkJCX0sIF9vbkVycm9yICk7CgoJCQkJfSBjYXRjaCAoIGUgKSB7CgoJCQkJCV9vbkVycm9yKCBlICk7CgoJCQkJfQoKCQkJfSwgb25Qcm9ncmVzcywgX29uRXJyb3IgKTsKCgkJfQoKCQlzZXREUkFDT0xvYWRlciggZHJhY29Mb2FkZXIgKSB7CgoJCQl0aGlzLmRyYWNvTG9hZGVyID0gZHJhY29Mb2FkZXI7CgkJCXJldHVybiB0aGlzOwoKCQl9CgoJCXNldEREU0xvYWRlcigpIHsKCgkJCXRocm93IG5ldyBFcnJvciggJ1RIUkVFLkdMVEZMb2FkZXI6ICJNU0ZUX3RleHR1cmVfZGRzIiBubyBsb25nZXIgc3VwcG9ydGVkLiBQbGVhc2UgdXBkYXRlIHRvICJLSFJfdGV4dHVyZV9iYXNpc3UiLicgKTsKCgkJfQoKCQlzZXRLVFgyTG9hZGVyKCBrdHgyTG9hZGVyICkgewoKCQkJdGhpcy5rdHgyTG9hZGVyID0ga3R4MkxvYWRlcjsKCQkJcmV0dXJuIHRoaXM7CgoJCX0KCgkJc2V0TWVzaG9wdERlY29kZXIoIG1lc2hvcHREZWNvZGVyICkgewoKCQkJdGhpcy5tZXNob3B0RGVjb2RlciA9IG1lc2hvcHREZWNvZGVyOwoJCQlyZXR1cm4gdGhpczsKCgkJfQoKCQlyZWdpc3RlciggY2FsbGJhY2sgKSB7CgoJCQlpZiAoIHRoaXMucGx1Z2luQ2FsbGJhY2tzLmluZGV4T2YoIGNhbGxiYWNrICkgPT09IC0gMSApIHsKCgkJCQl0aGlzLnBsdWdpbkNhbGxiYWNrcy5wdXNoKCBjYWxsYmFjayApOwoKCQkJfQoKCQkJcmV0dXJuIHRoaXM7CgoJCX0KCgkJdW5yZWdpc3RlciggY2FsbGJhY2sgKSB7CgoJCQlpZiAoIHRoaXMucGx1Z2luQ2FsbGJhY2tzLmluZGV4T2YoIGNhbGxiYWNrICkgIT09IC0gMSApIHsKCgkJCQl0aGlzLnBsdWdpbkNhbGxiYWNrcy5zcGxpY2UoIHRoaXMucGx1Z2luQ2FsbGJhY2tzLmluZGV4T2YoIGNhbGxiYWNrICksIDEgKTsKCgkJCX0KCgkJCXJldHVybiB0aGlzOwoKCQl9CgoJCXBhcnNlKCBkYXRhLCBwYXRoLCBvbkxvYWQsIG9uRXJyb3IgKSB7CgoJCQlsZXQgY29udGVudDsKCQkJY29uc3QgZXh0ZW5zaW9ucyA9IHt9OwoJCQljb25zdCBwbHVnaW5zID0ge307CgoJCQlpZiAoIHR5cGVvZiBkYXRhID09PSAnc3RyaW5nJyApIHsKCgkJCQljb250ZW50ID0gZGF0YTsKCgkJCX0gZWxzZSB7CgoJCQkJY29uc3QgbWFnaWMgPSBUSFJFRS5Mb2FkZXJVdGlscy5kZWNvZGVUZXh0KCBuZXcgVWludDhBcnJheSggZGF0YSwgMCwgNCApICk7CgoJCQkJaWYgKCBtYWdpYyA9PT0gQklOQVJZX0VYVEVOU0lPTl9IRUFERVJfTUFHSUMgKSB7CgoJCQkJCXRyeSB7CgoJCQkJCQlleHRlbnNpb25zWyBFWFRFTlNJT05TLktIUl9CSU5BUllfR0xURiBdID0gbmV3IEdMVEZCaW5hcnlFeHRlbnNpb24oIGRhdGEgKTsKCgkJCQkJfSBjYXRjaCAoIGVycm9yICkgewoKCQkJCQkJaWYgKCBvbkVycm9yICkgb25FcnJvciggZXJyb3IgKTsKCQkJCQkJcmV0dXJuOwoKCQkJCQl9CgoJCQkJCWNvbnRlbnQgPSBleHRlbnNpb25zWyBFWFRFTlNJT05TLktIUl9CSU5BUllfR0xURiBdLmNvbnRlbnQ7CgoJCQkJfSBlbHNlIHsKCgkJCQkJY29udGVudCA9IFRIUkVFLkxvYWRlclV0aWxzLmRlY29kZVRleHQoIG5ldyBVaW50OEFycmF5KCBkYXRhICkgKTsKCgkJCQl9CgoJCQl9CgoJCQljb25zdCBqc29uID0gSlNPTi5wYXJzZSggY29udGVudCApOwoKCQkJaWYgKCBqc29uLmFzc2V0ID09PSB1bmRlZmluZWQgfHwganNvbi5hc3NldC52ZXJzaW9uWyAwIF0gPCAyICkgewoKCQkJCWlmICggb25FcnJvciApIG9uRXJyb3IoIG5ldyBFcnJvciggJ1RIUkVFLkdMVEZMb2FkZXI6IFVuc3VwcG9ydGVkIGFzc2V0LiBnbFRGIHZlcnNpb25zID49Mi4wIGFyZSBzdXBwb3J0ZWQuJyApICk7CgkJCQlyZXR1cm47CgoJCQl9CgoJCQljb25zdCBwYXJzZXIgPSBuZXcgR0xURlBhcnNlcigganNvbiwgewoJCQkJcGF0aDogcGF0aCB8fCB0aGlzLnJlc291cmNlUGF0aCB8fCAnJywKCQkJCWNyb3NzT3JpZ2luOiB0aGlzLmNyb3NzT3JpZ2luLAoJCQkJcmVxdWVzdEhlYWRlcjogdGhpcy5yZXF1ZXN0SGVhZGVyLAoJCQkJbWFuYWdlcjogdGhpcy5tYW5hZ2VyLAoJCQkJa3R4MkxvYWRlcjogdGhpcy5rdHgyTG9hZGVyLAoJCQkJbWVzaG9wdERlY29kZXI6IHRoaXMubWVzaG9wdERlY29kZXIKCQkJfSApOwoJCQlwYXJzZXIuZmlsZUxvYWRlci5zZXRSZXF1ZXN0SGVhZGVyKCB0aGlzLnJlcXVlc3RIZWFkZXIgKTsKCgkJCWZvciAoIGxldCBpID0gMDsgaSA8IHRoaXMucGx1Z2luQ2FsbGJhY2tzLmxlbmd0aDsgaSArKyApIHsKCgkJCQljb25zdCBwbHVnaW4gPSB0aGlzLnBsdWdpbkNhbGxiYWNrc1sgaSBdKCBwYXJzZXIgKTsKCQkJCXBsdWdpbnNbIHBsdWdpbi5uYW1lIF0gPSBwbHVnaW47IC8vIFdvcmthcm91bmQgdG8gYXZvaWQgZGV0ZXJtaW5pbmcgYXMgdW5rbm93biBleHRlbnNpb24KCQkJCS8vIGluIGFkZFVua25vd25FeHRlbnNpb25zVG9Vc2VyRGF0YSgpLgoJCQkJLy8gUmVtb3ZlIHRoaXMgd29ya2Fyb3VuZCBpZiB3ZSBtb3ZlIGFsbCB0aGUgZXhpc3RpbmcKCQkJCS8vIGV4dGVuc2lvbiBoYW5kbGVycyB0byBwbHVnaW4gc3lzdGVtCgoJCQkJZXh0ZW5zaW9uc1sgcGx1Z2luLm5hbWUgXSA9IHRydWU7CgoJCQl9CgoJCQlpZiAoIGpzb24uZXh0ZW5zaW9uc1VzZWQgKSB7CgoJCQkJZm9yICggbGV0IGkgPSAwOyBpIDwganNvbi5leHRlbnNpb25zVXNlZC5sZW5ndGg7ICsrIGkgKSB7CgoJCQkJCWNvbnN0IGV4dGVuc2lvbk5hbWUgPSBqc29uLmV4dGVuc2lvbnNVc2VkWyBpIF07CgkJCQkJY29uc3QgZXh0ZW5zaW9uc1JlcXVpcmVkID0ganNvbi5leHRlbnNpb25zUmVxdWlyZWQgfHwgW107CgoJCQkJCXN3aXRjaCAoIGV4dGVuc2lvbk5hbWUgKSB7CgoJCQkJCQljYXNlIEVYVEVOU0lPTlMuS0hSX01BVEVSSUFMU19VTkxJVDoKCQkJCQkJCWV4dGVuc2lvbnNbIGV4dGVuc2lvbk5hbWUgXSA9IG5ldyBHTFRGTWF0ZXJpYWxzVW5saXRFeHRlbnNpb24oKTsKCQkJCQkJCWJyZWFrOwoKCQkJCQkJY2FzZSBFWFRFTlNJT05TLktIUl9NQVRFUklBTFNfUEJSX1NQRUNVTEFSX0dMT1NTSU5FU1M6CgkJCQkJCQlleHRlbnNpb25zWyBleHRlbnNpb25OYW1lIF0gPSBuZXcgR0xURk1hdGVyaWFsc1BiclNwZWN1bGFyR2xvc3NpbmVzc0V4dGVuc2lvbigpOwoJCQkJCQkJYnJlYWs7CgoJCQkJCQljYXNlIEVYVEVOU0lPTlMuS0hSX0RSQUNPX01FU0hfQ09NUFJFU1NJT046CgkJCQkJCQlleHRlbnNpb25zWyBleHRlbnNpb25OYW1lIF0gPSBuZXcgR0xURkRyYWNvTWVzaENvbXByZXNzaW9uRXh0ZW5zaW9uKCBqc29uLCB0aGlzLmRyYWNvTG9hZGVyICk7CgkJCQkJCQlicmVhazsKCgkJCQkJCWNhc2UgRVhURU5TSU9OUy5LSFJfVEVYVFVSRV9UUkFOU0ZPUk06CgkJCQkJCQlleHRlbnNpb25zWyBleHRlbnNpb25OYW1lIF0gPSBuZXcgR0xURlRleHR1cmVUcmFuc2Zvcm1FeHRlbnNpb24oKTsKCQkJCQkJCWJyZWFrOwoKCQkJCQkJY2FzZSBFWFRFTlNJT05TLktIUl9NRVNIX1FVQU5USVpBVElPTjoKCQkJCQkJCWV4dGVuc2lvbnNbIGV4dGVuc2lvbk5hbWUgXSA9IG5ldyBHTFRGTWVzaFF1YW50aXphdGlvbkV4dGVuc2lvbigpOwoJCQkJCQkJYnJlYWs7CgoJCQkJCQlkZWZhdWx0OgoJCQkJCQkJaWYgKCBleHRlbnNpb25zUmVxdWlyZWQuaW5kZXhPZiggZXh0ZW5zaW9uTmFtZSApID49IDAgJiYgcGx1Z2luc1sgZXh0ZW5zaW9uTmFtZSBdID09PSB1bmRlZmluZWQgKSB7CgoJCQkJCQkJCWNvbnNvbGUud2FybiggJ1RIUkVFLkdMVEZMb2FkZXI6IFVua25vd24gZXh0ZW5zaW9uICInICsgZXh0ZW5zaW9uTmFtZSArICciLicgKTsKCgkJCQkJCQl9CgoJCQkJCX0KCgkJCQl9CgoJCQl9CgoJCQlwYXJzZXIuc2V0RXh0ZW5zaW9ucyggZXh0ZW5zaW9ucyApOwoJCQlwYXJzZXIuc2V0UGx1Z2lucyggcGx1Z2lucyApOwoJCQlwYXJzZXIucGFyc2UoIG9uTG9hZCwgb25FcnJvciApOwoKCQl9CgoJfQoJLyogR0xURlJFR0lTVFJZICovCgoKCWZ1bmN0aW9uIEdMVEZSZWdpc3RyeSgpIHsKCgkJbGV0IG9iamVjdHMgPSB7fTsKCQlyZXR1cm4gewoJCQlnZXQ6IGZ1bmN0aW9uICgga2V5ICkgewoKCQkJCXJldHVybiBvYmplY3RzWyBrZXkgXTsKCgkJCX0sCgkJCWFkZDogZnVuY3Rpb24gKCBrZXksIG9iamVjdCApIHsKCgkJCQlvYmplY3RzWyBrZXkgXSA9IG9iamVjdDsKCgkJCX0sCgkJCXJlbW92ZTogZnVuY3Rpb24gKCBrZXkgKSB7CgoJCQkJZGVsZXRlIG9iamVjdHNbIGtleSBdOwoKCQkJfSwKCQkJcmVtb3ZlQWxsOiBmdW5jdGlvbiAoKSB7CgoJCQkJb2JqZWN0cyA9IHt9OwoKCQkJfQoJCX07CgoJfQoJLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi8KCgkvKioqKioqKioqKiBFWFRFTlNJT05TICoqKioqKioqKioqLwoKCS8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovCgoKCWNvbnN0IEVYVEVOU0lPTlMgPSB7CgkJS0hSX0JJTkFSWV9HTFRGOiAnS0hSX2JpbmFyeV9nbFRGJywKCQlLSFJfRFJBQ09fTUVTSF9DT01QUkVTU0lPTjogJ0tIUl9kcmFjb19tZXNoX2NvbXByZXNzaW9uJywKCQlLSFJfTElHSFRTX1BVTkNUVUFMOiAnS0hSX2xpZ2h0c19wdW5jdHVhbCcsCgkJS0hSX01BVEVSSUFMU19DTEVBUkNPQVQ6ICdLSFJfbWF0ZXJpYWxzX2NsZWFyY29hdCcsCgkJS0hSX01BVEVSSUFMU19QQlJfU1BFQ1VMQVJfR0xPU1NJTkVTUzogJ0tIUl9tYXRlcmlhbHNfcGJyU3BlY3VsYXJHbG9zc2luZXNzJywKCQlLSFJfTUFURVJJQUxTX1RSQU5TTUlTU0lPTjogJ0tIUl9tYXRlcmlhbHNfdHJhbnNtaXNzaW9uJywKCQlLSFJfTUFURVJJQUxTX1VOTElUOiAnS0hSX21hdGVyaWFsc191bmxpdCcsCgkJS0hSX1RFWFRVUkVfQkFTSVNVOiAnS0hSX3RleHR1cmVfYmFzaXN1JywKCQlLSFJfVEVYVFVSRV9UUkFOU0ZPUk06ICdLSFJfdGV4dHVyZV90cmFuc2Zvcm0nLAoJCUtIUl9NRVNIX1FVQU5USVpBVElPTjogJ0tIUl9tZXNoX3F1YW50aXphdGlvbicsCgkJRVhUX1RFWFRVUkVfV0VCUDogJ0VYVF90ZXh0dXJlX3dlYnAnLAoJCUVYVF9NRVNIT1BUX0NPTVBSRVNTSU9OOiAnRVhUX21lc2hvcHRfY29tcHJlc3Npb24nCgl9OwoJLyoqCgkgKiBQdW5jdHVhbCBMaWdodHMgRXh0ZW5zaW9uCgkgKgoJICogU3BlY2lmaWNhdGlvbjogaHR0cHM6Ly9naXRodWIuY29tL0tocm9ub3NHcm91cC9nbFRGL3RyZWUvbWFzdGVyL2V4dGVuc2lvbnMvMi4wL0tocm9ub3MvS0hSX2xpZ2h0c19wdW5jdHVhbAoJICovCgoJY2xhc3MgR0xURkxpZ2h0c0V4dGVuc2lvbiB7CgoJCWNvbnN0cnVjdG9yKCBwYXJzZXIgKSB7CgoJCQl0aGlzLnBhcnNlciA9IHBhcnNlcjsKCQkJdGhpcy5uYW1lID0gRVhURU5TSU9OUy5LSFJfTElHSFRTX1BVTkNUVUFMOyAvLyBUSFJFRS5PYmplY3QzRCBpbnN0YW5jZSBjYWNoZXMKCgkJCXRoaXMuY2FjaGUgPSB7CgkJCQlyZWZzOiB7fSwKCQkJCXVzZXM6IHt9CgkJCX07CgoJCX0KCgkJX21hcmtEZWZzKCkgewoKCQkJY29uc3QgcGFyc2VyID0gdGhpcy5wYXJzZXI7CgkJCWNvbnN0IG5vZGVEZWZzID0gdGhpcy5wYXJzZXIuanNvbi5ub2RlcyB8fCBbXTsKCgkJCWZvciAoIGxldCBub2RlSW5kZXggPSAwLCBub2RlTGVuZ3RoID0gbm9kZURlZnMubGVuZ3RoOyBub2RlSW5kZXggPCBub2RlTGVuZ3RoOyBub2RlSW5kZXggKysgKSB7CgoJCQkJY29uc3Qgbm9kZURlZiA9IG5vZGVEZWZzWyBub2RlSW5kZXggXTsKCgkJCQlpZiAoIG5vZGVEZWYuZXh0ZW5zaW9ucyAmJiBub2RlRGVmLmV4dGVuc2lvbnNbIHRoaXMubmFtZSBdICYmIG5vZGVEZWYuZXh0ZW5zaW9uc1sgdGhpcy5uYW1lIF0ubGlnaHQgIT09IHVuZGVmaW5lZCApIHsKCgkJCQkJcGFyc2VyLl9hZGROb2RlUmVmKCB0aGlzLmNhY2hlLCBub2RlRGVmLmV4dGVuc2lvbnNbIHRoaXMubmFtZSBdLmxpZ2h0ICk7CgoJCQkJfQoKCQkJfQoKCQl9CgoJCV9sb2FkTGlnaHQoIGxpZ2h0SW5kZXggKSB7CgoJCQljb25zdCBwYXJzZXIgPSB0aGlzLnBhcnNlcjsKCQkJY29uc3QgY2FjaGVLZXkgPSAnbGlnaHQ6JyArIGxpZ2h0SW5kZXg7CgkJCWxldCBkZXBlbmRlbmN5ID0gcGFyc2VyLmNhY2hlLmdldCggY2FjaGVLZXkgKTsKCQkJaWYgKCBkZXBlbmRlbmN5ICkgcmV0dXJuIGRlcGVuZGVuY3k7CgkJCWNvbnN0IGpzb24gPSBwYXJzZXIuanNvbjsKCQkJY29uc3QgZXh0ZW5zaW9ucyA9IGpzb24uZXh0ZW5zaW9ucyAmJiBqc29uLmV4dGVuc2lvbnNbIHRoaXMubmFtZSBdIHx8IHt9OwoJCQljb25zdCBsaWdodERlZnMgPSBleHRlbnNpb25zLmxpZ2h0cyB8fCBbXTsKCQkJY29uc3QgbGlnaHREZWYgPSBsaWdodERlZnNbIGxpZ2h0SW5kZXggXTsKCQkJbGV0IGxpZ2h0Tm9kZTsKCQkJY29uc3QgY29sb3IgPSBuZXcgVEhSRUUuQ29sb3IoIDB4ZmZmZmZmICk7CgkJCWlmICggbGlnaHREZWYuY29sb3IgIT09IHVuZGVmaW5lZCApIGNvbG9yLmZyb21BcnJheSggbGlnaHREZWYuY29sb3IgKTsKCQkJY29uc3QgcmFuZ2UgPSBsaWdodERlZi5yYW5nZSAhPT0gdW5kZWZpbmVkID8gbGlnaHREZWYucmFuZ2UgOiAwOwoKCQkJc3dpdGNoICggbGlnaHREZWYudHlwZSApIHsKCgkJCQljYXNlICdkaXJlY3Rpb25hbCc6CgkJCQkJbGlnaHROb2RlID0gbmV3IFRIUkVFLkRpcmVjdGlvbmFsTGlnaHQoIGNvbG9yICk7CgkJCQkJbGlnaHROb2RlLnRhcmdldC5wb3NpdGlvbi5zZXQoIDAsIDAsIC0gMSApOwoJCQkJCWxpZ2h0Tm9kZS5hZGQoIGxpZ2h0Tm9kZS50YXJnZXQgKTsKCQkJCQlicmVhazsKCgkJCQljYXNlICdwb2ludCc6CgkJCQkJbGlnaHROb2RlID0gbmV3IFRIUkVFLlBvaW50TGlnaHQoIGNvbG9yICk7CgkJCQkJbGlnaHROb2RlLmRpc3RhbmNlID0gcmFuZ2U7CgkJCQkJYnJlYWs7CgoJCQkJY2FzZSAnc3BvdCc6CgkJCQkJbGlnaHROb2RlID0gbmV3IFRIUkVFLlNwb3RMaWdodCggY29sb3IgKTsKCQkJCQlsaWdodE5vZGUuZGlzdGFuY2UgPSByYW5nZTsgLy8gSGFuZGxlIHNwb3RsaWdodCBwcm9wZXJ0aWVzLgoKCQkJCQlsaWdodERlZi5zcG90ID0gbGlnaHREZWYuc3BvdCB8fCB7fTsKCQkJCQlsaWdodERlZi5zcG90LmlubmVyQ29uZUFuZ2xlID0gbGlnaHREZWYuc3BvdC5pbm5lckNvbmVBbmdsZSAhPT0gdW5kZWZpbmVkID8gbGlnaHREZWYuc3BvdC5pbm5lckNvbmVBbmdsZSA6IDA7CgkJCQkJbGlnaHREZWYuc3BvdC5vdXRlckNvbmVBbmdsZSA9IGxpZ2h0RGVmLnNwb3Qub3V0ZXJDb25lQW5nbGUgIT09IHVuZGVmaW5lZCA/IGxpZ2h0RGVmLnNwb3Qub3V0ZXJDb25lQW5nbGUgOiBNYXRoLlBJIC8gNC4wOwoJCQkJCWxpZ2h0Tm9kZS5hbmdsZSA9IGxpZ2h0RGVmLnNwb3Qub3V0ZXJDb25lQW5nbGU7CgkJCQkJbGlnaHROb2RlLnBlbnVtYnJhID0gMS4wIC0gbGlnaHREZWYuc3BvdC5pbm5lckNvbmVBbmdsZSAvIGxpZ2h0RGVmLnNwb3Qub3V0ZXJDb25lQW5nbGU7CgkJCQkJbGlnaHROb2RlLnRhcmdldC5wb3NpdGlvbi5zZXQoIDAsIDAsIC0gMSApOwoJCQkJCWxpZ2h0Tm9kZS5hZGQoIGxpZ2h0Tm9kZS50YXJnZXQgKTsKCQkJCQlicmVhazsKCgkJCQlkZWZhdWx0OgoJCQkJCXRocm93IG5ldyBFcnJvciggJ1RIUkVFLkdMVEZMb2FkZXI6IFVuZXhwZWN0ZWQgbGlnaHQgdHlwZTogJyArIGxpZ2h0RGVmLnR5cGUgKTsKCgkJCX0gLy8gU29tZSBsaWdodHMgKGUuZy4gc3BvdCkgZGVmYXVsdCB0byBhIHBvc2l0aW9uIG90aGVyIHRoYW4gdGhlIG9yaWdpbi4gUmVzZXQgdGhlIHBvc2l0aW9uCgkJCS8vIGhlcmUsIGJlY2F1c2Ugbm9kZS1sZXZlbCBwYXJzaW5nIHdpbGwgb25seSBvdmVycmlkZSBwb3NpdGlvbiBpZiBleHBsaWNpdGx5IHNwZWNpZmllZC4KCgoJCQlsaWdodE5vZGUucG9zaXRpb24uc2V0KCAwLCAwLCAwICk7CgkJCWxpZ2h0Tm9kZS5kZWNheSA9IDI7CgkJCWlmICggbGlnaHREZWYuaW50ZW5zaXR5ICE9PSB1bmRlZmluZWQgKSBsaWdodE5vZGUuaW50ZW5zaXR5ID0gbGlnaHREZWYuaW50ZW5zaXR5OwoJCQlsaWdodE5vZGUubmFtZSA9IHBhcnNlci5jcmVhdGVVbmlxdWVOYW1lKCBsaWdodERlZi5uYW1lIHx8ICdsaWdodF8nICsgbGlnaHRJbmRleCApOwoJCQlkZXBlbmRlbmN5ID0gUHJvbWlzZS5yZXNvbHZlKCBsaWdodE5vZGUgKTsKCQkJcGFyc2VyLmNhY2hlLmFkZCggY2FjaGVLZXksIGRlcGVuZGVuY3kgKTsKCQkJcmV0dXJuIGRlcGVuZGVuY3k7CgoJCX0KCgkJY3JlYXRlTm9kZUF0dGFjaG1lbnQoIG5vZGVJbmRleCApIHsKCgkJCWNvbnN0IHNlbGYgPSB0aGlzOwoJCQljb25zdCBwYXJzZXIgPSB0aGlzLnBhcnNlcjsKCQkJY29uc3QganNvbiA9IHBhcnNlci5qc29uOwoJCQljb25zdCBub2RlRGVmID0ganNvbi5ub2Rlc1sgbm9kZUluZGV4IF07CgkJCWNvbnN0IGxpZ2h0RGVmID0gbm9kZURlZi5leHRlbnNpb25zICYmIG5vZGVEZWYuZXh0ZW5zaW9uc1sgdGhpcy5uYW1lIF0gfHwge307CgkJCWNvbnN0IGxpZ2h0SW5kZXggPSBsaWdodERlZi5saWdodDsKCQkJaWYgKCBsaWdodEluZGV4ID09PSB1bmRlZmluZWQgKSByZXR1cm4gbnVsbDsKCQkJcmV0dXJuIHRoaXMuX2xvYWRMaWdodCggbGlnaHRJbmRleCApLnRoZW4oIGZ1bmN0aW9uICggbGlnaHQgKSB7CgoJCQkJcmV0dXJuIHBhcnNlci5fZ2V0Tm9kZVJlZiggc2VsZi5jYWNoZSwgbGlnaHRJbmRleCwgbGlnaHQgKTsKCgkJCX0gKTsKCgkJfQoKCX0KCS8qKgoJICogVW5saXQgTWF0ZXJpYWxzIEV4dGVuc2lvbgoJICoKCSAqIFNwZWNpZmljYXRpb246IGh0dHBzOi8vZ2l0aHViLmNvbS9LaHJvbm9zR3JvdXAvZ2xURi90cmVlL21hc3Rlci9leHRlbnNpb25zLzIuMC9LaHJvbm9zL0tIUl9tYXRlcmlhbHNfdW5saXQKCSAqLwoKCgljbGFzcyBHTFRGTWF0ZXJpYWxzVW5saXRFeHRlbnNpb24gewoKCQljb25zdHJ1Y3RvcigpIHsKCgkJCXRoaXMubmFtZSA9IEVYVEVOU0lPTlMuS0hSX01BVEVSSUFMU19VTkxJVDsKCgkJfQoKCQlnZXRNYXRlcmlhbFR5cGUoKSB7CgoJCQlyZXR1cm4gVEhSRUUuTWVzaEJhc2ljTWF0ZXJpYWw7CgoJCX0KCgkJZXh0ZW5kUGFyYW1zKCBtYXRlcmlhbFBhcmFtcywgbWF0ZXJpYWxEZWYsIHBhcnNlciApIHsKCgkJCWNvbnN0IHBlbmRpbmcgPSBbXTsKCQkJbWF0ZXJpYWxQYXJhbXMuY29sb3IgPSBuZXcgVEhSRUUuQ29sb3IoIDEuMCwgMS4wLCAxLjAgKTsKCQkJbWF0ZXJpYWxQYXJhbXMub3BhY2l0eSA9IDEuMDsKCQkJY29uc3QgbWV0YWxsaWNSb3VnaG5lc3MgPSBtYXRlcmlhbERlZi5wYnJNZXRhbGxpY1JvdWdobmVzczsKCgkJCWlmICggbWV0YWxsaWNSb3VnaG5lc3MgKSB7CgoJCQkJaWYgKCBBcnJheS5pc0FycmF5KCBtZXRhbGxpY1JvdWdobmVzcy5iYXNlQ29sb3JGYWN0b3IgKSApIHsKCgkJCQkJY29uc3QgYXJyYXkgPSBtZXRhbGxpY1JvdWdobmVzcy5iYXNlQ29sb3JGYWN0b3I7CgkJCQkJbWF0ZXJpYWxQYXJhbXMuY29sb3IuZnJvbUFycmF5KCBhcnJheSApOwoJCQkJCW1hdGVyaWFsUGFyYW1zLm9wYWNpdHkgPSBhcnJheVsgMyBdOwoKCQkJCX0KCgkJCQlpZiAoIG1ldGFsbGljUm91Z2huZXNzLmJhc2VDb2xvclRleHR1cmUgIT09IHVuZGVmaW5lZCApIHsKCgkJCQkJcGVuZGluZy5wdXNoKCBwYXJzZXIuYXNzaWduVGV4dHVyZSggbWF0ZXJpYWxQYXJhbXMsICdtYXAnLCBtZXRhbGxpY1JvdWdobmVzcy5iYXNlQ29sb3JUZXh0dXJlICkgKTsKCgkJCQl9CgoJCQl9CgoJCQlyZXR1cm4gUHJvbWlzZS5hbGwoIHBlbmRpbmcgKTsKCgkJfQoKCX0KCS8qKgoJICogQ2xlYXJjb2F0IE1hdGVyaWFscyBFeHRlbnNpb24KCSAqCgkgKiBTcGVjaWZpY2F0aW9uOiBodHRwczovL2dpdGh1Yi5jb20vS2hyb25vc0dyb3VwL2dsVEYvdHJlZS9tYXN0ZXIvZXh0ZW5zaW9ucy8yLjAvS2hyb25vcy9LSFJfbWF0ZXJpYWxzX2NsZWFyY29hdAoJICovCgoKCWNsYXNzIEdMVEZNYXRlcmlhbHNDbGVhcmNvYXRFeHRlbnNpb24gewoKCQljb25zdHJ1Y3RvciggcGFyc2VyICkgewoKCQkJdGhpcy5wYXJzZXIgPSBwYXJzZXI7CgkJCXRoaXMubmFtZSA9IEVYVEVOU0lPTlMuS0hSX01BVEVSSUFMU19DTEVBUkNPQVQ7CgoJCX0KCgkJZ2V0TWF0ZXJpYWxUeXBlKCBtYXRlcmlhbEluZGV4ICkgewoKCQkJY29uc3QgcGFyc2VyID0gdGhpcy5wYXJzZXI7CgkJCWNvbnN0IG1hdGVyaWFsRGVmID0gcGFyc2VyLmpzb24ubWF0ZXJpYWxzWyBtYXRlcmlhbEluZGV4IF07CgkJCWlmICggISBtYXRlcmlhbERlZi5leHRlbnNpb25zIHx8ICEgbWF0ZXJpYWxEZWYuZXh0ZW5zaW9uc1sgdGhpcy5uYW1lIF0gKSByZXR1cm4gbnVsbDsKCQkJcmV0dXJuIFRIUkVFLk1lc2hQaHlzaWNhbE1hdGVyaWFsOwoKCQl9CgoJCWV4dGVuZE1hdGVyaWFsUGFyYW1zKCBtYXRlcmlhbEluZGV4LCBtYXRlcmlhbFBhcmFtcyApIHsKCgkJCWNvbnN0IHBhcnNlciA9IHRoaXMucGFyc2VyOwoJCQljb25zdCBtYXRlcmlhbERlZiA9IHBhcnNlci5qc29uLm1hdGVyaWFsc1sgbWF0ZXJpYWxJbmRleCBdOwoKCQkJaWYgKCAhIG1hdGVyaWFsRGVmLmV4dGVuc2lvbnMgfHwgISBtYXRlcmlhbERlZi5leHRlbnNpb25zWyB0aGlzLm5hbWUgXSApIHsKCgkJCQlyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7CgoJCQl9CgoJCQljb25zdCBwZW5kaW5nID0gW107CgkJCWNvbnN0IGV4dGVuc2lvbiA9IG1hdGVyaWFsRGVmLmV4dGVuc2lvbnNbIHRoaXMubmFtZSBdOwoKCQkJaWYgKCBleHRlbnNpb24uY2xlYXJjb2F0RmFjdG9yICE9PSB1bmRlZmluZWQgKSB7CgoJCQkJbWF0ZXJpYWxQYXJhbXMuY2xlYXJjb2F0ID0gZXh0ZW5zaW9uLmNsZWFyY29hdEZhY3RvcjsKCgkJCX0KCgkJCWlmICggZXh0ZW5zaW9uLmNsZWFyY29hdFRleHR1cmUgIT09IHVuZGVmaW5lZCApIHsKCgkJCQlwZW5kaW5nLnB1c2goIHBhcnNlci5hc3NpZ25UZXh0dXJlKCBtYXRlcmlhbFBhcmFtcywgJ2NsZWFyY29hdE1hcCcsIGV4dGVuc2lvbi5jbGVhcmNvYXRUZXh0dXJlICkgKTsKCgkJCX0KCgkJCWlmICggZXh0ZW5zaW9uLmNsZWFyY29hdFJvdWdobmVzc0ZhY3RvciAhPT0gdW5kZWZpbmVkICkgewoKCQkJCW1hdGVyaWFsUGFyYW1zLmNsZWFyY29hdFJvdWdobmVzcyA9IGV4dGVuc2lvbi5jbGVhcmNvYXRSb3VnaG5lc3NGYWN0b3I7CgoJCQl9CgoJCQlpZiAoIGV4dGVuc2lvbi5jbGVhcmNvYXRSb3VnaG5lc3NUZXh0dXJlICE9PSB1bmRlZmluZWQgKSB7CgoJCQkJcGVuZGluZy5wdXNoKCBwYXJzZXIuYXNzaWduVGV4dHVyZSggbWF0ZXJpYWxQYXJhbXMsICdjbGVhcmNvYXRSb3VnaG5lc3NNYXAnLCBleHRlbnNpb24uY2xlYXJjb2F0Um91Z2huZXNzVGV4dHVyZSApICk7CgoJCQl9CgoJCQlpZiAoIGV4dGVuc2lvbi5jbGVhcmNvYXROb3JtYWxUZXh0dXJlICE9PSB1bmRlZmluZWQgKSB7CgoJCQkJcGVuZGluZy5wdXNoKCBwYXJzZXIuYXNzaWduVGV4dHVyZSggbWF0ZXJpYWxQYXJhbXMsICdjbGVhcmNvYXROb3JtYWxNYXAnLCBleHRlbnNpb24uY2xlYXJjb2F0Tm9ybWFsVGV4dHVyZSApICk7CgoJCQkJaWYgKCBleHRlbnNpb24uY2xlYXJjb2F0Tm9ybWFsVGV4dHVyZS5zY2FsZSAhPT0gdW5kZWZpbmVkICkgewoKCQkJCQljb25zdCBzY2FsZSA9IGV4dGVuc2lvbi5jbGVhcmNvYXROb3JtYWxUZXh0dXJlLnNjYWxlOyAvLyBodHRwczovL2dpdGh1Yi5jb20vbXJkb29iL3RocmVlLmpzL2lzc3Vlcy8xMTQzOCNpc3N1ZWNvbW1lbnQtNTA3MDAzOTk1CgoJCQkJCW1hdGVyaWFsUGFyYW1zLmNsZWFyY29hdE5vcm1hbFNjYWxlID0gbmV3IFRIUkVFLlZlY3RvcjIoIHNjYWxlLCAtIHNjYWxlICk7CgoJCQkJfQoKCQkJfQoKCQkJcmV0dXJuIFByb21pc2UuYWxsKCBwZW5kaW5nICk7CgoJCX0KCgl9CgkvKioKCSAqIFRyYW5zbWlzc2lvbiBNYXRlcmlhbHMgRXh0ZW5zaW9uCgkgKgoJICogU3BlY2lmaWNhdGlvbjogaHR0cHM6Ly9naXRodWIuY29tL0tocm9ub3NHcm91cC9nbFRGL3RyZWUvbWFzdGVyL2V4dGVuc2lvbnMvMi4wL0tocm9ub3MvS0hSX21hdGVyaWFsc190cmFuc21pc3Npb24KCSAqIERyYWZ0OiBodHRwczovL2dpdGh1Yi5jb20vS2hyb25vc0dyb3VwL2dsVEYvcHVsbC8xNjk4CgkgKi8KCgoJY2xhc3MgR0xURk1hdGVyaWFsc1RyYW5zbWlzc2lvbkV4dGVuc2lvbiB7CgoJCWNvbnN0cnVjdG9yKCBwYXJzZXIgKSB7CgoJCQl0aGlzLnBhcnNlciA9IHBhcnNlcjsKCQkJdGhpcy5uYW1lID0gRVhURU5TSU9OUy5LSFJfTUFURVJJQUxTX1RSQU5TTUlTU0lPTjsKCgkJfQoKCQlnZXRNYXRlcmlhbFR5cGUoIG1hdGVyaWFsSW5kZXggKSB7CgoJCQljb25zdCBwYXJzZXIgPSB0aGlzLnBhcnNlcjsKCQkJY29uc3QgbWF0ZXJpYWxEZWYgPSBwYXJzZXIuanNvbi5tYXRlcmlhbHNbIG1hdGVyaWFsSW5kZXggXTsKCQkJaWYgKCAhIG1hdGVyaWFsRGVmLmV4dGVuc2lvbnMgfHwgISBtYXRlcmlhbERlZi5leHRlbnNpb25zWyB0aGlzLm5hbWUgXSApIHJldHVybiBudWxsOwoJCQlyZXR1cm4gVEhSRUUuTWVzaFBoeXNpY2FsTWF0ZXJpYWw7CgoJCX0KCgkJZXh0ZW5kTWF0ZXJpYWxQYXJhbXMoIG1hdGVyaWFsSW5kZXgsIG1hdGVyaWFsUGFyYW1zICkgewoKCQkJY29uc3QgcGFyc2VyID0gdGhpcy5wYXJzZXI7CgkJCWNvbnN0IG1hdGVyaWFsRGVmID0gcGFyc2VyLmpzb24ubWF0ZXJpYWxzWyBtYXRlcmlhbEluZGV4IF07CgoJCQlpZiAoICEgbWF0ZXJpYWxEZWYuZXh0ZW5zaW9ucyB8fCAhIG1hdGVyaWFsRGVmLmV4dGVuc2lvbnNbIHRoaXMubmFtZSBdICkgewoKCQkJCXJldHVybiBQcm9taXNlLnJlc29sdmUoKTsKCgkJCX0KCgkJCWNvbnN0IHBlbmRpbmcgPSBbXTsKCQkJY29uc3QgZXh0ZW5zaW9uID0gbWF0ZXJpYWxEZWYuZXh0ZW5zaW9uc1sgdGhpcy5uYW1lIF07CgoJCQlpZiAoIGV4dGVuc2lvbi50cmFuc21pc3Npb25GYWN0b3IgIT09IHVuZGVmaW5lZCApIHsKCgkJCQltYXRlcmlhbFBhcmFtcy50cmFuc21pc3Npb24gPSBleHRlbnNpb24udHJhbnNtaXNzaW9uRmFjdG9yOwoKCQkJfQoKCQkJaWYgKCBleHRlbnNpb24udHJhbnNtaXNzaW9uVGV4dHVyZSAhPT0gdW5kZWZpbmVkICkgewoKCQkJCXBlbmRpbmcucHVzaCggcGFyc2VyLmFzc2lnblRleHR1cmUoIG1hdGVyaWFsUGFyYW1zLCAndHJhbnNtaXNzaW9uTWFwJywgZXh0ZW5zaW9uLnRyYW5zbWlzc2lvblRleHR1cmUgKSApOwoKCQkJfQoKCQkJcmV0dXJuIFByb21pc2UuYWxsKCBwZW5kaW5nICk7CgoJCX0KCgl9CgkvKioKCSAqIEJhc2lzVSBUZXh0dXJlIEV4dGVuc2lvbgoJICoKCSAqIFNwZWNpZmljYXRpb246IGh0dHBzOi8vZ2l0aHViLmNvbS9LaHJvbm9zR3JvdXAvZ2xURi90cmVlL21hc3Rlci9leHRlbnNpb25zLzIuMC9LaHJvbm9zL0tIUl90ZXh0dXJlX2Jhc2lzdQoJICovCgoKCWNsYXNzIEdMVEZUZXh0dXJlQmFzaXNVRXh0ZW5zaW9uIHsKCgkJY29uc3RydWN0b3IoIHBhcnNlciApIHsKCgkJCXRoaXMucGFyc2VyID0gcGFyc2VyOwoJCQl0aGlzLm5hbWUgPSBFWFRFTlNJT05TLktIUl9URVhUVVJFX0JBU0lTVTsKCgkJfQoKCQlsb2FkVGV4dHVyZSggdGV4dHVyZUluZGV4ICkgewoKCQkJY29uc3QgcGFyc2VyID0gdGhpcy5wYXJzZXI7CgkJCWNvbnN0IGpzb24gPSBwYXJzZXIuanNvbjsKCQkJY29uc3QgdGV4dHVyZURlZiA9IGpzb24udGV4dHVyZXNbIHRleHR1cmVJbmRleCBdOwoKCQkJaWYgKCAhIHRleHR1cmVEZWYuZXh0ZW5zaW9ucyB8fCAhIHRleHR1cmVEZWYuZXh0ZW5zaW9uc1sgdGhpcy5uYW1lIF0gKSB7CgoJCQkJcmV0dXJuIG51bGw7CgoJCQl9CgoJCQljb25zdCBleHRlbnNpb24gPSB0ZXh0dXJlRGVmLmV4dGVuc2lvbnNbIHRoaXMubmFtZSBdOwoJCQljb25zdCBzb3VyY2UgPSBqc29uLmltYWdlc1sgZXh0ZW5zaW9uLnNvdXJjZSBdOwoJCQljb25zdCBsb2FkZXIgPSBwYXJzZXIub3B0aW9ucy5rdHgyTG9hZGVyOwoKCQkJaWYgKCAhIGxvYWRlciApIHsKCgkJCQlpZiAoIGpzb24uZXh0ZW5zaW9uc1JlcXVpcmVkICYmIGpzb24uZXh0ZW5zaW9uc1JlcXVpcmVkLmluZGV4T2YoIHRoaXMubmFtZSApID49IDAgKSB7CgoJCQkJCXRocm93IG5ldyBFcnJvciggJ1RIUkVFLkdMVEZMb2FkZXI6IHNldEtUWDJMb2FkZXIgbXVzdCBiZSBjYWxsZWQgYmVmb3JlIGxvYWRpbmcgS1RYMiB0ZXh0dXJlcycgKTsKCgkJCQl9IGVsc2UgewoKCQkJCQkvLyBBc3N1bWVzIHRoYXQgdGhlIGV4dGVuc2lvbiBpcyBvcHRpb25hbCBhbmQgdGhhdCBhIGZhbGxiYWNrIHRleHR1cmUgaXMgcHJlc2VudAoJCQkJCXJldHVybiBudWxsOwoKCQkJCX0KCgkJCX0KCgkJCXJldHVybiBwYXJzZXIubG9hZFRleHR1cmVJbWFnZSggdGV4dHVyZUluZGV4LCBzb3VyY2UsIGxvYWRlciApOwoKCQl9CgoJfQoJLyoqCgkgKiBXZWJQIFRleHR1cmUgRXh0ZW5zaW9uCgkgKgoJICogU3BlY2lmaWNhdGlvbjogaHR0cHM6Ly9naXRodWIuY29tL0tocm9ub3NHcm91cC9nbFRGL3RyZWUvbWFzdGVyL2V4dGVuc2lvbnMvMi4wL1ZlbmRvci9FWFRfdGV4dHVyZV93ZWJwCgkgKi8KCgoJY2xhc3MgR0xURlRleHR1cmVXZWJQRXh0ZW5zaW9uIHsKCgkJY29uc3RydWN0b3IoIHBhcnNlciApIHsKCgkJCXRoaXMucGFyc2VyID0gcGFyc2VyOwoJCQl0aGlzLm5hbWUgPSBFWFRFTlNJT05TLkVYVF9URVhUVVJFX1dFQlA7CgkJCXRoaXMuaXNTdXBwb3J0ZWQgPSBudWxsOwoKCQl9CgoJCWxvYWRUZXh0dXJlKCB0ZXh0dXJlSW5kZXggKSB7CgoJCQljb25zdCBuYW1lID0gdGhpcy5uYW1lOwoJCQljb25zdCBwYXJzZXIgPSB0aGlzLnBhcnNlcjsKCQkJY29uc3QganNvbiA9IHBhcnNlci5qc29uOwoJCQljb25zdCB0ZXh0dXJlRGVmID0ganNvbi50ZXh0dXJlc1sgdGV4dHVyZUluZGV4IF07CgoJCQlpZiAoICEgdGV4dHVyZURlZi5leHRlbnNpb25zIHx8ICEgdGV4dHVyZURlZi5leHRlbnNpb25zWyBuYW1lIF0gKSB7CgoJCQkJcmV0dXJuIG51bGw7CgoJCQl9CgoJCQljb25zdCBleHRlbnNpb24gPSB0ZXh0dXJlRGVmLmV4dGVuc2lvbnNbIG5hbWUgXTsKCQkJY29uc3Qgc291cmNlID0ganNvbi5pbWFnZXNbIGV4dGVuc2lvbi5zb3VyY2UgXTsKCQkJbGV0IGxvYWRlciA9IHBhcnNlci50ZXh0dXJlTG9hZGVyOwoKCQkJaWYgKCBzb3VyY2UudXJpICkgewoKCQkJCWNvbnN0IGhhbmRsZXIgPSBwYXJzZXIub3B0aW9ucy5tYW5hZ2VyLmdldEhhbmRsZXIoIHNvdXJjZS51cmkgKTsKCQkJCWlmICggaGFuZGxlciAhPT0gbnVsbCApIGxvYWRlciA9IGhhbmRsZXI7CgoJCQl9CgoJCQlyZXR1cm4gdGhpcy5kZXRlY3RTdXBwb3J0KCkudGhlbiggZnVuY3Rpb24gKCBpc1N1cHBvcnRlZCApIHsKCgkJCQlpZiAoIGlzU3VwcG9ydGVkICkgcmV0dXJuIHBhcnNlci5sb2FkVGV4dHVyZUltYWdlKCB0ZXh0dXJlSW5kZXgsIHNvdXJjZSwgbG9hZGVyICk7CgoJCQkJaWYgKCBqc29uLmV4dGVuc2lvbnNSZXF1aXJlZCAmJiBqc29uLmV4dGVuc2lvbnNSZXF1aXJlZC5pbmRleE9mKCBuYW1lICkgPj0gMCApIHsKCgkJCQkJdGhyb3cgbmV3IEVycm9yKCAnVEhSRUUuR0xURkxvYWRlcjogV2ViUCByZXF1aXJlZCBieSBhc3NldCBidXQgdW5zdXBwb3J0ZWQuJyApOwoKCQkJCX0gLy8gRmFsbCBiYWNrIHRvIFBORyBvciBKUEVHLgoKCgkJCQlyZXR1cm4gcGFyc2VyLmxvYWRUZXh0dXJlKCB0ZXh0dXJlSW5kZXggKTsKCgkJCX0gKTsKCgkJfQoKCQlkZXRlY3RTdXBwb3J0KCkgewoKCQkJaWYgKCAhIHRoaXMuaXNTdXBwb3J0ZWQgKSB7CgoJCQkJdGhpcy5pc1N1cHBvcnRlZCA9IG5ldyBQcm9taXNlKCBmdW5jdGlvbiAoIHJlc29sdmUgKSB7CgoJCQkJCWNvbnN0IGltYWdlID0gbmV3IEltYWdlKCk7IC8vIExvc3N5IHRlc3QgaW1hZ2UuIFN1cHBvcnQgZm9yIGxvc3N5IGltYWdlcyBkb2Vzbid0IGd1YXJhbnRlZSBzdXBwb3J0IGZvciBhbGwKCQkJCQkvLyBXZWJQIGltYWdlcywgdW5mb3J0dW5hdGVseS4KCgkJCQkJaW1hZ2Uuc3JjID0gJ2RhdGE6aW1hZ2Uvd2VicDtiYXNlNjQsVWtsR1JpSUFBQUJYUlVKUVZsQTRJQllBQUFBd0FRQ2RBU29CQUFFQURzRCtKYVFBQTNBQUFBQUEnOwoKCQkJCQlpbWFnZS5vbmxvYWQgPSBpbWFnZS5vbmVycm9yID0gZnVuY3Rpb24gKCkgewoKCQkJCQkJcmVzb2x2ZSggaW1hZ2UuaGVpZ2h0ID09PSAxICk7CgoJCQkJCX07CgoJCQkJfSApOwoKCQkJfQoKCQkJcmV0dXJuIHRoaXMuaXNTdXBwb3J0ZWQ7CgoJCX0KCgl9CgkvKioKCSogbWVzaG9wdCBCdWZmZXJWaWV3IENvbXByZXNzaW9uIEV4dGVuc2lvbgoJKgoJKiBTcGVjaWZpY2F0aW9uOiBodHRwczovL2dpdGh1Yi5jb20vS2hyb25vc0dyb3VwL2dsVEYvdHJlZS9tYXN0ZXIvZXh0ZW5zaW9ucy8yLjAvVmVuZG9yL0VYVF9tZXNob3B0X2NvbXByZXNzaW9uCgkqLwoKCgljbGFzcyBHTFRGTWVzaG9wdENvbXByZXNzaW9uIHsKCgkJY29uc3RydWN0b3IoIHBhcnNlciApIHsKCgkJCXRoaXMubmFtZSA9IEVYVEVOU0lPTlMuRVhUX01FU0hPUFRfQ09NUFJFU1NJT047CgkJCXRoaXMucGFyc2VyID0gcGFyc2VyOwoKCQl9CgoJCWxvYWRCdWZmZXJWaWV3KCBpbmRleCApIHsKCgkJCWNvbnN0IGpzb24gPSB0aGlzLnBhcnNlci5qc29uOwoJCQljb25zdCBidWZmZXJWaWV3ID0ganNvbi5idWZmZXJWaWV3c1sgaW5kZXggXTsKCgkJCWlmICggYnVmZmVyVmlldy5leHRlbnNpb25zICYmIGJ1ZmZlclZpZXcuZXh0ZW5zaW9uc1sgdGhpcy5uYW1lIF0gKSB7CgoJCQkJY29uc3QgZXh0ZW5zaW9uRGVmID0gYnVmZmVyVmlldy5leHRlbnNpb25zWyB0aGlzLm5hbWUgXTsKCQkJCWNvbnN0IGJ1ZmZlciA9IHRoaXMucGFyc2VyLmdldERlcGVuZGVuY3koICdidWZmZXInLCBleHRlbnNpb25EZWYuYnVmZmVyICk7CgkJCQljb25zdCBkZWNvZGVyID0gdGhpcy5wYXJzZXIub3B0aW9ucy5tZXNob3B0RGVjb2RlcjsKCgkJCQlpZiAoICEgZGVjb2RlciB8fCAhIGRlY29kZXIuc3VwcG9ydGVkICkgewoKCQkJCQlpZiAoIGpzb24uZXh0ZW5zaW9uc1JlcXVpcmVkICYmIGpzb24uZXh0ZW5zaW9uc1JlcXVpcmVkLmluZGV4T2YoIHRoaXMubmFtZSApID49IDAgKSB7CgoJCQkJCQl0aHJvdyBuZXcgRXJyb3IoICdUSFJFRS5HTFRGTG9hZGVyOiBzZXRNZXNob3B0RGVjb2RlciBtdXN0IGJlIGNhbGxlZCBiZWZvcmUgbG9hZGluZyBjb21wcmVzc2VkIGZpbGVzJyApOwoKCQkJCQl9IGVsc2UgewoKCQkJCQkJLy8gQXNzdW1lcyB0aGF0IHRoZSBleHRlbnNpb24gaXMgb3B0aW9uYWwgYW5kIHRoYXQgZmFsbGJhY2sgYnVmZmVyIGRhdGEgaXMgcHJlc2VudAoJCQkJCQlyZXR1cm4gbnVsbDsKCgkJCQkJfQoKCQkJCX0KCgkJCQlyZXR1cm4gUHJvbWlzZS5hbGwoIFsgYnVmZmVyLCBkZWNvZGVyLnJlYWR5IF0gKS50aGVuKCBmdW5jdGlvbiAoIHJlcyApIHsKCgkJCQkJY29uc3QgYnl0ZU9mZnNldCA9IGV4dGVuc2lvbkRlZi5ieXRlT2Zmc2V0IHx8IDA7CgkJCQkJY29uc3QgYnl0ZUxlbmd0aCA9IGV4dGVuc2lvbkRlZi5ieXRlTGVuZ3RoIHx8IDA7CgkJCQkJY29uc3QgY291bnQgPSBleHRlbnNpb25EZWYuY291bnQ7CgkJCQkJY29uc3Qgc3RyaWRlID0gZXh0ZW5zaW9uRGVmLmJ5dGVTdHJpZGU7CgkJCQkJY29uc3QgcmVzdWx0ID0gbmV3IEFycmF5QnVmZmVyKCBjb3VudCAqIHN0cmlkZSApOwoJCQkJCWNvbnN0IHNvdXJjZSA9IG5ldyBVaW50OEFycmF5KCByZXNbIDAgXSwgYnl0ZU9mZnNldCwgYnl0ZUxlbmd0aCApOwoJCQkJCWRlY29kZXIuZGVjb2RlR2x0ZkJ1ZmZlciggbmV3IFVpbnQ4QXJyYXkoIHJlc3VsdCApLCBjb3VudCwgc3RyaWRlLCBzb3VyY2UsIGV4dGVuc2lvbkRlZi5tb2RlLCBleHRlbnNpb25EZWYuZmlsdGVyICk7CgkJCQkJcmV0dXJuIHJlc3VsdDsKCgkJCQl9ICk7CgoJCQl9IGVsc2UgewoKCQkJCXJldHVybiBudWxsOwoKCQkJfQoKCQl9CgoJfQoJLyogQklOQVJZIEVYVEVOU0lPTiAqLwoKCgljb25zdCBCSU5BUllfRVhURU5TSU9OX0hFQURFUl9NQUdJQyA9ICdnbFRGJzsKCWNvbnN0IEJJTkFSWV9FWFRFTlNJT05fSEVBREVSX0xFTkdUSCA9IDEyOwoJY29uc3QgQklOQVJZX0VYVEVOU0lPTl9DSFVOS19UWVBFUyA9IHsKCQlKU09OOiAweDRFNEY1MzRBLAoJCUJJTjogMHgwMDRFNDk0MgoJfTsKCgljbGFzcyBHTFRGQmluYXJ5RXh0ZW5zaW9uIHsKCgkJY29uc3RydWN0b3IoIGRhdGEgKSB7CgoJCQl0aGlzLm5hbWUgPSBFWFRFTlNJT05TLktIUl9CSU5BUllfR0xURjsKCQkJdGhpcy5jb250ZW50ID0gbnVsbDsKCQkJdGhpcy5ib2R5ID0gbnVsbDsKCQkJY29uc3QgaGVhZGVyVmlldyA9IG5ldyBEYXRhVmlldyggZGF0YSwgMCwgQklOQVJZX0VYVEVOU0lPTl9IRUFERVJfTEVOR1RIICk7CgkJCXRoaXMuaGVhZGVyID0gewoJCQkJbWFnaWM6IFRIUkVFLkxvYWRlclV0aWxzLmRlY29kZVRleHQoIG5ldyBVaW50OEFycmF5KCBkYXRhLnNsaWNlKCAwLCA0ICkgKSApLAoJCQkJdmVyc2lvbjogaGVhZGVyVmlldy5nZXRVaW50MzIoIDQsIHRydWUgKSwKCQkJCWxlbmd0aDogaGVhZGVyVmlldy5nZXRVaW50MzIoIDgsIHRydWUgKQoJCQl9OwoKCQkJaWYgKCB0aGlzLmhlYWRlci5tYWdpYyAhPT0gQklOQVJZX0VYVEVOU0lPTl9IRUFERVJfTUFHSUMgKSB7CgoJCQkJdGhyb3cgbmV3IEVycm9yKCAnVEhSRUUuR0xURkxvYWRlcjogVW5zdXBwb3J0ZWQgZ2xURi1CaW5hcnkgaGVhZGVyLicgKTsKCgkJCX0gZWxzZSBpZiAoIHRoaXMuaGVhZGVyLnZlcnNpb24gPCAyLjAgKSB7CgoJCQkJdGhyb3cgbmV3IEVycm9yKCAnVEhSRUUuR0xURkxvYWRlcjogTGVnYWN5IGJpbmFyeSBmaWxlIGRldGVjdGVkLicgKTsKCgkJCX0KCgkJCWNvbnN0IGNodW5rQ29udGVudHNMZW5ndGggPSB0aGlzLmhlYWRlci5sZW5ndGggLSBCSU5BUllfRVhURU5TSU9OX0hFQURFUl9MRU5HVEg7CgkJCWNvbnN0IGNodW5rVmlldyA9IG5ldyBEYXRhVmlldyggZGF0YSwgQklOQVJZX0VYVEVOU0lPTl9IRUFERVJfTEVOR1RIICk7CgkJCWxldCBjaHVua0luZGV4ID0gMDsKCgkJCXdoaWxlICggY2h1bmtJbmRleCA8IGNodW5rQ29udGVudHNMZW5ndGggKSB7CgoJCQkJY29uc3QgY2h1bmtMZW5ndGggPSBjaHVua1ZpZXcuZ2V0VWludDMyKCBjaHVua0luZGV4LCB0cnVlICk7CgkJCQljaHVua0luZGV4ICs9IDQ7CgkJCQljb25zdCBjaHVua1R5cGUgPSBjaHVua1ZpZXcuZ2V0VWludDMyKCBjaHVua0luZGV4LCB0cnVlICk7CgkJCQljaHVua0luZGV4ICs9IDQ7CgoJCQkJaWYgKCBjaHVua1R5cGUgPT09IEJJTkFSWV9FWFRFTlNJT05fQ0hVTktfVFlQRVMuSlNPTiApIHsKCgkJCQkJY29uc3QgY29udGVudEFycmF5ID0gbmV3IFVpbnQ4QXJyYXkoIGRhdGEsIEJJTkFSWV9FWFRFTlNJT05fSEVBREVSX0xFTkdUSCArIGNodW5rSW5kZXgsIGNodW5rTGVuZ3RoICk7CgkJCQkJdGhpcy5jb250ZW50ID0gVEhSRUUuTG9hZGVyVXRpbHMuZGVjb2RlVGV4dCggY29udGVudEFycmF5ICk7CgoJCQkJfSBlbHNlIGlmICggY2h1bmtUeXBlID09PSBCSU5BUllfRVhURU5TSU9OX0NIVU5LX1RZUEVTLkJJTiApIHsKCgkJCQkJY29uc3QgYnl0ZU9mZnNldCA9IEJJTkFSWV9FWFRFTlNJT05fSEVBREVSX0xFTkdUSCArIGNodW5rSW5kZXg7CgkJCQkJdGhpcy5ib2R5ID0gZGF0YS5zbGljZSggYnl0ZU9mZnNldCwgYnl0ZU9mZnNldCArIGNodW5rTGVuZ3RoICk7CgoJCQkJfSAvLyBDbGllbnRzIG11c3QgaWdub3JlIGNodW5rcyB3aXRoIHVua25vd24gdHlwZXMuCgoKCQkJCWNodW5rSW5kZXggKz0gY2h1bmtMZW5ndGg7CgoJCQl9CgoJCQlpZiAoIHRoaXMuY29udGVudCA9PT0gbnVsbCApIHsKCgkJCQl0aHJvdyBuZXcgRXJyb3IoICdUSFJFRS5HTFRGTG9hZGVyOiBKU09OIGNvbnRlbnQgbm90IGZvdW5kLicgKTsKCgkJCX0KCgkJfQoKCX0KCS8qKgoJICogRFJBQ08gVEhSRUUuTWVzaCBDb21wcmVzc2lvbiBFeHRlbnNpb24KCSAqCgkgKiBTcGVjaWZpY2F0aW9uOiBodHRwczovL2dpdGh1Yi5jb20vS2hyb25vc0dyb3VwL2dsVEYvdHJlZS9tYXN0ZXIvZXh0ZW5zaW9ucy8yLjAvS2hyb25vcy9LSFJfZHJhY29fbWVzaF9jb21wcmVzc2lvbgoJICovCgoKCWNsYXNzIEdMVEZEcmFjb01lc2hDb21wcmVzc2lvbkV4dGVuc2lvbiB7CgoJCWNvbnN0cnVjdG9yKCBqc29uLCBkcmFjb0xvYWRlciApIHsKCgkJCWlmICggISBkcmFjb0xvYWRlciApIHsKCgkJCQl0aHJvdyBuZXcgRXJyb3IoICdUSFJFRS5HTFRGTG9hZGVyOiBObyBEUkFDT0xvYWRlciBpbnN0YW5jZSBwcm92aWRlZC4nICk7CgoJCQl9CgoJCQl0aGlzLm5hbWUgPSBFWFRFTlNJT05TLktIUl9EUkFDT19NRVNIX0NPTVBSRVNTSU9OOwoJCQl0aGlzLmpzb24gPSBqc29uOwoJCQl0aGlzLmRyYWNvTG9hZGVyID0gZHJhY29Mb2FkZXI7CgkJCXRoaXMuZHJhY29Mb2FkZXIucHJlbG9hZCgpOwoKCQl9CgoJCWRlY29kZVByaW1pdGl2ZSggcHJpbWl0aXZlLCBwYXJzZXIgKSB7CgoJCQljb25zdCBqc29uID0gdGhpcy5qc29uOwoJCQljb25zdCBkcmFjb0xvYWRlciA9IHRoaXMuZHJhY29Mb2FkZXI7CgkJCWNvbnN0IGJ1ZmZlclZpZXdJbmRleCA9IHByaW1pdGl2ZS5leHRlbnNpb25zWyB0aGlzLm5hbWUgXS5idWZmZXJWaWV3OwoJCQljb25zdCBnbHRmQXR0cmlidXRlTWFwID0gcHJpbWl0aXZlLmV4dGVuc2lvbnNbIHRoaXMubmFtZSBdLmF0dHJpYnV0ZXM7CgkJCWNvbnN0IHRocmVlQXR0cmlidXRlTWFwID0ge307CgkJCWNvbnN0IGF0dHJpYnV0ZU5vcm1hbGl6ZWRNYXAgPSB7fTsKCQkJY29uc3QgYXR0cmlidXRlVHlwZU1hcCA9IHt9OwoKCQkJZm9yICggY29uc3QgYXR0cmlidXRlTmFtZSBpbiBnbHRmQXR0cmlidXRlTWFwICkgewoKCQkJCWNvbnN0IHRocmVlQXR0cmlidXRlTmFtZSA9IEFUVFJJQlVURVNbIGF0dHJpYnV0ZU5hbWUgXSB8fCBhdHRyaWJ1dGVOYW1lLnRvTG93ZXJDYXNlKCk7CgkJCQl0aHJlZUF0dHJpYnV0ZU1hcFsgdGhyZWVBdHRyaWJ1dGVOYW1lIF0gPSBnbHRmQXR0cmlidXRlTWFwWyBhdHRyaWJ1dGVOYW1lIF07CgoJCQl9CgoJCQlmb3IgKCBjb25zdCBhdHRyaWJ1dGVOYW1lIGluIHByaW1pdGl2ZS5hdHRyaWJ1dGVzICkgewoKCQkJCWNvbnN0IHRocmVlQXR0cmlidXRlTmFtZSA9IEFUVFJJQlVURVNbIGF0dHJpYnV0ZU5hbWUgXSB8fCBhdHRyaWJ1dGVOYW1lLnRvTG93ZXJDYXNlKCk7CgoJCQkJaWYgKCBnbHRmQXR0cmlidXRlTWFwWyBhdHRyaWJ1dGVOYW1lIF0gIT09IHVuZGVmaW5lZCApIHsKCgkJCQkJY29uc3QgYWNjZXNzb3JEZWYgPSBqc29uLmFjY2Vzc29yc1sgcHJpbWl0aXZlLmF0dHJpYnV0ZXNbIGF0dHJpYnV0ZU5hbWUgXSBdOwoJCQkJCWNvbnN0IGNvbXBvbmVudFR5cGUgPSBXRUJHTF9DT01QT05FTlRfVFlQRVNbIGFjY2Vzc29yRGVmLmNvbXBvbmVudFR5cGUgXTsKCQkJCQlhdHRyaWJ1dGVUeXBlTWFwWyB0aHJlZUF0dHJpYnV0ZU5hbWUgXSA9IGNvbXBvbmVudFR5cGU7CgkJCQkJYXR0cmlidXRlTm9ybWFsaXplZE1hcFsgdGhyZWVBdHRyaWJ1dGVOYW1lIF0gPSBhY2Nlc3NvckRlZi5ub3JtYWxpemVkID09PSB0cnVlOwoKCQkJCX0KCgkJCX0KCgkJCXJldHVybiBwYXJzZXIuZ2V0RGVwZW5kZW5jeSggJ2J1ZmZlclZpZXcnLCBidWZmZXJWaWV3SW5kZXggKS50aGVuKCBmdW5jdGlvbiAoIGJ1ZmZlclZpZXcgKSB7CgoJCQkJcmV0dXJuIG5ldyBQcm9taXNlKCBmdW5jdGlvbiAoIHJlc29sdmUgKSB7CgoJCQkJCWRyYWNvTG9hZGVyLmRlY29kZURyYWNvRmlsZSggYnVmZmVyVmlldywgZnVuY3Rpb24gKCBnZW9tZXRyeSApIHsKCgkJCQkJCWZvciAoIGNvbnN0IGF0dHJpYnV0ZU5hbWUgaW4gZ2VvbWV0cnkuYXR0cmlidXRlcyApIHsKCgkJCQkJCQljb25zdCBhdHRyaWJ1dGUgPSBnZW9tZXRyeS5hdHRyaWJ1dGVzWyBhdHRyaWJ1dGVOYW1lIF07CgkJCQkJCQljb25zdCBub3JtYWxpemVkID0gYXR0cmlidXRlTm9ybWFsaXplZE1hcFsgYXR0cmlidXRlTmFtZSBdOwoJCQkJCQkJaWYgKCBub3JtYWxpemVkICE9PSB1bmRlZmluZWQgKSBhdHRyaWJ1dGUubm9ybWFsaXplZCA9IG5vcm1hbGl6ZWQ7CgoJCQkJCQl9CgoJCQkJCQlyZXNvbHZlKCBnZW9tZXRyeSApOwoKCQkJCQl9LCB0aHJlZUF0dHJpYnV0ZU1hcCwgYXR0cmlidXRlVHlwZU1hcCApOwoKCQkJCX0gKTsKCgkJCX0gKTsKCgkJfQoKCX0KCS8qKgoJICogVGV4dHVyZSBUcmFuc2Zvcm0gRXh0ZW5zaW9uCgkgKgoJICogU3BlY2lmaWNhdGlvbjogaHR0cHM6Ly9naXRodWIuY29tL0tocm9ub3NHcm91cC9nbFRGL3RyZWUvbWFzdGVyL2V4dGVuc2lvbnMvMi4wL0tocm9ub3MvS0hSX3RleHR1cmVfdHJhbnNmb3JtCgkgKi8KCgoJY2xhc3MgR0xURlRleHR1cmVUcmFuc2Zvcm1FeHRlbnNpb24gewoKCQljb25zdHJ1Y3RvcigpIHsKCgkJCXRoaXMubmFtZSA9IEVYVEVOU0lPTlMuS0hSX1RFWFRVUkVfVFJBTlNGT1JNOwoKCQl9CgoJCWV4dGVuZFRleHR1cmUoIHRleHR1cmUsIHRyYW5zZm9ybSApIHsKCgkJCXRleHR1cmUgPSB0ZXh0dXJlLmNsb25lKCk7CgoJCQlpZiAoIHRyYW5zZm9ybS5vZmZzZXQgIT09IHVuZGVmaW5lZCApIHsKCgkJCQl0ZXh0dXJlLm9mZnNldC5mcm9tQXJyYXkoIHRyYW5zZm9ybS5vZmZzZXQgKTsKCgkJCX0KCgkJCWlmICggdHJhbnNmb3JtLnJvdGF0aW9uICE9PSB1bmRlZmluZWQgKSB7CgoJCQkJdGV4dHVyZS5yb3RhdGlvbiA9IHRyYW5zZm9ybS5yb3RhdGlvbjsKCgkJCX0KCgkJCWlmICggdHJhbnNmb3JtLnNjYWxlICE9PSB1bmRlZmluZWQgKSB7CgoJCQkJdGV4dHVyZS5yZXBlYXQuZnJvbUFycmF5KCB0cmFuc2Zvcm0uc2NhbGUgKTsKCgkJCX0KCgkJCWlmICggdHJhbnNmb3JtLnRleENvb3JkICE9PSB1bmRlZmluZWQgKSB7CgoJCQkJY29uc29sZS53YXJuKCAnVEhSRUUuR0xURkxvYWRlcjogQ3VzdG9tIFVWIHNldHMgaW4gIicgKyB0aGlzLm5hbWUgKyAnIiBleHRlbnNpb24gbm90IHlldCBzdXBwb3J0ZWQuJyApOwoKCQkJfQoKCQkJdGV4dHVyZS5uZWVkc1VwZGF0ZSA9IHRydWU7CgkJCXJldHVybiB0ZXh0dXJlOwoKCQl9CgoJfQoJLyoqCgkgKiBTcGVjdWxhci1HbG9zc2luZXNzIEV4dGVuc2lvbgoJICoKCSAqIFNwZWNpZmljYXRpb246IGh0dHBzOi8vZ2l0aHViLmNvbS9LaHJvbm9zR3JvdXAvZ2xURi90cmVlL21hc3Rlci9leHRlbnNpb25zLzIuMC9LaHJvbm9zL0tIUl9tYXRlcmlhbHNfcGJyU3BlY3VsYXJHbG9zc2luZXNzCgkgKi8KCgkvKioKCSAqIEEgc3ViIGNsYXNzIG9mIFN0YW5kYXJkTWF0ZXJpYWwgd2l0aCBzb21lIG9mIHRoZSBmdW5jdGlvbmFsaXR5CgkgKiBjaGFuZ2VkIHZpYSB0aGUgYG9uQmVmb3JlQ29tcGlsZWAgY2FsbGJhY2sKCSAqIEBwYWlsaGVhZAoJICovCgoKCWNsYXNzIEdMVEZNZXNoU3RhbmRhcmRTR01hdGVyaWFsIGV4dGVuZHMgVEhSRUUuTWVzaFN0YW5kYXJkTWF0ZXJpYWwgewoKCQljb25zdHJ1Y3RvciggcGFyYW1zICkgewoKCQkJc3VwZXIoKTsKCQkJdGhpcy5pc0dMVEZTcGVjdWxhckdsb3NzaW5lc3NNYXRlcmlhbCA9IHRydWU7IC8vdmFyaW91cyBjaHVua3MgdGhhdCBuZWVkIHJlcGxhY2luZwoKCQkJY29uc3Qgc3BlY3VsYXJNYXBQYXJzRnJhZ21lbnRDaHVuayA9IFsgJyNpZmRlZiBVU0VfU1BFQ1VMQVJNQVAnLCAnCXVuaWZvcm0gc2FtcGxlcjJEIHNwZWN1bGFyTWFwOycsICcjZW5kaWYnIF0uam9pbiggJ1xuJyApOwoJCQljb25zdCBnbG9zc2luZXNzTWFwUGFyc0ZyYWdtZW50Q2h1bmsgPSBbICcjaWZkZWYgVVNFX0dMT1NTSU5FU1NNQVAnLCAnCXVuaWZvcm0gc2FtcGxlcjJEIGdsb3NzaW5lc3NNYXA7JywgJyNlbmRpZicgXS5qb2luKCAnXG4nICk7CgkJCWNvbnN0IHNwZWN1bGFyTWFwRnJhZ21lbnRDaHVuayA9IFsgJ3ZlYzMgc3BlY3VsYXJGYWN0b3IgPSBzcGVjdWxhcjsnLCAnI2lmZGVmIFVTRV9TUEVDVUxBUk1BUCcsICcJdmVjNCB0ZXhlbFNwZWN1bGFyID0gdGV4dHVyZTJEKCBzcGVjdWxhck1hcCwgdlV2ICk7JywgJwl0ZXhlbFNwZWN1bGFyID0gc1JHQlRvTGluZWFyKCB0ZXhlbFNwZWN1bGFyICk7JywgJwkvLyByZWFkcyBjaGFubmVsIFJHQiwgY29tcGF0aWJsZSB3aXRoIGEgZ2xURiBTcGVjdWxhci1HbG9zc2luZXNzIChSR0JBKSB0ZXh0dXJlJywgJwlzcGVjdWxhckZhY3RvciAqPSB0ZXhlbFNwZWN1bGFyLnJnYjsnLCAnI2VuZGlmJyBdLmpvaW4oICdcbicgKTsKCQkJY29uc3QgZ2xvc3NpbmVzc01hcEZyYWdtZW50Q2h1bmsgPSBbICdmbG9hdCBnbG9zc2luZXNzRmFjdG9yID0gZ2xvc3NpbmVzczsnLCAnI2lmZGVmIFVTRV9HTE9TU0lORVNTTUFQJywgJwl2ZWM0IHRleGVsR2xvc3NpbmVzcyA9IHRleHR1cmUyRCggZ2xvc3NpbmVzc01hcCwgdlV2ICk7JywgJwkvLyByZWFkcyBjaGFubmVsIEEsIGNvbXBhdGlibGUgd2l0aCBhIGdsVEYgU3BlY3VsYXItR2xvc3NpbmVzcyAoUkdCQSkgdGV4dHVyZScsICcJZ2xvc3NpbmVzc0ZhY3RvciAqPSB0ZXhlbEdsb3NzaW5lc3MuYTsnLCAnI2VuZGlmJyBdLmpvaW4oICdcbicgKTsKCQkJY29uc3QgbGlnaHRQaHlzaWNhbEZyYWdtZW50Q2h1bmsgPSBbICdQaHlzaWNhbE1hdGVyaWFsIG1hdGVyaWFsOycsICdtYXRlcmlhbC5kaWZmdXNlQ29sb3IgPSBkaWZmdXNlQ29sb3IucmdiICogKCAxLiAtIG1heCggc3BlY3VsYXJGYWN0b3IuciwgbWF4KCBzcGVjdWxhckZhY3Rvci5nLCBzcGVjdWxhckZhY3Rvci5iICkgKSApOycsICd2ZWMzIGR4eSA9IG1heCggYWJzKCBkRmR4KCBnZW9tZXRyeU5vcm1hbCApICksIGFicyggZEZkeSggZ2VvbWV0cnlOb3JtYWwgKSApICk7JywgJ2Zsb2F0IGdlb21ldHJ5Um91Z2huZXNzID0gbWF4KCBtYXgoIGR4eS54LCBkeHkueSApLCBkeHkueiApOycsICdtYXRlcmlhbC5zcGVjdWxhclJvdWdobmVzcyA9IG1heCggMS4wIC0gZ2xvc3NpbmVzc0ZhY3RvciwgMC4wNTI1ICk7IC8vIDAuMDUyNSBjb3JyZXNwb25kcyB0byB0aGUgYmFzZSBtaXAgb2YgYSAyNTYgY3ViZW1hcC4nLCAnbWF0ZXJpYWwuc3BlY3VsYXJSb3VnaG5lc3MgKz0gZ2VvbWV0cnlSb3VnaG5lc3M7JywgJ21hdGVyaWFsLnNwZWN1bGFyUm91Z2huZXNzID0gbWluKCBtYXRlcmlhbC5zcGVjdWxhclJvdWdobmVzcywgMS4wICk7JywgJ21hdGVyaWFsLnNwZWN1bGFyQ29sb3IgPSBzcGVjdWxhckZhY3RvcjsnIF0uam9pbiggJ1xuJyApOwoJCQljb25zdCB1bmlmb3JtcyA9IHsKCQkJCXNwZWN1bGFyOiB7CgkJCQkJdmFsdWU6IG5ldyBUSFJFRS5Db2xvcigpLnNldEhleCggMHhmZmZmZmYgKQoJCQkJfSwKCQkJCWdsb3NzaW5lc3M6IHsKCQkJCQl2YWx1ZTogMQoJCQkJfSwKCQkJCXNwZWN1bGFyTWFwOiB7CgkJCQkJdmFsdWU6IG51bGwKCQkJCX0sCgkJCQlnbG9zc2luZXNzTWFwOiB7CgkJCQkJdmFsdWU6IG51bGwKCQkJCX0KCQkJfTsKCQkJdGhpcy5fZXh0cmFVbmlmb3JtcyA9IHVuaWZvcm1zOwoKCQkJdGhpcy5vbkJlZm9yZUNvbXBpbGUgPSBmdW5jdGlvbiAoIHNoYWRlciApIHsKCgkJCQlmb3IgKCBjb25zdCB1bmlmb3JtTmFtZSBpbiB1bmlmb3JtcyApIHsKCgkJCQkJc2hhZGVyLnVuaWZvcm1zWyB1bmlmb3JtTmFtZSBdID0gdW5pZm9ybXNbIHVuaWZvcm1OYW1lIF07CgoJCQkJfQoKCQkJCXNoYWRlci5mcmFnbWVudFNoYWRlciA9IHNoYWRlci5mcmFnbWVudFNoYWRlci5yZXBsYWNlKCAndW5pZm9ybSBmbG9hdCByb3VnaG5lc3M7JywgJ3VuaWZvcm0gdmVjMyBzcGVjdWxhcjsnICkucmVwbGFjZSggJ3VuaWZvcm0gZmxvYXQgbWV0YWxuZXNzOycsICd1bmlmb3JtIGZsb2F0IGdsb3NzaW5lc3M7JyApLnJlcGxhY2UoICcjaW5jbHVkZSA8cm91Z2huZXNzbWFwX3BhcnNfZnJhZ21lbnQ+Jywgc3BlY3VsYXJNYXBQYXJzRnJhZ21lbnRDaHVuayApLnJlcGxhY2UoICcjaW5jbHVkZSA8bWV0YWxuZXNzbWFwX3BhcnNfZnJhZ21lbnQ+JywgZ2xvc3NpbmVzc01hcFBhcnNGcmFnbWVudENodW5rICkucmVwbGFjZSggJyNpbmNsdWRlIDxyb3VnaG5lc3NtYXBfZnJhZ21lbnQ+Jywgc3BlY3VsYXJNYXBGcmFnbWVudENodW5rICkucmVwbGFjZSggJyNpbmNsdWRlIDxtZXRhbG5lc3NtYXBfZnJhZ21lbnQ+JywgZ2xvc3NpbmVzc01hcEZyYWdtZW50Q2h1bmsgKS5yZXBsYWNlKCAnI2luY2x1ZGUgPGxpZ2h0c19waHlzaWNhbF9mcmFnbWVudD4nLCBsaWdodFBoeXNpY2FsRnJhZ21lbnRDaHVuayApOwoKCQkJfTsKCgkJCU9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKCB0aGlzLCB7CgkJCQlzcGVjdWxhcjogewoJCQkJCWdldDogZnVuY3Rpb24gKCkgewoKCQkJCQkJcmV0dXJuIHVuaWZvcm1zLnNwZWN1bGFyLnZhbHVlOwoKCQkJCQl9LAoJCQkJCXNldDogZnVuY3Rpb24gKCB2ICkgewoKCQkJCQkJdW5pZm9ybXMuc3BlY3VsYXIudmFsdWUgPSB2OwoKCQkJCQl9CgkJCQl9LAoJCQkJc3BlY3VsYXJNYXA6IHsKCQkJCQlnZXQ6IGZ1bmN0aW9uICgpIHsKCgkJCQkJCXJldHVybiB1bmlmb3Jtcy5zcGVjdWxhck1hcC52YWx1ZTsKCgkJCQkJfSwKCQkJCQlzZXQ6IGZ1bmN0aW9uICggdiApIHsKCgkJCQkJCXVuaWZvcm1zLnNwZWN1bGFyTWFwLnZhbHVlID0gdjsKCgkJCQkJCWlmICggdiApIHsKCgkJCQkJCQl0aGlzLmRlZmluZXMuVVNFX1NQRUNVTEFSTUFQID0gJyc7IC8vIFVTRV9VViBpcyBzZXQgYnkgdGhlIHJlbmRlcmVyIGZvciBzcGVjdWxhciBtYXBzCgoJCQkJCQl9IGVsc2UgewoKCQkJCQkJCWRlbGV0ZSB0aGlzLmRlZmluZXMuVVNFX1NQRUNVTEFSTUFQOwoKCQkJCQkJfQoKCQkJCQl9CgkJCQl9LAoJCQkJZ2xvc3NpbmVzczogewoJCQkJCWdldDogZnVuY3Rpb24gKCkgewoKCQkJCQkJcmV0dXJuIHVuaWZvcm1zLmdsb3NzaW5lc3MudmFsdWU7CgoJCQkJCX0sCgkJCQkJc2V0OiBmdW5jdGlvbiAoIHYgKSB7CgoJCQkJCQl1bmlmb3Jtcy5nbG9zc2luZXNzLnZhbHVlID0gdjsKCgkJCQkJfQoJCQkJfSwKCQkJCWdsb3NzaW5lc3NNYXA6IHsKCQkJCQlnZXQ6IGZ1bmN0aW9uICgpIHsKCgkJCQkJCXJldHVybiB1bmlmb3Jtcy5nbG9zc2luZXNzTWFwLnZhbHVlOwoKCQkJCQl9LAoJCQkJCXNldDogZnVuY3Rpb24gKCB2ICkgewoKCQkJCQkJdW5pZm9ybXMuZ2xvc3NpbmVzc01hcC52YWx1ZSA9IHY7CgoJCQkJCQlpZiAoIHYgKSB7CgoJCQkJCQkJdGhpcy5kZWZpbmVzLlVTRV9HTE9TU0lORVNTTUFQID0gJyc7CgkJCQkJCQl0aGlzLmRlZmluZXMuVVNFX1VWID0gJyc7CgoJCQkJCQl9IGVsc2UgewoKCQkJCQkJCWRlbGV0ZSB0aGlzLmRlZmluZXMuVVNFX0dMT1NTSU5FU1NNQVA7CgkJCQkJCQlkZWxldGUgdGhpcy5kZWZpbmVzLlVTRV9VVjsKCgkJCQkJCX0KCgkJCQkJfQoJCQkJfQoJCQl9ICk7CgkJCWRlbGV0ZSB0aGlzLm1ldGFsbmVzczsKCQkJZGVsZXRlIHRoaXMucm91Z2huZXNzOwoJCQlkZWxldGUgdGhpcy5tZXRhbG5lc3NNYXA7CgkJCWRlbGV0ZSB0aGlzLnJvdWdobmVzc01hcDsKCQkJdGhpcy5zZXRWYWx1ZXMoIHBhcmFtcyApOwoKCQl9CgoJCWNvcHkoIHNvdXJjZSApIHsKCgkJCXN1cGVyLmNvcHkoIHNvdXJjZSApOwoJCQl0aGlzLnNwZWN1bGFyTWFwID0gc291cmNlLnNwZWN1bGFyTWFwOwoJCQl0aGlzLnNwZWN1bGFyLmNvcHkoIHNvdXJjZS5zcGVjdWxhciApOwoJCQl0aGlzLmdsb3NzaW5lc3NNYXAgPSBzb3VyY2UuZ2xvc3NpbmVzc01hcDsKCQkJdGhpcy5nbG9zc2luZXNzID0gc291cmNlLmdsb3NzaW5lc3M7CgkJCWRlbGV0ZSB0aGlzLm1ldGFsbmVzczsKCQkJZGVsZXRlIHRoaXMucm91Z2huZXNzOwoJCQlkZWxldGUgdGhpcy5tZXRhbG5lc3NNYXA7CgkJCWRlbGV0ZSB0aGlzLnJvdWdobmVzc01hcDsKCQkJcmV0dXJuIHRoaXM7CgoJCX0KCgl9CgoJY2xhc3MgR0xURk1hdGVyaWFsc1BiclNwZWN1bGFyR2xvc3NpbmVzc0V4dGVuc2lvbiB7CgoJCWNvbnN0cnVjdG9yKCkgewoKCQkJdGhpcy5uYW1lID0gRVhURU5TSU9OUy5LSFJfTUFURVJJQUxTX1BCUl9TUEVDVUxBUl9HTE9TU0lORVNTOwoJCQl0aGlzLnNwZWN1bGFyR2xvc3NpbmVzc1BhcmFtcyA9IFsgJ2NvbG9yJywgJ21hcCcsICdsaWdodE1hcCcsICdsaWdodE1hcEludGVuc2l0eScsICdhb01hcCcsICdhb01hcEludGVuc2l0eScsICdlbWlzc2l2ZScsICdlbWlzc2l2ZUludGVuc2l0eScsICdlbWlzc2l2ZU1hcCcsICdidW1wTWFwJywgJ2J1bXBTY2FsZScsICdub3JtYWxNYXAnLCAnbm9ybWFsTWFwVHlwZScsICdkaXNwbGFjZW1lbnRNYXAnLCAnZGlzcGxhY2VtZW50U2NhbGUnLCAnZGlzcGxhY2VtZW50QmlhcycsICdzcGVjdWxhck1hcCcsICdzcGVjdWxhcicsICdnbG9zc2luZXNzTWFwJywgJ2dsb3NzaW5lc3MnLCAnYWxwaGFNYXAnLCAnZW52TWFwJywgJ2Vudk1hcEludGVuc2l0eScsICdyZWZyYWN0aW9uUmF0aW8nIF07CgoJCX0KCgkJZ2V0TWF0ZXJpYWxUeXBlKCkgewoKCQkJcmV0dXJuIEdMVEZNZXNoU3RhbmRhcmRTR01hdGVyaWFsOwoKCQl9CgoJCWV4dGVuZFBhcmFtcyggbWF0ZXJpYWxQYXJhbXMsIG1hdGVyaWFsRGVmLCBwYXJzZXIgKSB7CgoJCQljb25zdCBwYnJTcGVjdWxhckdsb3NzaW5lc3MgPSBtYXRlcmlhbERlZi5leHRlbnNpb25zWyB0aGlzLm5hbWUgXTsKCQkJbWF0ZXJpYWxQYXJhbXMuY29sb3IgPSBuZXcgVEhSRUUuQ29sb3IoIDEuMCwgMS4wLCAxLjAgKTsKCQkJbWF0ZXJpYWxQYXJhbXMub3BhY2l0eSA9IDEuMDsKCQkJY29uc3QgcGVuZGluZyA9IFtdOwoKCQkJaWYgKCBBcnJheS5pc0FycmF5KCBwYnJTcGVjdWxhckdsb3NzaW5lc3MuZGlmZnVzZUZhY3RvciApICkgewoKCQkJCWNvbnN0IGFycmF5ID0gcGJyU3BlY3VsYXJHbG9zc2luZXNzLmRpZmZ1c2VGYWN0b3I7CgkJCQltYXRlcmlhbFBhcmFtcy5jb2xvci5mcm9tQXJyYXkoIGFycmF5ICk7CgkJCQltYXRlcmlhbFBhcmFtcy5vcGFjaXR5ID0gYXJyYXlbIDMgXTsKCgkJCX0KCgkJCWlmICggcGJyU3BlY3VsYXJHbG9zc2luZXNzLmRpZmZ1c2VUZXh0dXJlICE9PSB1bmRlZmluZWQgKSB7CgoJCQkJcGVuZGluZy5wdXNoKCBwYXJzZXIuYXNzaWduVGV4dHVyZSggbWF0ZXJpYWxQYXJhbXMsICdtYXAnLCBwYnJTcGVjdWxhckdsb3NzaW5lc3MuZGlmZnVzZVRleHR1cmUgKSApOwoKCQkJfQoKCQkJbWF0ZXJpYWxQYXJhbXMuZW1pc3NpdmUgPSBuZXcgVEhSRUUuQ29sb3IoIDAuMCwgMC4wLCAwLjAgKTsKCQkJbWF0ZXJpYWxQYXJhbXMuZ2xvc3NpbmVzcyA9IHBiclNwZWN1bGFyR2xvc3NpbmVzcy5nbG9zc2luZXNzRmFjdG9yICE9PSB1bmRlZmluZWQgPyBwYnJTcGVjdWxhckdsb3NzaW5lc3MuZ2xvc3NpbmVzc0ZhY3RvciA6IDEuMDsKCQkJbWF0ZXJpYWxQYXJhbXMuc3BlY3VsYXIgPSBuZXcgVEhSRUUuQ29sb3IoIDEuMCwgMS4wLCAxLjAgKTsKCgkJCWlmICggQXJyYXkuaXNBcnJheSggcGJyU3BlY3VsYXJHbG9zc2luZXNzLnNwZWN1bGFyRmFjdG9yICkgKSB7CgoJCQkJbWF0ZXJpYWxQYXJhbXMuc3BlY3VsYXIuZnJvbUFycmF5KCBwYnJTcGVjdWxhckdsb3NzaW5lc3Muc3BlY3VsYXJGYWN0b3IgKTsKCgkJCX0KCgkJCWlmICggcGJyU3BlY3VsYXJHbG9zc2luZXNzLnNwZWN1bGFyR2xvc3NpbmVzc1RleHR1cmUgIT09IHVuZGVmaW5lZCApIHsKCgkJCQljb25zdCBzcGVjR2xvc3NNYXBEZWYgPSBwYnJTcGVjdWxhckdsb3NzaW5lc3Muc3BlY3VsYXJHbG9zc2luZXNzVGV4dHVyZTsKCQkJCXBlbmRpbmcucHVzaCggcGFyc2VyLmFzc2lnblRleHR1cmUoIG1hdGVyaWFsUGFyYW1zLCAnZ2xvc3NpbmVzc01hcCcsIHNwZWNHbG9zc01hcERlZiApICk7CgkJCQlwZW5kaW5nLnB1c2goIHBhcnNlci5hc3NpZ25UZXh0dXJlKCBtYXRlcmlhbFBhcmFtcywgJ3NwZWN1bGFyTWFwJywgc3BlY0dsb3NzTWFwRGVmICkgKTsKCgkJCX0KCgkJCXJldHVybiBQcm9taXNlLmFsbCggcGVuZGluZyApOwoKCQl9CgoJCWNyZWF0ZU1hdGVyaWFsKCBtYXRlcmlhbFBhcmFtcyApIHsKCgkJCWNvbnN0IG1hdGVyaWFsID0gbmV3IEdMVEZNZXNoU3RhbmRhcmRTR01hdGVyaWFsKCBtYXRlcmlhbFBhcmFtcyApOwoJCQltYXRlcmlhbC5mb2cgPSB0cnVlOwoJCQltYXRlcmlhbC5jb2xvciA9IG1hdGVyaWFsUGFyYW1zLmNvbG9yOwoJCQltYXRlcmlhbC5tYXAgPSBtYXRlcmlhbFBhcmFtcy5tYXAgPT09IHVuZGVmaW5lZCA/IG51bGwgOiBtYXRlcmlhbFBhcmFtcy5tYXA7CgkJCW1hdGVyaWFsLmxpZ2h0TWFwID0gbnVsbDsKCQkJbWF0ZXJpYWwubGlnaHRNYXBJbnRlbnNpdHkgPSAxLjA7CgkJCW1hdGVyaWFsLmFvTWFwID0gbWF0ZXJpYWxQYXJhbXMuYW9NYXAgPT09IHVuZGVmaW5lZCA/IG51bGwgOiBtYXRlcmlhbFBhcmFtcy5hb01hcDsKCQkJbWF0ZXJpYWwuYW9NYXBJbnRlbnNpdHkgPSAxLjA7CgkJCW1hdGVyaWFsLmVtaXNzaXZlID0gbWF0ZXJpYWxQYXJhbXMuZW1pc3NpdmU7CgkJCW1hdGVyaWFsLmVtaXNzaXZlSW50ZW5zaXR5ID0gMS4wOwoJCQltYXRlcmlhbC5lbWlzc2l2ZU1hcCA9IG1hdGVyaWFsUGFyYW1zLmVtaXNzaXZlTWFwID09PSB1bmRlZmluZWQgPyBudWxsIDogbWF0ZXJpYWxQYXJhbXMuZW1pc3NpdmVNYXA7CgkJCW1hdGVyaWFsLmJ1bXBNYXAgPSBtYXRlcmlhbFBhcmFtcy5idW1wTWFwID09PSB1bmRlZmluZWQgPyBudWxsIDogbWF0ZXJpYWxQYXJhbXMuYnVtcE1hcDsKCQkJbWF0ZXJpYWwuYnVtcFNjYWxlID0gMTsKCQkJbWF0ZXJpYWwubm9ybWFsTWFwID0gbWF0ZXJpYWxQYXJhbXMubm9ybWFsTWFwID09PSB1bmRlZmluZWQgPyBudWxsIDogbWF0ZXJpYWxQYXJhbXMubm9ybWFsTWFwOwoJCQltYXRlcmlhbC5ub3JtYWxNYXBUeXBlID0gVEhSRUUuVGFuZ2VudFNwYWNlTm9ybWFsTWFwOwoJCQlpZiAoIG1hdGVyaWFsUGFyYW1zLm5vcm1hbFNjYWxlICkgbWF0ZXJpYWwubm9ybWFsU2NhbGUgPSBtYXRlcmlhbFBhcmFtcy5ub3JtYWxTY2FsZTsKCQkJbWF0ZXJpYWwuZGlzcGxhY2VtZW50TWFwID0gbnVsbDsKCQkJbWF0ZXJpYWwuZGlzcGxhY2VtZW50U2NhbGUgPSAxOwoJCQltYXRlcmlhbC5kaXNwbGFjZW1lbnRCaWFzID0gMDsKCQkJbWF0ZXJpYWwuc3BlY3VsYXJNYXAgPSBtYXRlcmlhbFBhcmFtcy5zcGVjdWxhck1hcCA9PT0gdW5kZWZpbmVkID8gbnVsbCA6IG1hdGVyaWFsUGFyYW1zLnNwZWN1bGFyTWFwOwoJCQltYXRlcmlhbC5zcGVjdWxhciA9IG1hdGVyaWFsUGFyYW1zLnNwZWN1bGFyOwoJCQltYXRlcmlhbC5nbG9zc2luZXNzTWFwID0gbWF0ZXJpYWxQYXJhbXMuZ2xvc3NpbmVzc01hcCA9PT0gdW5kZWZpbmVkID8gbnVsbCA6IG1hdGVyaWFsUGFyYW1zLmdsb3NzaW5lc3NNYXA7CgkJCW1hdGVyaWFsLmdsb3NzaW5lc3MgPSBtYXRlcmlhbFBhcmFtcy5nbG9zc2luZXNzOwoJCQltYXRlcmlhbC5hbHBoYU1hcCA9IG51bGw7CgkJCW1hdGVyaWFsLmVudk1hcCA9IG1hdGVyaWFsUGFyYW1zLmVudk1hcCA9PT0gdW5kZWZpbmVkID8gbnVsbCA6IG1hdGVyaWFsUGFyYW1zLmVudk1hcDsKCQkJbWF0ZXJpYWwuZW52TWFwSW50ZW5zaXR5ID0gMS4wOwoJCQltYXRlcmlhbC5yZWZyYWN0aW9uUmF0aW8gPSAwLjk4OwoJCQlyZXR1cm4gbWF0ZXJpYWw7CgoJCX0KCgl9CgkvKioKCSAqIFRIUkVFLk1lc2ggUXVhbnRpemF0aW9uIEV4dGVuc2lvbgoJICoKCSAqIFNwZWNpZmljYXRpb246IGh0dHBzOi8vZ2l0aHViLmNvbS9LaHJvbm9zR3JvdXAvZ2xURi90cmVlL21hc3Rlci9leHRlbnNpb25zLzIuMC9LaHJvbm9zL0tIUl9tZXNoX3F1YW50aXphdGlvbgoJICovCgoKCWNsYXNzIEdMVEZNZXNoUXVhbnRpemF0aW9uRXh0ZW5zaW9uIHsKCgkJY29uc3RydWN0b3IoKSB7CgoJCQl0aGlzLm5hbWUgPSBFWFRFTlNJT05TLktIUl9NRVNIX1FVQU5USVpBVElPTjsKCgkJfQoKCX0KCS8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovCgoJLyoqKioqKioqKiogSU5URVJQT0xBVElPTiAqKioqKioqKi8KCgkvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqLwoJLy8gU3BsaW5lIEludGVycG9sYXRpb24KCS8vIFNwZWNpZmljYXRpb246IGh0dHBzOi8vZ2l0aHViLmNvbS9LaHJvbm9zR3JvdXAvZ2xURi9ibG9iL21hc3Rlci9zcGVjaWZpY2F0aW9uLzIuMC9SRUFETUUubWQjYXBwZW5kaXgtYy1zcGxpbmUtaW50ZXJwb2xhdGlvbgoKCgljbGFzcyBHTFRGQ3ViaWNTcGxpbmVJbnRlcnBvbGFudCBleHRlbmRzIFRIUkVFLkludGVycG9sYW50IHsKCgkJY29uc3RydWN0b3IoIHBhcmFtZXRlclBvc2l0aW9ucywgc2FtcGxlVmFsdWVzLCBzYW1wbGVTaXplLCByZXN1bHRCdWZmZXIgKSB7CgoJCQlzdXBlciggcGFyYW1ldGVyUG9zaXRpb25zLCBzYW1wbGVWYWx1ZXMsIHNhbXBsZVNpemUsIHJlc3VsdEJ1ZmZlciApOwoKCQl9CgoJCWNvcHlTYW1wbGVWYWx1ZV8oIGluZGV4ICkgewoKCQkJLy8gQ29waWVzIGEgc2FtcGxlIHZhbHVlIHRvIHRoZSByZXN1bHQgYnVmZmVyLiBTZWUgZGVzY3JpcHRpb24gb2YgZ2xURgoJCQkvLyBDVUJJQ1NQTElORSB2YWx1ZXMgbGF5b3V0IGluIGludGVycG9sYXRlXygpIGZ1bmN0aW9uIGJlbG93LgoJCQljb25zdCByZXN1bHQgPSB0aGlzLnJlc3VsdEJ1ZmZlciwKCQkJCXZhbHVlcyA9IHRoaXMuc2FtcGxlVmFsdWVzLAoJCQkJdmFsdWVTaXplID0gdGhpcy52YWx1ZVNpemUsCgkJCQlvZmZzZXQgPSBpbmRleCAqIHZhbHVlU2l6ZSAqIDMgKyB2YWx1ZVNpemU7CgoJCQlmb3IgKCBsZXQgaSA9IDA7IGkgIT09IHZhbHVlU2l6ZTsgaSArKyApIHsKCgkJCQlyZXN1bHRbIGkgXSA9IHZhbHVlc1sgb2Zmc2V0ICsgaSBdOwoKCQkJfQoKCQkJcmV0dXJuIHJlc3VsdDsKCgkJfQoKCX0KCglHTFRGQ3ViaWNTcGxpbmVJbnRlcnBvbGFudC5wcm90b3R5cGUuYmVmb3JlU3RhcnRfID0gR0xURkN1YmljU3BsaW5lSW50ZXJwb2xhbnQucHJvdG90eXBlLmNvcHlTYW1wbGVWYWx1ZV87CglHTFRGQ3ViaWNTcGxpbmVJbnRlcnBvbGFudC5wcm90b3R5cGUuYWZ0ZXJFbmRfID0gR0xURkN1YmljU3BsaW5lSW50ZXJwb2xhbnQucHJvdG90eXBlLmNvcHlTYW1wbGVWYWx1ZV87CgoJR0xURkN1YmljU3BsaW5lSW50ZXJwb2xhbnQucHJvdG90eXBlLmludGVycG9sYXRlXyA9IGZ1bmN0aW9uICggaTEsIHQwLCB0LCB0MSApIHsKCgkJY29uc3QgcmVzdWx0ID0gdGhpcy5yZXN1bHRCdWZmZXI7CgkJY29uc3QgdmFsdWVzID0gdGhpcy5zYW1wbGVWYWx1ZXM7CgkJY29uc3Qgc3RyaWRlID0gdGhpcy52YWx1ZVNpemU7CgkJY29uc3Qgc3RyaWRlMiA9IHN0cmlkZSAqIDI7CgkJY29uc3Qgc3RyaWRlMyA9IHN0cmlkZSAqIDM7CgkJY29uc3QgdGQgPSB0MSAtIHQwOwoJCWNvbnN0IHAgPSAoIHQgLSB0MCApIC8gdGQ7CgkJY29uc3QgcHAgPSBwICogcDsKCQljb25zdCBwcHAgPSBwcCAqIHA7CgkJY29uc3Qgb2Zmc2V0MSA9IGkxICogc3RyaWRlMzsKCQljb25zdCBvZmZzZXQwID0gb2Zmc2V0MSAtIHN0cmlkZTM7CgkJY29uc3QgczIgPSAtIDIgKiBwcHAgKyAzICogcHA7CgkJY29uc3QgczMgPSBwcHAgLSBwcDsKCQljb25zdCBzMCA9IDEgLSBzMjsKCQljb25zdCBzMSA9IHMzIC0gcHAgKyBwOyAvLyBMYXlvdXQgb2Yga2V5ZnJhbWUgb3V0cHV0IHZhbHVlcyBmb3IgQ1VCSUNTUExJTkUgYW5pbWF0aW9uczoKCQkvLyAgIFsgaW5UYW5nZW50XzEsIHNwbGluZVZlcnRleF8xLCBvdXRUYW5nZW50XzEsIGluVGFuZ2VudF8yLCBzcGxpbmVWZXJ0ZXhfMiwgLi4uIF0KCgkJZm9yICggbGV0IGkgPSAwOyBpICE9PSBzdHJpZGU7IGkgKysgKSB7CgoJCQljb25zdCBwMCA9IHZhbHVlc1sgb2Zmc2V0MCArIGkgKyBzdHJpZGUgXTsgLy8gc3BsaW5lVmVydGV4X2sKCgkJCWNvbnN0IG0wID0gdmFsdWVzWyBvZmZzZXQwICsgaSArIHN0cmlkZTIgXSAqIHRkOyAvLyBvdXRUYW5nZW50X2sgKiAodF9rKzEgLSB0X2spCgoJCQljb25zdCBwMSA9IHZhbHVlc1sgb2Zmc2V0MSArIGkgKyBzdHJpZGUgXTsgLy8gc3BsaW5lVmVydGV4X2srMQoKCQkJY29uc3QgbTEgPSB2YWx1ZXNbIG9mZnNldDEgKyBpIF0gKiB0ZDsgLy8gaW5UYW5nZW50X2srMSAqICh0X2srMSAtIHRfaykKCgkJCXJlc3VsdFsgaSBdID0gczAgKiBwMCArIHMxICogbTAgKyBzMiAqIHAxICsgczMgKiBtMTsKCgkJfQoKCQlyZXR1cm4gcmVzdWx0OwoKCX07CgkvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqLwoKCS8qKioqKioqKioqIElOVEVSTkFMUyAqKioqKioqKioqKiovCgoJLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi8KCgkvKiBDT05TVEFOVFMgKi8KCgoJY29uc3QgV0VCR0xfQ09OU1RBTlRTID0gewoJCUZMT0FUOiA1MTI2LAoJCS8vRkxPQVRfTUFUMjogMzU2NzQsCgkJRkxPQVRfTUFUMzogMzU2NzUsCgkJRkxPQVRfTUFUNDogMzU2NzYsCgkJRkxPQVRfVkVDMjogMzU2NjQsCgkJRkxPQVRfVkVDMzogMzU2NjUsCgkJRkxPQVRfVkVDNDogMzU2NjYsCgkJTElORUFSOiA5NzI5LAoJCVJFUEVBVDogMTA0OTcsCgkJU0FNUExFUl8yRDogMzU2NzgsCgkJUE9JTlRTOiAwLAoJCUxJTkVTOiAxLAoJCUxJTkVfTE9PUDogMiwKCQlMSU5FX1NUUklQOiAzLAoJCVRSSUFOR0xFUzogNCwKCQlUUklBTkdMRV9TVFJJUDogNSwKCQlUUklBTkdMRV9GQU46IDYsCgkJVU5TSUdORURfQllURTogNTEyMSwKCQlVTlNJR05FRF9TSE9SVDogNTEyMwoJfTsKCWNvbnN0IFdFQkdMX0NPTVBPTkVOVF9UWVBFUyA9IHsKCQk1MTIwOiBJbnQ4QXJyYXksCgkJNTEyMTogVWludDhBcnJheSwKCQk1MTIyOiBJbnQxNkFycmF5LAoJCTUxMjM6IFVpbnQxNkFycmF5LAoJCTUxMjU6IFVpbnQzMkFycmF5LAoJCTUxMjY6IEZsb2F0MzJBcnJheQoJfTsKCWNvbnN0IFdFQkdMX0ZJTFRFUlMgPSB7CgkJOTcyODogVEhSRUUuTmVhcmVzdEZpbHRlciwKCQk5NzI5OiBUSFJFRS5MaW5lYXJGaWx0ZXIsCgkJOTk4NDogVEhSRUUuTmVhcmVzdE1pcG1hcE5lYXJlc3RGaWx0ZXIsCgkJOTk4NTogVEhSRUUuTGluZWFyTWlwbWFwTmVhcmVzdEZpbHRlciwKCQk5OTg2OiBUSFJFRS5OZWFyZXN0TWlwbWFwTGluZWFyRmlsdGVyLAoJCTk5ODc6IFRIUkVFLkxpbmVhck1pcG1hcExpbmVhckZpbHRlcgoJfTsKCWNvbnN0IFdFQkdMX1dSQVBQSU5HUyA9IHsKCQkzMzA3MTogVEhSRUUuQ2xhbXBUb0VkZ2VXcmFwcGluZywKCQkzMzY0ODogVEhSRUUuTWlycm9yZWRSZXBlYXRXcmFwcGluZywKCQkxMDQ5NzogVEhSRUUuUmVwZWF0V3JhcHBpbmcKCX07Cgljb25zdCBXRUJHTF9UWVBFX1NJWkVTID0gewoJCSdTQ0FMQVInOiAxLAoJCSdWRUMyJzogMiwKCQknVkVDMyc6IDMsCgkJJ1ZFQzQnOiA0LAoJCSdNQVQyJzogNCwKCQknTUFUMyc6IDksCgkJJ01BVDQnOiAxNgoJfTsKCWNvbnN0IEFUVFJJQlVURVMgPSB7CgkJUE9TSVRJT046ICdwb3NpdGlvbicsCgkJTk9STUFMOiAnbm9ybWFsJywKCQlUQU5HRU5UOiAndGFuZ2VudCcsCgkJVEVYQ09PUkRfMDogJ3V2JywKCQlURVhDT09SRF8xOiAndXYyJywKCQlDT0xPUl8wOiAnY29sb3InLAoJCVdFSUdIVFNfMDogJ3NraW5XZWlnaHQnLAoJCUpPSU5UU18wOiAnc2tpbkluZGV4JwoJfTsKCWNvbnN0IFBBVEhfUFJPUEVSVElFUyA9IHsKCQlzY2FsZTogJ3NjYWxlJywKCQl0cmFuc2xhdGlvbjogJ3Bvc2l0aW9uJywKCQlyb3RhdGlvbjogJ3F1YXRlcm5pb24nLAoJCXdlaWdodHM6ICdtb3JwaFRhcmdldEluZmx1ZW5jZXMnCgl9OwoJY29uc3QgSU5URVJQT0xBVElPTiA9IHsKCQlDVUJJQ1NQTElORTogdW5kZWZpbmVkLAoJCS8vIFdlIHVzZSBhIGN1c3RvbSBpbnRlcnBvbGFudCAoR0xURkN1YmljU3BsaW5lSW50ZXJwb2xhdGlvbikgZm9yIENVQklDU1BMSU5FIHRyYWNrcy4gRWFjaAoJCS8vIGtleWZyYW1lIHRyYWNrIHdpbGwgYmUgaW5pdGlhbGl6ZWQgd2l0aCBhIGRlZmF1bHQgaW50ZXJwb2xhdGlvbiB0eXBlLCB0aGVuIG1vZGlmaWVkLgoJCUxJTkVBUjogVEhSRUUuSW50ZXJwb2xhdGVMaW5lYXIsCgkJU1RFUDogVEhSRUUuSW50ZXJwb2xhdGVEaXNjcmV0ZQoJfTsKCWNvbnN0IEFMUEhBX01PREVTID0gewoJCU9QQVFVRTogJ09QQVFVRScsCgkJTUFTSzogJ01BU0snLAoJCUJMRU5EOiAnQkxFTkQnCgl9OwoJLyogVVRJTElUWSBGVU5DVElPTlMgKi8KCglmdW5jdGlvbiByZXNvbHZlVVJMKCB1cmwsIHBhdGggKSB7CgoJCS8vIEludmFsaWQgVVJMCgkJaWYgKCB0eXBlb2YgdXJsICE9PSAnc3RyaW5nJyB8fCB1cmwgPT09ICcnICkgcmV0dXJuICcnOyAvLyBIb3N0IFJlbGF0aXZlIFVSTAoKCQlpZiAoIC9eaHR0cHM/OlwvXC8vaS50ZXN0KCBwYXRoICkgJiYgL15cLy8udGVzdCggdXJsICkgKSB7CgoJCQlwYXRoID0gcGF0aC5yZXBsYWNlKCAvKF5odHRwcz86XC9cL1teXC9dKykuKi9pLCAnJDEnICk7CgoJCX0gLy8gQWJzb2x1dGUgVVJMIGh0dHA6Ly8saHR0cHM6Ly8sLy8KCgoJCWlmICggL14oaHR0cHM/Oik/XC9cLy9pLnRlc3QoIHVybCApICkgcmV0dXJuIHVybDsgLy8gRGF0YSBVUkkKCgkJaWYgKCAvXmRhdGE6LiosLiokL2kudGVzdCggdXJsICkgKSByZXR1cm4gdXJsOyAvLyBCbG9iIFVSTAoKCQlpZiAoIC9eYmxvYjouKiQvaS50ZXN0KCB1cmwgKSApIHJldHVybiB1cmw7IC8vIFJlbGF0aXZlIFVSTAoKCQlyZXR1cm4gcGF0aCArIHVybDsKCgl9CgkvKioKCSAqIFNwZWNpZmljYXRpb246IGh0dHBzOi8vZ2l0aHViLmNvbS9LaHJvbm9zR3JvdXAvZ2xURi9ibG9iL21hc3Rlci9zcGVjaWZpY2F0aW9uLzIuMC9SRUFETUUubWQjZGVmYXVsdC1tYXRlcmlhbAoJICovCgoKCWZ1bmN0aW9uIGNyZWF0ZURlZmF1bHRNYXRlcmlhbCggY2FjaGUgKSB7CgoJCWlmICggY2FjaGVbICdEZWZhdWx0TWF0ZXJpYWwnIF0gPT09IHVuZGVmaW5lZCApIHsKCgkJCWNhY2hlWyAnRGVmYXVsdE1hdGVyaWFsJyBdID0gbmV3IFRIUkVFLk1lc2hTdGFuZGFyZE1hdGVyaWFsKCB7CgkJCQljb2xvcjogMHhGRkZGRkYsCgkJCQllbWlzc2l2ZTogMHgwMDAwMDAsCgkJCQltZXRhbG5lc3M6IDEsCgkJCQlyb3VnaG5lc3M6IDEsCgkJCQl0cmFuc3BhcmVudDogZmFsc2UsCgkJCQlkZXB0aFRlc3Q6IHRydWUsCgkJCQlzaWRlOiBUSFJFRS5Gcm9udFNpZGUKCQkJfSApOwoKCQl9CgoJCXJldHVybiBjYWNoZVsgJ0RlZmF1bHRNYXRlcmlhbCcgXTsKCgl9CgoJZnVuY3Rpb24gYWRkVW5rbm93bkV4dGVuc2lvbnNUb1VzZXJEYXRhKCBrbm93bkV4dGVuc2lvbnMsIG9iamVjdCwgb2JqZWN0RGVmICkgewoKCQkvLyBBZGQgdW5rbm93biBnbFRGIGV4dGVuc2lvbnMgdG8gYW4gb2JqZWN0J3MgdXNlckRhdGEuCgkJZm9yICggY29uc3QgbmFtZSBpbiBvYmplY3REZWYuZXh0ZW5zaW9ucyApIHsKCgkJCWlmICgga25vd25FeHRlbnNpb25zWyBuYW1lIF0gPT09IHVuZGVmaW5lZCApIHsKCgkJCQlvYmplY3QudXNlckRhdGEuZ2x0ZkV4dGVuc2lvbnMgPSBvYmplY3QudXNlckRhdGEuZ2x0ZkV4dGVuc2lvbnMgfHwge307CgkJCQlvYmplY3QudXNlckRhdGEuZ2x0ZkV4dGVuc2lvbnNbIG5hbWUgXSA9IG9iamVjdERlZi5leHRlbnNpb25zWyBuYW1lIF07CgoJCQl9CgoJCX0KCgl9CgkvKioKCSAqIEBwYXJhbSB7T2JqZWN0M0R8TWF0ZXJpYWx8QnVmZmVyR2VvbWV0cnl9IG9iamVjdAoJICogQHBhcmFtIHtHTFRGLmRlZmluaXRpb259IGdsdGZEZWYKCSAqLwoKCglmdW5jdGlvbiBhc3NpZ25FeHRyYXNUb1VzZXJEYXRhKCBvYmplY3QsIGdsdGZEZWYgKSB7CgoJCWlmICggZ2x0ZkRlZi5leHRyYXMgIT09IHVuZGVmaW5lZCApIHsKCgkJCWlmICggdHlwZW9mIGdsdGZEZWYuZXh0cmFzID09PSAnb2JqZWN0JyApIHsKCgkJCQlPYmplY3QuYXNzaWduKCBvYmplY3QudXNlckRhdGEsIGdsdGZEZWYuZXh0cmFzICk7CgoJCQl9IGVsc2UgewoKCQkJCWNvbnNvbGUud2FybiggJ1RIUkVFLkdMVEZMb2FkZXI6IElnbm9yaW5nIHByaW1pdGl2ZSB0eXBlIC5leHRyYXMsICcgKyBnbHRmRGVmLmV4dHJhcyApOwoKCQkJfQoKCQl9CgoJfQoJLyoqCgkgKiBTcGVjaWZpY2F0aW9uOiBodHRwczovL2dpdGh1Yi5jb20vS2hyb25vc0dyb3VwL2dsVEYvYmxvYi9tYXN0ZXIvc3BlY2lmaWNhdGlvbi8yLjAvUkVBRE1FLm1kI21vcnBoLXRhcmdldHMKCSAqCgkgKiBAcGFyYW0ge0J1ZmZlckdlb21ldHJ5fSBnZW9tZXRyeQoJICogQHBhcmFtIHtBcnJheTxHTFRGLlRhcmdldD59IHRhcmdldHMKCSAqIEBwYXJhbSB7R0xURlBhcnNlcn0gcGFyc2VyCgkgKiBAcmV0dXJuIHtQcm9taXNlPEJ1ZmZlckdlb21ldHJ5Pn0KCSAqLwoKCglmdW5jdGlvbiBhZGRNb3JwaFRhcmdldHMoIGdlb21ldHJ5LCB0YXJnZXRzLCBwYXJzZXIgKSB7CgoJCWxldCBoYXNNb3JwaFBvc2l0aW9uID0gZmFsc2U7CgkJbGV0IGhhc01vcnBoTm9ybWFsID0gZmFsc2U7CgoJCWZvciAoIGxldCBpID0gMCwgaWwgPSB0YXJnZXRzLmxlbmd0aDsgaSA8IGlsOyBpICsrICkgewoKCQkJY29uc3QgdGFyZ2V0ID0gdGFyZ2V0c1sgaSBdOwoJCQlpZiAoIHRhcmdldC5QT1NJVElPTiAhPT0gdW5kZWZpbmVkICkgaGFzTW9ycGhQb3NpdGlvbiA9IHRydWU7CgkJCWlmICggdGFyZ2V0Lk5PUk1BTCAhPT0gdW5kZWZpbmVkICkgaGFzTW9ycGhOb3JtYWwgPSB0cnVlOwoJCQlpZiAoIGhhc01vcnBoUG9zaXRpb24gJiYgaGFzTW9ycGhOb3JtYWwgKSBicmVhazsKCgkJfQoKCQlpZiAoICEgaGFzTW9ycGhQb3NpdGlvbiAmJiAhIGhhc01vcnBoTm9ybWFsICkgcmV0dXJuIFByb21pc2UucmVzb2x2ZSggZ2VvbWV0cnkgKTsKCQljb25zdCBwZW5kaW5nUG9zaXRpb25BY2Nlc3NvcnMgPSBbXTsKCQljb25zdCBwZW5kaW5nTm9ybWFsQWNjZXNzb3JzID0gW107CgoJCWZvciAoIGxldCBpID0gMCwgaWwgPSB0YXJnZXRzLmxlbmd0aDsgaSA8IGlsOyBpICsrICkgewoKCQkJY29uc3QgdGFyZ2V0ID0gdGFyZ2V0c1sgaSBdOwoKCQkJaWYgKCBoYXNNb3JwaFBvc2l0aW9uICkgewoKCQkJCWNvbnN0IHBlbmRpbmdBY2Nlc3NvciA9IHRhcmdldC5QT1NJVElPTiAhPT0gdW5kZWZpbmVkID8gcGFyc2VyLmdldERlcGVuZGVuY3koICdhY2Nlc3NvcicsIHRhcmdldC5QT1NJVElPTiApIDogZ2VvbWV0cnkuYXR0cmlidXRlcy5wb3NpdGlvbjsKCQkJCXBlbmRpbmdQb3NpdGlvbkFjY2Vzc29ycy5wdXNoKCBwZW5kaW5nQWNjZXNzb3IgKTsKCgkJCX0KCgkJCWlmICggaGFzTW9ycGhOb3JtYWwgKSB7CgoJCQkJY29uc3QgcGVuZGluZ0FjY2Vzc29yID0gdGFyZ2V0Lk5PUk1BTCAhPT0gdW5kZWZpbmVkID8gcGFyc2VyLmdldERlcGVuZGVuY3koICdhY2Nlc3NvcicsIHRhcmdldC5OT1JNQUwgKSA6IGdlb21ldHJ5LmF0dHJpYnV0ZXMubm9ybWFsOwoJCQkJcGVuZGluZ05vcm1hbEFjY2Vzc29ycy5wdXNoKCBwZW5kaW5nQWNjZXNzb3IgKTsKCgkJCX0KCgkJfQoKCQlyZXR1cm4gUHJvbWlzZS5hbGwoIFsgUHJvbWlzZS5hbGwoIHBlbmRpbmdQb3NpdGlvbkFjY2Vzc29ycyApLCBQcm9taXNlLmFsbCggcGVuZGluZ05vcm1hbEFjY2Vzc29ycyApIF0gKS50aGVuKCBmdW5jdGlvbiAoIGFjY2Vzc29ycyApIHsKCgkJCWNvbnN0IG1vcnBoUG9zaXRpb25zID0gYWNjZXNzb3JzWyAwIF07CgkJCWNvbnN0IG1vcnBoTm9ybWFscyA9IGFjY2Vzc29yc1sgMSBdOwoJCQlpZiAoIGhhc01vcnBoUG9zaXRpb24gKSBnZW9tZXRyeS5tb3JwaEF0dHJpYnV0ZXMucG9zaXRpb24gPSBtb3JwaFBvc2l0aW9uczsKCQkJaWYgKCBoYXNNb3JwaE5vcm1hbCApIGdlb21ldHJ5Lm1vcnBoQXR0cmlidXRlcy5ub3JtYWwgPSBtb3JwaE5vcm1hbHM7CgkJCWdlb21ldHJ5Lm1vcnBoVGFyZ2V0c1JlbGF0aXZlID0gdHJ1ZTsKCQkJcmV0dXJuIGdlb21ldHJ5OwoKCQl9ICk7CgoJfQoJLyoqCgkgKiBAcGFyYW0ge01lc2h9IG1lc2gKCSAqIEBwYXJhbSB7R0xURi5NZXNofSBtZXNoRGVmCgkgKi8KCgoJZnVuY3Rpb24gdXBkYXRlTW9ycGhUYXJnZXRzKCBtZXNoLCBtZXNoRGVmICkgewoKCQltZXNoLnVwZGF0ZU1vcnBoVGFyZ2V0cygpOwoKCQlpZiAoIG1lc2hEZWYud2VpZ2h0cyAhPT0gdW5kZWZpbmVkICkgewoKCQkJZm9yICggbGV0IGkgPSAwLCBpbCA9IG1lc2hEZWYud2VpZ2h0cy5sZW5ndGg7IGkgPCBpbDsgaSArKyApIHsKCgkJCQltZXNoLm1vcnBoVGFyZ2V0SW5mbHVlbmNlc1sgaSBdID0gbWVzaERlZi53ZWlnaHRzWyBpIF07CgoJCQl9CgoJCX0gLy8gLmV4dHJhcyBoYXMgdXNlci1kZWZpbmVkIGRhdGEsIHNvIGNoZWNrIHRoYXQgLmV4dHJhcy50YXJnZXROYW1lcyBpcyBhbiBhcnJheS4KCgoJCWlmICggbWVzaERlZi5leHRyYXMgJiYgQXJyYXkuaXNBcnJheSggbWVzaERlZi5leHRyYXMudGFyZ2V0TmFtZXMgKSApIHsKCgkJCWNvbnN0IHRhcmdldE5hbWVzID0gbWVzaERlZi5leHRyYXMudGFyZ2V0TmFtZXM7CgoJCQlpZiAoIG1lc2gubW9ycGhUYXJnZXRJbmZsdWVuY2VzLmxlbmd0aCA9PT0gdGFyZ2V0TmFtZXMubGVuZ3RoICkgewoKCQkJCW1lc2gubW9ycGhUYXJnZXREaWN0aW9uYXJ5ID0ge307CgoJCQkJZm9yICggbGV0IGkgPSAwLCBpbCA9IHRhcmdldE5hbWVzLmxlbmd0aDsgaSA8IGlsOyBpICsrICkgewoKCQkJCQltZXNoLm1vcnBoVGFyZ2V0RGljdGlvbmFyeVsgdGFyZ2V0TmFtZXNbIGkgXSBdID0gaTsKCgkJCQl9CgoJCQl9IGVsc2UgewoKCQkJCWNvbnNvbGUud2FybiggJ1RIUkVFLkdMVEZMb2FkZXI6IEludmFsaWQgZXh0cmFzLnRhcmdldE5hbWVzIGxlbmd0aC4gSWdub3JpbmcgbmFtZXMuJyApOwoKCQkJfQoKCQl9CgoJfQoKCWZ1bmN0aW9uIGNyZWF0ZVByaW1pdGl2ZUtleSggcHJpbWl0aXZlRGVmICkgewoKCQljb25zdCBkcmFjb0V4dGVuc2lvbiA9IHByaW1pdGl2ZURlZi5leHRlbnNpb25zICYmIHByaW1pdGl2ZURlZi5leHRlbnNpb25zWyBFWFRFTlNJT05TLktIUl9EUkFDT19NRVNIX0NPTVBSRVNTSU9OIF07CgkJbGV0IGdlb21ldHJ5S2V5OwoKCQlpZiAoIGRyYWNvRXh0ZW5zaW9uICkgewoKCQkJZ2VvbWV0cnlLZXkgPSAnZHJhY286JyArIGRyYWNvRXh0ZW5zaW9uLmJ1ZmZlclZpZXcgKyAnOicgKyBkcmFjb0V4dGVuc2lvbi5pbmRpY2VzICsgJzonICsgY3JlYXRlQXR0cmlidXRlc0tleSggZHJhY29FeHRlbnNpb24uYXR0cmlidXRlcyApOwoKCQl9IGVsc2UgewoKCQkJZ2VvbWV0cnlLZXkgPSBwcmltaXRpdmVEZWYuaW5kaWNlcyArICc6JyArIGNyZWF0ZUF0dHJpYnV0ZXNLZXkoIHByaW1pdGl2ZURlZi5hdHRyaWJ1dGVzICkgKyAnOicgKyBwcmltaXRpdmVEZWYubW9kZTsKCgkJfQoKCQlyZXR1cm4gZ2VvbWV0cnlLZXk7CgoJfQoKCWZ1bmN0aW9uIGNyZWF0ZUF0dHJpYnV0ZXNLZXkoIGF0dHJpYnV0ZXMgKSB7CgoJCWxldCBhdHRyaWJ1dGVzS2V5ID0gJyc7CgkJY29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKCBhdHRyaWJ1dGVzICkuc29ydCgpOwoKCQlmb3IgKCBsZXQgaSA9IDAsIGlsID0ga2V5cy5sZW5ndGg7IGkgPCBpbDsgaSArKyApIHsKCgkJCWF0dHJpYnV0ZXNLZXkgKz0ga2V5c1sgaSBdICsgJzonICsgYXR0cmlidXRlc1sga2V5c1sgaSBdIF0gKyAnOyc7CgoJCX0KCgkJcmV0dXJuIGF0dHJpYnV0ZXNLZXk7CgoJfQoKCWZ1bmN0aW9uIGdldE5vcm1hbGl6ZWRDb21wb25lbnRTY2FsZSggY29uc3RydWN0b3IgKSB7CgoJCS8vIFJlZmVyZW5jZToKCQkvLyBodHRwczovL2dpdGh1Yi5jb20vS2hyb25vc0dyb3VwL2dsVEYvdHJlZS9tYXN0ZXIvZXh0ZW5zaW9ucy8yLjAvS2hyb25vcy9LSFJfbWVzaF9xdWFudGl6YXRpb24jZW5jb2RpbmctcXVhbnRpemVkLWRhdGEKCQlzd2l0Y2ggKCBjb25zdHJ1Y3RvciApIHsKCgkJCWNhc2UgSW50OEFycmF5OgoJCQkJcmV0dXJuIDEgLyAxMjc7CgoJCQljYXNlIFVpbnQ4QXJyYXk6CgkJCQlyZXR1cm4gMSAvIDI1NTsKCgkJCWNhc2UgSW50MTZBcnJheToKCQkJCXJldHVybiAxIC8gMzI3Njc7CgoJCQljYXNlIFVpbnQxNkFycmF5OgoJCQkJcmV0dXJuIDEgLyA2NTUzNTsKCgkJCWRlZmF1bHQ6CgkJCQl0aHJvdyBuZXcgRXJyb3IoICdUSFJFRS5HTFRGTG9hZGVyOiBVbnN1cHBvcnRlZCBub3JtYWxpemVkIGFjY2Vzc29yIGNvbXBvbmVudCB0eXBlLicgKTsKCgkJfQoKCX0KCS8qIEdMVEYgUEFSU0VSICovCgoKCWNsYXNzIEdMVEZQYXJzZXIgewoKCQljb25zdHJ1Y3RvcigganNvbiA9IHt9LCBvcHRpb25zID0ge30gKSB7CgoJCQl0aGlzLmpzb24gPSBqc29uOwoJCQl0aGlzLmV4dGVuc2lvbnMgPSB7fTsKCQkJdGhpcy5wbHVnaW5zID0ge307CgkJCXRoaXMub3B0aW9ucyA9IG9wdGlvbnM7IC8vIGxvYWRlciBvYmplY3QgY2FjaGUKCgkJCXRoaXMuY2FjaGUgPSBuZXcgR0xURlJlZ2lzdHJ5KCk7IC8vIGFzc29jaWF0aW9ucyBiZXR3ZWVuIFRocmVlLmpzIG9iamVjdHMgYW5kIGdsVEYgZWxlbWVudHMKCgkJCXRoaXMuYXNzb2NpYXRpb25zID0gbmV3IE1hcCgpOyAvLyBUSFJFRS5CdWZmZXJHZW9tZXRyeSBjYWNoaW5nCgoJCQl0aGlzLnByaW1pdGl2ZUNhY2hlID0ge307IC8vIFRIUkVFLk9iamVjdDNEIGluc3RhbmNlIGNhY2hlcwoKCQkJdGhpcy5tZXNoQ2FjaGUgPSB7CgkJCQlyZWZzOiB7fSwKCQkJCXVzZXM6IHt9CgkJCX07CgkJCXRoaXMuY2FtZXJhQ2FjaGUgPSB7CgkJCQlyZWZzOiB7fSwKCQkJCXVzZXM6IHt9CgkJCX07CgkJCXRoaXMubGlnaHRDYWNoZSA9IHsKCQkJCXJlZnM6IHt9LAoJCQkJdXNlczoge30KCQkJfTsgLy8gVHJhY2sgbm9kZSBuYW1lcywgdG8gZW5zdXJlIG5vIGR1cGxpY2F0ZXMKCgkJCXRoaXMubm9kZU5hbWVzVXNlZCA9IHt9OyAvLyBVc2UgYW4gVEhSRUUuSW1hZ2VCaXRtYXBMb2FkZXIgaWYgaW1hZ2VCaXRtYXBzIGFyZSBzdXBwb3J0ZWQuIE1vdmVzIG11Y2ggb2YgdGhlCgkJCS8vIGV4cGVuc2l2ZSB3b3JrIG9mIHVwbG9hZGluZyBhIHRleHR1cmUgdG8gdGhlIEdQVSBvZmYgdGhlIG1haW4gdGhyZWFkLgoKCQkJaWYgKCB0eXBlb2YgY3JlYXRlSW1hZ2VCaXRtYXAgIT09ICd1bmRlZmluZWQnICYmIC9GaXJlZm94Ly50ZXN0KCBuYXZpZ2F0b3IudXNlckFnZW50ICkgPT09IGZhbHNlICkgewoKCQkJCXRoaXMudGV4dHVyZUxvYWRlciA9IG5ldyBUSFJFRS5JbWFnZUJpdG1hcExvYWRlciggdGhpcy5vcHRpb25zLm1hbmFnZXIgKTsKCgkJCX0gZWxzZSB7CgoJCQkJdGhpcy50ZXh0dXJlTG9hZGVyID0gbmV3IFRIUkVFLlRleHR1cmVMb2FkZXIoIHRoaXMub3B0aW9ucy5tYW5hZ2VyICk7CgoJCQl9CgoJCQl0aGlzLnRleHR1cmVMb2FkZXIuc2V0Q3Jvc3NPcmlnaW4oIHRoaXMub3B0aW9ucy5jcm9zc09yaWdpbiApOwoJCQl0aGlzLnRleHR1cmVMb2FkZXIuc2V0UmVxdWVzdEhlYWRlciggdGhpcy5vcHRpb25zLnJlcXVlc3RIZWFkZXIgKTsKCQkJdGhpcy5maWxlTG9hZGVyID0gbmV3IFRIUkVFLkZpbGVMb2FkZXIoIHRoaXMub3B0aW9ucy5tYW5hZ2VyICk7CgkJCXRoaXMuZmlsZUxvYWRlci5zZXRSZXNwb25zZVR5cGUoICdhcnJheWJ1ZmZlcicgKTsKCgkJCWlmICggdGhpcy5vcHRpb25zLmNyb3NzT3JpZ2luID09PSAndXNlLWNyZWRlbnRpYWxzJyApIHsKCgkJCQl0aGlzLmZpbGVMb2FkZXIuc2V0V2l0aENyZWRlbnRpYWxzKCB0cnVlICk7CgoJCQl9CgoJCX0KCgkJc2V0RXh0ZW5zaW9ucyggZXh0ZW5zaW9ucyApIHsKCgkJCXRoaXMuZXh0ZW5zaW9ucyA9IGV4dGVuc2lvbnM7CgoJCX0KCgkJc2V0UGx1Z2lucyggcGx1Z2lucyApIHsKCgkJCXRoaXMucGx1Z2lucyA9IHBsdWdpbnM7CgoJCX0KCgkJcGFyc2UoIG9uTG9hZCwgb25FcnJvciApIHsKCgkJCWNvbnN0IHBhcnNlciA9IHRoaXM7CgkJCWNvbnN0IGpzb24gPSB0aGlzLmpzb247CgkJCWNvbnN0IGV4dGVuc2lvbnMgPSB0aGlzLmV4dGVuc2lvbnM7IC8vIENsZWFyIHRoZSBsb2FkZXIgY2FjaGUKCgkJCXRoaXMuY2FjaGUucmVtb3ZlQWxsKCk7IC8vIE1hcmsgdGhlIHNwZWNpYWwgbm9kZXMvbWVzaGVzIGluIGpzb24gZm9yIGVmZmljaWVudCBwYXJzZQoKCQkJdGhpcy5faW52b2tlQWxsKCBmdW5jdGlvbiAoIGV4dCApIHsKCgkJCQlyZXR1cm4gZXh0Ll9tYXJrRGVmcyAmJiBleHQuX21hcmtEZWZzKCk7CgoJCQl9ICk7CgoJCQlQcm9taXNlLmFsbCggdGhpcy5faW52b2tlQWxsKCBmdW5jdGlvbiAoIGV4dCApIHsKCgkJCQlyZXR1cm4gZXh0LmJlZm9yZVJvb3QgJiYgZXh0LmJlZm9yZVJvb3QoKTsKCgkJCX0gKSApLnRoZW4oIGZ1bmN0aW9uICgpIHsKCgkJCQlyZXR1cm4gUHJvbWlzZS5hbGwoIFsgcGFyc2VyLmdldERlcGVuZGVuY2llcyggJ3NjZW5lJyApLCBwYXJzZXIuZ2V0RGVwZW5kZW5jaWVzKCAnYW5pbWF0aW9uJyApLCBwYXJzZXIuZ2V0RGVwZW5kZW5jaWVzKCAnY2FtZXJhJyApIF0gKTsKCgkJCX0gKS50aGVuKCBmdW5jdGlvbiAoIGRlcGVuZGVuY2llcyApIHsKCgkJCQljb25zdCByZXN1bHQgPSB7CgkJCQkJc2NlbmU6IGRlcGVuZGVuY2llc1sgMCBdWyBqc29uLnNjZW5lIHx8IDAgXSwKCQkJCQlzY2VuZXM6IGRlcGVuZGVuY2llc1sgMCBdLAoJCQkJCWFuaW1hdGlvbnM6IGRlcGVuZGVuY2llc1sgMSBdLAoJCQkJCWNhbWVyYXM6IGRlcGVuZGVuY2llc1sgMiBdLAoJCQkJCWFzc2V0OiBqc29uLmFzc2V0LAoJCQkJCXBhcnNlcjogcGFyc2VyLAoJCQkJCXVzZXJEYXRhOiB7fQoJCQkJfTsKCQkJCWFkZFVua25vd25FeHRlbnNpb25zVG9Vc2VyRGF0YSggZXh0ZW5zaW9ucywgcmVzdWx0LCBqc29uICk7CgkJCQlhc3NpZ25FeHRyYXNUb1VzZXJEYXRhKCByZXN1bHQsIGpzb24gKTsKCQkJCVByb21pc2UuYWxsKCBwYXJzZXIuX2ludm9rZUFsbCggZnVuY3Rpb24gKCBleHQgKSB7CgoJCQkJCXJldHVybiBleHQuYWZ0ZXJSb290ICYmIGV4dC5hZnRlclJvb3QoIHJlc3VsdCApOwoKCQkJCX0gKSApLnRoZW4oIGZ1bmN0aW9uICgpIHsKCgkJCQkJb25Mb2FkKCByZXN1bHQgKTsKCgkJCQl9ICk7CgoJCQl9ICkuY2F0Y2goIG9uRXJyb3IgKTsKCgkJfQoJCS8qKgogICAqIE1hcmtzIHRoZSBzcGVjaWFsIG5vZGVzL21lc2hlcyBpbiBqc29uIGZvciBlZmZpY2llbnQgcGFyc2UuCiAgICovCgoKCQlfbWFya0RlZnMoKSB7CgoJCQljb25zdCBub2RlRGVmcyA9IHRoaXMuanNvbi5ub2RlcyB8fCBbXTsKCQkJY29uc3Qgc2tpbkRlZnMgPSB0aGlzLmpzb24uc2tpbnMgfHwgW107CgkJCWNvbnN0IG1lc2hEZWZzID0gdGhpcy5qc29uLm1lc2hlcyB8fCBbXTsgLy8gTm90aGluZyBpbiB0aGUgbm9kZSBkZWZpbml0aW9uIGluZGljYXRlcyB3aGV0aGVyIGl0IGlzIGEgVEhSRUUuQm9uZSBvciBhbgoJCQkvLyBUSFJFRS5PYmplY3QzRC4gVXNlIHRoZSBza2lucycgam9pbnQgcmVmZXJlbmNlcyB0byBtYXJrIGJvbmVzLgoKCQkJZm9yICggbGV0IHNraW5JbmRleCA9IDAsIHNraW5MZW5ndGggPSBza2luRGVmcy5sZW5ndGg7IHNraW5JbmRleCA8IHNraW5MZW5ndGg7IHNraW5JbmRleCArKyApIHsKCgkJCQljb25zdCBqb2ludHMgPSBza2luRGVmc1sgc2tpbkluZGV4IF0uam9pbnRzOwoKCQkJCWZvciAoIGxldCBpID0gMCwgaWwgPSBqb2ludHMubGVuZ3RoOyBpIDwgaWw7IGkgKysgKSB7CgoJCQkJCW5vZGVEZWZzWyBqb2ludHNbIGkgXSBdLmlzQm9uZSA9IHRydWU7CgoJCQkJfQoKCQkJfSAvLyBJdGVyYXRlIG92ZXIgYWxsIG5vZGVzLCBtYXJraW5nIHJlZmVyZW5jZXMgdG8gc2hhcmVkIHJlc291cmNlcywKCQkJLy8gYXMgd2VsbCBhcyBza2VsZXRvbiBqb2ludHMuCgoKCQkJZm9yICggbGV0IG5vZGVJbmRleCA9IDAsIG5vZGVMZW5ndGggPSBub2RlRGVmcy5sZW5ndGg7IG5vZGVJbmRleCA8IG5vZGVMZW5ndGg7IG5vZGVJbmRleCArKyApIHsKCgkJCQljb25zdCBub2RlRGVmID0gbm9kZURlZnNbIG5vZGVJbmRleCBdOwoKCQkJCWlmICggbm9kZURlZi5tZXNoICE9PSB1bmRlZmluZWQgKSB7CgoJCQkJCXRoaXMuX2FkZE5vZGVSZWYoIHRoaXMubWVzaENhY2hlLCBub2RlRGVmLm1lc2ggKTsgLy8gTm90aGluZyBpbiB0aGUgbWVzaCBkZWZpbml0aW9uIGluZGljYXRlcyB3aGV0aGVyIGl0IGlzCgkJCQkJLy8gYSBUSFJFRS5Ta2lubmVkTWVzaCBvciBUSFJFRS5NZXNoLiBVc2UgdGhlIG5vZGUncyBtZXNoIHJlZmVyZW5jZQoJCQkJCS8vIHRvIG1hcmsgVEhSRUUuU2tpbm5lZE1lc2ggaWYgbm9kZSBoYXMgc2tpbi4KCgoJCQkJCWlmICggbm9kZURlZi5za2luICE9PSB1bmRlZmluZWQgKSB7CgoJCQkJCQltZXNoRGVmc1sgbm9kZURlZi5tZXNoIF0uaXNTa2lubmVkTWVzaCA9IHRydWU7CgoJCQkJCX0KCgkJCQl9CgoJCQkJaWYgKCBub2RlRGVmLmNhbWVyYSAhPT0gdW5kZWZpbmVkICkgewoKCQkJCQl0aGlzLl9hZGROb2RlUmVmKCB0aGlzLmNhbWVyYUNhY2hlLCBub2RlRGVmLmNhbWVyYSApOwoKCQkJCX0KCgkJCX0KCgkJfQoJCS8qKgogICAqIENvdW50cyByZWZlcmVuY2VzIHRvIHNoYXJlZCBub2RlIC8gVEhSRUUuT2JqZWN0M0QgcmVzb3VyY2VzLiBUaGVzZSByZXNvdXJjZXMKICAgKiBjYW4gYmUgcmV1c2VkLCBvciAiaW5zdGFudGlhdGVkIiwgYXQgbXVsdGlwbGUgbm9kZXMgaW4gdGhlIHNjZW5lCiAgICogaGllcmFyY2h5LiBUSFJFRS5NZXNoLCBDYW1lcmEsIGFuZCBMaWdodCBpbnN0YW5jZXMgYXJlIGluc3RhbnRpYXRlZCBhbmQgbXVzdAogICAqIGJlIG1hcmtlZC4gTm9uLXNjZW5lZ3JhcGggcmVzb3VyY2VzIChsaWtlIE1hdGVyaWFscywgR2VvbWV0cmllcywgYW5kCiAgICogVGV4dHVyZXMpIGNhbiBiZSByZXVzZWQgZGlyZWN0bHkgYW5kIGFyZSBub3QgbWFya2VkIGhlcmUuCiAgICoKICAgKiBFeGFtcGxlOiBDZXNpdW1NaWxrVHJ1Y2sgc2FtcGxlIG1vZGVsIHJldXNlcyAiV2hlZWwiIG1lc2hlcy4KICAgKi8KCgoJCV9hZGROb2RlUmVmKCBjYWNoZSwgaW5kZXggKSB7CgoJCQlpZiAoIGluZGV4ID09PSB1bmRlZmluZWQgKSByZXR1cm47CgoJCQlpZiAoIGNhY2hlLnJlZnNbIGluZGV4IF0gPT09IHVuZGVmaW5lZCApIHsKCgkJCQljYWNoZS5yZWZzWyBpbmRleCBdID0gY2FjaGUudXNlc1sgaW5kZXggXSA9IDA7CgoJCQl9CgoJCQljYWNoZS5yZWZzWyBpbmRleCBdICsrOwoKCQl9CgkJLyoqIFJldHVybnMgYSByZWZlcmVuY2UgdG8gYSBzaGFyZWQgcmVzb3VyY2UsIGNsb25pbmcgaXQgaWYgbmVjZXNzYXJ5LiAqLwoKCgkJX2dldE5vZGVSZWYoIGNhY2hlLCBpbmRleCwgb2JqZWN0ICkgewoKCQkJaWYgKCBjYWNoZS5yZWZzWyBpbmRleCBdIDw9IDEgKSByZXR1cm4gb2JqZWN0OwoJCQljb25zdCByZWYgPSBvYmplY3QuY2xvbmUoKTsKCQkJcmVmLm5hbWUgKz0gJ19pbnN0YW5jZV8nICsgY2FjaGUudXNlc1sgaW5kZXggXSArKzsKCQkJcmV0dXJuIHJlZjsKCgkJfQoKCQlfaW52b2tlT25lKCBmdW5jICkgewoKCQkJY29uc3QgZXh0ZW5zaW9ucyA9IE9iamVjdC52YWx1ZXMoIHRoaXMucGx1Z2lucyApOwoJCQlleHRlbnNpb25zLnB1c2goIHRoaXMgKTsKCgkJCWZvciAoIGxldCBpID0gMDsgaSA8IGV4dGVuc2lvbnMubGVuZ3RoOyBpICsrICkgewoKCQkJCWNvbnN0IHJlc3VsdCA9IGZ1bmMoIGV4dGVuc2lvbnNbIGkgXSApOwoJCQkJaWYgKCByZXN1bHQgKSByZXR1cm4gcmVzdWx0OwoKCQkJfQoKCQkJcmV0dXJuIG51bGw7CgoJCX0KCgkJX2ludm9rZUFsbCggZnVuYyApIHsKCgkJCWNvbnN0IGV4dGVuc2lvbnMgPSBPYmplY3QudmFsdWVzKCB0aGlzLnBsdWdpbnMgKTsKCQkJZXh0ZW5zaW9ucy51bnNoaWZ0KCB0aGlzICk7CgkJCWNvbnN0IHBlbmRpbmcgPSBbXTsKCgkJCWZvciAoIGxldCBpID0gMDsgaSA8IGV4dGVuc2lvbnMubGVuZ3RoOyBpICsrICkgewoKCQkJCWNvbnN0IHJlc3VsdCA9IGZ1bmMoIGV4dGVuc2lvbnNbIGkgXSApOwoJCQkJaWYgKCByZXN1bHQgKSBwZW5kaW5nLnB1c2goIHJlc3VsdCApOwoKCQkJfQoKCQkJcmV0dXJuIHBlbmRpbmc7CgoJCX0KCQkvKioKICAgKiBSZXF1ZXN0cyB0aGUgc3BlY2lmaWVkIGRlcGVuZGVuY3kgYXN5bmNocm9ub3VzbHksIHdpdGggY2FjaGluZy4KICAgKiBAcGFyYW0ge3N0cmluZ30gdHlwZQogICAqIEBwYXJhbSB7bnVtYmVyfSBpbmRleAogICAqIEByZXR1cm4ge1Byb21pc2U8T2JqZWN0M0R8TWF0ZXJpYWx8VEhSRUUuVGV4dHVyZXxBbmltYXRpb25DbGlwfEFycmF5QnVmZmVyfE9iamVjdD59CiAgICovCgoKCQlnZXREZXBlbmRlbmN5KCB0eXBlLCBpbmRleCApIHsKCgkJCWNvbnN0IGNhY2hlS2V5ID0gdHlwZSArICc6JyArIGluZGV4OwoJCQlsZXQgZGVwZW5kZW5jeSA9IHRoaXMuY2FjaGUuZ2V0KCBjYWNoZUtleSApOwoKCQkJaWYgKCAhIGRlcGVuZGVuY3kgKSB7CgoJCQkJc3dpdGNoICggdHlwZSApIHsKCgkJCQkJY2FzZSAnc2NlbmUnOgoJCQkJCQlkZXBlbmRlbmN5ID0gdGhpcy5sb2FkU2NlbmUoIGluZGV4ICk7CgkJCQkJCWJyZWFrOwoKCQkJCQljYXNlICdub2RlJzoKCQkJCQkJZGVwZW5kZW5jeSA9IHRoaXMubG9hZE5vZGUoIGluZGV4ICk7CgkJCQkJCWJyZWFrOwoKCQkJCQljYXNlICdtZXNoJzoKCQkJCQkJZGVwZW5kZW5jeSA9IHRoaXMuX2ludm9rZU9uZSggZnVuY3Rpb24gKCBleHQgKSB7CgoJCQkJCQkJcmV0dXJuIGV4dC5sb2FkTWVzaCAmJiBleHQubG9hZE1lc2goIGluZGV4ICk7CgoJCQkJCQl9ICk7CgkJCQkJCWJyZWFrOwoKCQkJCQljYXNlICdhY2Nlc3Nvcic6CgkJCQkJCWRlcGVuZGVuY3kgPSB0aGlzLmxvYWRBY2Nlc3NvciggaW5kZXggKTsKCQkJCQkJYnJlYWs7CgoJCQkJCWNhc2UgJ2J1ZmZlclZpZXcnOgoJCQkJCQlkZXBlbmRlbmN5ID0gdGhpcy5faW52b2tlT25lKCBmdW5jdGlvbiAoIGV4dCApIHsKCgkJCQkJCQlyZXR1cm4gZXh0LmxvYWRCdWZmZXJWaWV3ICYmIGV4dC5sb2FkQnVmZmVyVmlldyggaW5kZXggKTsKCgkJCQkJCX0gKTsKCQkJCQkJYnJlYWs7CgoJCQkJCWNhc2UgJ2J1ZmZlcic6CgkJCQkJCWRlcGVuZGVuY3kgPSB0aGlzLmxvYWRCdWZmZXIoIGluZGV4ICk7CgkJCQkJCWJyZWFrOwoKCQkJCQljYXNlICdtYXRlcmlhbCc6CgkJCQkJCWRlcGVuZGVuY3kgPSB0aGlzLl9pbnZva2VPbmUoIGZ1bmN0aW9uICggZXh0ICkgewoKCQkJCQkJCXJldHVybiBleHQubG9hZE1hdGVyaWFsICYmIGV4dC5sb2FkTWF0ZXJpYWwoIGluZGV4ICk7CgoJCQkJCQl9ICk7CgkJCQkJCWJyZWFrOwoKCQkJCQljYXNlICd0ZXh0dXJlJzoKCQkJCQkJZGVwZW5kZW5jeSA9IHRoaXMuX2ludm9rZU9uZSggZnVuY3Rpb24gKCBleHQgKSB7CgoJCQkJCQkJcmV0dXJuIGV4dC5sb2FkVGV4dHVyZSAmJiBleHQubG9hZFRleHR1cmUoIGluZGV4ICk7CgoJCQkJCQl9ICk7CgkJCQkJCWJyZWFrOwoKCQkJCQljYXNlICdza2luJzoKCQkJCQkJZGVwZW5kZW5jeSA9IHRoaXMubG9hZFNraW4oIGluZGV4ICk7CgkJCQkJCWJyZWFrOwoKCQkJCQljYXNlICdhbmltYXRpb24nOgoJCQkJCQlkZXBlbmRlbmN5ID0gdGhpcy5sb2FkQW5pbWF0aW9uKCBpbmRleCApOwoJCQkJCQlicmVhazsKCgkJCQkJY2FzZSAnY2FtZXJhJzoKCQkJCQkJZGVwZW5kZW5jeSA9IHRoaXMubG9hZENhbWVyYSggaW5kZXggKTsKCQkJCQkJYnJlYWs7CgoJCQkJCWRlZmF1bHQ6CgkJCQkJCXRocm93IG5ldyBFcnJvciggJ1Vua25vd24gdHlwZTogJyArIHR5cGUgKTsKCgkJCQl9CgoJCQkJdGhpcy5jYWNoZS5hZGQoIGNhY2hlS2V5LCBkZXBlbmRlbmN5ICk7CgoJCQl9CgoJCQlyZXR1cm4gZGVwZW5kZW5jeTsKCgkJfQoJCS8qKgogICAqIFJlcXVlc3RzIGFsbCBkZXBlbmRlbmNpZXMgb2YgdGhlIHNwZWNpZmllZCB0eXBlIGFzeW5jaHJvbm91c2x5LCB3aXRoIGNhY2hpbmcuCiAgICogQHBhcmFtIHtzdHJpbmd9IHR5cGUKICAgKiBAcmV0dXJuIHtQcm9taXNlPEFycmF5PE9iamVjdD4+fQogICAqLwoKCgkJZ2V0RGVwZW5kZW5jaWVzKCB0eXBlICkgewoKCQkJbGV0IGRlcGVuZGVuY2llcyA9IHRoaXMuY2FjaGUuZ2V0KCB0eXBlICk7CgoJCQlpZiAoICEgZGVwZW5kZW5jaWVzICkgewoKCQkJCWNvbnN0IHBhcnNlciA9IHRoaXM7CgkJCQljb25zdCBkZWZzID0gdGhpcy5qc29uWyB0eXBlICsgKCB0eXBlID09PSAnbWVzaCcgPyAnZXMnIDogJ3MnICkgXSB8fCBbXTsKCQkJCWRlcGVuZGVuY2llcyA9IFByb21pc2UuYWxsKCBkZWZzLm1hcCggZnVuY3Rpb24gKCBkZWYsIGluZGV4ICkgewoKCQkJCQlyZXR1cm4gcGFyc2VyLmdldERlcGVuZGVuY3koIHR5cGUsIGluZGV4ICk7CgoJCQkJfSApICk7CgkJCQl0aGlzLmNhY2hlLmFkZCggdHlwZSwgZGVwZW5kZW5jaWVzICk7CgoJCQl9CgoJCQlyZXR1cm4gZGVwZW5kZW5jaWVzOwoKCQl9CgkJLyoqCiAgICogU3BlY2lmaWNhdGlvbjogaHR0cHM6Ly9naXRodWIuY29tL0tocm9ub3NHcm91cC9nbFRGL2Jsb2IvbWFzdGVyL3NwZWNpZmljYXRpb24vMi4wL1JFQURNRS5tZCNidWZmZXJzLWFuZC1idWZmZXItdmlld3MKICAgKiBAcGFyYW0ge251bWJlcn0gYnVmZmVySW5kZXgKICAgKiBAcmV0dXJuIHtQcm9taXNlPEFycmF5QnVmZmVyPn0KICAgKi8KCgoJCWxvYWRCdWZmZXIoIGJ1ZmZlckluZGV4ICkgewoKCQkJY29uc3QgYnVmZmVyRGVmID0gdGhpcy5qc29uLmJ1ZmZlcnNbIGJ1ZmZlckluZGV4IF07CgkJCWNvbnN0IGxvYWRlciA9IHRoaXMuZmlsZUxvYWRlcjsKCgkJCWlmICggYnVmZmVyRGVmLnR5cGUgJiYgYnVmZmVyRGVmLnR5cGUgIT09ICdhcnJheWJ1ZmZlcicgKSB7CgoJCQkJdGhyb3cgbmV3IEVycm9yKCAnVEhSRUUuR0xURkxvYWRlcjogJyArIGJ1ZmZlckRlZi50eXBlICsgJyBidWZmZXIgdHlwZSBpcyBub3Qgc3VwcG9ydGVkLicgKTsKCgkJCX0gLy8gSWYgcHJlc2VudCwgR0xCIGNvbnRhaW5lciBpcyByZXF1aXJlZCB0byBiZSB0aGUgZmlyc3QgYnVmZmVyLgoKCgkJCWlmICggYnVmZmVyRGVmLnVyaSA9PT0gdW5kZWZpbmVkICYmIGJ1ZmZlckluZGV4ID09PSAwICkgewoKCQkJCXJldHVybiBQcm9taXNlLnJlc29sdmUoIHRoaXMuZXh0ZW5zaW9uc1sgRVhURU5TSU9OUy5LSFJfQklOQVJZX0dMVEYgXS5ib2R5ICk7CgoJCQl9CgoJCQljb25zdCBvcHRpb25zID0gdGhpcy5vcHRpb25zOwoJCQlyZXR1cm4gbmV3IFByb21pc2UoIGZ1bmN0aW9uICggcmVzb2x2ZSwgcmVqZWN0ICkgewoKCQkJCWxvYWRlci5sb2FkKCByZXNvbHZlVVJMKCBidWZmZXJEZWYudXJpLCBvcHRpb25zLnBhdGggKSwgcmVzb2x2ZSwgdW5kZWZpbmVkLCBmdW5jdGlvbiAoKSB7CgoJCQkJCXJlamVjdCggbmV3IEVycm9yKCAnVEhSRUUuR0xURkxvYWRlcjogRmFpbGVkIHRvIGxvYWQgYnVmZmVyICInICsgYnVmZmVyRGVmLnVyaSArICciLicgKSApOwoKCQkJCX0gKTsKCgkJCX0gKTsKCgkJfQoJCS8qKgogICAqIFNwZWNpZmljYXRpb246IGh0dHBzOi8vZ2l0aHViLmNvbS9LaHJvbm9zR3JvdXAvZ2xURi9ibG9iL21hc3Rlci9zcGVjaWZpY2F0aW9uLzIuMC9SRUFETUUubWQjYnVmZmVycy1hbmQtYnVmZmVyLXZpZXdzCiAgICogQHBhcmFtIHtudW1iZXJ9IGJ1ZmZlclZpZXdJbmRleAogICAqIEByZXR1cm4ge1Byb21pc2U8QXJyYXlCdWZmZXI+fQogICAqLwoKCgkJbG9hZEJ1ZmZlclZpZXcoIGJ1ZmZlclZpZXdJbmRleCApIHsKCgkJCWNvbnN0IGJ1ZmZlclZpZXdEZWYgPSB0aGlzLmpzb24uYnVmZmVyVmlld3NbIGJ1ZmZlclZpZXdJbmRleCBdOwoJCQlyZXR1cm4gdGhpcy5nZXREZXBlbmRlbmN5KCAnYnVmZmVyJywgYnVmZmVyVmlld0RlZi5idWZmZXIgKS50aGVuKCBmdW5jdGlvbiAoIGJ1ZmZlciApIHsKCgkJCQljb25zdCBieXRlTGVuZ3RoID0gYnVmZmVyVmlld0RlZi5ieXRlTGVuZ3RoIHx8IDA7CgkJCQljb25zdCBieXRlT2Zmc2V0ID0gYnVmZmVyVmlld0RlZi5ieXRlT2Zmc2V0IHx8IDA7CgkJCQlyZXR1cm4gYnVmZmVyLnNsaWNlKCBieXRlT2Zmc2V0LCBieXRlT2Zmc2V0ICsgYnl0ZUxlbmd0aCApOwoKCQkJfSApOwoKCQl9CgkJLyoqCiAgICogU3BlY2lmaWNhdGlvbjogaHR0cHM6Ly9naXRodWIuY29tL0tocm9ub3NHcm91cC9nbFRGL2Jsb2IvbWFzdGVyL3NwZWNpZmljYXRpb24vMi4wL1JFQURNRS5tZCNhY2Nlc3NvcnMKICAgKiBAcGFyYW0ge251bWJlcn0gYWNjZXNzb3JJbmRleAogICAqIEByZXR1cm4ge1Byb21pc2U8QnVmZmVyQXR0cmlidXRlfEludGVybGVhdmVkQnVmZmVyQXR0cmlidXRlPn0KICAgKi8KCgoJCWxvYWRBY2Nlc3NvciggYWNjZXNzb3JJbmRleCApIHsKCgkJCWNvbnN0IHBhcnNlciA9IHRoaXM7CgkJCWNvbnN0IGpzb24gPSB0aGlzLmpzb247CgkJCWNvbnN0IGFjY2Vzc29yRGVmID0gdGhpcy5qc29uLmFjY2Vzc29yc1sgYWNjZXNzb3JJbmRleCBdOwoKCQkJaWYgKCBhY2Nlc3NvckRlZi5idWZmZXJWaWV3ID09PSB1bmRlZmluZWQgJiYgYWNjZXNzb3JEZWYuc3BhcnNlID09PSB1bmRlZmluZWQgKSB7CgoJCQkJLy8gSWdub3JlIGVtcHR5IGFjY2Vzc29ycywgd2hpY2ggbWF5IGJlIHVzZWQgdG8gZGVjbGFyZSBydW50aW1lCgkJCQkvLyBpbmZvcm1hdGlvbiBhYm91dCBhdHRyaWJ1dGVzIGNvbWluZyBmcm9tIGFub3RoZXIgc291cmNlIChlLmcuIERyYWNvCgkJCQkvLyBjb21wcmVzc2lvbiBleHRlbnNpb24pLgoJCQkJcmV0dXJuIFByb21pc2UucmVzb2x2ZSggbnVsbCApOwoKCQkJfQoKCQkJY29uc3QgcGVuZGluZ0J1ZmZlclZpZXdzID0gW107CgoJCQlpZiAoIGFjY2Vzc29yRGVmLmJ1ZmZlclZpZXcgIT09IHVuZGVmaW5lZCApIHsKCgkJCQlwZW5kaW5nQnVmZmVyVmlld3MucHVzaCggdGhpcy5nZXREZXBlbmRlbmN5KCAnYnVmZmVyVmlldycsIGFjY2Vzc29yRGVmLmJ1ZmZlclZpZXcgKSApOwoKCQkJfSBlbHNlIHsKCgkJCQlwZW5kaW5nQnVmZmVyVmlld3MucHVzaCggbnVsbCApOwoKCQkJfQoKCQkJaWYgKCBhY2Nlc3NvckRlZi5zcGFyc2UgIT09IHVuZGVmaW5lZCApIHsKCgkJCQlwZW5kaW5nQnVmZmVyVmlld3MucHVzaCggdGhpcy5nZXREZXBlbmRlbmN5KCAnYnVmZmVyVmlldycsIGFjY2Vzc29yRGVmLnNwYXJzZS5pbmRpY2VzLmJ1ZmZlclZpZXcgKSApOwoJCQkJcGVuZGluZ0J1ZmZlclZpZXdzLnB1c2goIHRoaXMuZ2V0RGVwZW5kZW5jeSggJ2J1ZmZlclZpZXcnLCBhY2Nlc3NvckRlZi5zcGFyc2UudmFsdWVzLmJ1ZmZlclZpZXcgKSApOwoKCQkJfQoKCQkJcmV0dXJuIFByb21pc2UuYWxsKCBwZW5kaW5nQnVmZmVyVmlld3MgKS50aGVuKCBmdW5jdGlvbiAoIGJ1ZmZlclZpZXdzICkgewoKCQkJCWNvbnN0IGJ1ZmZlclZpZXcgPSBidWZmZXJWaWV3c1sgMCBdOwoJCQkJY29uc3QgaXRlbVNpemUgPSBXRUJHTF9UWVBFX1NJWkVTWyBhY2Nlc3NvckRlZi50eXBlIF07CgkJCQljb25zdCBUeXBlZEFycmF5ID0gV0VCR0xfQ09NUE9ORU5UX1RZUEVTWyBhY2Nlc3NvckRlZi5jb21wb25lbnRUeXBlIF07IC8vIEZvciBWRUMzOiBpdGVtU2l6ZSBpcyAzLCBlbGVtZW50Qnl0ZXMgaXMgNCwgaXRlbUJ5dGVzIGlzIDEyLgoKCQkJCWNvbnN0IGVsZW1lbnRCeXRlcyA9IFR5cGVkQXJyYXkuQllURVNfUEVSX0VMRU1FTlQ7CgkJCQljb25zdCBpdGVtQnl0ZXMgPSBlbGVtZW50Qnl0ZXMgKiBpdGVtU2l6ZTsKCQkJCWNvbnN0IGJ5dGVPZmZzZXQgPSBhY2Nlc3NvckRlZi5ieXRlT2Zmc2V0IHx8IDA7CgkJCQljb25zdCBieXRlU3RyaWRlID0gYWNjZXNzb3JEZWYuYnVmZmVyVmlldyAhPT0gdW5kZWZpbmVkID8ganNvbi5idWZmZXJWaWV3c1sgYWNjZXNzb3JEZWYuYnVmZmVyVmlldyBdLmJ5dGVTdHJpZGUgOiB1bmRlZmluZWQ7CgkJCQljb25zdCBub3JtYWxpemVkID0gYWNjZXNzb3JEZWYubm9ybWFsaXplZCA9PT0gdHJ1ZTsKCQkJCWxldCBhcnJheSwgYnVmZmVyQXR0cmlidXRlOyAvLyBUaGUgYnVmZmVyIGlzIG5vdCBpbnRlcmxlYXZlZCBpZiB0aGUgc3RyaWRlIGlzIHRoZSBpdGVtIHNpemUgaW4gYnl0ZXMuCgoJCQkJaWYgKCBieXRlU3RyaWRlICYmIGJ5dGVTdHJpZGUgIT09IGl0ZW1CeXRlcyApIHsKCgkJCQkJLy8gRWFjaCAic2xpY2UiIG9mIHRoZSBidWZmZXIsIGFzIGRlZmluZWQgYnkgJ2NvdW50JyBlbGVtZW50cyBvZiAnYnl0ZVN0cmlkZScgYnl0ZXMsIGdldHMgaXRzIG93biBUSFJFRS5JbnRlcmxlYXZlZEJ1ZmZlcgoJCQkJCS8vIFRoaXMgbWFrZXMgc3VyZSB0aGF0IElCQS5jb3VudCByZWZsZWN0cyBhY2Nlc3Nvci5jb3VudCBwcm9wZXJseQoJCQkJCWNvbnN0IGliU2xpY2UgPSBNYXRoLmZsb29yKCBieXRlT2Zmc2V0IC8gYnl0ZVN0cmlkZSApOwoJCQkJCWNvbnN0IGliQ2FjaGVLZXkgPSAnSW50ZXJsZWF2ZWRCdWZmZXI6JyArIGFjY2Vzc29yRGVmLmJ1ZmZlclZpZXcgKyAnOicgKyBhY2Nlc3NvckRlZi5jb21wb25lbnRUeXBlICsgJzonICsgaWJTbGljZSArICc6JyArIGFjY2Vzc29yRGVmLmNvdW50OwoJCQkJCWxldCBpYiA9IHBhcnNlci5jYWNoZS5nZXQoIGliQ2FjaGVLZXkgKTsKCgkJCQkJaWYgKCAhIGliICkgewoKCQkJCQkJYXJyYXkgPSBuZXcgVHlwZWRBcnJheSggYnVmZmVyVmlldywgaWJTbGljZSAqIGJ5dGVTdHJpZGUsIGFjY2Vzc29yRGVmLmNvdW50ICogYnl0ZVN0cmlkZSAvIGVsZW1lbnRCeXRlcyApOyAvLyBJbnRlZ2VyIHBhcmFtZXRlcnMgdG8gSUIvSUJBIGFyZSBpbiBhcnJheSBlbGVtZW50cywgbm90IGJ5dGVzLgoKCQkJCQkJaWIgPSBuZXcgVEhSRUUuSW50ZXJsZWF2ZWRCdWZmZXIoIGFycmF5LCBieXRlU3RyaWRlIC8gZWxlbWVudEJ5dGVzICk7CgkJCQkJCXBhcnNlci5jYWNoZS5hZGQoIGliQ2FjaGVLZXksIGliICk7CgoJCQkJCX0KCgkJCQkJYnVmZmVyQXR0cmlidXRlID0gbmV3IFRIUkVFLkludGVybGVhdmVkQnVmZmVyQXR0cmlidXRlKCBpYiwgaXRlbVNpemUsIGJ5dGVPZmZzZXQgJSBieXRlU3RyaWRlIC8gZWxlbWVudEJ5dGVzLCBub3JtYWxpemVkICk7CgoJCQkJfSBlbHNlIHsKCgkJCQkJaWYgKCBidWZmZXJWaWV3ID09PSBudWxsICkgewoKCQkJCQkJYXJyYXkgPSBuZXcgVHlwZWRBcnJheSggYWNjZXNzb3JEZWYuY291bnQgKiBpdGVtU2l6ZSApOwoKCQkJCQl9IGVsc2UgewoKCQkJCQkJYXJyYXkgPSBuZXcgVHlwZWRBcnJheSggYnVmZmVyVmlldywgYnl0ZU9mZnNldCwgYWNjZXNzb3JEZWYuY291bnQgKiBpdGVtU2l6ZSApOwoKCQkJCQl9CgoJCQkJCWJ1ZmZlckF0dHJpYnV0ZSA9IG5ldyBUSFJFRS5CdWZmZXJBdHRyaWJ1dGUoIGFycmF5LCBpdGVtU2l6ZSwgbm9ybWFsaXplZCApOwoKCQkJCX0gLy8gaHR0cHM6Ly9naXRodWIuY29tL0tocm9ub3NHcm91cC9nbFRGL2Jsb2IvbWFzdGVyL3NwZWNpZmljYXRpb24vMi4wL1JFQURNRS5tZCNzcGFyc2UtYWNjZXNzb3JzCgoKCQkJCWlmICggYWNjZXNzb3JEZWYuc3BhcnNlICE9PSB1bmRlZmluZWQgKSB7CgoJCQkJCWNvbnN0IGl0ZW1TaXplSW5kaWNlcyA9IFdFQkdMX1RZUEVfU0laRVMuU0NBTEFSOwoJCQkJCWNvbnN0IFR5cGVkQXJyYXlJbmRpY2VzID0gV0VCR0xfQ09NUE9ORU5UX1RZUEVTWyBhY2Nlc3NvckRlZi5zcGFyc2UuaW5kaWNlcy5jb21wb25lbnRUeXBlIF07CgkJCQkJY29uc3QgYnl0ZU9mZnNldEluZGljZXMgPSBhY2Nlc3NvckRlZi5zcGFyc2UuaW5kaWNlcy5ieXRlT2Zmc2V0IHx8IDA7CgkJCQkJY29uc3QgYnl0ZU9mZnNldFZhbHVlcyA9IGFjY2Vzc29yRGVmLnNwYXJzZS52YWx1ZXMuYnl0ZU9mZnNldCB8fCAwOwoJCQkJCWNvbnN0IHNwYXJzZUluZGljZXMgPSBuZXcgVHlwZWRBcnJheUluZGljZXMoIGJ1ZmZlclZpZXdzWyAxIF0sIGJ5dGVPZmZzZXRJbmRpY2VzLCBhY2Nlc3NvckRlZi5zcGFyc2UuY291bnQgKiBpdGVtU2l6ZUluZGljZXMgKTsKCQkJCQljb25zdCBzcGFyc2VWYWx1ZXMgPSBuZXcgVHlwZWRBcnJheSggYnVmZmVyVmlld3NbIDIgXSwgYnl0ZU9mZnNldFZhbHVlcywgYWNjZXNzb3JEZWYuc3BhcnNlLmNvdW50ICogaXRlbVNpemUgKTsKCgkJCQkJaWYgKCBidWZmZXJWaWV3ICE9PSBudWxsICkgewoKCQkJCQkJLy8gQXZvaWQgbW9kaWZ5aW5nIHRoZSBvcmlnaW5hbCBBcnJheUJ1ZmZlciwgaWYgdGhlIGJ1ZmZlclZpZXcgd2Fzbid0IGluaXRpYWxpemVkIHdpdGggemVyb2VzLgoJCQkJCQlidWZmZXJBdHRyaWJ1dGUgPSBuZXcgVEhSRUUuQnVmZmVyQXR0cmlidXRlKCBidWZmZXJBdHRyaWJ1dGUuYXJyYXkuc2xpY2UoKSwgYnVmZmVyQXR0cmlidXRlLml0ZW1TaXplLCBidWZmZXJBdHRyaWJ1dGUubm9ybWFsaXplZCApOwoKCQkJCQl9CgoJCQkJCWZvciAoIGxldCBpID0gMCwgaWwgPSBzcGFyc2VJbmRpY2VzLmxlbmd0aDsgaSA8IGlsOyBpICsrICkgewoKCQkJCQkJY29uc3QgaW5kZXggPSBzcGFyc2VJbmRpY2VzWyBpIF07CgkJCQkJCWJ1ZmZlckF0dHJpYnV0ZS5zZXRYKCBpbmRleCwgc3BhcnNlVmFsdWVzWyBpICogaXRlbVNpemUgXSApOwoJCQkJCQlpZiAoIGl0ZW1TaXplID49IDIgKSBidWZmZXJBdHRyaWJ1dGUuc2V0WSggaW5kZXgsIHNwYXJzZVZhbHVlc1sgaSAqIGl0ZW1TaXplICsgMSBdICk7CgkJCQkJCWlmICggaXRlbVNpemUgPj0gMyApIGJ1ZmZlckF0dHJpYnV0ZS5zZXRaKCBpbmRleCwgc3BhcnNlVmFsdWVzWyBpICogaXRlbVNpemUgKyAyIF0gKTsKCQkJCQkJaWYgKCBpdGVtU2l6ZSA+PSA0ICkgYnVmZmVyQXR0cmlidXRlLnNldFcoIGluZGV4LCBzcGFyc2VWYWx1ZXNbIGkgKiBpdGVtU2l6ZSArIDMgXSApOwoJCQkJCQlpZiAoIGl0ZW1TaXplID49IDUgKSB0aHJvdyBuZXcgRXJyb3IoICdUSFJFRS5HTFRGTG9hZGVyOiBVbnN1cHBvcnRlZCBpdGVtU2l6ZSBpbiBzcGFyc2UgVEhSRUUuQnVmZmVyQXR0cmlidXRlLicgKTsKCgkJCQkJfQoKCQkJCX0KCgkJCQlyZXR1cm4gYnVmZmVyQXR0cmlidXRlOwoKCQkJfSApOwoKCQl9CgkJLyoqCiAgICogU3BlY2lmaWNhdGlvbjogaHR0cHM6Ly9naXRodWIuY29tL0tocm9ub3NHcm91cC9nbFRGL3RyZWUvbWFzdGVyL3NwZWNpZmljYXRpb24vMi4wI3RleHR1cmVzCiAgICogQHBhcmFtIHtudW1iZXJ9IHRleHR1cmVJbmRleAogICAqIEByZXR1cm4ge1Byb21pc2U8VEhSRUUuVGV4dHVyZT59CiAgICovCgoKCQlsb2FkVGV4dHVyZSggdGV4dHVyZUluZGV4ICkgewoKCQkJY29uc3QganNvbiA9IHRoaXMuanNvbjsKCQkJY29uc3Qgb3B0aW9ucyA9IHRoaXMub3B0aW9uczsKCQkJY29uc3QgdGV4dHVyZURlZiA9IGpzb24udGV4dHVyZXNbIHRleHR1cmVJbmRleCBdOwoJCQljb25zdCBzb3VyY2UgPSBqc29uLmltYWdlc1sgdGV4dHVyZURlZi5zb3VyY2UgXTsKCQkJbGV0IGxvYWRlciA9IHRoaXMudGV4dHVyZUxvYWRlcjsKCgkJCWlmICggc291cmNlLnVyaSApIHsKCgkJCQljb25zdCBoYW5kbGVyID0gb3B0aW9ucy5tYW5hZ2VyLmdldEhhbmRsZXIoIHNvdXJjZS51cmkgKTsKCQkJCWlmICggaGFuZGxlciAhPT0gbnVsbCApIGxvYWRlciA9IGhhbmRsZXI7CgoJCQl9CgoJCQlyZXR1cm4gdGhpcy5sb2FkVGV4dHVyZUltYWdlKCB0ZXh0dXJlSW5kZXgsIHNvdXJjZSwgbG9hZGVyICk7CgoJCX0KCgkJbG9hZFRleHR1cmVJbWFnZSggdGV4dHVyZUluZGV4LCBzb3VyY2UsIGxvYWRlciApIHsKCgkJCWNvbnN0IHBhcnNlciA9IHRoaXM7CgkJCWNvbnN0IGpzb24gPSB0aGlzLmpzb247CgkJCWNvbnN0IG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7CgkJCWNvbnN0IHRleHR1cmVEZWYgPSBqc29uLnRleHR1cmVzWyB0ZXh0dXJlSW5kZXggXTsKCQkJY29uc3QgVVJMID0gc2VsZi5VUkwgfHwgc2VsZi53ZWJraXRVUkw7CgkJCWxldCBzb3VyY2VVUkkgPSBzb3VyY2UudXJpOwoJCQlsZXQgaXNPYmplY3RVUkwgPSBmYWxzZTsKCQkJbGV0IGhhc0FscGhhID0gdHJ1ZTsKCQkJaWYgKCBzb3VyY2UubWltZVR5cGUgPT09ICdpbWFnZS9qcGVnJyApIGhhc0FscGhhID0gZmFsc2U7CgoJCQlpZiAoIHNvdXJjZS5idWZmZXJWaWV3ICE9PSB1bmRlZmluZWQgKSB7CgoJCQkJLy8gTG9hZCBiaW5hcnkgaW1hZ2UgZGF0YSBmcm9tIGJ1ZmZlclZpZXcsIGlmIHByb3ZpZGVkLgoJCQkJc291cmNlVVJJID0gcGFyc2VyLmdldERlcGVuZGVuY3koICdidWZmZXJWaWV3Jywgc291cmNlLmJ1ZmZlclZpZXcgKS50aGVuKCBmdW5jdGlvbiAoIGJ1ZmZlclZpZXcgKSB7CgoJCQkJCWlmICggc291cmNlLm1pbWVUeXBlID09PSAnaW1hZ2UvcG5nJyApIHsKCgkJCQkJCS8vIEluc3BlY3QgdGhlIFBORyAnSUhEUicgY2h1bmsgdG8gZGV0ZXJtaW5lIHdoZXRoZXIgdGhlIGltYWdlIGNvdWxkIGhhdmUgYW4KCQkJCQkJLy8gYWxwaGEgY2hhbm5lbC4gVGhpcyBjaGVjayBpcyBjb25zZXJ2YXRpdmUg4oCUIHRoZSBpbWFnZSBjb3VsZCBoYXZlIGFuIGFscGhhCgkJCQkJCS8vIGNoYW5uZWwgd2l0aCBhbGwgdmFsdWVzID09IDEsIGFuZCB0aGUgaW5kZXhlZCB0eXBlIChjb2xvclR5cGUgPT0gMykgb25seQoJCQkJCQkvLyBzb21ldGltZXMgY29udGFpbnMgYWxwaGEuCgkJCQkJCS8vCgkJCQkJCS8vIGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL1BvcnRhYmxlX05ldHdvcmtfR3JhcGhpY3MjRmlsZV9oZWFkZXIKCQkJCQkJY29uc3QgY29sb3JUeXBlID0gbmV3IERhdGFWaWV3KCBidWZmZXJWaWV3LCAyNSwgMSApLmdldFVpbnQ4KCAwLCBmYWxzZSApOwoJCQkJCQloYXNBbHBoYSA9IGNvbG9yVHlwZSA9PT0gNiB8fCBjb2xvclR5cGUgPT09IDQgfHwgY29sb3JUeXBlID09PSAzOwoKCQkJCQl9CgoJCQkJCWlzT2JqZWN0VVJMID0gdHJ1ZTsKCQkJCQljb25zdCBibG9iID0gbmV3IEJsb2IoIFsgYnVmZmVyVmlldyBdLCB7CgkJCQkJCXR5cGU6IHNvdXJjZS5taW1lVHlwZQoJCQkJCX0gKTsKCQkJCQlzb3VyY2VVUkkgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKCBibG9iICk7CgkJCQkJcmV0dXJuIHNvdXJjZVVSSTsKCgkJCQl9ICk7CgoJCQl9IGVsc2UgaWYgKCBzb3VyY2UudXJpID09PSB1bmRlZmluZWQgKSB7CgoJCQkJdGhyb3cgbmV3IEVycm9yKCAnVEhSRUUuR0xURkxvYWRlcjogSW1hZ2UgJyArIHRleHR1cmVJbmRleCArICcgaXMgbWlzc2luZyBVUkkgYW5kIGJ1ZmZlclZpZXcnICk7CgoJCQl9CgoJCQlyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCBzb3VyY2VVUkkgKS50aGVuKCBmdW5jdGlvbiAoIHNvdXJjZVVSSSApIHsKCgkJCQlyZXR1cm4gbmV3IFByb21pc2UoIGZ1bmN0aW9uICggcmVzb2x2ZSwgcmVqZWN0ICkgewoKCQkJCQlsZXQgb25Mb2FkID0gcmVzb2x2ZTsKCgkJCQkJaWYgKCBsb2FkZXIuaXNJbWFnZUJpdG1hcExvYWRlciA9PT0gdHJ1ZSApIHsKCgkJCQkJCW9uTG9hZCA9IGZ1bmN0aW9uICggaW1hZ2VCaXRtYXAgKSB7CgoJCQkJCQkJcmVzb2x2ZSggbmV3IFRIUkVFLkNhbnZhc1RleHR1cmUoIGltYWdlQml0bWFwICkgKTsKCgkJCQkJCX07CgoJCQkJCX0KCgkJCQkJbG9hZGVyLmxvYWQoIHJlc29sdmVVUkwoIHNvdXJjZVVSSSwgb3B0aW9ucy5wYXRoICksIG9uTG9hZCwgdW5kZWZpbmVkLCByZWplY3QgKTsKCgkJCQl9ICk7CgoJCQl9ICkudGhlbiggZnVuY3Rpb24gKCB0ZXh0dXJlICkgewoKCQkJCS8vIENsZWFuIHVwIHJlc291cmNlcyBhbmQgY29uZmlndXJlIFRleHR1cmUuCgkJCQlpZiAoIGlzT2JqZWN0VVJMID09PSB0cnVlICkgewoKCQkJCQlVUkwucmV2b2tlT2JqZWN0VVJMKCBzb3VyY2VVUkkgKTsKCgkJCQl9CgoJCQkJdGV4dHVyZS5mbGlwWSA9IGZhbHNlOwoJCQkJaWYgKCB0ZXh0dXJlRGVmLm5hbWUgKSB0ZXh0dXJlLm5hbWUgPSB0ZXh0dXJlRGVmLm5hbWU7IC8vIFdoZW4gdGhlcmUgaXMgZGVmaW5pdGVseSBubyBhbHBoYSBjaGFubmVsIGluIHRoZSB0ZXh0dXJlLCBzZXQgVEhSRUUuUkdCRm9ybWF0IHRvIHNhdmUgc3BhY2UuCgoJCQkJaWYgKCAhIGhhc0FscGhhICkgdGV4dHVyZS5mb3JtYXQgPSBUSFJFRS5SR0JGb3JtYXQ7CgkJCQljb25zdCBzYW1wbGVycyA9IGpzb24uc2FtcGxlcnMgfHwge307CgkJCQljb25zdCBzYW1wbGVyID0gc2FtcGxlcnNbIHRleHR1cmVEZWYuc2FtcGxlciBdIHx8IHt9OwoJCQkJdGV4dHVyZS5tYWdGaWx0ZXIgPSBXRUJHTF9GSUxURVJTWyBzYW1wbGVyLm1hZ0ZpbHRlciBdIHx8IFRIUkVFLkxpbmVhckZpbHRlcjsKCQkJCXRleHR1cmUubWluRmlsdGVyID0gV0VCR0xfRklMVEVSU1sgc2FtcGxlci5taW5GaWx0ZXIgXSB8fCBUSFJFRS5MaW5lYXJNaXBtYXBMaW5lYXJGaWx0ZXI7CgkJCQl0ZXh0dXJlLndyYXBTID0gV0VCR0xfV1JBUFBJTkdTWyBzYW1wbGVyLndyYXBTIF0gfHwgVEhSRUUuUmVwZWF0V3JhcHBpbmc7CgkJCQl0ZXh0dXJlLndyYXBUID0gV0VCR0xfV1JBUFBJTkdTWyBzYW1wbGVyLndyYXBUIF0gfHwgVEhSRUUuUmVwZWF0V3JhcHBpbmc7CgkJCQlwYXJzZXIuYXNzb2NpYXRpb25zLnNldCggdGV4dHVyZSwgewoJCQkJCXR5cGU6ICd0ZXh0dXJlcycsCgkJCQkJaW5kZXg6IHRleHR1cmVJbmRleAoJCQkJfSApOwoJCQkJcmV0dXJuIHRleHR1cmU7CgoJCQl9ICk7CgoJCX0KCQkvKioKICAgKiBBc3luY2hyb25vdXNseSBhc3NpZ25zIGEgdGV4dHVyZSB0byB0aGUgZ2l2ZW4gbWF0ZXJpYWwgcGFyYW1ldGVycy4KICAgKiBAcGFyYW0ge09iamVjdH0gbWF0ZXJpYWxQYXJhbXMKICAgKiBAcGFyYW0ge3N0cmluZ30gbWFwTmFtZQogICAqIEBwYXJhbSB7T2JqZWN0fSBtYXBEZWYKICAgKiBAcmV0dXJuIHtQcm9taXNlfQogICAqLwoKCgkJYXNzaWduVGV4dHVyZSggbWF0ZXJpYWxQYXJhbXMsIG1hcE5hbWUsIG1hcERlZiApIHsKCgkJCWNvbnN0IHBhcnNlciA9IHRoaXM7CgkJCXJldHVybiB0aGlzLmdldERlcGVuZGVuY3koICd0ZXh0dXJlJywgbWFwRGVmLmluZGV4ICkudGhlbiggZnVuY3Rpb24gKCB0ZXh0dXJlICkgewoKCQkJCS8vIE1hdGVyaWFscyBzYW1wbGUgYW9NYXAgZnJvbSBVViBzZXQgMSBhbmQgb3RoZXIgbWFwcyBmcm9tIFVWIHNldCAwIC0gdGhpcyBjYW4ndCBiZSBjb25maWd1cmVkCgkJCQkvLyBIb3dldmVyLCB3ZSB3aWxsIGNvcHkgVVYgc2V0IDAgdG8gVVYgc2V0IDEgb24gZGVtYW5kIGZvciBhb01hcAoJCQkJaWYgKCBtYXBEZWYudGV4Q29vcmQgIT09IHVuZGVmaW5lZCAmJiBtYXBEZWYudGV4Q29vcmQgIT0gMCAmJiAhICggbWFwTmFtZSA9PT0gJ2FvTWFwJyAmJiBtYXBEZWYudGV4Q29vcmQgPT0gMSApICkgewoKCQkJCQljb25zb2xlLndhcm4oICdUSFJFRS5HTFRGTG9hZGVyOiBDdXN0b20gVVYgc2V0ICcgKyBtYXBEZWYudGV4Q29vcmQgKyAnIGZvciB0ZXh0dXJlICcgKyBtYXBOYW1lICsgJyBub3QgeWV0IHN1cHBvcnRlZC4nICk7CgoJCQkJfQoKCQkJCWlmICggcGFyc2VyLmV4dGVuc2lvbnNbIEVYVEVOU0lPTlMuS0hSX1RFWFRVUkVfVFJBTlNGT1JNIF0gKSB7CgoJCQkJCWNvbnN0IHRyYW5zZm9ybSA9IG1hcERlZi5leHRlbnNpb25zICE9PSB1bmRlZmluZWQgPyBtYXBEZWYuZXh0ZW5zaW9uc1sgRVhURU5TSU9OUy5LSFJfVEVYVFVSRV9UUkFOU0ZPUk0gXSA6IHVuZGVmaW5lZDsKCgkJCQkJaWYgKCB0cmFuc2Zvcm0gKSB7CgoJCQkJCQljb25zdCBnbHRmUmVmZXJlbmNlID0gcGFyc2VyLmFzc29jaWF0aW9ucy5nZXQoIHRleHR1cmUgKTsKCQkJCQkJdGV4dHVyZSA9IHBhcnNlci5leHRlbnNpb25zWyBFWFRFTlNJT05TLktIUl9URVhUVVJFX1RSQU5TRk9STSBdLmV4dGVuZFRleHR1cmUoIHRleHR1cmUsIHRyYW5zZm9ybSApOwoJCQkJCQlwYXJzZXIuYXNzb2NpYXRpb25zLnNldCggdGV4dHVyZSwgZ2x0ZlJlZmVyZW5jZSApOwoKCQkJCQl9CgoJCQkJfQoKCQkJCW1hdGVyaWFsUGFyYW1zWyBtYXBOYW1lIF0gPSB0ZXh0dXJlOwoKCQkJfSApOwoKCQl9CgkJLyoqCiAgICogQXNzaWducyBmaW5hbCBtYXRlcmlhbCB0byBhIFRIUkVFLk1lc2gsIFRIUkVFLkxpbmUsIG9yIFRIUkVFLlBvaW50cyBpbnN0YW5jZS4gVGhlIGluc3RhbmNlCiAgICogYWxyZWFkeSBoYXMgYSBtYXRlcmlhbCAoZ2VuZXJhdGVkIGZyb20gdGhlIGdsVEYgbWF0ZXJpYWwgb3B0aW9ucyBhbG9uZSkKICAgKiBidXQgcmV1c2Ugb2YgdGhlIHNhbWUgZ2xURiBtYXRlcmlhbCBtYXkgcmVxdWlyZSBtdWx0aXBsZSB0aHJlZWpzIG1hdGVyaWFscwogICAqIHRvIGFjY29tbW9kYXRlIGRpZmZlcmVudCBwcmltaXRpdmUgdHlwZXMsIGRlZmluZXMsIGV0Yy4gTmV3IG1hdGVyaWFscyB3aWxsCiAgICogYmUgY3JlYXRlZCBpZiBuZWNlc3NhcnksIGFuZCByZXVzZWQgZnJvbSBhIGNhY2hlLgogICAqIEBwYXJhbSAge09iamVjdDNEfSBtZXNoIFRIUkVFLk1lc2gsIFRIUkVFLkxpbmUsIG9yIFRIUkVFLlBvaW50cyBpbnN0YW5jZS4KICAgKi8KCgoJCWFzc2lnbkZpbmFsTWF0ZXJpYWwoIG1lc2ggKSB7CgoJCQljb25zdCBnZW9tZXRyeSA9IG1lc2guZ2VvbWV0cnk7CgkJCWxldCBtYXRlcmlhbCA9IG1lc2gubWF0ZXJpYWw7CgkJCWNvbnN0IHVzZVZlcnRleFRhbmdlbnRzID0gZ2VvbWV0cnkuYXR0cmlidXRlcy50YW5nZW50ICE9PSB1bmRlZmluZWQ7CgkJCWNvbnN0IHVzZVZlcnRleENvbG9ycyA9IGdlb21ldHJ5LmF0dHJpYnV0ZXMuY29sb3IgIT09IHVuZGVmaW5lZDsKCQkJY29uc3QgdXNlRmxhdFNoYWRpbmcgPSBnZW9tZXRyeS5hdHRyaWJ1dGVzLm5vcm1hbCA9PT0gdW5kZWZpbmVkOwoJCQljb25zdCB1c2VTa2lubmluZyA9IG1lc2guaXNTa2lubmVkTWVzaCA9PT0gdHJ1ZTsKCQkJY29uc3QgdXNlTW9ycGhUYXJnZXRzID0gT2JqZWN0LmtleXMoIGdlb21ldHJ5Lm1vcnBoQXR0cmlidXRlcyApLmxlbmd0aCA+IDA7CgkJCWNvbnN0IHVzZU1vcnBoTm9ybWFscyA9IHVzZU1vcnBoVGFyZ2V0cyAmJiBnZW9tZXRyeS5tb3JwaEF0dHJpYnV0ZXMubm9ybWFsICE9PSB1bmRlZmluZWQ7CgoJCQlpZiAoIG1lc2guaXNQb2ludHMgKSB7CgoJCQkJY29uc3QgY2FjaGVLZXkgPSAnUG9pbnRzTWF0ZXJpYWw6JyArIG1hdGVyaWFsLnV1aWQ7CgkJCQlsZXQgcG9pbnRzTWF0ZXJpYWwgPSB0aGlzLmNhY2hlLmdldCggY2FjaGVLZXkgKTsKCgkJCQlpZiAoICEgcG9pbnRzTWF0ZXJpYWwgKSB7CgoJCQkJCXBvaW50c01hdGVyaWFsID0gbmV3IFRIUkVFLlBvaW50c01hdGVyaWFsKCk7CgkJCQkJVEhSRUUuTWF0ZXJpYWwucHJvdG90eXBlLmNvcHkuY2FsbCggcG9pbnRzTWF0ZXJpYWwsIG1hdGVyaWFsICk7CgkJCQkJcG9pbnRzTWF0ZXJpYWwuY29sb3IuY29weSggbWF0ZXJpYWwuY29sb3IgKTsKCQkJCQlwb2ludHNNYXRlcmlhbC5tYXAgPSBtYXRlcmlhbC5tYXA7CgkJCQkJcG9pbnRzTWF0ZXJpYWwuc2l6ZUF0dGVudWF0aW9uID0gZmFsc2U7IC8vIGdsVEYgc3BlYyBzYXlzIHBvaW50cyBzaG91bGQgYmUgMXB4CgoJCQkJCXRoaXMuY2FjaGUuYWRkKCBjYWNoZUtleSwgcG9pbnRzTWF0ZXJpYWwgKTsKCgkJCQl9CgoJCQkJbWF0ZXJpYWwgPSBwb2ludHNNYXRlcmlhbDsKCgkJCX0gZWxzZSBpZiAoIG1lc2guaXNMaW5lICkgewoKCQkJCWNvbnN0IGNhY2hlS2V5ID0gJ0xpbmVCYXNpY01hdGVyaWFsOicgKyBtYXRlcmlhbC51dWlkOwoJCQkJbGV0IGxpbmVNYXRlcmlhbCA9IHRoaXMuY2FjaGUuZ2V0KCBjYWNoZUtleSApOwoKCQkJCWlmICggISBsaW5lTWF0ZXJpYWwgKSB7CgoJCQkJCWxpbmVNYXRlcmlhbCA9IG5ldyBUSFJFRS5MaW5lQmFzaWNNYXRlcmlhbCgpOwoJCQkJCVRIUkVFLk1hdGVyaWFsLnByb3RvdHlwZS5jb3B5LmNhbGwoIGxpbmVNYXRlcmlhbCwgbWF0ZXJpYWwgKTsKCQkJCQlsaW5lTWF0ZXJpYWwuY29sb3IuY29weSggbWF0ZXJpYWwuY29sb3IgKTsKCQkJCQl0aGlzLmNhY2hlLmFkZCggY2FjaGVLZXksIGxpbmVNYXRlcmlhbCApOwoKCQkJCX0KCgkJCQltYXRlcmlhbCA9IGxpbmVNYXRlcmlhbDsKCgkJCX0gLy8gQ2xvbmUgdGhlIG1hdGVyaWFsIGlmIGl0IHdpbGwgYmUgbW9kaWZpZWQKCgoJCQlpZiAoIHVzZVZlcnRleFRhbmdlbnRzIHx8IHVzZVZlcnRleENvbG9ycyB8fCB1c2VGbGF0U2hhZGluZyB8fCB1c2VTa2lubmluZyB8fCB1c2VNb3JwaFRhcmdldHMgKSB7CgoJCQkJbGV0IGNhY2hlS2V5ID0gJ0Nsb25lZE1hdGVyaWFsOicgKyBtYXRlcmlhbC51dWlkICsgJzonOwoJCQkJaWYgKCBtYXRlcmlhbC5pc0dMVEZTcGVjdWxhckdsb3NzaW5lc3NNYXRlcmlhbCApIGNhY2hlS2V5ICs9ICdzcGVjdWxhci1nbG9zc2luZXNzOic7CgkJCQlpZiAoIHVzZVNraW5uaW5nICkgY2FjaGVLZXkgKz0gJ3NraW5uaW5nOic7CgkJCQlpZiAoIHVzZVZlcnRleFRhbmdlbnRzICkgY2FjaGVLZXkgKz0gJ3ZlcnRleC10YW5nZW50czonOwoJCQkJaWYgKCB1c2VWZXJ0ZXhDb2xvcnMgKSBjYWNoZUtleSArPSAndmVydGV4LWNvbG9yczonOwoJCQkJaWYgKCB1c2VGbGF0U2hhZGluZyApIGNhY2hlS2V5ICs9ICdmbGF0LXNoYWRpbmc6JzsKCQkJCWlmICggdXNlTW9ycGhUYXJnZXRzICkgY2FjaGVLZXkgKz0gJ21vcnBoLXRhcmdldHM6JzsKCQkJCWlmICggdXNlTW9ycGhOb3JtYWxzICkgY2FjaGVLZXkgKz0gJ21vcnBoLW5vcm1hbHM6JzsKCQkJCWxldCBjYWNoZWRNYXRlcmlhbCA9IHRoaXMuY2FjaGUuZ2V0KCBjYWNoZUtleSApOwoKCQkJCWlmICggISBjYWNoZWRNYXRlcmlhbCApIHsKCgkJCQkJY2FjaGVkTWF0ZXJpYWwgPSBtYXRlcmlhbC5jbG9uZSgpOwoJCQkJCWlmICggdXNlU2tpbm5pbmcgKSBjYWNoZWRNYXRlcmlhbC5za2lubmluZyA9IHRydWU7CgkJCQkJaWYgKCB1c2VWZXJ0ZXhDb2xvcnMgKSBjYWNoZWRNYXRlcmlhbC52ZXJ0ZXhDb2xvcnMgPSB0cnVlOwoJCQkJCWlmICggdXNlRmxhdFNoYWRpbmcgKSBjYWNoZWRNYXRlcmlhbC5mbGF0U2hhZGluZyA9IHRydWU7CgkJCQkJaWYgKCB1c2VNb3JwaFRhcmdldHMgKSBjYWNoZWRNYXRlcmlhbC5tb3JwaFRhcmdldHMgPSB0cnVlOwoJCQkJCWlmICggdXNlTW9ycGhOb3JtYWxzICkgY2FjaGVkTWF0ZXJpYWwubW9ycGhOb3JtYWxzID0gdHJ1ZTsKCgkJCQkJaWYgKCB1c2VWZXJ0ZXhUYW5nZW50cyApIHsKCgkJCQkJCWNhY2hlZE1hdGVyaWFsLnZlcnRleFRhbmdlbnRzID0gdHJ1ZTsgLy8gaHR0cHM6Ly9naXRodWIuY29tL21yZG9vYi90aHJlZS5qcy9pc3N1ZXMvMTE0MzgjaXNzdWVjb21tZW50LTUwNzAwMzk5NQoKCQkJCQkJaWYgKCBjYWNoZWRNYXRlcmlhbC5ub3JtYWxTY2FsZSApIGNhY2hlZE1hdGVyaWFsLm5vcm1hbFNjYWxlLnkgKj0gLSAxOwoJCQkJCQlpZiAoIGNhY2hlZE1hdGVyaWFsLmNsZWFyY29hdE5vcm1hbFNjYWxlICkgY2FjaGVkTWF0ZXJpYWwuY2xlYXJjb2F0Tm9ybWFsU2NhbGUueSAqPSAtIDE7CgoJCQkJCX0KCgkJCQkJdGhpcy5jYWNoZS5hZGQoIGNhY2hlS2V5LCBjYWNoZWRNYXRlcmlhbCApOwoJCQkJCXRoaXMuYXNzb2NpYXRpb25zLnNldCggY2FjaGVkTWF0ZXJpYWwsIHRoaXMuYXNzb2NpYXRpb25zLmdldCggbWF0ZXJpYWwgKSApOwoKCQkJCX0KCgkJCQltYXRlcmlhbCA9IGNhY2hlZE1hdGVyaWFsOwoKCQkJfSAvLyB3b3JrYXJvdW5kcyBmb3IgbWVzaCBhbmQgZ2VvbWV0cnkKCgoJCQlpZiAoIG1hdGVyaWFsLmFvTWFwICYmIGdlb21ldHJ5LmF0dHJpYnV0ZXMudXYyID09PSB1bmRlZmluZWQgJiYgZ2VvbWV0cnkuYXR0cmlidXRlcy51diAhPT0gdW5kZWZpbmVkICkgewoKCQkJCWdlb21ldHJ5LnNldEF0dHJpYnV0ZSggJ3V2MicsIGdlb21ldHJ5LmF0dHJpYnV0ZXMudXYgKTsKCgkJCX0KCgkJCW1lc2gubWF0ZXJpYWwgPSBtYXRlcmlhbDsKCgkJfQoKCQlnZXRNYXRlcmlhbFR5cGUoICkgewoKCQkJcmV0dXJuIFRIUkVFLk1lc2hTdGFuZGFyZE1hdGVyaWFsOwoKCQl9CgkJLyoqCiAgICogU3BlY2lmaWNhdGlvbjogaHR0cHM6Ly9naXRodWIuY29tL0tocm9ub3NHcm91cC9nbFRGL2Jsb2IvbWFzdGVyL3NwZWNpZmljYXRpb24vMi4wL1JFQURNRS5tZCNtYXRlcmlhbHMKICAgKiBAcGFyYW0ge251bWJlcn0gbWF0ZXJpYWxJbmRleAogICAqIEByZXR1cm4ge1Byb21pc2U8TWF0ZXJpYWw+fQogICAqLwoKCgkJbG9hZE1hdGVyaWFsKCBtYXRlcmlhbEluZGV4ICkgewoKCQkJY29uc3QgcGFyc2VyID0gdGhpczsKCQkJY29uc3QganNvbiA9IHRoaXMuanNvbjsKCQkJY29uc3QgZXh0ZW5zaW9ucyA9IHRoaXMuZXh0ZW5zaW9uczsKCQkJY29uc3QgbWF0ZXJpYWxEZWYgPSBqc29uLm1hdGVyaWFsc1sgbWF0ZXJpYWxJbmRleCBdOwoJCQlsZXQgbWF0ZXJpYWxUeXBlOwoJCQljb25zdCBtYXRlcmlhbFBhcmFtcyA9IHt9OwoJCQljb25zdCBtYXRlcmlhbEV4dGVuc2lvbnMgPSBtYXRlcmlhbERlZi5leHRlbnNpb25zIHx8IHt9OwoJCQljb25zdCBwZW5kaW5nID0gW107CgoJCQlpZiAoIG1hdGVyaWFsRXh0ZW5zaW9uc1sgRVhURU5TSU9OUy5LSFJfTUFURVJJQUxTX1BCUl9TUEVDVUxBUl9HTE9TU0lORVNTIF0gKSB7CgoJCQkJY29uc3Qgc2dFeHRlbnNpb24gPSBleHRlbnNpb25zWyBFWFRFTlNJT05TLktIUl9NQVRFUklBTFNfUEJSX1NQRUNVTEFSX0dMT1NTSU5FU1MgXTsKCQkJCW1hdGVyaWFsVHlwZSA9IHNnRXh0ZW5zaW9uLmdldE1hdGVyaWFsVHlwZSgpOwoJCQkJcGVuZGluZy5wdXNoKCBzZ0V4dGVuc2lvbi5leHRlbmRQYXJhbXMoIG1hdGVyaWFsUGFyYW1zLCBtYXRlcmlhbERlZiwgcGFyc2VyICkgKTsKCgkJCX0gZWxzZSBpZiAoIG1hdGVyaWFsRXh0ZW5zaW9uc1sgRVhURU5TSU9OUy5LSFJfTUFURVJJQUxTX1VOTElUIF0gKSB7CgoJCQkJY29uc3Qga211RXh0ZW5zaW9uID0gZXh0ZW5zaW9uc1sgRVhURU5TSU9OUy5LSFJfTUFURVJJQUxTX1VOTElUIF07CgkJCQltYXRlcmlhbFR5cGUgPSBrbXVFeHRlbnNpb24uZ2V0TWF0ZXJpYWxUeXBlKCk7CgkJCQlwZW5kaW5nLnB1c2goIGttdUV4dGVuc2lvbi5leHRlbmRQYXJhbXMoIG1hdGVyaWFsUGFyYW1zLCBtYXRlcmlhbERlZiwgcGFyc2VyICkgKTsKCgkJCX0gZWxzZSB7CgoJCQkJLy8gU3BlY2lmaWNhdGlvbjoKCQkJCS8vIGh0dHBzOi8vZ2l0aHViLmNvbS9LaHJvbm9zR3JvdXAvZ2xURi90cmVlL21hc3Rlci9zcGVjaWZpY2F0aW9uLzIuMCNtZXRhbGxpYy1yb3VnaG5lc3MtbWF0ZXJpYWwKCQkJCWNvbnN0IG1ldGFsbGljUm91Z2huZXNzID0gbWF0ZXJpYWxEZWYucGJyTWV0YWxsaWNSb3VnaG5lc3MgfHwge307CgkJCQltYXRlcmlhbFBhcmFtcy5jb2xvciA9IG5ldyBUSFJFRS5Db2xvciggMS4wLCAxLjAsIDEuMCApOwoJCQkJbWF0ZXJpYWxQYXJhbXMub3BhY2l0eSA9IDEuMDsKCgkJCQlpZiAoIEFycmF5LmlzQXJyYXkoIG1ldGFsbGljUm91Z2huZXNzLmJhc2VDb2xvckZhY3RvciApICkgewoKCQkJCQljb25zdCBhcnJheSA9IG1ldGFsbGljUm91Z2huZXNzLmJhc2VDb2xvckZhY3RvcjsKCQkJCQltYXRlcmlhbFBhcmFtcy5jb2xvci5mcm9tQXJyYXkoIGFycmF5ICk7CgkJCQkJbWF0ZXJpYWxQYXJhbXMub3BhY2l0eSA9IGFycmF5WyAzIF07CgoJCQkJfQoKCQkJCWlmICggbWV0YWxsaWNSb3VnaG5lc3MuYmFzZUNvbG9yVGV4dHVyZSAhPT0gdW5kZWZpbmVkICkgewoKCQkJCQlwZW5kaW5nLnB1c2goIHBhcnNlci5hc3NpZ25UZXh0dXJlKCBtYXRlcmlhbFBhcmFtcywgJ21hcCcsIG1ldGFsbGljUm91Z2huZXNzLmJhc2VDb2xvclRleHR1cmUgKSApOwoKCQkJCX0KCgkJCQltYXRlcmlhbFBhcmFtcy5tZXRhbG5lc3MgPSBtZXRhbGxpY1JvdWdobmVzcy5tZXRhbGxpY0ZhY3RvciAhPT0gdW5kZWZpbmVkID8gbWV0YWxsaWNSb3VnaG5lc3MubWV0YWxsaWNGYWN0b3IgOiAxLjA7CgkJCQltYXRlcmlhbFBhcmFtcy5yb3VnaG5lc3MgPSBtZXRhbGxpY1JvdWdobmVzcy5yb3VnaG5lc3NGYWN0b3IgIT09IHVuZGVmaW5lZCA/IG1ldGFsbGljUm91Z2huZXNzLnJvdWdobmVzc0ZhY3RvciA6IDEuMDsKCgkJCQlpZiAoIG1ldGFsbGljUm91Z2huZXNzLm1ldGFsbGljUm91Z2huZXNzVGV4dHVyZSAhPT0gdW5kZWZpbmVkICkgewoKCQkJCQlwZW5kaW5nLnB1c2goIHBhcnNlci5hc3NpZ25UZXh0dXJlKCBtYXRlcmlhbFBhcmFtcywgJ21ldGFsbmVzc01hcCcsIG1ldGFsbGljUm91Z2huZXNzLm1ldGFsbGljUm91Z2huZXNzVGV4dHVyZSApICk7CgkJCQkJcGVuZGluZy5wdXNoKCBwYXJzZXIuYXNzaWduVGV4dHVyZSggbWF0ZXJpYWxQYXJhbXMsICdyb3VnaG5lc3NNYXAnLCBtZXRhbGxpY1JvdWdobmVzcy5tZXRhbGxpY1JvdWdobmVzc1RleHR1cmUgKSApOwoKCQkJCX0KCgkJCQltYXRlcmlhbFR5cGUgPSB0aGlzLl9pbnZva2VPbmUoIGZ1bmN0aW9uICggZXh0ICkgewoKCQkJCQlyZXR1cm4gZXh0LmdldE1hdGVyaWFsVHlwZSAmJiBleHQuZ2V0TWF0ZXJpYWxUeXBlKCBtYXRlcmlhbEluZGV4ICk7CgoJCQkJfSApOwoJCQkJcGVuZGluZy5wdXNoKCBQcm9taXNlLmFsbCggdGhpcy5faW52b2tlQWxsKCBmdW5jdGlvbiAoIGV4dCApIHsKCgkJCQkJcmV0dXJuIGV4dC5leHRlbmRNYXRlcmlhbFBhcmFtcyAmJiBleHQuZXh0ZW5kTWF0ZXJpYWxQYXJhbXMoIG1hdGVyaWFsSW5kZXgsIG1hdGVyaWFsUGFyYW1zICk7CgoJCQkJfSApICkgKTsKCgkJCX0KCgkJCWlmICggbWF0ZXJpYWxEZWYuZG91YmxlU2lkZWQgPT09IHRydWUgKSB7CgoJCQkJbWF0ZXJpYWxQYXJhbXMuc2lkZSA9IFRIUkVFLkRvdWJsZVNpZGU7CgoJCQl9CgoJCQljb25zdCBhbHBoYU1vZGUgPSBtYXRlcmlhbERlZi5hbHBoYU1vZGUgfHwgQUxQSEFfTU9ERVMuT1BBUVVFOwoKCQkJaWYgKCBhbHBoYU1vZGUgPT09IEFMUEhBX01PREVTLkJMRU5EICkgewoKCQkJCW1hdGVyaWFsUGFyYW1zLnRyYW5zcGFyZW50ID0gdHJ1ZTsgLy8gU2VlOiBodHRwczovL2dpdGh1Yi5jb20vbXJkb29iL3RocmVlLmpzL2lzc3Vlcy8xNzcwNgoKCQkJCW1hdGVyaWFsUGFyYW1zLmRlcHRoV3JpdGUgPSBmYWxzZTsKCgkJCX0gZWxzZSB7CgoJCQkJbWF0ZXJpYWxQYXJhbXMudHJhbnNwYXJlbnQgPSBmYWxzZTsKCgkJCQlpZiAoIGFscGhhTW9kZSA9PT0gQUxQSEFfTU9ERVMuTUFTSyApIHsKCgkJCQkJbWF0ZXJpYWxQYXJhbXMuYWxwaGFUZXN0ID0gbWF0ZXJpYWxEZWYuYWxwaGFDdXRvZmYgIT09IHVuZGVmaW5lZCA/IG1hdGVyaWFsRGVmLmFscGhhQ3V0b2ZmIDogMC41OwoKCQkJCX0KCgkJCX0KCgkJCWlmICggbWF0ZXJpYWxEZWYubm9ybWFsVGV4dHVyZSAhPT0gdW5kZWZpbmVkICYmIG1hdGVyaWFsVHlwZSAhPT0gVEhSRUUuTWVzaEJhc2ljTWF0ZXJpYWwgKSB7CgoJCQkJcGVuZGluZy5wdXNoKCBwYXJzZXIuYXNzaWduVGV4dHVyZSggbWF0ZXJpYWxQYXJhbXMsICdub3JtYWxNYXAnLCBtYXRlcmlhbERlZi5ub3JtYWxUZXh0dXJlICkgKTsgLy8gaHR0cHM6Ly9naXRodWIuY29tL21yZG9vYi90aHJlZS5qcy9pc3N1ZXMvMTE0MzgjaXNzdWVjb21tZW50LTUwNzAwMzk5NQoKCQkJCW1hdGVyaWFsUGFyYW1zLm5vcm1hbFNjYWxlID0gbmV3IFRIUkVFLlZlY3RvcjIoIDEsIC0gMSApOwoKCQkJCWlmICggbWF0ZXJpYWxEZWYubm9ybWFsVGV4dHVyZS5zY2FsZSAhPT0gdW5kZWZpbmVkICkgewoKCQkJCQltYXRlcmlhbFBhcmFtcy5ub3JtYWxTY2FsZS5zZXQoIG1hdGVyaWFsRGVmLm5vcm1hbFRleHR1cmUuc2NhbGUsIC0gbWF0ZXJpYWxEZWYubm9ybWFsVGV4dHVyZS5zY2FsZSApOwoKCQkJCX0KCgkJCX0KCgkJCWlmICggbWF0ZXJpYWxEZWYub2NjbHVzaW9uVGV4dHVyZSAhPT0gdW5kZWZpbmVkICYmIG1hdGVyaWFsVHlwZSAhPT0gVEhSRUUuTWVzaEJhc2ljTWF0ZXJpYWwgKSB7CgoJCQkJcGVuZGluZy5wdXNoKCBwYXJzZXIuYXNzaWduVGV4dHVyZSggbWF0ZXJpYWxQYXJhbXMsICdhb01hcCcsIG1hdGVyaWFsRGVmLm9jY2x1c2lvblRleHR1cmUgKSApOwoKCQkJCWlmICggbWF0ZXJpYWxEZWYub2NjbHVzaW9uVGV4dHVyZS5zdHJlbmd0aCAhPT0gdW5kZWZpbmVkICkgewoKCQkJCQltYXRlcmlhbFBhcmFtcy5hb01hcEludGVuc2l0eSA9IG1hdGVyaWFsRGVmLm9jY2x1c2lvblRleHR1cmUuc3RyZW5ndGg7CgoJCQkJfQoKCQkJfQoKCQkJaWYgKCBtYXRlcmlhbERlZi5lbWlzc2l2ZUZhY3RvciAhPT0gdW5kZWZpbmVkICYmIG1hdGVyaWFsVHlwZSAhPT0gVEhSRUUuTWVzaEJhc2ljTWF0ZXJpYWwgKSB7CgoJCQkJbWF0ZXJpYWxQYXJhbXMuZW1pc3NpdmUgPSBuZXcgVEhSRUUuQ29sb3IoKS5mcm9tQXJyYXkoIG1hdGVyaWFsRGVmLmVtaXNzaXZlRmFjdG9yICk7CgoJCQl9CgoJCQlpZiAoIG1hdGVyaWFsRGVmLmVtaXNzaXZlVGV4dHVyZSAhPT0gdW5kZWZpbmVkICYmIG1hdGVyaWFsVHlwZSAhPT0gVEhSRUUuTWVzaEJhc2ljTWF0ZXJpYWwgKSB7CgoJCQkJcGVuZGluZy5wdXNoKCBwYXJzZXIuYXNzaWduVGV4dHVyZSggbWF0ZXJpYWxQYXJhbXMsICdlbWlzc2l2ZU1hcCcsIG1hdGVyaWFsRGVmLmVtaXNzaXZlVGV4dHVyZSApICk7CgoJCQl9CgoJCQlyZXR1cm4gUHJvbWlzZS5hbGwoIHBlbmRpbmcgKS50aGVuKCBmdW5jdGlvbiAoKSB7CgoJCQkJbGV0IG1hdGVyaWFsOwoKCQkJCWlmICggbWF0ZXJpYWxUeXBlID09PSBHTFRGTWVzaFN0YW5kYXJkU0dNYXRlcmlhbCApIHsKCgkJCQkJbWF0ZXJpYWwgPSBleHRlbnNpb25zWyBFWFRFTlNJT05TLktIUl9NQVRFUklBTFNfUEJSX1NQRUNVTEFSX0dMT1NTSU5FU1MgXS5jcmVhdGVNYXRlcmlhbCggbWF0ZXJpYWxQYXJhbXMgKTsKCgkJCQl9IGVsc2UgewoKCQkJCQltYXRlcmlhbCA9IG5ldyBtYXRlcmlhbFR5cGUoIG1hdGVyaWFsUGFyYW1zICk7CgoJCQkJfQoKCQkJCWlmICggbWF0ZXJpYWxEZWYubmFtZSApIG1hdGVyaWFsLm5hbWUgPSBtYXRlcmlhbERlZi5uYW1lOyAvLyBiYXNlQ29sb3JUZXh0dXJlLCBlbWlzc2l2ZVRleHR1cmUsIGFuZCBzcGVjdWxhckdsb3NzaW5lc3NUZXh0dXJlIHVzZSBzUkdCIGVuY29kaW5nLgoKCQkJCWlmICggbWF0ZXJpYWwubWFwICkgbWF0ZXJpYWwubWFwLmVuY29kaW5nID0gVEhSRUUuc1JHQkVuY29kaW5nOwoJCQkJaWYgKCBtYXRlcmlhbC5lbWlzc2l2ZU1hcCApIG1hdGVyaWFsLmVtaXNzaXZlTWFwLmVuY29kaW5nID0gVEhSRUUuc1JHQkVuY29kaW5nOwoJCQkJYXNzaWduRXh0cmFzVG9Vc2VyRGF0YSggbWF0ZXJpYWwsIG1hdGVyaWFsRGVmICk7CgkJCQlwYXJzZXIuYXNzb2NpYXRpb25zLnNldCggbWF0ZXJpYWwsIHsKCQkJCQl0eXBlOiAnbWF0ZXJpYWxzJywKCQkJCQlpbmRleDogbWF0ZXJpYWxJbmRleAoJCQkJfSApOwoJCQkJaWYgKCBtYXRlcmlhbERlZi5leHRlbnNpb25zICkgYWRkVW5rbm93bkV4dGVuc2lvbnNUb1VzZXJEYXRhKCBleHRlbnNpb25zLCBtYXRlcmlhbCwgbWF0ZXJpYWxEZWYgKTsKCQkJCXJldHVybiBtYXRlcmlhbDsKCgkJCX0gKTsKCgkJfQoJCS8qKiBXaGVuIFRIUkVFLk9iamVjdDNEIGluc3RhbmNlcyBhcmUgdGFyZ2V0ZWQgYnkgYW5pbWF0aW9uLCB0aGV5IG5lZWQgdW5pcXVlIG5hbWVzLiAqLwoKCgkJY3JlYXRlVW5pcXVlTmFtZSggb3JpZ2luYWxOYW1lICkgewoKCQkJY29uc3Qgc2FuaXRpemVkTmFtZSA9IFRIUkVFLlByb3BlcnR5QmluZGluZy5zYW5pdGl6ZU5vZGVOYW1lKCBvcmlnaW5hbE5hbWUgfHwgJycgKTsKCQkJbGV0IG5hbWUgPSBzYW5pdGl6ZWROYW1lOwoKCQkJZm9yICggbGV0IGkgPSAxOyB0aGlzLm5vZGVOYW1lc1VzZWRbIG5hbWUgXTsgKysgaSApIHsKCgkJCQluYW1lID0gc2FuaXRpemVkTmFtZSArICdfJyArIGk7CgoJCQl9CgoJCQl0aGlzLm5vZGVOYW1lc1VzZWRbIG5hbWUgXSA9IHRydWU7CgkJCXJldHVybiBuYW1lOwoKCQl9CgkJLyoqCiAgICogU3BlY2lmaWNhdGlvbjogaHR0cHM6Ly9naXRodWIuY29tL0tocm9ub3NHcm91cC9nbFRGL2Jsb2IvbWFzdGVyL3NwZWNpZmljYXRpb24vMi4wL1JFQURNRS5tZCNnZW9tZXRyeQogICAqCiAgICogQ3JlYXRlcyBCdWZmZXJHZW9tZXRyaWVzIGZyb20gcHJpbWl0aXZlcy4KICAgKgogICAqIEBwYXJhbSB7QXJyYXk8R0xURi5QcmltaXRpdmU+fSBwcmltaXRpdmVzCiAgICogQHJldHVybiB7UHJvbWlzZTxBcnJheTxCdWZmZXJHZW9tZXRyeT4+fQogICAqLwoKCgkJbG9hZEdlb21ldHJpZXMoIHByaW1pdGl2ZXMgKSB7CgoJCQljb25zdCBwYXJzZXIgPSB0aGlzOwoJCQljb25zdCBleHRlbnNpb25zID0gdGhpcy5leHRlbnNpb25zOwoJCQljb25zdCBjYWNoZSA9IHRoaXMucHJpbWl0aXZlQ2FjaGU7CgoJCQlmdW5jdGlvbiBjcmVhdGVEcmFjb1ByaW1pdGl2ZSggcHJpbWl0aXZlICkgewoKCQkJCXJldHVybiBleHRlbnNpb25zWyBFWFRFTlNJT05TLktIUl9EUkFDT19NRVNIX0NPTVBSRVNTSU9OIF0uZGVjb2RlUHJpbWl0aXZlKCBwcmltaXRpdmUsIHBhcnNlciApLnRoZW4oIGZ1bmN0aW9uICggZ2VvbWV0cnkgKSB7CgoJCQkJCXJldHVybiBhZGRQcmltaXRpdmVBdHRyaWJ1dGVzKCBnZW9tZXRyeSwgcHJpbWl0aXZlLCBwYXJzZXIgKTsKCgkJCQl9ICk7CgoJCQl9CgoJCQljb25zdCBwZW5kaW5nID0gW107CgoJCQlmb3IgKCBsZXQgaSA9IDAsIGlsID0gcHJpbWl0aXZlcy5sZW5ndGg7IGkgPCBpbDsgaSArKyApIHsKCgkJCQljb25zdCBwcmltaXRpdmUgPSBwcmltaXRpdmVzWyBpIF07CgkJCQljb25zdCBjYWNoZUtleSA9IGNyZWF0ZVByaW1pdGl2ZUtleSggcHJpbWl0aXZlICk7IC8vIFNlZSBpZiB3ZSd2ZSBhbHJlYWR5IGNyZWF0ZWQgdGhpcyBnZW9tZXRyeQoKCQkJCWNvbnN0IGNhY2hlZCA9IGNhY2hlWyBjYWNoZUtleSBdOwoKCQkJCWlmICggY2FjaGVkICkgewoKCQkJCQkvLyBVc2UgdGhlIGNhY2hlZCBnZW9tZXRyeSBpZiBpdCBleGlzdHMKCQkJCQlwZW5kaW5nLnB1c2goIGNhY2hlZC5wcm9taXNlICk7CgoJCQkJfSBlbHNlIHsKCgkJCQkJbGV0IGdlb21ldHJ5UHJvbWlzZTsKCgkJCQkJaWYgKCBwcmltaXRpdmUuZXh0ZW5zaW9ucyAmJiBwcmltaXRpdmUuZXh0ZW5zaW9uc1sgRVhURU5TSU9OUy5LSFJfRFJBQ09fTUVTSF9DT01QUkVTU0lPTiBdICkgewoKCQkJCQkJLy8gVXNlIERSQUNPIGdlb21ldHJ5IGlmIGF2YWlsYWJsZQoJCQkJCQlnZW9tZXRyeVByb21pc2UgPSBjcmVhdGVEcmFjb1ByaW1pdGl2ZSggcHJpbWl0aXZlICk7CgoJCQkJCX0gZWxzZSB7CgoJCQkJCQkvLyBPdGhlcndpc2UgY3JlYXRlIGEgbmV3IGdlb21ldHJ5CgkJCQkJCWdlb21ldHJ5UHJvbWlzZSA9IGFkZFByaW1pdGl2ZUF0dHJpYnV0ZXMoIG5ldyBUSFJFRS5CdWZmZXJHZW9tZXRyeSgpLCBwcmltaXRpdmUsIHBhcnNlciApOwoKCQkJCQl9IC8vIENhY2hlIHRoaXMgZ2VvbWV0cnkKCgoJCQkJCWNhY2hlWyBjYWNoZUtleSBdID0gewoJCQkJCQlwcmltaXRpdmU6IHByaW1pdGl2ZSwKCQkJCQkJcHJvbWlzZTogZ2VvbWV0cnlQcm9taXNlCgkJCQkJfTsKCQkJCQlwZW5kaW5nLnB1c2goIGdlb21ldHJ5UHJvbWlzZSApOwoKCQkJCX0KCgkJCX0KCgkJCXJldHVybiBQcm9taXNlLmFsbCggcGVuZGluZyApOwoKCQl9CgkJLyoqCiAgICogU3BlY2lmaWNhdGlvbjogaHR0cHM6Ly9naXRodWIuY29tL0tocm9ub3NHcm91cC9nbFRGL2Jsb2IvbWFzdGVyL3NwZWNpZmljYXRpb24vMi4wL1JFQURNRS5tZCNtZXNoZXMKICAgKiBAcGFyYW0ge251bWJlcn0gbWVzaEluZGV4CiAgICogQHJldHVybiB7UHJvbWlzZTxHcm91cHxNZXNofFNraW5uZWRNZXNoPn0KICAgKi8KCgoJCWxvYWRNZXNoKCBtZXNoSW5kZXggKSB7CgoJCQljb25zdCBwYXJzZXIgPSB0aGlzOwoJCQljb25zdCBqc29uID0gdGhpcy5qc29uOwoJCQljb25zdCBleHRlbnNpb25zID0gdGhpcy5leHRlbnNpb25zOwoJCQljb25zdCBtZXNoRGVmID0ganNvbi5tZXNoZXNbIG1lc2hJbmRleCBdOwoJCQljb25zdCBwcmltaXRpdmVzID0gbWVzaERlZi5wcmltaXRpdmVzOwoJCQljb25zdCBwZW5kaW5nID0gW107CgoJCQlmb3IgKCBsZXQgaSA9IDAsIGlsID0gcHJpbWl0aXZlcy5sZW5ndGg7IGkgPCBpbDsgaSArKyApIHsKCgkJCQljb25zdCBtYXRlcmlhbCA9IHByaW1pdGl2ZXNbIGkgXS5tYXRlcmlhbCA9PT0gdW5kZWZpbmVkID8gY3JlYXRlRGVmYXVsdE1hdGVyaWFsKCB0aGlzLmNhY2hlICkgOiB0aGlzLmdldERlcGVuZGVuY3koICdtYXRlcmlhbCcsIHByaW1pdGl2ZXNbIGkgXS5tYXRlcmlhbCApOwoJCQkJcGVuZGluZy5wdXNoKCBtYXRlcmlhbCApOwoKCQkJfQoKCQkJcGVuZGluZy5wdXNoKCBwYXJzZXIubG9hZEdlb21ldHJpZXMoIHByaW1pdGl2ZXMgKSApOwoJCQlyZXR1cm4gUHJvbWlzZS5hbGwoIHBlbmRpbmcgKS50aGVuKCBmdW5jdGlvbiAoIHJlc3VsdHMgKSB7CgoJCQkJY29uc3QgbWF0ZXJpYWxzID0gcmVzdWx0cy5zbGljZSggMCwgcmVzdWx0cy5sZW5ndGggLSAxICk7CgkJCQljb25zdCBnZW9tZXRyaWVzID0gcmVzdWx0c1sgcmVzdWx0cy5sZW5ndGggLSAxIF07CgkJCQljb25zdCBtZXNoZXMgPSBbXTsKCgkJCQlmb3IgKCBsZXQgaSA9IDAsIGlsID0gZ2VvbWV0cmllcy5sZW5ndGg7IGkgPCBpbDsgaSArKyApIHsKCgkJCQkJY29uc3QgZ2VvbWV0cnkgPSBnZW9tZXRyaWVzWyBpIF07CgkJCQkJY29uc3QgcHJpbWl0aXZlID0gcHJpbWl0aXZlc1sgaSBdOyAvLyAxLiBjcmVhdGUgVEhSRUUuTWVzaAoKCQkJCQlsZXQgbWVzaDsKCQkJCQljb25zdCBtYXRlcmlhbCA9IG1hdGVyaWFsc1sgaSBdOwoKCQkJCQlpZiAoIHByaW1pdGl2ZS5tb2RlID09PSBXRUJHTF9DT05TVEFOVFMuVFJJQU5HTEVTIHx8IHByaW1pdGl2ZS5tb2RlID09PSBXRUJHTF9DT05TVEFOVFMuVFJJQU5HTEVfU1RSSVAgfHwgcHJpbWl0aXZlLm1vZGUgPT09IFdFQkdMX0NPTlNUQU5UUy5UUklBTkdMRV9GQU4gfHwgcHJpbWl0aXZlLm1vZGUgPT09IHVuZGVmaW5lZCApIHsKCgkJCQkJCS8vIC5pc1NraW5uZWRNZXNoIGlzbid0IGluIGdsVEYgc3BlYy4gU2VlIC5fbWFya0RlZnMoKQoJCQkJCQltZXNoID0gbWVzaERlZi5pc1NraW5uZWRNZXNoID09PSB0cnVlID8gbmV3IFRIUkVFLlNraW5uZWRNZXNoKCBnZW9tZXRyeSwgbWF0ZXJpYWwgKSA6IG5ldyBUSFJFRS5NZXNoKCBnZW9tZXRyeSwgbWF0ZXJpYWwgKTsKCgkJCQkJCWlmICggbWVzaC5pc1NraW5uZWRNZXNoID09PSB0cnVlICYmICEgbWVzaC5nZW9tZXRyeS5hdHRyaWJ1dGVzLnNraW5XZWlnaHQubm9ybWFsaXplZCApIHsKCgkJCQkJCQkvLyB3ZSBub3JtYWxpemUgZmxvYXRpbmcgcG9pbnQgc2tpbiB3ZWlnaHQgYXJyYXkgdG8gZml4IG1hbGZvcm1lZCBhc3NldHMgKHNlZSAjMTUzMTkpCgkJCQkJCQkvLyBpdCdzIGltcG9ydGFudCB0byBza2lwIHRoaXMgZm9yIG5vbi1mbG9hdDMyIGRhdGEgc2luY2Ugbm9ybWFsaXplU2tpbldlaWdodHMgYXNzdW1lcyBub24tbm9ybWFsaXplZCBpbnB1dHMKCQkJCQkJCW1lc2gubm9ybWFsaXplU2tpbldlaWdodHMoKTsKCgkJCQkJCX0KCgkJCQkJCWlmICggcHJpbWl0aXZlLm1vZGUgPT09IFdFQkdMX0NPTlNUQU5UUy5UUklBTkdMRV9TVFJJUCApIHsKCgkJCQkJCQltZXNoLmdlb21ldHJ5ID0gdG9UcmlhbmdsZXNEcmF3TW9kZSggbWVzaC5nZW9tZXRyeSwgVEhSRUUuVHJpYW5nbGVTdHJpcERyYXdNb2RlICk7CgoJCQkJCQl9IGVsc2UgaWYgKCBwcmltaXRpdmUubW9kZSA9PT0gV0VCR0xfQ09OU1RBTlRTLlRSSUFOR0xFX0ZBTiApIHsKCgkJCQkJCQltZXNoLmdlb21ldHJ5ID0gdG9UcmlhbmdsZXNEcmF3TW9kZSggbWVzaC5nZW9tZXRyeSwgVEhSRUUuVHJpYW5nbGVGYW5EcmF3TW9kZSApOwoKCQkJCQkJfQoKCQkJCQl9IGVsc2UgaWYgKCBwcmltaXRpdmUubW9kZSA9PT0gV0VCR0xfQ09OU1RBTlRTLkxJTkVTICkgewoKCQkJCQkJbWVzaCA9IG5ldyBUSFJFRS5MaW5lU2VnbWVudHMoIGdlb21ldHJ5LCBtYXRlcmlhbCApOwoKCQkJCQl9IGVsc2UgaWYgKCBwcmltaXRpdmUubW9kZSA9PT0gV0VCR0xfQ09OU1RBTlRTLkxJTkVfU1RSSVAgKSB7CgoJCQkJCQltZXNoID0gbmV3IFRIUkVFLkxpbmUoIGdlb21ldHJ5LCBtYXRlcmlhbCApOwoKCQkJCQl9IGVsc2UgaWYgKCBwcmltaXRpdmUubW9kZSA9PT0gV0VCR0xfQ09OU1RBTlRTLkxJTkVfTE9PUCApIHsKCgkJCQkJCW1lc2ggPSBuZXcgVEhSRUUuTGluZUxvb3AoIGdlb21ldHJ5LCBtYXRlcmlhbCApOwoKCQkJCQl9IGVsc2UgaWYgKCBwcmltaXRpdmUubW9kZSA9PT0gV0VCR0xfQ09OU1RBTlRTLlBPSU5UUyApIHsKCgkJCQkJCW1lc2ggPSBuZXcgVEhSRUUuUG9pbnRzKCBnZW9tZXRyeSwgbWF0ZXJpYWwgKTsKCgkJCQkJfSBlbHNlIHsKCgkJCQkJCXRocm93IG5ldyBFcnJvciggJ1RIUkVFLkdMVEZMb2FkZXI6IFByaW1pdGl2ZSBtb2RlIHVuc3VwcG9ydGVkOiAnICsgcHJpbWl0aXZlLm1vZGUgKTsKCgkJCQkJfQoKCQkJCQlpZiAoIE9iamVjdC5rZXlzKCBtZXNoLmdlb21ldHJ5Lm1vcnBoQXR0cmlidXRlcyApLmxlbmd0aCA+IDAgKSB7CgoJCQkJCQl1cGRhdGVNb3JwaFRhcmdldHMoIG1lc2gsIG1lc2hEZWYgKTsKCgkJCQkJfQoKCQkJCQltZXNoLm5hbWUgPSBwYXJzZXIuY3JlYXRlVW5pcXVlTmFtZSggbWVzaERlZi5uYW1lIHx8ICdtZXNoXycgKyBtZXNoSW5kZXggKTsKCQkJCQlhc3NpZ25FeHRyYXNUb1VzZXJEYXRhKCBtZXNoLCBtZXNoRGVmICk7CgkJCQkJaWYgKCBwcmltaXRpdmUuZXh0ZW5zaW9ucyApIGFkZFVua25vd25FeHRlbnNpb25zVG9Vc2VyRGF0YSggZXh0ZW5zaW9ucywgbWVzaCwgcHJpbWl0aXZlICk7CgkJCQkJcGFyc2VyLmFzc2lnbkZpbmFsTWF0ZXJpYWwoIG1lc2ggKTsKCQkJCQltZXNoZXMucHVzaCggbWVzaCApOwoKCQkJCX0KCgkJCQlpZiAoIG1lc2hlcy5sZW5ndGggPT09IDEgKSB7CgoJCQkJCXJldHVybiBtZXNoZXNbIDAgXTsKCgkJCQl9CgoJCQkJY29uc3QgZ3JvdXAgPSBuZXcgVEhSRUUuR3JvdXAoKTsKCgkJCQlmb3IgKCBsZXQgaSA9IDAsIGlsID0gbWVzaGVzLmxlbmd0aDsgaSA8IGlsOyBpICsrICkgewoKCQkJCQlncm91cC5hZGQoIG1lc2hlc1sgaSBdICk7CgoJCQkJfQoKCQkJCXJldHVybiBncm91cDsKCgkJCX0gKTsKCgkJfQoJCS8qKgogICAqIFNwZWNpZmljYXRpb246IGh0dHBzOi8vZ2l0aHViLmNvbS9LaHJvbm9zR3JvdXAvZ2xURi90cmVlL21hc3Rlci9zcGVjaWZpY2F0aW9uLzIuMCNjYW1lcmFzCiAgICogQHBhcmFtIHtudW1iZXJ9IGNhbWVyYUluZGV4CiAgICogQHJldHVybiB7UHJvbWlzZTxUSFJFRS5DYW1lcmE+fQogICAqLwoKCgkJbG9hZENhbWVyYSggY2FtZXJhSW5kZXggKSB7CgoJCQlsZXQgY2FtZXJhOwoJCQljb25zdCBjYW1lcmFEZWYgPSB0aGlzLmpzb24uY2FtZXJhc1sgY2FtZXJhSW5kZXggXTsKCQkJY29uc3QgcGFyYW1zID0gY2FtZXJhRGVmWyBjYW1lcmFEZWYudHlwZSBdOwoKCQkJaWYgKCAhIHBhcmFtcyApIHsKCgkJCQljb25zb2xlLndhcm4oICdUSFJFRS5HTFRGTG9hZGVyOiBNaXNzaW5nIGNhbWVyYSBwYXJhbWV0ZXJzLicgKTsKCQkJCXJldHVybjsKCgkJCX0KCgkJCWlmICggY2FtZXJhRGVmLnR5cGUgPT09ICdwZXJzcGVjdGl2ZScgKSB7CgoJCQkJY2FtZXJhID0gbmV3IFRIUkVFLlBlcnNwZWN0aXZlQ2FtZXJhKCBUSFJFRS5NYXRoVXRpbHMucmFkVG9EZWcoIHBhcmFtcy55Zm92ICksIHBhcmFtcy5hc3BlY3RSYXRpbyB8fCAxLCBwYXJhbXMuem5lYXIgfHwgMSwgcGFyYW1zLnpmYXIgfHwgMmU2ICk7CgoJCQl9IGVsc2UgaWYgKCBjYW1lcmFEZWYudHlwZSA9PT0gJ29ydGhvZ3JhcGhpYycgKSB7CgoJCQkJY2FtZXJhID0gbmV3IFRIUkVFLk9ydGhvZ3JhcGhpY0NhbWVyYSggLSBwYXJhbXMueG1hZywgcGFyYW1zLnhtYWcsIHBhcmFtcy55bWFnLCAtIHBhcmFtcy55bWFnLCBwYXJhbXMuem5lYXIsIHBhcmFtcy56ZmFyICk7CgoJCQl9CgoJCQlpZiAoIGNhbWVyYURlZi5uYW1lICkgY2FtZXJhLm5hbWUgPSB0aGlzLmNyZWF0ZVVuaXF1ZU5hbWUoIGNhbWVyYURlZi5uYW1lICk7CgkJCWFzc2lnbkV4dHJhc1RvVXNlckRhdGEoIGNhbWVyYSwgY2FtZXJhRGVmICk7CgkJCXJldHVybiBQcm9taXNlLnJlc29sdmUoIGNhbWVyYSApOwoKCQl9CgkJLyoqCiAgICogU3BlY2lmaWNhdGlvbjogaHR0cHM6Ly9naXRodWIuY29tL0tocm9ub3NHcm91cC9nbFRGL3RyZWUvbWFzdGVyL3NwZWNpZmljYXRpb24vMi4wI3NraW5zCiAgICogQHBhcmFtIHtudW1iZXJ9IHNraW5JbmRleAogICAqIEByZXR1cm4ge1Byb21pc2U8T2JqZWN0Pn0KICAgKi8KCgoJCWxvYWRTa2luKCBza2luSW5kZXggKSB7CgoJCQljb25zdCBza2luRGVmID0gdGhpcy5qc29uLnNraW5zWyBza2luSW5kZXggXTsKCQkJY29uc3Qgc2tpbkVudHJ5ID0gewoJCQkJam9pbnRzOiBza2luRGVmLmpvaW50cwoJCQl9OwoKCQkJaWYgKCBza2luRGVmLmludmVyc2VCaW5kTWF0cmljZXMgPT09IHVuZGVmaW5lZCApIHsKCgkJCQlyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCBza2luRW50cnkgKTsKCgkJCX0KCgkJCXJldHVybiB0aGlzLmdldERlcGVuZGVuY3koICdhY2Nlc3NvcicsIHNraW5EZWYuaW52ZXJzZUJpbmRNYXRyaWNlcyApLnRoZW4oIGZ1bmN0aW9uICggYWNjZXNzb3IgKSB7CgoJCQkJc2tpbkVudHJ5LmludmVyc2VCaW5kTWF0cmljZXMgPSBhY2Nlc3NvcjsKCQkJCXJldHVybiBza2luRW50cnk7CgoJCQl9ICk7CgoJCX0KCQkvKioKICAgKiBTcGVjaWZpY2F0aW9uOiBodHRwczovL2dpdGh1Yi5jb20vS2hyb25vc0dyb3VwL2dsVEYvdHJlZS9tYXN0ZXIvc3BlY2lmaWNhdGlvbi8yLjAjYW5pbWF0aW9ucwogICAqIEBwYXJhbSB7bnVtYmVyfSBhbmltYXRpb25JbmRleAogICAqIEByZXR1cm4ge1Byb21pc2U8QW5pbWF0aW9uQ2xpcD59CiAgICovCgoKCQlsb2FkQW5pbWF0aW9uKCBhbmltYXRpb25JbmRleCApIHsKCgkJCWNvbnN0IGpzb24gPSB0aGlzLmpzb247CgkJCWNvbnN0IGFuaW1hdGlvbkRlZiA9IGpzb24uYW5pbWF0aW9uc1sgYW5pbWF0aW9uSW5kZXggXTsKCQkJY29uc3QgcGVuZGluZ05vZGVzID0gW107CgkJCWNvbnN0IHBlbmRpbmdJbnB1dEFjY2Vzc29ycyA9IFtdOwoJCQljb25zdCBwZW5kaW5nT3V0cHV0QWNjZXNzb3JzID0gW107CgkJCWNvbnN0IHBlbmRpbmdTYW1wbGVycyA9IFtdOwoJCQljb25zdCBwZW5kaW5nVGFyZ2V0cyA9IFtdOwoKCQkJZm9yICggbGV0IGkgPSAwLCBpbCA9IGFuaW1hdGlvbkRlZi5jaGFubmVscy5sZW5ndGg7IGkgPCBpbDsgaSArKyApIHsKCgkJCQljb25zdCBjaGFubmVsID0gYW5pbWF0aW9uRGVmLmNoYW5uZWxzWyBpIF07CgkJCQljb25zdCBzYW1wbGVyID0gYW5pbWF0aW9uRGVmLnNhbXBsZXJzWyBjaGFubmVsLnNhbXBsZXIgXTsKCQkJCWNvbnN0IHRhcmdldCA9IGNoYW5uZWwudGFyZ2V0OwoJCQkJY29uc3QgbmFtZSA9IHRhcmdldC5ub2RlICE9PSB1bmRlZmluZWQgPyB0YXJnZXQubm9kZSA6IHRhcmdldC5pZDsgLy8gTk9URTogdGFyZ2V0LmlkIGlzIGRlcHJlY2F0ZWQuCgoJCQkJY29uc3QgaW5wdXQgPSBhbmltYXRpb25EZWYucGFyYW1ldGVycyAhPT0gdW5kZWZpbmVkID8gYW5pbWF0aW9uRGVmLnBhcmFtZXRlcnNbIHNhbXBsZXIuaW5wdXQgXSA6IHNhbXBsZXIuaW5wdXQ7CgkJCQljb25zdCBvdXRwdXQgPSBhbmltYXRpb25EZWYucGFyYW1ldGVycyAhPT0gdW5kZWZpbmVkID8gYW5pbWF0aW9uRGVmLnBhcmFtZXRlcnNbIHNhbXBsZXIub3V0cHV0IF0gOiBzYW1wbGVyLm91dHB1dDsKCQkJCXBlbmRpbmdOb2Rlcy5wdXNoKCB0aGlzLmdldERlcGVuZGVuY3koICdub2RlJywgbmFtZSApICk7CgkJCQlwZW5kaW5nSW5wdXRBY2Nlc3NvcnMucHVzaCggdGhpcy5nZXREZXBlbmRlbmN5KCAnYWNjZXNzb3InLCBpbnB1dCApICk7CgkJCQlwZW5kaW5nT3V0cHV0QWNjZXNzb3JzLnB1c2goIHRoaXMuZ2V0RGVwZW5kZW5jeSggJ2FjY2Vzc29yJywgb3V0cHV0ICkgKTsKCQkJCXBlbmRpbmdTYW1wbGVycy5wdXNoKCBzYW1wbGVyICk7CgkJCQlwZW5kaW5nVGFyZ2V0cy5wdXNoKCB0YXJnZXQgKTsKCgkJCX0KCgkJCXJldHVybiBQcm9taXNlLmFsbCggWyBQcm9taXNlLmFsbCggcGVuZGluZ05vZGVzICksIFByb21pc2UuYWxsKCBwZW5kaW5nSW5wdXRBY2Nlc3NvcnMgKSwgUHJvbWlzZS5hbGwoIHBlbmRpbmdPdXRwdXRBY2Nlc3NvcnMgKSwgUHJvbWlzZS5hbGwoIHBlbmRpbmdTYW1wbGVycyApLCBQcm9taXNlLmFsbCggcGVuZGluZ1RhcmdldHMgKSBdICkudGhlbiggZnVuY3Rpb24gKCBkZXBlbmRlbmNpZXMgKSB7CgoJCQkJY29uc3Qgbm9kZXMgPSBkZXBlbmRlbmNpZXNbIDAgXTsKCQkJCWNvbnN0IGlucHV0QWNjZXNzb3JzID0gZGVwZW5kZW5jaWVzWyAxIF07CgkJCQljb25zdCBvdXRwdXRBY2Nlc3NvcnMgPSBkZXBlbmRlbmNpZXNbIDIgXTsKCQkJCWNvbnN0IHNhbXBsZXJzID0gZGVwZW5kZW5jaWVzWyAzIF07CgkJCQljb25zdCB0YXJnZXRzID0gZGVwZW5kZW5jaWVzWyA0IF07CgkJCQljb25zdCB0cmFja3MgPSBbXTsKCgkJCQlmb3IgKCBsZXQgaSA9IDAsIGlsID0gbm9kZXMubGVuZ3RoOyBpIDwgaWw7IGkgKysgKSB7CgoJCQkJCWNvbnN0IG5vZGUgPSBub2Rlc1sgaSBdOwoJCQkJCWNvbnN0IGlucHV0QWNjZXNzb3IgPSBpbnB1dEFjY2Vzc29yc1sgaSBdOwoJCQkJCWNvbnN0IG91dHB1dEFjY2Vzc29yID0gb3V0cHV0QWNjZXNzb3JzWyBpIF07CgkJCQkJY29uc3Qgc2FtcGxlciA9IHNhbXBsZXJzWyBpIF07CgkJCQkJY29uc3QgdGFyZ2V0ID0gdGFyZ2V0c1sgaSBdOwoJCQkJCWlmICggbm9kZSA9PT0gdW5kZWZpbmVkICkgY29udGludWU7CgkJCQkJbm9kZS51cGRhdGVNYXRyaXgoKTsKCQkJCQlub2RlLm1hdHJpeEF1dG9VcGRhdGUgPSB0cnVlOwoJCQkJCWxldCBUeXBlZEtleWZyYW1lVHJhY2s7CgoJCQkJCXN3aXRjaCAoIFBBVEhfUFJPUEVSVElFU1sgdGFyZ2V0LnBhdGggXSApIHsKCgkJCQkJCWNhc2UgUEFUSF9QUk9QRVJUSUVTLndlaWdodHM6CgkJCQkJCQlUeXBlZEtleWZyYW1lVHJhY2sgPSBUSFJFRS5OdW1iZXJLZXlmcmFtZVRyYWNrOwoJCQkJCQkJYnJlYWs7CgoJCQkJCQljYXNlIFBBVEhfUFJPUEVSVElFUy5yb3RhdGlvbjoKCQkJCQkJCVR5cGVkS2V5ZnJhbWVUcmFjayA9IFRIUkVFLlF1YXRlcm5pb25LZXlmcmFtZVRyYWNrOwoJCQkJCQkJYnJlYWs7CgoJCQkJCQljYXNlIFBBVEhfUFJPUEVSVElFUy5wb3NpdGlvbjoKCQkJCQkJY2FzZSBQQVRIX1BST1BFUlRJRVMuc2NhbGU6CgkJCQkJCWRlZmF1bHQ6CgkJCQkJCQlUeXBlZEtleWZyYW1lVHJhY2sgPSBUSFJFRS5WZWN0b3JLZXlmcmFtZVRyYWNrOwoJCQkJCQkJYnJlYWs7CgoJCQkJCX0KCgkJCQkJY29uc3QgdGFyZ2V0TmFtZSA9IG5vZGUubmFtZSA/IG5vZGUubmFtZSA6IG5vZGUudXVpZDsKCQkJCQljb25zdCBpbnRlcnBvbGF0aW9uID0gc2FtcGxlci5pbnRlcnBvbGF0aW9uICE9PSB1bmRlZmluZWQgPyBJTlRFUlBPTEFUSU9OWyBzYW1wbGVyLmludGVycG9sYXRpb24gXSA6IFRIUkVFLkludGVycG9sYXRlTGluZWFyOwoJCQkJCWNvbnN0IHRhcmdldE5hbWVzID0gW107CgoJCQkJCWlmICggUEFUSF9QUk9QRVJUSUVTWyB0YXJnZXQucGF0aCBdID09PSBQQVRIX1BST1BFUlRJRVMud2VpZ2h0cyApIHsKCgkJCQkJCS8vIE5vZGUgbWF5IGJlIGEgVEhSRUUuR3JvdXAgKGdsVEYgbWVzaCB3aXRoIHNldmVyYWwgcHJpbWl0aXZlcykgb3IgYSBUSFJFRS5NZXNoLgoJCQkJCQlub2RlLnRyYXZlcnNlKCBmdW5jdGlvbiAoIG9iamVjdCApIHsKCgkJCQkJCQlpZiAoIG9iamVjdC5pc01lc2ggPT09IHRydWUgJiYgb2JqZWN0Lm1vcnBoVGFyZ2V0SW5mbHVlbmNlcyApIHsKCgkJCQkJCQkJdGFyZ2V0TmFtZXMucHVzaCggb2JqZWN0Lm5hbWUgPyBvYmplY3QubmFtZSA6IG9iamVjdC51dWlkICk7CgoJCQkJCQkJfQoKCQkJCQkJfSApOwoKCQkJCQl9IGVsc2UgewoKCQkJCQkJdGFyZ2V0TmFtZXMucHVzaCggdGFyZ2V0TmFtZSApOwoKCQkJCQl9CgoJCQkJCWxldCBvdXRwdXRBcnJheSA9IG91dHB1dEFjY2Vzc29yLmFycmF5OwoKCQkJCQlpZiAoIG91dHB1dEFjY2Vzc29yLm5vcm1hbGl6ZWQgKSB7CgoJCQkJCQljb25zdCBzY2FsZSA9IGdldE5vcm1hbGl6ZWRDb21wb25lbnRTY2FsZSggb3V0cHV0QXJyYXkuY29uc3RydWN0b3IgKTsKCQkJCQkJY29uc3Qgc2NhbGVkID0gbmV3IEZsb2F0MzJBcnJheSggb3V0cHV0QXJyYXkubGVuZ3RoICk7CgoJCQkJCQlmb3IgKCBsZXQgaiA9IDAsIGpsID0gb3V0cHV0QXJyYXkubGVuZ3RoOyBqIDwgamw7IGogKysgKSB7CgoJCQkJCQkJc2NhbGVkWyBqIF0gPSBvdXRwdXRBcnJheVsgaiBdICogc2NhbGU7CgoJCQkJCQl9CgoJCQkJCQlvdXRwdXRBcnJheSA9IHNjYWxlZDsKCgkJCQkJfQoKCQkJCQlmb3IgKCBsZXQgaiA9IDAsIGpsID0gdGFyZ2V0TmFtZXMubGVuZ3RoOyBqIDwgamw7IGogKysgKSB7CgoJCQkJCQljb25zdCB0cmFjayA9IG5ldyBUeXBlZEtleWZyYW1lVHJhY2soIHRhcmdldE5hbWVzWyBqIF0gKyAnLicgKyBQQVRIX1BST1BFUlRJRVNbIHRhcmdldC5wYXRoIF0sIGlucHV0QWNjZXNzb3IuYXJyYXksIG91dHB1dEFycmF5LCBpbnRlcnBvbGF0aW9uICk7IC8vIE92ZXJyaWRlIGludGVycG9sYXRpb24gd2l0aCBjdXN0b20gZmFjdG9yeSBtZXRob2QuCgoJCQkJCQlpZiAoIHNhbXBsZXIuaW50ZXJwb2xhdGlvbiA9PT0gJ0NVQklDU1BMSU5FJyApIHsKCgkJCQkJCQl0cmFjay5jcmVhdGVJbnRlcnBvbGFudCA9IGZ1bmN0aW9uIEludGVycG9sYW50RmFjdG9yeU1ldGhvZEdMVEZDdWJpY1NwbGluZSggcmVzdWx0ICkgewoKCQkJCQkJCQkvLyBBIENVQklDU1BMSU5FIGtleWZyYW1lIGluIGdsVEYgaGFzIHRocmVlIG91dHB1dCB2YWx1ZXMgZm9yIGVhY2ggaW5wdXQgdmFsdWUsCgkJCQkJCQkJLy8gcmVwcmVzZW50aW5nIGluVGFuZ2VudCwgc3BsaW5lVmVydGV4LCBhbmQgb3V0VGFuZ2VudC4gQXMgYSByZXN1bHQsIHRyYWNrLmdldFZhbHVlU2l6ZSgpCgkJCQkJCQkJLy8gbXVzdCBiZSBkaXZpZGVkIGJ5IHRocmVlIHRvIGdldCB0aGUgaW50ZXJwb2xhbnQncyBzYW1wbGVTaXplIGFyZ3VtZW50LgoJCQkJCQkJCXJldHVybiBuZXcgR0xURkN1YmljU3BsaW5lSW50ZXJwb2xhbnQoIHRoaXMudGltZXMsIHRoaXMudmFsdWVzLCB0aGlzLmdldFZhbHVlU2l6ZSgpIC8gMywgcmVzdWx0ICk7CgoJCQkJCQkJfTsgLy8gTWFyayBhcyBDVUJJQ1NQTElORS4gYHRyYWNrLmdldEludGVycG9sYXRpb24oKWAgZG9lc24ndCBzdXBwb3J0IGN1c3RvbSBpbnRlcnBvbGFudHMuCgoKCQkJCQkJCXRyYWNrLmNyZWF0ZUludGVycG9sYW50LmlzSW50ZXJwb2xhbnRGYWN0b3J5TWV0aG9kR0xURkN1YmljU3BsaW5lID0gdHJ1ZTsKCgkJCQkJCX0KCgkJCQkJCXRyYWNrcy5wdXNoKCB0cmFjayApOwoKCQkJCQl9CgoJCQkJfQoKCQkJCWNvbnN0IG5hbWUgPSBhbmltYXRpb25EZWYubmFtZSA/IGFuaW1hdGlvbkRlZi5uYW1lIDogJ2FuaW1hdGlvbl8nICsgYW5pbWF0aW9uSW5kZXg7CgkJCQlyZXR1cm4gbmV3IFRIUkVFLkFuaW1hdGlvbkNsaXAoIG5hbWUsIHVuZGVmaW5lZCwgdHJhY2tzICk7CgoJCQl9ICk7CgoJCX0KCgkJY3JlYXRlTm9kZU1lc2goIG5vZGVJbmRleCApIHsKCgkJCWNvbnN0IGpzb24gPSB0aGlzLmpzb247CgkJCWNvbnN0IHBhcnNlciA9IHRoaXM7CgkJCWNvbnN0IG5vZGVEZWYgPSBqc29uLm5vZGVzWyBub2RlSW5kZXggXTsKCQkJaWYgKCBub2RlRGVmLm1lc2ggPT09IHVuZGVmaW5lZCApIHJldHVybiBudWxsOwoJCQlyZXR1cm4gcGFyc2VyLmdldERlcGVuZGVuY3koICdtZXNoJywgbm9kZURlZi5tZXNoICkudGhlbiggZnVuY3Rpb24gKCBtZXNoICkgewoKCQkJCWNvbnN0IG5vZGUgPSBwYXJzZXIuX2dldE5vZGVSZWYoIHBhcnNlci5tZXNoQ2FjaGUsIG5vZGVEZWYubWVzaCwgbWVzaCApOyAvLyBpZiB3ZWlnaHRzIGFyZSBwcm92aWRlZCBvbiB0aGUgbm9kZSwgb3ZlcnJpZGUgd2VpZ2h0cyBvbiB0aGUgbWVzaC4KCgoJCQkJaWYgKCBub2RlRGVmLndlaWdodHMgIT09IHVuZGVmaW5lZCApIHsKCgkJCQkJbm9kZS50cmF2ZXJzZSggZnVuY3Rpb24gKCBvICkgewoKCQkJCQkJaWYgKCAhIG8uaXNNZXNoICkgcmV0dXJuOwoKCQkJCQkJZm9yICggbGV0IGkgPSAwLCBpbCA9IG5vZGVEZWYud2VpZ2h0cy5sZW5ndGg7IGkgPCBpbDsgaSArKyApIHsKCgkJCQkJCQlvLm1vcnBoVGFyZ2V0SW5mbHVlbmNlc1sgaSBdID0gbm9kZURlZi53ZWlnaHRzWyBpIF07CgoJCQkJCQl9CgoJCQkJCX0gKTsKCgkJCQl9CgoJCQkJcmV0dXJuIG5vZGU7CgoJCQl9ICk7CgoJCX0KCQkvKioKICAgKiBTcGVjaWZpY2F0aW9uOiBodHRwczovL2dpdGh1Yi5jb20vS2hyb25vc0dyb3VwL2dsVEYvdHJlZS9tYXN0ZXIvc3BlY2lmaWNhdGlvbi8yLjAjbm9kZXMtYW5kLWhpZXJhcmNoeQogICAqIEBwYXJhbSB7bnVtYmVyfSBub2RlSW5kZXgKICAgKiBAcmV0dXJuIHtQcm9taXNlPE9iamVjdDNEPn0KICAgKi8KCgoJCWxvYWROb2RlKCBub2RlSW5kZXggKSB7CgoJCQljb25zdCBqc29uID0gdGhpcy5qc29uOwoJCQljb25zdCBleHRlbnNpb25zID0gdGhpcy5leHRlbnNpb25zOwoJCQljb25zdCBwYXJzZXIgPSB0aGlzOwoJCQljb25zdCBub2RlRGVmID0ganNvbi5ub2Rlc1sgbm9kZUluZGV4IF07IC8vIHJlc2VydmUgbm9kZSdzIG5hbWUgYmVmb3JlIGl0cyBkZXBlbmRlbmNpZXMsIHNvIHRoZSByb290IGhhcyB0aGUgaW50ZW5kZWQgbmFtZS4KCgkJCWNvbnN0IG5vZGVOYW1lID0gbm9kZURlZi5uYW1lID8gcGFyc2VyLmNyZWF0ZVVuaXF1ZU5hbWUoIG5vZGVEZWYubmFtZSApIDogJyc7CgkJCXJldHVybiBmdW5jdGlvbiAoKSB7CgoJCQkJY29uc3QgcGVuZGluZyA9IFtdOwoKCQkJCWNvbnN0IG1lc2hQcm9taXNlID0gcGFyc2VyLl9pbnZva2VPbmUoIGZ1bmN0aW9uICggZXh0ICkgewoKCQkJCQlyZXR1cm4gZXh0LmNyZWF0ZU5vZGVNZXNoICYmIGV4dC5jcmVhdGVOb2RlTWVzaCggbm9kZUluZGV4ICk7CgoJCQkJfSApOwoKCQkJCWlmICggbWVzaFByb21pc2UgKSB7CgoJCQkJCXBlbmRpbmcucHVzaCggbWVzaFByb21pc2UgKTsKCgkJCQl9CgoJCQkJaWYgKCBub2RlRGVmLmNhbWVyYSAhPT0gdW5kZWZpbmVkICkgewoKCQkJCQlwZW5kaW5nLnB1c2goIHBhcnNlci5nZXREZXBlbmRlbmN5KCAnY2FtZXJhJywgbm9kZURlZi5jYW1lcmEgKS50aGVuKCBmdW5jdGlvbiAoIGNhbWVyYSApIHsKCgkJCQkJCXJldHVybiBwYXJzZXIuX2dldE5vZGVSZWYoIHBhcnNlci5jYW1lcmFDYWNoZSwgbm9kZURlZi5jYW1lcmEsIGNhbWVyYSApOwoKCQkJCQl9ICkgKTsKCgkJCQl9CgoJCQkJcGFyc2VyLl9pbnZva2VBbGwoIGZ1bmN0aW9uICggZXh0ICkgewoKCQkJCQlyZXR1cm4gZXh0LmNyZWF0ZU5vZGVBdHRhY2htZW50ICYmIGV4dC5jcmVhdGVOb2RlQXR0YWNobWVudCggbm9kZUluZGV4ICk7CgoJCQkJfSApLmZvckVhY2goIGZ1bmN0aW9uICggcHJvbWlzZSApIHsKCgkJCQkJcGVuZGluZy5wdXNoKCBwcm9taXNlICk7CgoJCQkJfSApOwoKCQkJCXJldHVybiBQcm9taXNlLmFsbCggcGVuZGluZyApOwoKCQkJfSgpLnRoZW4oIGZ1bmN0aW9uICggb2JqZWN0cyApIHsKCgkJCQlsZXQgbm9kZTsgLy8gLmlzQm9uZSBpc24ndCBpbiBnbFRGIHNwZWMuIFNlZSAuX21hcmtEZWZzCgoJCQkJaWYgKCBub2RlRGVmLmlzQm9uZSA9PT0gdHJ1ZSApIHsKCgkJCQkJbm9kZSA9IG5ldyBUSFJFRS5Cb25lKCk7CgoJCQkJfSBlbHNlIGlmICggb2JqZWN0cy5sZW5ndGggPiAxICkgewoKCQkJCQlub2RlID0gbmV3IFRIUkVFLkdyb3VwKCk7CgoJCQkJfSBlbHNlIGlmICggb2JqZWN0cy5sZW5ndGggPT09IDEgKSB7CgoJCQkJCW5vZGUgPSBvYmplY3RzWyAwIF07CgoJCQkJfSBlbHNlIHsKCgkJCQkJbm9kZSA9IG5ldyBUSFJFRS5PYmplY3QzRCgpOwoKCQkJCX0KCgkJCQlpZiAoIG5vZGUgIT09IG9iamVjdHNbIDAgXSApIHsKCgkJCQkJZm9yICggbGV0IGkgPSAwLCBpbCA9IG9iamVjdHMubGVuZ3RoOyBpIDwgaWw7IGkgKysgKSB7CgoJCQkJCQlub2RlLmFkZCggb2JqZWN0c1sgaSBdICk7CgoJCQkJCX0KCgkJCQl9CgoJCQkJaWYgKCBub2RlRGVmLm5hbWUgKSB7CgoJCQkJCW5vZGUudXNlckRhdGEubmFtZSA9IG5vZGVEZWYubmFtZTsKCQkJCQlub2RlLm5hbWUgPSBub2RlTmFtZTsKCgkJCQl9CgoJCQkJYXNzaWduRXh0cmFzVG9Vc2VyRGF0YSggbm9kZSwgbm9kZURlZiApOwoJCQkJaWYgKCBub2RlRGVmLmV4dGVuc2lvbnMgKSBhZGRVbmtub3duRXh0ZW5zaW9uc1RvVXNlckRhdGEoIGV4dGVuc2lvbnMsIG5vZGUsIG5vZGVEZWYgKTsKCgkJCQlpZiAoIG5vZGVEZWYubWF0cml4ICE9PSB1bmRlZmluZWQgKSB7CgoJCQkJCWNvbnN0IG1hdHJpeCA9IG5ldyBUSFJFRS5NYXRyaXg0KCk7CgkJCQkJbWF0cml4LmZyb21BcnJheSggbm9kZURlZi5tYXRyaXggKTsKCQkJCQlub2RlLmFwcGx5TWF0cml4NCggbWF0cml4ICk7CgoJCQkJfSBlbHNlIHsKCgkJCQkJaWYgKCBub2RlRGVmLnRyYW5zbGF0aW9uICE9PSB1bmRlZmluZWQgKSB7CgoJCQkJCQlub2RlLnBvc2l0aW9uLmZyb21BcnJheSggbm9kZURlZi50cmFuc2xhdGlvbiApOwoKCQkJCQl9CgoJCQkJCWlmICggbm9kZURlZi5yb3RhdGlvbiAhPT0gdW5kZWZpbmVkICkgewoKCQkJCQkJbm9kZS5xdWF0ZXJuaW9uLmZyb21BcnJheSggbm9kZURlZi5yb3RhdGlvbiApOwoKCQkJCQl9CgoJCQkJCWlmICggbm9kZURlZi5zY2FsZSAhPT0gdW5kZWZpbmVkICkgewoKCQkJCQkJbm9kZS5zY2FsZS5mcm9tQXJyYXkoIG5vZGVEZWYuc2NhbGUgKTsKCgkJCQkJfQoKCQkJCX0KCgkJCQlwYXJzZXIuYXNzb2NpYXRpb25zLnNldCggbm9kZSwgewoJCQkJCXR5cGU6ICdub2RlcycsCgkJCQkJaW5kZXg6IG5vZGVJbmRleAoJCQkJfSApOwoJCQkJcmV0dXJuIG5vZGU7CgoJCQl9ICk7CgoJCX0KCQkvKioKICAgKiBTcGVjaWZpY2F0aW9uOiBodHRwczovL2dpdGh1Yi5jb20vS2hyb25vc0dyb3VwL2dsVEYvdHJlZS9tYXN0ZXIvc3BlY2lmaWNhdGlvbi8yLjAjc2NlbmVzCiAgICogQHBhcmFtIHtudW1iZXJ9IHNjZW5lSW5kZXgKICAgKiBAcmV0dXJuIHtQcm9taXNlPEdyb3VwPn0KICAgKi8KCgoJCWxvYWRTY2VuZSggc2NlbmVJbmRleCApIHsKCgkJCWNvbnN0IGpzb24gPSB0aGlzLmpzb247CgkJCWNvbnN0IGV4dGVuc2lvbnMgPSB0aGlzLmV4dGVuc2lvbnM7CgkJCWNvbnN0IHNjZW5lRGVmID0gdGhpcy5qc29uLnNjZW5lc1sgc2NlbmVJbmRleCBdOwoJCQljb25zdCBwYXJzZXIgPSB0aGlzOyAvLyBUSFJFRS5Mb2FkZXIgcmV0dXJucyBUSFJFRS5Hcm91cCwgbm90IFNjZW5lLgoJCQkvLyBTZWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9tcmRvb2IvdGhyZWUuanMvaXNzdWVzLzE4MzQyI2lzc3VlY29tbWVudC01Nzg5ODExNzIKCgkJCWNvbnN0IHNjZW5lID0gbmV3IFRIUkVFLkdyb3VwKCk7CgkJCWlmICggc2NlbmVEZWYubmFtZSApIHNjZW5lLm5hbWUgPSBwYXJzZXIuY3JlYXRlVW5pcXVlTmFtZSggc2NlbmVEZWYubmFtZSApOwoJCQlhc3NpZ25FeHRyYXNUb1VzZXJEYXRhKCBzY2VuZSwgc2NlbmVEZWYgKTsKCQkJaWYgKCBzY2VuZURlZi5leHRlbnNpb25zICkgYWRkVW5rbm93bkV4dGVuc2lvbnNUb1VzZXJEYXRhKCBleHRlbnNpb25zLCBzY2VuZSwgc2NlbmVEZWYgKTsKCQkJY29uc3Qgbm9kZUlkcyA9IHNjZW5lRGVmLm5vZGVzIHx8IFtdOwoJCQljb25zdCBwZW5kaW5nID0gW107CgoJCQlmb3IgKCBsZXQgaSA9IDAsIGlsID0gbm9kZUlkcy5sZW5ndGg7IGkgPCBpbDsgaSArKyApIHsKCgkJCQlwZW5kaW5nLnB1c2goIGJ1aWxkTm9kZUhpZXJhY2h5KCBub2RlSWRzWyBpIF0sIHNjZW5lLCBqc29uLCBwYXJzZXIgKSApOwoKCQkJfQoKCQkJcmV0dXJuIFByb21pc2UuYWxsKCBwZW5kaW5nICkudGhlbiggZnVuY3Rpb24gKCkgewoKCQkJCXJldHVybiBzY2VuZTsKCgkJCX0gKTsKCgkJfQoKCX0KCglmdW5jdGlvbiBidWlsZE5vZGVIaWVyYWNoeSggbm9kZUlkLCBwYXJlbnRPYmplY3QsIGpzb24sIHBhcnNlciApIHsKCgkJY29uc3Qgbm9kZURlZiA9IGpzb24ubm9kZXNbIG5vZGVJZCBdOwoJCXJldHVybiBwYXJzZXIuZ2V0RGVwZW5kZW5jeSggJ25vZGUnLCBub2RlSWQgKS50aGVuKCBmdW5jdGlvbiAoIG5vZGUgKSB7CgoJCQlpZiAoIG5vZGVEZWYuc2tpbiA9PT0gdW5kZWZpbmVkICkgcmV0dXJuIG5vZGU7IC8vIGJ1aWxkIHNrZWxldG9uIGhlcmUgYXMgd2VsbAoKCQkJbGV0IHNraW5FbnRyeTsKCQkJcmV0dXJuIHBhcnNlci5nZXREZXBlbmRlbmN5KCAnc2tpbicsIG5vZGVEZWYuc2tpbiApLnRoZW4oIGZ1bmN0aW9uICggc2tpbiApIHsKCgkJCQlza2luRW50cnkgPSBza2luOwoJCQkJY29uc3QgcGVuZGluZ0pvaW50cyA9IFtdOwoKCQkJCWZvciAoIGxldCBpID0gMCwgaWwgPSBza2luRW50cnkuam9pbnRzLmxlbmd0aDsgaSA8IGlsOyBpICsrICkgewoKCQkJCQlwZW5kaW5nSm9pbnRzLnB1c2goIHBhcnNlci5nZXREZXBlbmRlbmN5KCAnbm9kZScsIHNraW5FbnRyeS5qb2ludHNbIGkgXSApICk7CgoJCQkJfQoKCQkJCXJldHVybiBQcm9taXNlLmFsbCggcGVuZGluZ0pvaW50cyApOwoKCQkJfSApLnRoZW4oIGZ1bmN0aW9uICggam9pbnROb2RlcyApIHsKCgkJCQlub2RlLnRyYXZlcnNlKCBmdW5jdGlvbiAoIG1lc2ggKSB7CgoJCQkJCWlmICggISBtZXNoLmlzTWVzaCApIHJldHVybjsKCQkJCQljb25zdCBib25lcyA9IFtdOwoJCQkJCWNvbnN0IGJvbmVJbnZlcnNlcyA9IFtdOwoKCQkJCQlmb3IgKCBsZXQgaiA9IDAsIGpsID0gam9pbnROb2Rlcy5sZW5ndGg7IGogPCBqbDsgaiArKyApIHsKCgkJCQkJCWNvbnN0IGpvaW50Tm9kZSA9IGpvaW50Tm9kZXNbIGogXTsKCgkJCQkJCWlmICggam9pbnROb2RlICkgewoKCQkJCQkJCWJvbmVzLnB1c2goIGpvaW50Tm9kZSApOwoJCQkJCQkJY29uc3QgbWF0ID0gbmV3IFRIUkVFLk1hdHJpeDQoKTsKCgkJCQkJCQlpZiAoIHNraW5FbnRyeS5pbnZlcnNlQmluZE1hdHJpY2VzICE9PSB1bmRlZmluZWQgKSB7CgoJCQkJCQkJCW1hdC5mcm9tQXJyYXkoIHNraW5FbnRyeS5pbnZlcnNlQmluZE1hdHJpY2VzLmFycmF5LCBqICogMTYgKTsKCgkJCQkJCQl9CgoJCQkJCQkJYm9uZUludmVyc2VzLnB1c2goIG1hdCApOwoKCQkJCQkJfSBlbHNlIHsKCgkJCQkJCQljb25zb2xlLndhcm4oICdUSFJFRS5HTFRGTG9hZGVyOiBKb2ludCAiJXMiIGNvdWxkIG5vdCBiZSBmb3VuZC4nLCBza2luRW50cnkuam9pbnRzWyBqIF0gKTsKCgkJCQkJCX0KCgkJCQkJfQoKCQkJCQltZXNoLmJpbmQoIG5ldyBUSFJFRS5Ta2VsZXRvbiggYm9uZXMsIGJvbmVJbnZlcnNlcyApLCBtZXNoLm1hdHJpeFdvcmxkICk7CgoJCQkJfSApOwoJCQkJcmV0dXJuIG5vZGU7CgoJCQl9ICk7CgoJCX0gKS50aGVuKCBmdW5jdGlvbiAoIG5vZGUgKSB7CgoJCQkvLyBidWlsZCBub2RlIGhpZXJhY2h5CgkJCXBhcmVudE9iamVjdC5hZGQoIG5vZGUgKTsKCQkJY29uc3QgcGVuZGluZyA9IFtdOwoKCQkJaWYgKCBub2RlRGVmLmNoaWxkcmVuICkgewoKCQkJCWNvbnN0IGNoaWxkcmVuID0gbm9kZURlZi5jaGlsZHJlbjsKCgkJCQlmb3IgKCBsZXQgaSA9IDAsIGlsID0gY2hpbGRyZW4ubGVuZ3RoOyBpIDwgaWw7IGkgKysgKSB7CgoJCQkJCWNvbnN0IGNoaWxkID0gY2hpbGRyZW5bIGkgXTsKCQkJCQlwZW5kaW5nLnB1c2goIGJ1aWxkTm9kZUhpZXJhY2h5KCBjaGlsZCwgbm9kZSwganNvbiwgcGFyc2VyICkgKTsKCgkJCQl9CgoJCQl9CgoJCQlyZXR1cm4gUHJvbWlzZS5hbGwoIHBlbmRpbmcgKTsKCgkJfSApOwoKCX0KCS8qKgogKiBAcGFyYW0ge0J1ZmZlckdlb21ldHJ5fSBnZW9tZXRyeQogKiBAcGFyYW0ge0dMVEYuUHJpbWl0aXZlfSBwcmltaXRpdmVEZWYKICogQHBhcmFtIHtHTFRGUGFyc2VyfSBwYXJzZXIKICovCgoKCWZ1bmN0aW9uIGNvbXB1dGVCb3VuZHMoIGdlb21ldHJ5LCBwcmltaXRpdmVEZWYsIHBhcnNlciApIHsKCgkJY29uc3QgYXR0cmlidXRlcyA9IHByaW1pdGl2ZURlZi5hdHRyaWJ1dGVzOwoJCWNvbnN0IGJveCA9IG5ldyBUSFJFRS5Cb3gzKCk7CgoJCWlmICggYXR0cmlidXRlcy5QT1NJVElPTiAhPT0gdW5kZWZpbmVkICkgewoKCQkJY29uc3QgYWNjZXNzb3IgPSBwYXJzZXIuanNvbi5hY2Nlc3NvcnNbIGF0dHJpYnV0ZXMuUE9TSVRJT04gXTsKCQkJY29uc3QgbWluID0gYWNjZXNzb3IubWluOwoJCQljb25zdCBtYXggPSBhY2Nlc3Nvci5tYXg7IC8vIGdsVEYgcmVxdWlyZXMgJ21pbicgYW5kICdtYXgnLCBidXQgVlJNICh3aGljaCBleHRlbmRzIGdsVEYpIGN1cnJlbnRseSBpZ25vcmVzIHRoYXQgcmVxdWlyZW1lbnQuCgoJCQlpZiAoIG1pbiAhPT0gdW5kZWZpbmVkICYmIG1heCAhPT0gdW5kZWZpbmVkICkgewoKCQkJCWJveC5zZXQoIG5ldyBUSFJFRS5WZWN0b3IzKCBtaW5bIDAgXSwgbWluWyAxIF0sIG1pblsgMiBdICksIG5ldyBUSFJFRS5WZWN0b3IzKCBtYXhbIDAgXSwgbWF4WyAxIF0sIG1heFsgMiBdICkgKTsKCgkJCQlpZiAoIGFjY2Vzc29yLm5vcm1hbGl6ZWQgKSB7CgoJCQkJCWNvbnN0IGJveFNjYWxlID0gZ2V0Tm9ybWFsaXplZENvbXBvbmVudFNjYWxlKCBXRUJHTF9DT01QT05FTlRfVFlQRVNbIGFjY2Vzc29yLmNvbXBvbmVudFR5cGUgXSApOwoJCQkJCWJveC5taW4ubXVsdGlwbHlTY2FsYXIoIGJveFNjYWxlICk7CgkJCQkJYm94Lm1heC5tdWx0aXBseVNjYWxhciggYm94U2NhbGUgKTsKCgkJCQl9CgoJCQl9IGVsc2UgewoKCQkJCWNvbnNvbGUud2FybiggJ1RIUkVFLkdMVEZMb2FkZXI6IE1pc3NpbmcgbWluL21heCBwcm9wZXJ0aWVzIGZvciBhY2Nlc3NvciBQT1NJVElPTi4nICk7CgkJCQlyZXR1cm47CgoJCQl9CgoJCX0gZWxzZSB7CgoJCQlyZXR1cm47CgoJCX0KCgkJY29uc3QgdGFyZ2V0cyA9IHByaW1pdGl2ZURlZi50YXJnZXRzOwoKCQlpZiAoIHRhcmdldHMgIT09IHVuZGVmaW5lZCApIHsKCgkJCWNvbnN0IG1heERpc3BsYWNlbWVudCA9IG5ldyBUSFJFRS5WZWN0b3IzKCk7CgkJCWNvbnN0IHZlY3RvciA9IG5ldyBUSFJFRS5WZWN0b3IzKCk7CgoJCQlmb3IgKCBsZXQgaSA9IDAsIGlsID0gdGFyZ2V0cy5sZW5ndGg7IGkgPCBpbDsgaSArKyApIHsKCgkJCQljb25zdCB0YXJnZXQgPSB0YXJnZXRzWyBpIF07CgoJCQkJaWYgKCB0YXJnZXQuUE9TSVRJT04gIT09IHVuZGVmaW5lZCApIHsKCgkJCQkJY29uc3QgYWNjZXNzb3IgPSBwYXJzZXIuanNvbi5hY2Nlc3NvcnNbIHRhcmdldC5QT1NJVElPTiBdOwoJCQkJCWNvbnN0IG1pbiA9IGFjY2Vzc29yLm1pbjsKCQkJCQljb25zdCBtYXggPSBhY2Nlc3Nvci5tYXg7IC8vIGdsVEYgcmVxdWlyZXMgJ21pbicgYW5kICdtYXgnLCBidXQgVlJNICh3aGljaCBleHRlbmRzIGdsVEYpIGN1cnJlbnRseSBpZ25vcmVzIHRoYXQgcmVxdWlyZW1lbnQuCgoJCQkJCWlmICggbWluICE9PSB1bmRlZmluZWQgJiYgbWF4ICE9PSB1bmRlZmluZWQgKSB7CgoJCQkJCQkvLyB3ZSBuZWVkIHRvIGdldCBtYXggb2YgYWJzb2x1dGUgY29tcG9uZW50cyBiZWNhdXNlIHRhcmdldCB3ZWlnaHQgaXMgWy0xLDFdCgkJCQkJCXZlY3Rvci5zZXRYKCBNYXRoLm1heCggTWF0aC5hYnMoIG1pblsgMCBdICksIE1hdGguYWJzKCBtYXhbIDAgXSApICkgKTsKCQkJCQkJdmVjdG9yLnNldFkoIE1hdGgubWF4KCBNYXRoLmFicyggbWluWyAxIF0gKSwgTWF0aC5hYnMoIG1heFsgMSBdICkgKSApOwoJCQkJCQl2ZWN0b3Iuc2V0WiggTWF0aC5tYXgoIE1hdGguYWJzKCBtaW5bIDIgXSApLCBNYXRoLmFicyggbWF4WyAyIF0gKSApICk7CgoJCQkJCQlpZiAoIGFjY2Vzc29yLm5vcm1hbGl6ZWQgKSB7CgoJCQkJCQkJY29uc3QgYm94U2NhbGUgPSBnZXROb3JtYWxpemVkQ29tcG9uZW50U2NhbGUoIFdFQkdMX0NPTVBPTkVOVF9UWVBFU1sgYWNjZXNzb3IuY29tcG9uZW50VHlwZSBdICk7CgkJCQkJCQl2ZWN0b3IubXVsdGlwbHlTY2FsYXIoIGJveFNjYWxlICk7CgoJCQkJCQl9IC8vIE5vdGU6IHRoaXMgYXNzdW1lcyB0aGF0IHRoZSBzdW0gb2YgYWxsIHdlaWdodHMgaXMgYXQgbW9zdCAxLiBUaGlzIGlzbid0IHF1aXRlIGNvcnJlY3QgLSBpdCdzIG1vcmUgY29uc2VydmF0aXZlCgkJCQkJCS8vIHRvIGFzc3VtZSB0aGF0IGVhY2ggdGFyZ2V0IGNhbiBoYXZlIGEgbWF4IHdlaWdodCBvZiAxLiBIb3dldmVyLCBmb3Igc29tZSB1c2UgY2FzZXMgLSBub3RhYmx5LCB3aGVuIG1vcnBoIHRhcmdldHMKCQkJCQkJLy8gYXJlIHVzZWQgdG8gaW1wbGVtZW50IGtleS1mcmFtZSBhbmltYXRpb25zIGFuZCBhcyBzdWNoIG9ubHkgdHdvIGFyZSBhY3RpdmUgYXQgYSB0aW1lIC0gdGhpcyByZXN1bHRzIGluIHZlcnkgbGFyZ2UKCQkJCQkJLy8gYm94ZXMuIFNvIGZvciBub3cgd2UgbWFrZSBhIGJveCB0aGF0J3Mgc29tZXRpbWVzIGEgdG91Y2ggdG9vIHNtYWxsIGJ1dCBpcyBob3BlZnVsbHkgbW9zdGx5IG9mIHJlYXNvbmFibGUgc2l6ZS4KCgoJCQkJCQltYXhEaXNwbGFjZW1lbnQubWF4KCB2ZWN0b3IgKTsKCgkJCQkJfSBlbHNlIHsKCgkJCQkJCWNvbnNvbGUud2FybiggJ1RIUkVFLkdMVEZMb2FkZXI6IE1pc3NpbmcgbWluL21heCBwcm9wZXJ0aWVzIGZvciBhY2Nlc3NvciBQT1NJVElPTi4nICk7CgoJCQkJCX0KCgkJCQl9CgoJCQl9IC8vIEFzIHBlciBjb21tZW50IGFib3ZlIHRoaXMgYm94IGlzbid0IGNvbnNlcnZhdGl2ZSwgYnV0IGhhcyBhIHJlYXNvbmFibGUgc2l6ZSBmb3IgYSB2ZXJ5IGxhcmdlIG51bWJlciBvZiBtb3JwaCB0YXJnZXRzLgoKCgkJCWJveC5leHBhbmRCeVZlY3RvciggbWF4RGlzcGxhY2VtZW50ICk7CgoJCX0KCgkJZ2VvbWV0cnkuYm91bmRpbmdCb3ggPSBib3g7CgkJY29uc3Qgc3BoZXJlID0gbmV3IFRIUkVFLlNwaGVyZSgpOwoJCWJveC5nZXRDZW50ZXIoIHNwaGVyZS5jZW50ZXIgKTsKCQlzcGhlcmUucmFkaXVzID0gYm94Lm1pbi5kaXN0YW5jZVRvKCBib3gubWF4ICkgLyAyOwoJCWdlb21ldHJ5LmJvdW5kaW5nU3BoZXJlID0gc3BoZXJlOwoKCX0KCS8qKgogKiBAcGFyYW0ge0J1ZmZlckdlb21ldHJ5fSBnZW9tZXRyeQogKiBAcGFyYW0ge0dMVEYuUHJpbWl0aXZlfSBwcmltaXRpdmVEZWYKICogQHBhcmFtIHtHTFRGUGFyc2VyfSBwYXJzZXIKICogQHJldHVybiB7UHJvbWlzZTxCdWZmZXJHZW9tZXRyeT59CiAqLwoKCglmdW5jdGlvbiBhZGRQcmltaXRpdmVBdHRyaWJ1dGVzKCBnZW9tZXRyeSwgcHJpbWl0aXZlRGVmLCBwYXJzZXIgKSB7CgoJCWNvbnN0IGF0dHJpYnV0ZXMgPSBwcmltaXRpdmVEZWYuYXR0cmlidXRlczsKCQljb25zdCBwZW5kaW5nID0gW107CgoJCWZ1bmN0aW9uIGFzc2lnbkF0dHJpYnV0ZUFjY2Vzc29yKCBhY2Nlc3NvckluZGV4LCBhdHRyaWJ1dGVOYW1lICkgewoKCQkJcmV0dXJuIHBhcnNlci5nZXREZXBlbmRlbmN5KCAnYWNjZXNzb3InLCBhY2Nlc3NvckluZGV4ICkudGhlbiggZnVuY3Rpb24gKCBhY2Nlc3NvciApIHsKCgkJCQlnZW9tZXRyeS5zZXRBdHRyaWJ1dGUoIGF0dHJpYnV0ZU5hbWUsIGFjY2Vzc29yICk7CgoJCQl9ICk7CgoJCX0KCgkJZm9yICggY29uc3QgZ2x0ZkF0dHJpYnV0ZU5hbWUgaW4gYXR0cmlidXRlcyApIHsKCgkJCWNvbnN0IHRocmVlQXR0cmlidXRlTmFtZSA9IEFUVFJJQlVURVNbIGdsdGZBdHRyaWJ1dGVOYW1lIF0gfHwgZ2x0ZkF0dHJpYnV0ZU5hbWUudG9Mb3dlckNhc2UoKTsgLy8gU2tpcCBhdHRyaWJ1dGVzIGFscmVhZHkgcHJvdmlkZWQgYnkgZS5nLiBEcmFjbyBleHRlbnNpb24uCgoJCQlpZiAoIHRocmVlQXR0cmlidXRlTmFtZSBpbiBnZW9tZXRyeS5hdHRyaWJ1dGVzICkgY29udGludWU7CgkJCXBlbmRpbmcucHVzaCggYXNzaWduQXR0cmlidXRlQWNjZXNzb3IoIGF0dHJpYnV0ZXNbIGdsdGZBdHRyaWJ1dGVOYW1lIF0sIHRocmVlQXR0cmlidXRlTmFtZSApICk7CgoJCX0KCgkJaWYgKCBwcmltaXRpdmVEZWYuaW5kaWNlcyAhPT0gdW5kZWZpbmVkICYmICEgZ2VvbWV0cnkuaW5kZXggKSB7CgoJCQljb25zdCBhY2Nlc3NvciA9IHBhcnNlci5nZXREZXBlbmRlbmN5KCAnYWNjZXNzb3InLCBwcmltaXRpdmVEZWYuaW5kaWNlcyApLnRoZW4oIGZ1bmN0aW9uICggYWNjZXNzb3IgKSB7CgoJCQkJZ2VvbWV0cnkuc2V0SW5kZXgoIGFjY2Vzc29yICk7CgoJCQl9ICk7CgkJCXBlbmRpbmcucHVzaCggYWNjZXNzb3IgKTsKCgkJfQoKCQlhc3NpZ25FeHRyYXNUb1VzZXJEYXRhKCBnZW9tZXRyeSwgcHJpbWl0aXZlRGVmICk7CgkJY29tcHV0ZUJvdW5kcyggZ2VvbWV0cnksIHByaW1pdGl2ZURlZiwgcGFyc2VyICk7CgkJcmV0dXJuIFByb21pc2UuYWxsKCBwZW5kaW5nICkudGhlbiggZnVuY3Rpb24gKCkgewoKCQkJcmV0dXJuIHByaW1pdGl2ZURlZi50YXJnZXRzICE9PSB1bmRlZmluZWQgPyBhZGRNb3JwaFRhcmdldHMoIGdlb21ldHJ5LCBwcmltaXRpdmVEZWYudGFyZ2V0cywgcGFyc2VyICkgOiBnZW9tZXRyeTsKCgkJfSApOwoKCX0KCS8qKgogKiBAcGFyYW0ge0J1ZmZlckdlb21ldHJ5fSBnZW9tZXRyeQogKiBAcGFyYW0ge051bWJlcn0gZHJhd01vZGUKICogQHJldHVybiB7QnVmZmVyR2VvbWV0cnl9CiAqLwoKCglmdW5jdGlvbiB0b1RyaWFuZ2xlc0RyYXdNb2RlKCBnZW9tZXRyeSwgZHJhd01vZGUgKSB7CgoJCWxldCBpbmRleCA9IGdlb21ldHJ5LmdldEluZGV4KCk7IC8vIGdlbmVyYXRlIGluZGV4IGlmIG5vdCBwcmVzZW50CgoJCWlmICggaW5kZXggPT09IG51bGwgKSB7CgoJCQljb25zdCBpbmRpY2VzID0gW107CgkJCWNvbnN0IHBvc2l0aW9uID0gZ2VvbWV0cnkuZ2V0QXR0cmlidXRlKCAncG9zaXRpb24nICk7CgoJCQlpZiAoIHBvc2l0aW9uICE9PSB1bmRlZmluZWQgKSB7CgoJCQkJZm9yICggbGV0IGkgPSAwOyBpIDwgcG9zaXRpb24uY291bnQ7IGkgKysgKSB7CgoJCQkJCWluZGljZXMucHVzaCggaSApOwoKCQkJCX0KCgkJCQlnZW9tZXRyeS5zZXRJbmRleCggaW5kaWNlcyApOwoJCQkJaW5kZXggPSBnZW9tZXRyeS5nZXRJbmRleCgpOwoKCQkJfSBlbHNlIHsKCgkJCQljb25zb2xlLmVycm9yKCAnVEhSRUUuR0xURkxvYWRlci50b1RyaWFuZ2xlc0RyYXdNb2RlKCk6IFVuZGVmaW5lZCBwb3NpdGlvbiBhdHRyaWJ1dGUuIFByb2Nlc3Npbmcgbm90IHBvc3NpYmxlLicgKTsKCQkJCXJldHVybiBnZW9tZXRyeTsKCgkJCX0KCgkJfSAvLwoKCgkJY29uc3QgbnVtYmVyT2ZUcmlhbmdsZXMgPSBpbmRleC5jb3VudCAtIDI7CgkJY29uc3QgbmV3SW5kaWNlcyA9IFtdOwoKCQlpZiAoIGRyYXdNb2RlID09PSBUSFJFRS5UcmlhbmdsZUZhbkRyYXdNb2RlICkgewoKCQkJLy8gZ2wuVFJJQU5HTEVfRkFOCgkJCWZvciAoIGxldCBpID0gMTsgaSA8PSBudW1iZXJPZlRyaWFuZ2xlczsgaSArKyApIHsKCgkJCQluZXdJbmRpY2VzLnB1c2goIGluZGV4LmdldFgoIDAgKSApOwoJCQkJbmV3SW5kaWNlcy5wdXNoKCBpbmRleC5nZXRYKCBpICkgKTsKCQkJCW5ld0luZGljZXMucHVzaCggaW5kZXguZ2V0WCggaSArIDEgKSApOwoKCQkJfQoKCQl9IGVsc2UgewoKCQkJLy8gZ2wuVFJJQU5HTEVfU1RSSVAKCQkJZm9yICggbGV0IGkgPSAwOyBpIDwgbnVtYmVyT2ZUcmlhbmdsZXM7IGkgKysgKSB7CgoJCQkJaWYgKCBpICUgMiA9PT0gMCApIHsKCgkJCQkJbmV3SW5kaWNlcy5wdXNoKCBpbmRleC5nZXRYKCBpICkgKTsKCQkJCQluZXdJbmRpY2VzLnB1c2goIGluZGV4LmdldFgoIGkgKyAxICkgKTsKCQkJCQluZXdJbmRpY2VzLnB1c2goIGluZGV4LmdldFgoIGkgKyAyICkgKTsKCgkJCQl9IGVsc2UgewoKCQkJCQluZXdJbmRpY2VzLnB1c2goIGluZGV4LmdldFgoIGkgKyAyICkgKTsKCQkJCQluZXdJbmRpY2VzLnB1c2goIGluZGV4LmdldFgoIGkgKyAxICkgKTsKCQkJCQluZXdJbmRpY2VzLnB1c2goIGluZGV4LmdldFgoIGkgKSApOwoKCQkJCX0KCgkJCX0KCgkJfQoKCQlpZiAoIG5ld0luZGljZXMubGVuZ3RoIC8gMyAhPT0gbnVtYmVyT2ZUcmlhbmdsZXMgKSB7CgoJCQljb25zb2xlLmVycm9yKCAnVEhSRUUuR0xURkxvYWRlci50b1RyaWFuZ2xlc0RyYXdNb2RlKCk6IFVuYWJsZSB0byBnZW5lcmF0ZSBjb3JyZWN0IGFtb3VudCBvZiB0cmlhbmdsZXMuJyApOwoKCQl9IC8vIGJ1aWxkIGZpbmFsIGdlb21ldHJ5CgoKCQljb25zdCBuZXdHZW9tZXRyeSA9IGdlb21ldHJ5LmNsb25lKCk7CgkJbmV3R2VvbWV0cnkuc2V0SW5kZXgoIG5ld0luZGljZXMgKTsKCQlyZXR1cm4gbmV3R2VvbWV0cnk7CgoJfQoKCVRIUkVFLkdMVEZMb2FkZXIgPSBHTFRGTG9hZGVyOwoKfSApKCk7Cg=="></script><script src="data:application/javascript;base64,Ly8gLS0tIC8vICAgTW9kZWwgSW5mb3JtYXRpb246Ci8vIC0tLSAvLyAgICogdGl0bGU6CXNtaWxlIHRlYXJzCi8vIC0tLSAvLyAgICogc291cmNlOglodHRwczovL3NrZXRjaGZhYi5jb20vM2QtbW9kZWxzL3NtaWxlLXRlYXJzLTE3Mzk5YmE5YmZhZDRlMDA5ODhmZDg1MjRjMTJhY2E5Ci8vIC0tLSAvLyAgICogYXV0aG9yOglLYXdzYXIgKGh0dHBzOi8vc2tldGNoZmFiLmNvbS9LaHN1emFuKQovLyAtLS0gLy8gICAKLy8gLS0tIC8vICAgTW9kZWwgTGljZW5zZToKLy8gLS0tIC8vICAgKiBsaWNlbnNlIHR5cGU6CUNDLUJZLTQuMCAoaHR0cDovL2NyZWF0aXZlY29tbW9ucy5vcmcvbGljZW5zZXMvYnkvNC4wLykKLy8gLS0tIC8vICAgKiByZXF1aXJlbWVudHM6CUF1dGhvciBtdXN0IGJlIGNyZWRpdGVkLiBDb21tZXJjaWFsIHVzZSBpcyBhbGxvd2VkLgovLyAtLS0gLy8gICAKLy8gLS0tIC8vICAgSWYgeW91IHVzZSB0aGlzIDNEIG1vZGVsIGluIHlvdXIgcHJvamVjdCBiZSBzdXJlIHRvIGNvcHkgcGFzdGUgdGhpcyBjcmVkaXQgd2hlcmV2ZXIgeW91IHNoYXJlIGl0OgovLyAtLS0gLy8gICBUaGlzIHdvcmsgaXMgYmFzZWQgb24gInNtaWxlIHRlYXJzIiAoaHR0cHM6Ly9za2V0Y2hmYWIuY29tLzNkLW1vZGVscy9zbWlsZS10ZWFycy0xNzM5OWJhOWJmYWQ0ZTAwOTg4ZmQ4NTI0YzEyYWNhOSkgYnkgS2F3c2FyIChodHRwczovL3NrZXRjaGZhYi5jb20vS2hzdXphbikgbGljZW5zZWQgdW5kZXIgQ0MtQlktNC4wIChodHRwOi8vY3JlYXRpdmVjb21tb25zLm9yZy9saWNlbnNlcy9ieS80LjAvKQkKCgoKCWxldCBjb250YWluZXI7CglsZXQgY2FtZXJhOwoJbGV0IHJlbmRlcmVyOwoJbGV0IHNjZW5lOwoJbGV0IHNtaWxleTsKCglmdW5jdGlvbiBpbml0KCkgewoKCQljb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIuc2NlbmUiKTsKCgkJLy9DcmVhdGUgc2NlbmUKCQlzY2VuZSA9IG5ldyBUSFJFRS5TY2VuZSgpOwoJCS8vc2NlbmUuYmFja2dyb3VuZCA9IG5ldyBUSFJFRS5Db2xvcigweGRkZGRkZCk7CgoJCWNvbnN0IGZvdiA9IDgwOwoKCQljb25zdCBhc3BlY3QgPSB3aW5kb3cuaW5uZXJXaWR0aCAvIHdpbmRvdy5pbm5lckhlaWdodDsKCQljb25zdCBuZWFyID0gMC45OwoJCWNvbnN0IGZhciA9IDEwMDA7CgoJCS8vQ2FtZXJhIHNldHVwCgkJY2FtZXJhID0gbmV3IFRIUkVFLlBlcnNwZWN0aXZlQ2FtZXJhKGZvdiwgYXNwZWN0LCBuZWFyLCBmYXIpOwoKCQljYW1lcmEucG9zaXRpb24ueCA9IDAuMDA7CgkJY2FtZXJhLnBvc2l0aW9uLnkgPSAxLjI1OwoJCWNhbWVyYS5wb3NpdGlvbi56ID0gNS41MDsKCiAgICAKICAgIAogICAgLy9MaWdodHMgc2V0dXAKICAgIGFtYmllbnRMaWdodCA9IG5ldyBUSFJFRS5BbWJpZW50TGlnaHQoMHg0MDQwNDAsIDUsIDEwMDApOwoJCXNjZW5lLmFkZChhbWJpZW50TGlnaHQpOwoKCQlkaXJlY3Rpb25hbExpZ2h0ID0gbmV3IFRIUkVFLkRpcmVjdGlvbmFsTGlnaHQoMHhmZmZmZmYsIDAuMiwgMTAwMCk7CgkJZGlyZWN0aW9uYWxMaWdodC5wb3NpdGlvbi5zZXQoMCwgMSwgMCk7CgkJZGlyZWN0aW9uYWxMaWdodC5jYXN0U2hhZG93ID0gdHJ1ZTsKCQlzY2VuZS5hZGQoZGlyZWN0aW9uYWxMaWdodCk7CgoKCgkJLy9SZW5kZXJlcgoJCXJlbmRlcmVyID0gbmV3IFRIUkVFLldlYkdMUmVuZGVyZXIoewoJCQlhbnRpYWxpYXM6IHRydWUsCgkJCWFscGhhOiB0cnVlCgkJfSk7CgoJCXJlbmRlcmVyLnNldFNpemUoY29udGFpbmVyLmNsaWVudFdpZHRoLCBjb250YWluZXIuY2xpZW50SGVpZ2h0KTsKCQlyZW5kZXJlci5zZXRQaXhlbFJhdGlvKHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvKTsKCQljb250YWluZXIuYXBwZW5kQ2hpbGQocmVuZGVyZXIuZG9tRWxlbWVudCk7CgoKCgkJY29uc3QgbG9hZGluZ01hbmFnZXIgPSBuZXcgVEhSRUUuTG9hZGluZ01hbmFnZXIoKCkgPT4gewoKCQkJY29uc3QgbG9hZGluZ1NjcmVlbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsb2FkaW5nLXNjcmVlbicpOwogICAgICAKCQkJbG9hZGluZ1NjcmVlbi5jbGFzc0xpc3QuYWRkKCdmaW5pc2hlZCcpOyAgICAgIAoKCQkJbG9hZGluZ1NjcmVlbi5hZGRFdmVudExpc3RlbmVyKCd0cmFuc2l0aW9uZW5kJywgb25UcmFuc2l0aW9uRW5kKTsKCgkJfSk7CgoJCWZ1bmN0aW9uIG9uVHJhbnNpdGlvbkVuZChldmVudCkgewoKCQkJY29uc3QgZWxlbWVudCA9IGV2ZW50LnRhcmdldDsKCQkJZWxlbWVudC5yZW1vdmUoKTsKICAKICAgICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QuYWRkKCdyZWFkeScpOwogICAgICAKCQl9CgoKCgkJLy9Mb2FkIE1vZGVsCgkJbGV0IGxvYWRlciA9IG5ldyBUSFJFRS5HTFRGTG9hZGVyKGxvYWRpbmdNYW5hZ2VyKTsKCgkJbG9hZGVyLmxvYWQoImh0dHBzOi8vYXNzZXRzLmNvZGVwZW4uaW8vMzgzMTMxMS9zY2VuZS5nbHRmIiwgZnVuY3Rpb24gKGdsdGYpIHsKCQkJc2NlbmUuYWRkKGdsdGYuc2NlbmUpOyAgICAgIAoJCQlzbWlsZXkgPSBnbHRmLnNjZW5lLmNoaWxkcmVuWzBdOwoJCQlzbWlsZXkuc2NhbGUuc2V0KDAuNSwgMC41LCAwLjUpOwogICAgICBydW4oKTsKCQkJcmVuZGVyKCk7ICAgICAKCQl9KTsKICAgICAgICAKCX0KCiAgZnVuY3Rpb24gcnVuKCkgewogICAgCiAgICBnc2FwLnRvKHNtaWxleS5yb3RhdGlvbiwgewogICAgICB6OiAiKz02LjMiLCAgCiAgICAgIGR1cmF0aW9uOiAxCiAgICB9KQogICAgCiAgICBnc2FwLnRvKHNtaWxleS5yb3RhdGlvbiwgewogICAgICB6OiAiKz02LjMiLAogICAgICB4OiAnKz02LjMnLAogICAgICB5OiAnKz02LjMnLAogICAgICBlYXNlOiAnbm9uZScsCiAgICAgIGltbWVkaWF0ZVJlbmRlcjogZmFsc2UsCiAgICAgIHNjcm9sbFRyaWdnZXI6IHsKICAgICAgICAKICAgICAgICB0cmlnZ2VyOiAnLnNlYy0xJywKICAgICAgICBzdGFydDogJ3RvcCB0b3AnLAogICAgICAgIGVuZDogJ2JvdHRvbSB0b3AnLAogICAgICAgIHNjcnViOiAwLjUsCiAgICAgICAgCiAgICAgIH0KICAgIH0pCiAgICAKICAgIGdzYXAudG8oc21pbGV5LnBvc2l0aW9uLCB7CiAgICAgIHo6ICIrPTMuMCIsCiAgICAgIGVhc2U6ICdub25lJywKICAgICAgaW1tZWRpYXRlUmVuZGVyOiBmYWxzZSwKICAgICAgc2Nyb2xsVHJpZ2dlcjogewogICAgICAgIAogICAgICAgIHRyaWdnZXI6ICcuc2VjLTInLAogICAgICAgIHN0YXJ0OiAndG9wIHRvcCcsCiAgICAgICAgZW5kOiAnYm90dG9tIHRvcCcsCiAgICAgICAgc2NydWI6IDAuNSwKICAgICAgICAKICAgICAgfQogICAgfSkKICAgIAogIH0KCglmdW5jdGlvbiByZW5kZXIoKSB7CgkJLy9yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoYW5pbWF0ZSk7IC8vIHVzaW5nIGdzYXAudGlja2VyIGluc3RlYWQgb2YgdGhpcwogICAgLy9zbWlsZXkucm90YXRpb24ueiArPSAwLjAwNTsgLy8ganVzdCBmb3IgdGVzdGluZwogICAgCgkJcmVuZGVyZXIucmVuZGVyKHNjZW5lLCBjYW1lcmEpOwoJfQoKICBnc2FwLnRpY2tlci5hZGQocmVuZGVyKQoKCWluaXQoKTsKCgoKCgoJZnVuY3Rpb24gb25XaW5kb3dSZXNpemUoKSB7CgkJY2FtZXJhLmFzcGVjdCA9IGNvbnRhaW5lci5jbGllbnRXaWR0aCAvIGNvbnRhaW5lci5jbGllbnRIZWlnaHQ7CgkJY2FtZXJhLnVwZGF0ZVByb2plY3Rpb25NYXRyaXgoKTsKCQlyZW5kZXJlci5zZXRTaXplKGNvbnRhaW5lci5jbGllbnRXaWR0aCwgY29udGFpbmVyLmNsaWVudEhlaWdodCk7Cgl9CgoJd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoInJlc2l6ZSIsIG9uV2luZG93UmVzaXplKTs="></script>



</body></html>
